(()=>{var Ml=Object.defineProperty;var i=(Q,C)=>Ml(Q,"name",{value:C,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{983107878:(Q,C,e)=>{Q.exports=e.p+"ava_0002-192-0ddd598.png"},2256285620:(Q,C,e)=>{Q.exports=e.p+"ava_0002-24-f65dddc.png"},6906793909:(Q,C,e)=>{Q.exports=e.p+"ava_0002-32-798f043.png"},1060768686:(Q,C,e)=>{Q.exports=e.p+"ava_0002-48-d3ba4ec.png"},2979422297:(Q,C,e)=>{Q.exports=e.p+"ava_0002-72-c702398.png"},3224273568:(Q,C,e)=>{Q.exports=e.p+"ava_0022-192-0cc433a.png"},2316786074:(Q,C,e)=>{Q.exports=e.p+"ava_0022-24-21468d4.png"},3708998647:(Q,C,e)=>{Q.exports=e.p+"ava_0022-32-7779579.png"},5098468056:(Q,C,e)=>{Q.exports=e.p+"ava_0022-48-93db11d.png"},4923972147:(Q,C,e)=>{Q.exports=e.p+"ava_0022-72-5a52d67.png"},8783045612:(Q,C,e)=>{Q.exports=e.p+"contextual-help-keyboard-e004fd5.png"},7752974446:(Q,C,e)=>{Q.exports=e.p+"emoji_missing-39b2f0a.png"},2440739180:(Q,C,e)=>{Q.exports=e.p+"exchange-unlinked-760993c.svg"},4121690455:(Q,C,e)=>{Q.exports=e.p+"exchange-10f9bbd.svg"},5908540923:(Q,C,e)=>{Q.exports=e.p+"No_Background-ad3fcdb.png"},4553218033:(Q,C,e)=>{Q.exports=e.p+"beach-preview-33d7acf.jpg"},9679390338:(Q,C,e)=>{Q.exports=e.p+"beach-33258eb.jpg"},7000154057:(Q,C,e)=>{Q.exports=e.p+"gym-preview-cfff9c8.jpg"},553949882:(Q,C,e)=>{Q.exports=e.p+"gym-4d948fc.jpg"},9631995895:(Q,C,e)=>{Q.exports=e.p+"home-preview-8baaf03.jpg"},3342291988:(Q,C,e)=>{Q.exports=e.p+"home-9e29930.jpg"},1779488764:(Q,C,e)=>{Q.exports=e.p+"huddle-in-thread-da71b0e.png"},3607863955:(Q,C,e)=>{Q.exports=e.p+"living_room-preview-1b54428.jpg"},5738074488:(Q,C,e)=>{Q.exports=e.p+"living_room-a4fba85.jpg"},7485089530:(Q,C,e)=>{Q.exports=e.p+"office-preview-de46de4.jpg"},5475210953:(Q,C,e)=>{Q.exports=e.p+"office-98668ce.jpg"},8514307482:(Q,C,e)=>{Q.exports=e.p+"remote_work-preview-5fbbc32.jpg"},4136357865:(Q,C,e)=>{Q.exports=e.p+"remote_work-f8cd791.jpg"},7234375712:(Q,C,e)=>{Q.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},1672115571:(Q,C,e)=>{Q.exports=e.p+"tokyo_sight-285d851.jpg"},2527471159:(Q,C,e)=>{Q.exports=e.p+"slack-salesforce-211570d.png"},7972463975:(Q,C,e)=>{Q.exports=e.p+"slack-salesforce@2x-06b5868.png"},2301861866:(Q,C,e)=>{Q.exports=e.p+"slack_logo-ebd02d1.svg"},5918772940:(Q,C,e)=>{Q.exports=e.p+"slack_logo_mark-01b46d3.svg"},9994038664:(Q,C,e)=>{Q.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},3431559584:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_1024-9020761.png"},2200759559:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},8390767423:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},1957386787:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_24-e726b64.png"},4245237474:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_32-176771b.png"},7523979550:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_36-d921f9d.png"},7272988726:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},77360885:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_48-8220eaf.png"},2261459203:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},451984622:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_72-9db8807.png"},7428983508:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},669259003:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},4165874747:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_20-96acbec.png"},1023719767:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_24-2246c7b.png"},3710970638:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_32-8a50a23.png"},4814900690:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},7331486018:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_360-1cb4740.png"},7183565897:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},1001408479:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_512-955a74f.png"},1889110914:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},9948433110:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_1024-b58a548.png"},4948097913:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},350135845:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_20-00a116e.png"},474239361:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_24-9a05991.png"},1302153452:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9825918216:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},5908867676:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_360-7309dbd.png"},3333214639:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_48-9906623.png"},2295488157:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_512-dcb310c.png"},5156772208:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},4063699741:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},9241168512:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},3963460214:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},9267813754:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},2981982679:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},9833689275:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},4840951141:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},9777215928:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},7129884748:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},9602720019:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},7626894131:(Q,C,e)=>{Q.exports=e.p+"de-DE-7cb5203.vtt"},29804293:(Q,C,e)=>{Q.exports=e.p+"en-GB-fe540d9.vtt"},7749140866:(Q,C,e)=>{Q.exports=e.p+"en-US-638cf9c.vtt"},5913806097:(Q,C,e)=>{Q.exports=e.p+"es-ES-2c09d56.vtt"},6636363964:(Q,C,e)=>{Q.exports=e.p+"es-LA-ea2cf27.vtt"},9916635837:(Q,C,e)=>{Q.exports=e.p+"fr-FR-aca8347.vtt"},5760619139:(Q,C,e)=>{Q.exports=e.p+"it-IT-5979abe.vtt"},668694090:(Q,C,e)=>{Q.exports=e.p+"ja-JP-8bffdf3.vtt"},555040584:(Q,C,e)=>{Q.exports=e.p+"ko-KR-368325f.vtt"},6820844347:(Q,C,e)=>{Q.exports=e.p+"paid-feature-education-bcf658e.mp4"},1347747715:(Q,C,e)=>{Q.exports=e.p+"paid-feature-education-4fcc827.png"},8187362417:(Q,C,e)=>{Q.exports=e.p+"pt-BR-4dd5817.vtt"},2005200212:(Q,C,e)=>{Q.exports=e.p+"zh-CN-7893376.vtt"},2563333228:(Q,C,e)=>{Q.exports=e.p+"zh-TW-bf2d05a.vtt"},6754250580:(Q,C,e)=>{Q.exports=e.p+"de-DE-e5da613.vtt"},1714394002:(Q,C,e)=>{Q.exports=e.p+"en-GB-b949ba6.vtt"},6435768457:(Q,C,e)=>{Q.exports=e.p+"en-US-823d419.vtt"},7417918922:(Q,C,e)=>{Q.exports=e.p+"es-ES-fb9bba0.vtt"},6869712815:(Q,C,e)=>{Q.exports=e.p+"es-LA-1d17cb9.vtt"},8089589194:(Q,C,e)=>{Q.exports=e.p+"fr-FR-0161472.vtt"},5748605292:(Q,C,e)=>{Q.exports=e.p+"it-IT-f18ddbd.vtt"},4071181961:(Q,C,e)=>{Q.exports=e.p+"ja-JP-8d6863a.vtt"},8071475775:(Q,C,e)=>{Q.exports=e.p+"ko-KR-b3589ec.vtt"},9733499682:(Q,C,e)=>{Q.exports=e.p+"pt-BR-50fe7dc.vtt"},6050136004:(Q,C,e)=>{Q.exports=e.p+"thumbnail-71d0c1e.png"},5006029593:(Q,C,e)=>{Q.exports=e.p+"video-9e16c67.mp4"},9753292423:(Q,C,e)=>{Q.exports=e.p+"zh-CN-f0c9d6c.vtt"},3289703835:(Q,C,e)=>{Q.exports=e.p+"zh-TW-438dba1.vtt"},2217643974:Q=>{Q.exports={record_breadcrumbs:"record_breadcrumbs__ErsaA",record_breadcrumb:"record_breadcrumb__cEZEJ",record_breadcrumb_label:"record_breadcrumb_label__LDBB9"}},5672691263:Q=>{Q.exports={container:"container__oDwNj",primaryIcon:"primaryIcon__aDIDO",secondaryIcon:"secondaryIcon__KuIYv"}},7573583373:Q=>{Q.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},3416652175:Q=>{Q.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},397939223:Q=>{Q.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},9598582073:Q=>{Q.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},6696573656:Q=>{Q.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},3346098136:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A,T:()=>p});var t=e(3134334389),n=e(9391594207),s=e(2322735331),r=e(735940183),d=e(6839188756),o=e(3677514771),a=e(8847766420),l=e(581167618),m=e(5536692738),c=e(6117529990);const _=new r.Ay("enterprise_calls");var p;(function(v){v.GLOBAL="GLOBAL",v.US="US"})(p||(p={}));const u=[{label:_.t("Global",{fallbackHash:"5f1184f7df96c5928092ad9c6b550699bf887826",fallbackHashNs:"enterprise_dashboard"}),value:p.GLOBAL},{label:_.t("US",{fallbackHash:"aa3093554472fd113135bed5b63e12f84c2e9fe8",fallbackHashNs:"enterprise_dashboard"}),value:p.US}];let h=i(class extends t.Component{render(){const{appsState:f,featureCallsLocationLock:g,isLockedByOrgAdmin:y,selectedCallLocation:T,isFreeTeam:M}=this.props,O=f&&f.video&&Object.keys(f.video).find(V=>V==="A00");if(!g||!O||M)return null;const I=u.find(V=>V.value===T),D=g?_.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",P=g?_.t("Call location options"):"Call location options",k=g?_.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",R=g?_.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},g?_.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},D),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(m.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:y,options:u,selectedOption:I,onOptionSelected:this.handleOptionSelected,ariaLabel:P}),y&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},R))),T===p.US&&t.createElement(l.Ay,{type:l.QE.boxed,level:l.A_.warning,icon:"warning",align:l.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,k)))}handleOptionSelected(f){this.props.setSelectedCallLocation(f.value)}constructor(f){super(f),(0,s.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");h.displayName="CallsRegionLockOptions";const E=i(v=>{const f=(0,a.jV)(v);return{isFreeTeam:!(0,d.qR)((0,o.H7)(v))&&!f,featureCallsLocationLock:(0,c.XY)(v)}},"mapStateToProps"),A=(0,n.N)(E)(h)},1223723593:(Q,C,e)=>{"use strict";e.d(C,{wl:()=>q,JG:()=>F,uy:()=>he,bM:()=>te,Ox:()=>le,A9:()=>G,fD:()=>ne});var t=e(3134334389),n=e(9391594207),s=e(3783303734),r=e(9113979368),d=e(3867135795),o=e(45851552),a=e(1649982175),l=e(6244014364),m=e(5795074931),c=e(8462077367),_=e(7138682671),p=e(3165300465),u=e(581167618),h=e(1610251172),E=e(3989454579),A=e(1743656885),v=e(5597672932),f=e(6117529990);const g=i(x=>!(0,f.BD)(x),"isOrgCallsAppsSettingsEnabled");var y=e(766806),T=e(56548687);const M=i(x=>{let{callsApps:b,allowCalls:z,clogger:$,action:Z,stepVariant:U}=x;const ee={allow_calls:z};b&&b.video&&b.video.length>0&&(ee.video_call_app_ids=b.video.map(se=>se.id)),b&&b.audio&&b.audio.length>0&&(ee.audio_call_app_ids=b.audio.map(se=>se.id)),b&&b.profile_field_options&&b.profile_field_options.length>0&&(ee.profile_field_option_ids=b.profile_field_options.map(se=>se.id)),$.track(l.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...ee,contexts:{ui_context:{step:l.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:Z,entry_point:"calls-workspace-admin",step_variant:U}}})},"clogCallsApps"),O=i(x=>{let{clogger:b}=x;b.track(l.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:l.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:l.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:l.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var I=e(1031947056);const D=(0,I.Ay)("Clog a standardized click event when a workspace setting is saved",(x,b,z)=>{let{eventId:$,uiStep:Z,stepVariant:U}=z;(0,T.e)({getState:b}).track($,{contexts:{ui_context:{ui_step:Z,step_variant:U,ui_properties:{element_type:l.ElementType.BUTTON,element_name:"submit_button"},action:l.UiAction.CLICK,is_primary_cta:!0}}})});D.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const P=D;var k=e(3677514771),R=e(6839188756),V=e(6323355797),B=e(980293773),W=e(735940183),L=e(3346098136),S=e(462591818);const H=new W.Ay("calls_admin"),w="only_available_for_paid_teams";var F;(function(x){x.Video="video",x.Audio="audio",x.ProfileFieldOptions="profile_field_options"})(F||(F={}));const j=i(x=>{let{type:b,app:z,isChecked:$,onChangeCallApp:Z,isLocked:U}=x;const ee=(0,t.useCallback)(()=>Z(b,z.id),[Z,b,z]),se=`${b}_${z.id}`;return t.createElement(_.A,{text:z.name,type:"inline",cursor:"pointer"},t.createElement(E.A,{id:se,name:z.name,checked:$,onChange:ee,disabled:U,"data-qa":se}))},"AppCheckbox");j.displayName="AppCheckbox";const J=i(x=>{let{appsState:b,isLocked:z,type:$}=x;return!z||!b?!1:$===F.Video&&(0,s.A)(b.video)>0&&(0,s.A)(b.audio)===0||($===F.Audio&&(0,s.A)(b.audio)>0&&(0,s.A)(b.video))===0},"disableTypeCheckbox"),X=i(x=>{let{appsState:b,isLocked:z,appId:$,type:Z}=x;if(!z||!b)return!1;const U=b.video?Object.keys(b.video):[],ee=b.audio?Object.keys(b.audio):[],se=U.length+ee.length;if($&&se===1){let de,ue;return U.length===1?(de=U[0],ue=F.Video):ee.length===1&&(de=ee[0],ue=F.Audio),$===de&&Z===ue}return!1},"disableAppCheckbox"),q=i(x=>{let{type:b,sectionTitle:z,appsState:$,installedCallApps:Z,onChangeCallType:U,onChangeCallApp:ee,isLocked:se,dataQa:de}=x;if(!Z||!$||!Z[b])return null;const ue=`enable_${b}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${b}_container`,"data-qa":de},t.createElement(_.A,{text:z,type:"inline",cursor:"pointer"},t.createElement(E.A,{checked:!(0,r.A)($[b]),id:ue,name:ue,onChange:U,disabled:J({appsState:$,isLocked:se,type:b})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},H.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...Z[b]].map(_e=>t.createElement(j,{app:_e,isChecked:(0,d.A)($[b],_e.id),key:`${b}_${_e.id}`,onChangeCallApp:ee,type:b,isLocked:X({appsState:$,isLocked:se,appId:_e.id,type:b})}))))},"CallSection");q.displayName="CallSection";const G=i(x=>{let{installedCallApps:b,appsState:z,appId:$,type:Z,setAppsState:U}=x;if(!b||!z)return;const ee={...z[Z]};if((0,d.A)(ee,$))delete ee[$],U({...z,[Z]:ee});else{const se=(0,o.A)(b[Z],de=>de.id===$);se>-1&&(ee[$]=se,U({...z,[Z]:ee}))}},"toggleCallApp"),ne=i(x=>{let{installedCallApps:b,appsState:z,type:$,setAppsState:Z}=x;if(!(!z||!b))if(!(0,r.A)(z[$]))Z({...z,[$]:{}});else{var U;const ee={};(U=b[$])===null||U===void 0||U.forEach((se,de)=>{ee[se.id]=de}),Z({...z,[$]:ee})}},"toggleCallType"),te=i((x,b)=>{const z={video:{},audio:{},profile_field_options:{}};return!b||!x||[F.Video,F.Audio,F.ProfileFieldOptions].forEach($=>{b[$]&&[...b[$]].forEach(U=>{const ee=(0,o.A)(x[$],se=>se.id===U.id);ee>-1&&(z[$][U.id]=ee)})}),z},"reduceTeamPrefApps"),le=i(function(){let{installedCallApps:x,appsState:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const z={video:[],audio:[]};return!x||!b||[F.Video,F.Audio].forEach($=>{if(x[$]){const Z=[...x[$]],U=b[$];Z.forEach(ee=>{if((0,d.A)(U,ee.id)){var se;(se=z[$])===null||se===void 0||se.push((0,a.A)(ee,"preselected"))}})}}),z},"setCallsAppsPayloadToSave"),he=i(x=>{if(!x||!x.video)return;const b=x.video.findIndex(z=>z.id===S.rq);b>=0&&x.video.splice(b,1)},"filterNativeCallsApp"),fe=i(x=>{let{isOpen:b,closeModal:z,errorMessage:$,buttonLabel:Z}=x;return t.createElement(B.dW,{centered:!0,isOpen:b,closeModal:z},t.createElement(B.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(B.qf,null,t.createElement("p",null,$))),t.createElement(B.jl,null,t.createElement(B.ox,null,t.createElement(B.s_,{type:"outline",onClick:z},Z))))},"ErrorModal");fe.displayName="ErrorModal";const ve=i(x=>{let{installedCallApps:b,teamPrefCallsApps:z,setMultipleTeamPrefsByApi:$,clogWorkspaceSettingSubmit:Z,isLocked:U,isCallsSelectorDisabled:ee,clogger:se,isOrgCallsAppsSettingsEnabled:de,team:ue,isCallsLocationLockedByOrgAdmin:_e,callsLocationLocked:pe}=x;const[ae,Ee]=(0,t.useState)(!1),[Le,ye]=(0,t.useState)(""),Te=H.t("Save"),Ae=H.t("Saved"),Ie=H.t("Sorry! Something went wrong. Please try again."),Ue=H.t("Allow third-party calls in Slack"),Be=H.t("Allow phone number calls in Slack (only in direct messages)"),we=H.t("Ok"),re=H.t("Sorry, call selection is currently managed by your organization admin."),ge=H.rt("First install a <a>calling app from our app directory</a> then come back here to enable it as a default calling app.",{},Tt=>{let{text:xt}=Tt;return t.createElement(A.A,{articleId:208492868},xt)}),De=(0,t.useCallback)(()=>{O({clogger:se}),(0,R.gC)(ue,(0,V.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[se,ue]),be=H.rt("Sorry, this feature is only available to <a>paid teams</a>.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087"},Tt=>{let{text:xt}=Tt;return t.createElement("a",{href:"#",onClick:De,"data-qa":"paid_plan_page_link"},xt)}),xe=z?te(b,z):{video:{},audio:{},profile_field_options:{}},[Re,je]=(0,t.useState)(xe),[Ge,Qe]=(0,t.useState)(!1),[Xe,et]=(0,t.useState)(!1),rt=pe&&pe.length>0?L.T.US:L.T.GLOBAL,[it,lt]=(0,t.useState)(rt);(0,t.useEffect)(()=>{const Tt=te(b,z);je(Tt)},[je,b,z]);const ot=(0,t.useCallback)(Tt=>{et(!1),ne({installedCallApps:b,appsState:Re,type:Tt,setAppsState:je})},[b,Re,je]),Et=(0,t.useCallback)(()=>ot(F.Video),[ot]),At=(0,t.useCallback)(()=>ot(F.Audio),[ot]),Ot=(0,t.useCallback)(()=>Ee(!1),[Ee]),Rt=(0,t.useCallback)((Tt,xt)=>{et(!1),G({installedCallApps:b,appsState:Re,appId:xt,type:Tt,setAppsState:je})},[b,Re,je]),yt=(0,t.useCallback)(Tt=>{lt(Tt),et(!1)},[lt]),Mt=i(()=>{Qe(!0),Z({eventId:l.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const Tt=!(0,r.A)(Re.video)||!(0,r.A)(Re.audio),xt=le({installedCallApps:b,appsState:Re}),bt={calls_apps:xt};(0,R.r7)(ue)||(bt.allow_calls=Tt),_e||(bt.calls_locations=it===L.T.US?[it]:[]),$({prefs:bt}).then(()=>{et(!0),M({callsApps:xt,allowCalls:Tt,clogger:se,action:l.UiAction.SAVE})}).catch(nn=>{var dn;Ee(!0),(nn==null||(dn=nn.data)===null||dn===void 0?void 0:dn.error)===w?(ye(be),M({callsApps:xt,allowCalls:Tt,clogger:se,action:l.UiAction.ERROR,stepVariant:w})):(ye(Ie),M({callsApps:xt,allowCalls:Tt,clogger:se,action:l.UiAction.ERROR}))}).finally(()=>Qe(!1))},"onSubmit"),en=b&&(b.video&&b.video.length>0||b.audio&&b.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},ee&&de?t.createElement(u.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,re)):t.createElement(t.Fragment,null,!en&&t.createElement(u.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,ge)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},b&&b.video&&b.video.length>0&&t.createElement(q,{type:F.Video,sectionTitle:Ue,appsState:Re,installedCallApps:b,onChangeCallType:Et,onChangeCallApp:Rt,isLocked:U}),b&&b.audio&&b.audio.length>0&&t.createElement(q,{type:F.Audio,sectionTitle:Be,appsState:Re,installedCallApps:b,onChangeCallType:At,onChangeCallApp:Rt,isLocked:U})),t.createElement(L.A,{appsState:Re,isLockedByOrgAdmin:_e,selectedCallLocation:it,setSelectedCallLocation:yt}),t.createElement(fe,{closeModal:Ot,isOpen:ae,errorMessage:Le,buttonLabel:we}),en&&t.createElement(p.A,{onClick:Mt,loading:Ge,"data-qa":"call_save_button"},Xe&&t.createElement(h.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),Xe?Ae:Te)))},"CallsWorkspaceSettings");ve.displayName="CallsWorkspaceSettings";const me=i(x=>{const b=(0,m.tV)(x,"calls_apps");he(b);const z=(0,v.x)(x,"calls_apps"),$=(0,y.SI)(x,"calls_locations");return{installedCallApps:b,teamPrefCallsApps:z,clogger:(0,T.e)({state:x}),isOrgCallsAppsSettingsEnabled:g(x),team:(0,k.H7)(x),isCallsLocationLockedByOrgAdmin:!!$&&$.length>0,callsLocationLocked:(0,v.x)(x,"calls_locations")}},"mapStateToProps"),oe={setMultipleTeamPrefsByApi:c.hz,clogWorkspaceSettingSubmit:P},N={toggleCallApp:G,toggleCallType:ne,AppCheckbox:j,reduceTeamPrefApps:te,setCallsAppsPayloadToSave:le,disableTypeCheckbox:J,disableAppCheckbox:X},K=(0,n.N)(me,oe)(ve)},6909784049:(Q,C,e)=>{"use strict";e.d(C,{o:()=>be});var t=e(3134334389),n=e(9391594207),s=e(166097325),r=e(3300324857),d=e(462591818),o=e(8869734951),a=e(1641606663);function l(){return l=Object.assign||function(xe){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Ge in je)Object.prototype.hasOwnProperty.call(je,Ge)&&(xe[Ge]=je[Ge])}return xe},l.apply(this,arguments)}i(l,"_extends");let m=i(class extends t.PureComponent{componentDidMount(){var Re;(Re=this.context.windowRef.deref())===null||Re===void 0||Re.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var Re;this.isDragging&&this.onMouseUp(),(Re=this.context.windowRef.deref())===null||Re===void 0||Re.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(Re){var je;Re.button===0&&(this.isDragging=!0,(je=this.context.windowRef.deref())===null||je===void 0||je.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(Re))}onMouseMove(Re){Re.button===0&&this.isDragging&&this.props.onDragMove(Re)}onMouseUp(Re){if(Re&&Re.button!==0)return;const je=this.isDragging;if(this.isDragging=!1,je){var Ge;(Ge=this.context.windowRef.deref())===null||Ge===void 0||Ge.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(Re)}}render(){const{children:Re,refToForward:je,onDragStart:Ge,onDragMove:Qe,onDragEnd:Xe,...et}=this.props,rt=t.Children.only(this.props.children);return t.cloneElement(rt,{...et,onMouseDown:lt=>this.onMouseDown(lt),ref:(0,o.N)(je,rt)})}constructor(Re){super(Re),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");m.displayName="BaseDragTarget",m.contextType=a.M;const c=t.forwardRef((xe,Re)=>t.createElement(m,l({},xe,{refToForward:Re})));var _=e(387328355),p=e(1031947056),u=e(2825968873);const h=(0,u.tZ)("USER-ACTIONS"),E=(0,p.Ay)("Logs user interaction with call window",(xe,Re,je)=>{h.info(je)});E.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var A=e(1975685771),v=e(8405076696);function f(xe){y=w(le(xe))}i(f,"startCurve");function g(xe){const Re=le(xe),je=F(y,Re);return je.update_status==V.SUCCESS?je:F(y,Re)}i(g,"addToCurve");let y;const T=2,M=9,O=9,I=50,D=80,P=1,k=!0,R=!0,V={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},B=i(()=>({segments:[],vdmap:[]}),"initCurve"),W=i((xe,Re)=>({c0:{x:xe,y:Re},c1:{x:xe,y:Re},c2:{x:xe,y:Re},c3:{x:xe,y:Re}}),"initCurveSegment"),L=i(xe=>xe.segments[xe.segments.length-1],"getLastSegment"),S=i(xe=>xe.c3,"getLastPoint"),H=i(function(xe){return{c0:{x:xe.c0.x,y:xe.c0.y},c1:{x:xe.c1.x,y:xe.c1.y},c2:{x:xe.c2.x,y:xe.c2.y},c3:{x:xe.c3.x,y:xe.c3.y},constrain_to:xe.constrain_to==null?void 0:{x:xe.constrain_to.x,y:xe.constrain_to.y},error:xe.error||0,update_status:xe.update_status}},"copySegment"),w=i(function(xe){let{x:Re,y:je}=xe;const Ge=B();return Ge.segments.push(W(Re,je)),Ge},"createCurve"),F=i(function(xe,Re){const je=L(xe),Ge=S(je);if(b(Re,S(je))<P)return je;if(V.SUCCESS!=je.update_status&&je.update_status!==void 0){let Qe;V.FAIL_CORNER==je.update_status?Qe=W(Ge.x,Ge.y):V.FAIL_MAXED==je.update_status&&(Qe=W(Ge.x,Ge.y),Qe.constrain_to=U(X(je))),xe.vdmap=[],xe.segments.push(Qe)}return j(xe,Re)},"addToCurveImpl"),j=i(function(xe,Re){const je=L(xe),{x:Ge,y:Qe}=Re;let Xe=S(je);const et=H(je);if(q(je,Re))return je.update_status=V.FAIL_CORNER,je;je.c3={x:Ge,y:Qe},je.c2={x:je.c2.x+Ge-Xe.x,y:je.c2.y+Qe-Xe.y};const rt=Z(Xe,Re),it=ne(rt),lt=ve(Xe,it),ot=ve(Re,it),Et=te(oe(it,2)),At=$(Et),Ot=N(Et,At),Rt=me(ot,lt),yt=$(Rt),Mt=N(Rt,yt);let en=lt;for(let nn=0;nn<yt;nn++){let dn=en,Xt=it;for(let jt=0;jt<At;jt++){const{x:_n,y:ze}=le(dn);xe.vdmap[_n]||(xe.vdmap[_n]=[]),xe.vdmap[_n][ze]==null?xe.vdmap[_n][ze]=le(Xt):xe.vdmap[_n][ze]=he(xe.vdmap[_n][ze])<he(le(Xt))?xe.vdmap[_n][ze]:le(Xt),Xt=ve(Xt,Ot),dn=ve(dn,Ot)}en=ve(en,Mt)}const Tt=me(Re,{x:M,y:M}),xt=ve(Re,{x:M,y:M});for(let nn=Tt.x;nn<xt.x;nn++)for(let dn=Tt.y;dn<xt.y;dn++){xe.vdmap[nn]||(xe.vdmap[nn]=[]);const Xt=me({x:nn,y:dn},Re);xe.vdmap[nn][dn]==null?xe.vdmap[nn][dn]=Xt:xe.vdmap[nn][dn]=he(xe.vdmap[nn][dn])<he(Xt)?xe.vdmap[nn][dn]:Xt}let bt=0;for(;;){let nn={x:0,y:0},dn={x:0,y:0};for(let _n=0;_n<O;_n++){const ze=_n/O,Dt=le(ee(je,ze)),hn=J(xe,Dt),yn=fe(hn),ht=hn.x,Bt=hn.y;let wt=1;R&&(ze<.1||ze>.9)&&(wt=10),nn.x+=ze*Math.pow(1-ze,2)*yn*ht*wt,nn.y+=ze*Math.pow(1-ze,2)*yn*Bt*wt,dn.x+=Math.pow(ze,2)*(1-ze)*yn*ht*wt,dn.y+=Math.pow(ze,2)*(1-ze)*yn*Bt*wt}if(R){const _n=me(G(je),je.c2),ze=me(G(je),je.c1);nn=me(nn,oe(ze,.03)),dn=me(dn,oe(_n,.03))}je.constrain_to&&(nn=oe(je.constrain_to,x(je.constrain_to,nn)));const Xt=1;je.c1.x-=Xt*nn.x*6/O,je.c1.y-=Xt*nn.y*6/O,je.c2.x-=Xt*dn.x*6/O,je.c2.y-=Xt*dn.y*6/O;let jt=0;for(let _n=0;_n<O;_n++){const ze=_n/O,Dt=ee(je,ze),hn=J(xe,le(Dt));jt+=Math.pow(hn.x,2)+Math.pow(hn.y,2)}if(jt=jt/O,bt++,je.error=jt,je.steps=bt,jt<T||bt>I)break}return bt>I?(je.c0=et.c0,je.c1=et.c1,je.c2=et.c2,je.c3=et.c3,je.error=et.error,je.constrain_to=et.constrain_to,je.update_status=V.FAIL_MAXED,je):(je.update_status=V.SUCCESS,je)},"updateDistanceField"),J=i(function(xe,Re){let{x:je,y:Ge}=Re;if(xe.vdmap[je]){const Qe=xe.vdmap[je][Ge],Xe=xe.vdmap[je][Ge+1];let et=Qe!=null?{x:Qe.x,y:Qe.y}:{x:M,y:M};return Xe&&Xe.x!=null&&Math.abs(et.x)>Math.abs(Xe.x)&&(et.x=Xe.x),Xe&&Xe.y!=null&&Math.abs(et.y)>Math.abs(Xe.y)&&(et.y=Xe.y),et}else return{x:M,y:M}},"getDistanceFromPolyline"),X=i(function(xe){const Re=xe.c3,je=xe.c2;return{x:3*(je.x-Re.x),y:3*(je.y-Re.y)}},"getCurveEndTangent"),q=i(function(xe,Re){if(K(xe.c0,xe.c3))return!1;let je;k?je=U(me(ee(xe,.95),xe.c3)):je=U(X(xe));const Ge=U({x:Re.x-xe.c3.x,y:Re.y-xe.c3.y}),Qe=x(je,Ge);if(z(Math.acos(Qe))<D)return!0},"checkCorner"),G=i(xe=>ve(N(me(xe.c3,xe.c0),2),xe.c0),"getSegmentMidpoint"),ne=i(xe=>({x:xe.x*M,y:xe.y*M}),"getScaledVectorDifference"),te=i(xe=>({x:-xe.x,y:-xe.y}),"negateVec"),le=i(xe=>({x:Math.round(xe.x),y:Math.round(xe.y)}),"roundVec"),he=i(xe=>Math.pow(xe.x,2)+Math.pow(xe.y,2),"sumOfSquaresVec"),fe=i(xe=>Math.sqrt(he(xe)),"magnitudeVec"),ve=i((xe,Re)=>({x:xe.x+Re.x,y:xe.y+Re.y}),"addVec"),me=i((xe,Re)=>ve(xe,te(Re)),"subVec"),oe=i((xe,Re)=>({x:xe.x*Re,y:xe.y*Re}),"multVec"),N=i((xe,Re)=>oe(xe,1/Re),"divVec"),K=i((xe,Re)=>xe.x==Re.x&&xe.y==Re.y,"equalVec"),x=i((xe,Re)=>xe.x*Re.x+xe.y*Re.y,"dotProduct"),b=i(function(xe){let{x:Re,y:je}=xe,Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(Re-Ge.x,2)+Math.pow(je-Ge.y,2))},"getMagnitude"),z=i(xe=>xe*180/Math.PI,"radiansToDegrees"),$=i(xe=>Math.max(Math.abs(xe.x),Math.abs(xe.y)),"getDDASteps"),Z=i((xe,Re)=>{const je=Re.x-xe.x,Qe=Re.y-xe.y,Xe=-je;return U({x:Qe,y:Xe})},"getPerpindicularUnitVector"),U=i(function(xe){let{x:Re,y:je}=xe;const Ge=b({x:Re,y:je});return{x:Re/Ge,y:je/Ge}},"getUnitVector"),ee=i(function(xe,Re){const je=se(Re,xe.c0.x,xe.c1.x,xe.c2.x,xe.c3.x),Ge=se(Re,xe.c0.y,xe.c1.y,xe.c2.y,xe.c3.y);return{x:je,y:Ge}},"getPointAlongCurve"),se=i(function(xe,Re,je,Ge,Qe){return Re*Math.pow(1-xe,3)+je*3*xe*Math.pow(1-xe,2)+Ge*3*Math.pow(xe,2)*(1-xe)+Qe*Math.pow(xe,3)},"singleComponentBezier");function de(xe,Re){return{a:xe,b:Re}}i(de,"makeLineSegment");function ue(xe,Re){let[je,Ge]=xe,[Qe,Xe]=Re;return Math.sqrt((je-Qe)**2+(Ge-Xe)**2)}i(ue,"magnitude");class _e{add(Re){return this.current?ue(this.current.a,Re)>.05?(this.current=de(this.current.b,Re),{type:DrawMessageType.New,segment:this.current}):(this.current=de(this.current.a,Re),{type:DrawMessageType.Edit,segment:this.current}):(this.current=de(Re,Re),{type:DrawMessageType.New,segment:this.current})}}i(_e,"ProgressiveEqualLengthMultilineTransformer");class pe{setTargetRect(Re){this.targetRect=Re}add(Re){if(!(0,A.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:je,left:Ge,width:Qe,height:Xe}=this.targetRect,[et,rt]=[Re[0]-Ge,Re[1]-je];if(!this.current){f({x:et,y:rt});const Ot=[et/Qe,rt/Xe];return this.current={a:Ot,b:Ot,c:Ot,d:Ot},{type:d.Sl.New,segment:this.current}}const it=this.current,{c0:lt,c1:ot,c2:Et,c3:At}=g({x:et,y:rt});return this.current={a:[lt.x/Qe,lt.y/Xe],b:[ot.x/Qe,ot.y/Xe],c:[Et.x/Qe,Et.y/Xe],d:[At.x/Qe,At.y/Xe]},this.current.a[0]!==it.a[0]||this.current.a[1]!==it.a[1]?{type:d.Sl.New,segment:this.current}:{type:d.Sl.Edit,segment:this.current}}}i(pe,"ProgressiveCurveTransformer");var ae=e(5950652755),Ee=e(3107743571);const Le=2e3,ye=50,Te=i(xe=>{const{onDragStart:Re,onDragMove:je,onDragEnd:Ge,onCursorMoveStart:Qe,onCursorMove:Xe,onCursorMoveEnd:et,children:rt}=xe,[it,lt]=(0,t.useState)(!1),[ot,Et]=(0,t.useState)(!1),[At,Ot]=(0,t.useState)(0),[Rt,yt]=(0,t.useState)(0),Mt=(0,t.useCallback)(Xt=>{Xt.button===0&&(lt(!0),Re(Xt))},[Re]),en=(0,t.useCallback)(()=>{Et(!1),et()},[Et,et]);(0,Ee.Z)(()=>{en()},Le,[At,Rt]);const Tt=(0,t.useCallback)(Xt=>{if(Xt.button===0){if(it){je(Xt);return}ot||(Qe(Xt),Et(!0)),Xe(Xt),Ot(Xt.movementX),yt(Xt.movementY)}},[ot,it,Xe,Qe,je]),xt=(0,ae.A)(Tt,ye,{leading:!0}),bt=(0,t.useCallback)(Xt=>{xt(Xt)},[xt]),nn=(0,t.useCallback)(Xt=>{if(Xt&&Xt.button!==0)return;const jt=it;lt(!1),jt&&Ge(Xt)},[it,Ge]),dn=(0,t.useCallback)(Xt=>{const jt=it;lt(!1),jt?Ge(Xt):ot&&et()},[it,Ge,ot,et]);return t.createElement("div",{onMouseDown:Mt,onMouseMove:bt,onMouseUp:nn,onMouseLeave:dn,"aria-hidden":"true"},rt)},"HuddlesCursorTarget");Te.displayName="HuddlesCursorTarget";const Ae=t.memo(Te);var Ie=e(8558782493),Ue=e(6244014364);function Be(){return Be=Object.assign||function(xe){for(var Re=1;Re<arguments.length;Re++){var je=arguments[Re];for(var Ge in je)Object.prototype.hasOwnProperty.call(je,Ge)&&(xe[Ge]=je[Ge])}return xe},Be.apply(this,arguments)}i(Be,"target_extends");let we=i(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(Re,je){return!(0,s.A)(this.props,Re)||!(0,s.A)(this.state,je)}componentDidUpdate(Re){(0,s.A)(Re.targetRect,this.props.targetRect)||this.onResize()}onResize(){var Re;if(!(!((Re=this.props.refToForward)===null||Re===void 0)&&Re.current))return;const je=(0,v.n)(this.props.targetRect);this.props.refToForward.current.style.height=je.height,this.props.refToForward.current.style.width=je.width,this.props.refToForward.current.style.top=je.top,this.props.refToForward.current.style.left=je.left,this.props.refToForward.current.style.position=je.position}getCursorCoordinates(Re){return this.props.useHuddlesDragTarget?[Re.nativeEvent.offsetX,Re.nativeEvent.offsetY]:[Re.pageX,Re.pageY]}onDragStart(Re){this.multilineTransformer=new pe,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),r.A.publish({id:"self",type:d.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Re)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(Re){(0,A.Z)(this.multilineTransformer,"Need transformer to draw")&&r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Re)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(Re){r.A.publish({id:"self",type:d.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,Ie.k)(Ue.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Ue.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){r.A.publish({id:"self",type:d.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(Re){const je=this.getCursorCoordinates(Re),Ge=je[0]/this.props.targetRect.width,Qe=je[1]/this.props.targetRect.height;r.A.publish({id:"self",type:d.Sl.Position,x:Ge,y:Qe,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){r.A.publish({id:"self",type:d.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(Ae,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,v.n)(this.props.targetRect)}})):t.createElement(c,{onDragStart:Re=>this.onDragStart(Re),onDragMove:Re=>this.onDragMove(Re),onDragEnd:Re=>this.onDragEnd(Re)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,v.n)(this.props.targetRect)}}))}constructor(Re){super(Re),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");we.displayName="BaseDrawTarget";const re=i((xe,Re)=>({hue:(0,_.Ng)(xe).drawHue}),"mapStateToProps"),ge=i(xe=>({logDrawingAction:Re=>xe(E(Re))}),"mapDispatchToProps"),De=(0,n.N)(re,ge)(we),be=t.forwardRef((xe,Re)=>t.createElement(De,Be({refToForward:Re},xe)))},5956851410:(Q,C,e)=>{"use strict";e.d(C,{u:()=>K});var t=e(3134334389),n=e(166097325),s=e(1649982175),r=e(8571983633),d=e(8840779375),o=e(3300324857),a=e(462591818),l=e(1641606663),m=e(9391594207),c=e(5795074931),_=e(4775127335),p=e(387328355),u=e(735940183);const h=new u.Ay("calls"),E=i(x=>{let{displayName:b,id:z,userId:$,color:Z}=x;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:Z?{background:Z}:{}},t.createElement(_.Ay,{className:"p-huddles_draw__name_tag_avatar",key:z,size:24,userId:$,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},b))},"NameTag"),A=i((x,b)=>{let{id:z}=b;return{displayName:z==="self"?h.t("You"):(0,p.iU)(x,z),userId:z==="self"?(0,c.WR)(x):(0,p.C1)(x,z).userId}},"mapStateToProps"),v=(0,m.N)(A)(E),f=-21,g=-15,y=i(x=>{let{peerId:b,width:z,height:$,leftOffset:Z,topOffset:U,color:ee,renderNameTag:se=!0,isWindowDrawMode:de=!1,xWindowPosition:ue=0,yWindowPosition:_e=0}=x;const pe=(0,t.useRef)(null);let ae,Ee;const Le=Z*z,ye=U*$;ae=Math.round(Le+g),Ee=Math.round(ye+f),de&&(ae+=ue,Ee+=_e);const Te=(0,t.useMemo)(()=>[ae,Ee],[ae,Ee]),Ae=i(Ie=>{const Ue=pe.current;Ue&&(Ue.style.setProperty("transform",`translate(${Ie[0]}px, ${Ie[1]}px)`),Ue.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{Ae(Te)},[Te]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${b}`,className:"p-huddles_cursor_tracking__cursor",ref:pe},se&&t.createElement(v,{key:`name-tag-${b}`,id:b,color:ee})))},"HuddlesCursor");y.displayName="HuddlesCursor";const T=t.memo(y,n.A);var M=e(2825968873),O=e(8405076696),I=e(8193414630);function D(x,b,z,$){return`hsla(${x}, ${b}%, ${z}%, ${$})`}i(D,"makeColorString");const P=i((x,b)=>D(x,100,75,b),"makeBaseColorString"),k=i(x=>D(x,80,50,1),"makeShadowColorString"),R=3;class V{static renderBaseStyle(b){b.lineJoin="round",b.lineCap="round",b.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=V.initialWidth,this.opacity=1,this.color=P(this.hue,this.opacity))}setHue(b){this.hue=b,this.color=P(this.hue,this.opacity),this.shadowColor=k(this.hue),this.observer.requestRenderOnNextFrame()}render(b){this.fade(),b.lineWidth=this.width,b.strokeStyle=this.color,b.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const b=Math.min(1,(performance.now()-this.startedFadingTimestamp)/V.fadeDuration);this.width=V.initialWidth-b*R,this.opacity=1-b/1,this.color=P(this.hue,this.opacity),b<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(b){this.observer=b,this.width=V.initialWidth,this.opacity=1,this.hue=0,this.color=P(this.hue,this.opacity),this.shadowColor=k(this.hue)}}i(V,"LineStyle"),V.displayName="LineStyle",V.initialWidth=7,V.fadeDuration=3e3;let B=i(class{getSegments(){return this.segments}addNewSegment(b){this.segments.push(b)}editLastSegment(b){this.segments.pop(),this.segments.push(b)}constructor(){this.segments=[]}},"ProgressivePlotter");class W extends null{draw(b){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const Z=this.getSegments();b.beginPath();for(let U=0;U<Z.length;U++){const ee=Z[U];b.moveTo(ee.a[0]*z,ee.a[1]*$),b.lineTo(ee.b[0]*z,ee.b[1]*$)}b.stroke()}}i(W,"ProgressiveLineSegmentPlotter");class L extends B{draw(b){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const Z=this.getSegments();b.beginPath();for(let U=0;U<Z.length;U++){const ee=Z[U];b.moveTo(ee.a[0]*z,ee.a[1]*$),b.bezierCurveTo(ee.b[0]*z,ee.b[1]*$,ee.c[0]*z,ee.c[1]*$,ee.d[0]*z,ee.d[1]*$)}b.stroke()}}i(L,"ProgressiveBezierCurvePlotter");const S=700,H=5e3;class w{onFadeCompleted(){this.plotter=new L,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,H)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,S)}update(b){if(this.resetVestigialLineTimeout(),b.type===a.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(b.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(b.type===a.Sl.Edit)this.plotter.editLastSegment(b.segment);else if(b.type===a.Sl.End)this.resetInactivityTimeout();else if(b.type===a.Sl.ChangeHue)this.style.setHue(b.hue);else{if(b.type===a.Sl.Position)return;(0,I.Kh)(b.type)}this.observer.requestRenderOnNextFrame()}render(b,z,$){this.style.render(b),this.plotter.draw(b,z,$)}setLineVisibility(b){Object.assign(this.visibilityState,b)}getColor(){return this.style.getColor()}constructor(b){this.observer=b,this.plotter=new L,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new V({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}i(w,"DrawLine"),w.displayName="DrawLine";const F=i(x=>{let{refToForward:b,isHidden:z,numVisibleLines:$,top:Z,left:U,width:ee,height:se,doNotApplyTargetRect:de}=x;if(de){const _e={display:z||$===0?"none":"block"};return t.createElement("canvas",{ref:b,style:_e,"data-qa":"huddles-drawing-canvas"})}const ue={display:z||$===0?"none":"block",...(0,O.n)({left:U,top:Z,width:ee,height:se})};return t.createElement("canvas",{ref:b,style:ue,"data-qa":"huddles-drawing-canvas"})},"Canvas");F.displayName="Canvas";const j=t.memo(F,n.A),J=new u.Ay("calls"),X=10,q=10,G=i(x=>{let{displayName:b,coord:[z,$]}=x;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${z+X}px`,top:`${$+q}px`}},b)},"name_tag_NameTag"),ne=i((x,b)=>{let{id:z}=b;return{displayName:z==="self"?J.t("You"):(0,p.iU)(x,z)}},"name_tag_mapStateToProps"),te=(0,m.N)(ne)(G),le=-33,he=-9,fe=i(x=>{let{top:b,left:z,width:$,height:Z,leftOffset:U,topOffset:ee,id:se}=x;const de=z+U*$,ue=b+ee*Z,_e={left:`${de+he}px`,top:`${ue+le}px`},pe=(0,t.useMemo)(()=>[de,ue],[de,ue]);return t.createElement(t.Fragment,null,se!=="self"&&t.createElement("div",{key:`cursor-${se}`,className:"p-calls_draw__pencil_cursor",style:_e}),t.createElement(te,{key:`name-tag-${se}`,id:se,coord:pe}))},"Cursor");fe.displayName="Cursor";const ve=t.memo(fe,n.A);function me(){return me=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var z=arguments[b];for(var $ in z)Object.prototype.hasOwnProperty.call(z,$)&&(x[$]=z[$])}return x},me.apply(this,arguments)}i(me,"_extends");var oe;class N extends(oe=t.Component){shouldComponentUpdate(b,z){return!(0,n.A)(this.props,b)||!(0,n.A)(this.state,z)}getOrCreatePeerLine(b){return this.peerLines[b]=this.peerLines[b]||new w({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:z=>this.setState($=>({numVisibleLines:$.numVisibleLines+(z?1:-1)}))}),this.peerLines[b]}onIncomingPeerLine(b){if(this.props.itemId&&b.itemId&&b.itemId!==this.props.itemId)return;const z=this.getOrCreatePeerLine(b.id);switch(z.update(b),b.type){case a.Sl.New:{this.setState($=>{let{tagCoords:Z,userColors:U}=$;return{tagCoords:{...Z,[b.id]:b.segment.d},userColors:{...U,[b.id]:z.getColor()}}});break}case a.Sl.Edit:{this.setState($=>{let{tagCoords:Z}=$;return{tagCoords:{...Z,[b.id]:b.segment.d}}});break}case a.Sl.ChangeHue:{this.setState($=>{let{userColors:Z}=$;return{userColors:{...Z,[b.id]:z.getColor()}}});break}case a.Sl.End:{this.setState($=>{let{tagCoords:Z}=$;return{tagCoords:(0,s.A)(Z,b.id)}});break}case a.Sl.Position:{const $=[b.x,b.y];this.setState(Z=>{let{tagCoords:U}=Z;return{tagCoords:{...U,[b.id]:$}}});break}default:break}}componentDidMount(){o.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(b,z){b.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,M.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&z.numVisibleLines>0||this.state.numVisibleLines>0&&z.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,r.A)(this.rafId)){var b;(b=this.context.windowRef.deref())===null||b===void 0||b.cancelAnimationFrame(this.rafId)}o.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,V.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const b=this.props.targetRect.width,z=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,b,z);const $=Object.values(this.peerLines);for(let Z=0;Z<$.length;Z++)$[Z].render(this.ctx,b,z)}renderCursor(b,z,$){const{targetRect:Z,useHuddlesCursor:U,itemId:ee,isHostDrawWindow:se,isWindowDrawing:de}=this.props;if(U){const ue=this.state.userColors[b],_e=ee!=="self",pe=se&&de;return t.createElement(T,{key:b,peerId:b,topOffset:z,leftOffset:$,width:Z.width,height:Z.height,color:ue,renderNameTag:_e,isWindowDrawMode:pe,xWindowPosition:Z.left,yWindowPosition:Z.top})}return t.createElement(ve,me({key:b,id:b,topOffset:z,leftOffset:$},Z))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:b}=this.props,z={...(0,O.n)({left:b.left,top:b.top,width:b.width,height:b.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:z},t.createElement(j,me({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,d.A)(this.state.tagCoords,($,Z)=>{let[U,ee]=$;return this.renderCursor(Z,ee,U)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(j,me({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,d.A)(this.state.tagCoords,(b,z)=>{let[$,Z]=b;return this.renderCursor(z,Z,$)}))}constructor(b){super(b),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}i(N,"BaseDrawRenderer"),N.displayName="BaseDrawRenderer",N.contextType=l.M;const K=t.forwardRef((x,b)=>t.createElement(N,me({refToForward:b},x)))},1429018002:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(3134334389),n=e(9391594207),s=e(387328355),r=e(5255740490),d=e(4096483543),o=e(8869734951),a=e(6533394955),l=e(6839101721),m=e(3395259576),c=e(2615100822),_=e(4761125736);function p(){return p=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(M[D]=I[D])}return M},p.apply(this,arguments)}i(p,"_extends");let u=i(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var O;const I=this.videoRef.current,{shouldAttachStream:D,tileId:P,peerId:k}=this.props;!P||!I||(this.props.unbindVideo({tileId:P,videoRef:this.videoRef,shouldDetachStream:!!D,peerId:k}),I.removeEventListener("resize",this.onResize),(O=this.interactionObserver)===null||O===void 0||O.disconnect())}setUpMedia(){const O=this.videoRef.current,{shouldAttachStream:I,tileId:D,peerId:P}=this.props;!D||!O||(this.props.bindVideo({tileId:D,videoRef:this.videoRef,shouldAttachStream:!!I,peerId:P}),O.addEventListener("resize",this.onResize))}setupInteractionObserver(){var O;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((O=this.interactionObserver)===null||O===void 0||O.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var I;(I=this.interactionObserver)===null||I===void 0||I.observe(this.videoRef.current)}}interactionObserverCallback(O){const I=O[0];if(!I)return;const D=this.videoRef.current,{shouldAttachStream:P,tileId:k,peerId:R}=this.props;!k||!D||(I.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:k,videoRef:this.videoRef,shouldAttachStream:!!P,peerId:R}):this.props.unbindVideo({tileId:k,videoRef:this.videoRef,shouldDetachStream:!!P,peerId:R}))}onResize(){const O=this.videoRef.current;O&&(this.props.isSharingScreen?O.style.objectFit="contain":O.style.objectFit=O.videoWidth>O.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:O,peerId:I,tileId:D,isActivePeerSharingScreen:P,isShroudVisible:k}=this.props;!O||!D||(I!=="self"&&P&&!k?this.props.pauseVideo({tileId:D}):this.props.unpauseVideo({tileId:D}))}render(){const{refToForward:O,shouldFlip:I,peerId:D,className:P,width:k,height:R,onLoadedData:V}=this.props;return t.createElement("video",p({className:(0,r.A)("p-calls_video",P,{flipped:I}),ref:(0,o.P)(this.videoRef,O),key:D,"data-qa":"free-willy-video-element",style:{width:k,height:R}},V?{onLoadedData:V}:{}))}constructor(O){super(O),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=O.onResize?O.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");u.displayName="VideoElement";const h=i((M,O)=>{var I;const D=(0,_._Z)(M,"calls_pause_video_on_screenshare")==="treatment",P=(0,s.vz)(M),k=O.peer?(0,s.Bf)(O.peer):!1;let R;if(P)R=O.tileId;else{var V,B,W,L,S,H;R=k?(V=O.peer)===null||V===void 0||(B=V.tileIds)===null||B===void 0||(W=B.screenshare)===null||W===void 0?void 0:W.tileId:(L=O.peer)===null||L===void 0||(S=L.tileIds)===null||S===void 0||(H=S.camera)===null||H===void 0?void 0:H.tileId}return{tileId:R,peerId:(I=O.peer)===null||I===void 0?void 0:I.id,isSharingScreen:k,isShroudVisible:D&&(0,c.A)()?(0,m.pI)(M):!1,isActivePeerSharingScreen:(0,s.$Q)(M),experimentCallsPauseVideoOnScreenshareGroupTreatment:D}},"mapStateToProps"),E=i(M=>({bindVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,l.d2)(O)):M((0,l.d2)(O)),unbindVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,l.gJ)(O)):M((0,l.gJ)(O)),pauseVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,l.WY)(O)):M((0,l.WY)(O)),unpauseVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,l.D8)(O)):M((0,l.D8)(O))}),"mapDispatchToProps"),A=(0,n.N)(h,E)(u),v=t.forwardRef((M,O)=>t.createElement(A,p({refToForward:O},M)));function f(){return f=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(M[D]=I[D])}return M},f.apply(this,arguments)}i(f,"peer_video_element_extends");const g=i((M,O)=>{const I=(0,s.vz)(M),D=(0,s.JZ)(M,O.id);let P;const k=O.tileId;if(!I)P=(0,s.fy)(D)&&!D.isScreenshareEnabled;else{var R,V;const B=((R=D.tileIds)===null||R===void 0||(V=R.screenshare)===null||V===void 0?void 0:V.tileId)===k;P=(0,s.fy)(D)&&!B}return{peer:D,tileId:k,shouldFlip:P}},"peer_video_element_mapStateToProps"),y=(0,n.N)(g)(v),T=t.forwardRef((M,O)=>t.createElement(y,f({},M,{refToForward:O})))},1337358413:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_,Ft:()=>l});var t=e(3134334389),n=e(5255740490),s=e(9391594207),r=e(3328068409),d=e(9009528296),o=e(9853754481);const a=15;function l(p){return Math.min(1,Math.max(0,o.Ep*p))}i(l,"getClampedAudioLevel");let m=i(class extends t.PureComponent{componentDidMount(){d.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){d.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(u){const h=Math.floor(this.numBubbles*l(u));this.setState(()=>({numActiveBubbles:h,numInactiveBubbles:this.numBubbles-h}))}renderBubbles(){const{numActiveBubbles:u,numInactiveBubbles:h}=this.state,{bubbleClassname:E}=this.props,A=(0,n.A)("p-audio_levels__bubble","p-audio_levels__bubble--active",E,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),v=(0,n.A)("p-audio_levels__bubble","p-audio_levels__bubble--inactive",E,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),f=Array.from({length:u},(y,T)=>t.createElement("span",{key:`active${T}`,className:A})),g=Array.from({length:h},(y,T)=>t.createElement("span",{key:T,className:v}));return f.concat(g)}render(){return t.createElement("div",{className:(0,n.A)("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},this.renderBubbles())}constructor(u){super(u);var h;this.numBubbles=(h=this.props.initNumBubbles)!==null&&h!==void 0?h:a;var E;this.state={numInactiveBubbles:(E=u.initNumBubbles)!==null&&E!==void 0?E:a,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");m.displayName="AudioMeter";const c=i(p=>({clientTheme:(0,r.to)(p)}),"mapStateToProps"),_=(0,s.N)(c)(m)},610288365:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>l});var t=e(9706240641),n=e.n(t),s=e(6696292586),r=e(3398586081);class d{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var p,u;(p=this.battery)===null||p===void 0||p.addEventListener("chargingchange",this.handleBatteryUpdate),(u=this.battery)===null||u===void 0||u.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var p,u;(p=this.battery)===null||p===void 0||p.removeEventListener("chargingchange",this.handleBatteryUpdate),(u=this.battery)===null||u===void 0||u.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)};var c=this;this.initialize=(0,t.coroutine)(function*(){yield c.setUp(),c.updateBatteryState()});var _=this;this.setUp=(0,t.coroutine)(function*(){if(!_.isInitialized)try{if(navigator.getBattery){const p=yield navigator.getBattery();_.battery=p,_.battery&&(_.isSupported=!0,_.updateBatteryState(),_.registerListeners())}else _.isSupported=!1}catch{_.isSupported=!1}finally{_.isInitialized=!0}}),this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,s.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}i(d,"HuddleBatteryManager");const o=(0,r.A)(()=>new d),a={getHuddleBatteryManager:o,HuddleBatteryManager:d},l=o},6664301844:(Q,C,e)=>{"use strict";e.d(C,{$H:()=>Ee,$b:()=>A,$s:()=>ae,E9:()=>f,Es:()=>l,I8:()=>u,KK:()=>z,Ll:()=>J,Ls:()=>re,QJ:()=>H,Q_:()=>Te,RM:()=>_e,VW:()=>ge,XL:()=>E,Xw:()=>a,ZT:()=>U,_R:()=>de,b9:()=>v,dQ:()=>m,gi:()=>M,i3:()=>b,j3:()=>we,jp:()=>L,jq:()=>Ie,kM:()=>Ue,mn:()=>h,of:()=>ye,px:()=>Be,uL:()=>p,vB:()=>K,w2:()=>Ae,wV:()=>fe,xY:()=>c,xc:()=>S,z2:()=>_,zF:()=>q,zg:()=>ue});var t=e(9706240641),n=e.n(t),s=e(7164668892),r=e.n(s),d=e(3305135794),o=e.n(d);let a=s.CheckAudioConnectivityFeedback,l=s.CheckAudioInputFeedback,m=s.CheckAudioOutputFeedback,c=s.CheckCameraResolutionFeedback,_=s.CheckContentShareConnectivityFeedback,p=s.CheckNetworkTCPConnectivityFeedback,u=s.CheckNetworkUDPConnectivityFeedback,h=s.CheckVideoConnectivityFeedback,E=s.CheckVideoInputFeedback,A=s.LogLevel,v=s.MeetingSessionStatusCode,f=s.TranscriptItemType,g=null;const y=null;let T=null;const M=s.AllHighestVideoBandwidthPolicy;let O,I=null,D=null;const P=s.DefaultDeviceController;let k;const R=s.DefaultMeetingReadinessChecker;let V;const B=s.DefaultMeetingSession;let W,L=s.DefaultModality,S=s.DefaultVideoTile,H=s.MeetingSessionConfiguration,w=null,F=null,j=null,J=s.PermissionDeniedError,X=null,q=s.Versioning,G=null,ne=null,te=null,le=null,he=null,fe=s.VoiceFocusDeviceTransformer,ve=null,me=s.DefaultVideoTransformDevice,oe=s.BackgroundBlurVideoFrameProcessor,N=null,K=s.CSPMonitor;const x=null;let b=s.VideoFxProcessor,z=s.VideoCodecCapability,$=!1,Z=!1;function U(De){return ee.apply(this,arguments)}i(U,"setUseExpSDK");function ee(){return ee=(0,t.coroutine)(function*(De){if($=De,!$||Z)return;const be=yield Promise.resolve().then(e.t.bind(e,3305135794,23));a=be.CheckAudioConnectivityFeedback,l=be.CheckAudioInputFeedback,m=be.CheckAudioOutputFeedback,c=be.CheckCameraResolutionFeedback,_=be.CheckContentShareConnectivityFeedback,p=be.CheckNetworkTCPConnectivityFeedback,u=be.CheckNetworkUDPConnectivityFeedback,h=be.CheckVideoConnectivityFeedback,E=be.CheckVideoInputFeedback,T=be.ClientVideoStreamReceivingReport,I=be.ConnectionHealthData,D=be.DataMessage,k=be.DefaultDeviceController,V=be.DefaultMeetingReadinessChecker,W=be.DefaultMeetingSession,L=be.DefaultModality,S=be.DefaultVideoTile,A=be.LogLevel,H=be.MeetingSessionConfiguration,w=be.MeetingSessionStatus,v=be.MeetingSessionStatusCode,F=be.MeetingSessionVideoAvailability,j=be.MutableVideoPreferences,J=be.PermissionDeniedError,X=be.TargetDisplaySize,f=be.TranscriptItemType,g=be.TranscriptionStatusType,q=be.Versioning,G=be.VideoPreference,ne=be.VideoPreferences,te=be.VideoPriorityBasedPolicy,le=be.VideoPriorityBasedPolicyConfig,he=be.VideoTileState,O=be.AudioProfile,fe=be.VoiceFocusDeviceTransformer,ve=be.DefaultBrowserBehavior,me=be.DefaultVideoTransformDevice,oe=be.BackgroundBlurVideoFrameProcessor,N=be.BackgroundReplacementVideoFrameProcessor,K=be.CSPMonitor,b=be.VideoFxProcessor,z=be.VideoCodecCapability,Z=!0}),ee.apply(this,arguments)}i(ee,"_setUseExpSDK");function se(){return $}i(se,"isUsingExpSDK");function de(){return k||P}i(de,"getDefaultDeviceController");function ue(){return P}i(ue,"getDefaultDeviceControllerDefault");function _e(){return k}i(_e,"getDefaultDeviceControllerExp");function pe(){return V||R}i(pe,"getDefaultMeetingReadinessChecker");function ae(){return R}i(ae,"getDefaultMeetingReadinessCheckerDefault");function Ee(){return V}i(Ee,"getDefaultMeetingReadinessCheckerExp");function Le(){return W||B}i(Le,"getDefaultMeetingSession");function ye(){return B}i(ye,"getDefaultMeetingSessionDefault");function Te(){return W}i(Te,"getDefaultMeetingSessionExp");function Ae(){return fe}i(Ae,"getVoiceFocusDeviceTransformer");function Ie(){return me}i(Ie,"getDefaultVideoTransformDevice");function Ue(){return oe}i(Ue,"getBackgroundBlurVideoFrameProcessor");function Be(){return d.BackgroundReplacementVideoFrameProcessor}i(Be,"getBackgroundReplacementVideoFrameProcessor");function we(){return s.AudioProfile}i(we,"getAudioProfileDefault");function re(){return O}i(re,"getAudioProfileExp");function ge(De){return!!De.type}i(ge,"isTranscriptEventTranscriptionStatus")},252549317:(Q,C,e)=>{"use strict";e.d(C,{LD:()=>o,MS:()=>a,Vd:()=>m,k0:()=>l});var t=e(8571983633),n=e(571104883),s=e(9042410435);const r="4.30.79",d=[s.R.DesktopScreen,s.R.DesktopWindow];function o(){return!!(0,n.dY)(r)}i(o,"isWindowDrawingSupported");function a(c){return(0,t.A)(c)?s.f.None:c.startsWith("screen:")?s.f.Screen:c.startsWith("window:")?s.f.Window:s.f.Other}i(a,"determineContentShareTypeFromSourceId");function l(c){if(!(0,n.y3)())return s.R.BrowserContent;const _=a(c);if((0,n.y3)())switch(_){case s.f.Screen:return s.R.DesktopScreen;case s.f.Window:return s.R.DesktopWindow;default:return s.R.DesktopUnknown}return s.R.Unknown}i(l,"determineFullContentShareSourceType");function m(c){return d.includes(c)}i(m,"doesContentShareTypeSupportDrawing")},9042410435:(Q,C,e)=>{"use strict";e.d(C,{R:()=>n,f:()=>t});var t;(function(s){s.Screen="screen",s.Window="window",s.Other="other",s.None="none"})(t||(t={}));var n;(function(s){s.DesktopScreen="desktop:screen",s.DesktopWindow="desktop:window",s.DesktopUnknown="desktop:unknown",s.BrowserContent="browser:content",s.MobileScreen="mobile:screen",s.Unknown="unknown"})(n||(n={}))},416787925:(Q,C,e)=>{"use strict";e.d(C,{Bm:()=>m,LL:()=>a,On:()=>h,Zy:()=>o,dx:()=>d,my:()=>l,tk:()=>_});var t=e(2208015175),n=e(7174777686),s=e(8736071954),r=e(336376314);const d="default",o="communications",a=[s.lW.Microphone,s.lW.Camera,s.Q4];function l(E,A){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;(0,t.A)(A,(f,g)=>{if(!(0,n.A)(v,g))return;if(!f.length){E.warn(`No ${g} devices available`);return}const y=new r.M(["id","label"]);f.forEach(T=>{y.add([T.id,T.label].map(String))}),E.info(`${g} devices:
${y.report()}`)})}i(l,"logDevices");function m(){return{camera:[],microphone:[],output:[]}}i(m,"createEmptyDevices");const c={audioinput:s.lW.Microphone,videoinput:s.lW.Camera,audiooutput:s.Q4};function _(E){const A=c[E.kind],v={id:E.deviceId,label:E.label||void 0,groupId:E.groupId||void 0};return p(A)?{...v,type:A}:{...v,type:A}}i(_,"makeDevice");function p(E){return E!==s.Q4}i(p,"isInputDeviceType");function u(E){return p(E.type)}i(u,"isInputDevice");function h(E){return E.replace(/ *?\([^)]*?\) *?/g,"")}i(h,"removeDeviceIdFromDeviceLabel")},1473609332:(Q,C,e)=>{"use strict";e.d(C,{t3:()=>a,Bh:()=>p,i4:()=>E});var t=e(9706240641),n=e(4103274853);function s(){return"0.1"}i(s,"getDevicePrefsVersion");var r=e(416787925),d=e(2825968873);const o="devicePrefs";function a(f){return(0,n.A)(f,g=>g[0])}i(a,"getPreferredDevices");function l(){return{camera:[],microphone:[r.dx,r.Zy],output:[r.dx,r.Zy]}}i(l,"createDefaultDevicePriority");function m(){return{camera:[],microphone:[],output:[]}}i(m,"createDefaultDeviceExtendedPriority");function c(){return{enableAGC:!0,enableNoiseSuppression:!0}}i(c,"createDefaultAudioPrefs");function _(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}i(_,"createDefaultVideoPrefs");function p(){const f=localStorage.getItem(o),g={version:s(),deviceIdPriorities:l(),deviceIdPrioritiesExtended:m(),video:_(),audio:c()};if(!f)return g;try{const y=JSON.parse(f);return y.version!==s()?g:{...g,...y}}catch(y){return(0,d.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",y.message),g}}i(p,"readDevicePrefs");function u(f){return h.apply(this,arguments)}i(u,"updateDeviceIdPrioritiesExtended");function h(){return h=(0,t.coroutine)(function*(f){const g={},y=yield navigator.mediaDevices.enumerateDevices();for(const T of Object.keys(f)){const M=[],O=T;for(let I=0;I<f[O].length;I++){const D=f[O][I],P=y.find(k=>k.deviceId===D);P&&M.push({id:P.deviceId,groupId:P.groupId,label:P.label,labelWithoutId:(0,r.On)(P.label)})}g[T]=M}return g}),h.apply(this,arguments)}i(h,"_updateDeviceIdPrioritiesExtended");function E(f){return A.apply(this,arguments)}i(E,"writeDevicePrefs");function A(){return A=(0,t.coroutine)(function*(f){try{const g=yield u(f.deviceIdPriorities),y={...f,deviceIdPrioritiesExtended:g};localStorage.setItem(o,JSON.stringify(y))}catch(g){(0,d.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",g.message)}}),A.apply(this,arguments)}i(A,"_writeDevicePrefs");function v(f,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const T=zipObject(g,range(g.length)),M=zipObject(y.map(O=>O.labelWithoutId),range(y.length));return sortBy(f,O=>{const I=removeDeviceIdFromDeviceLabel(O.label);return isUndefined(T[O.deviceId])?isUndefined(M[I])?1/0:M[I]:T[O.deviceId]})}i(v,"sortDevicesByPriorityWithFallback")},8736071954:(Q,C,e)=>{"use strict";e.d(C,{Q4:()=>t,eJ:()=>n,lW:()=>r,uT:()=>s});const t="output";var n;(function(d){d.Denied="denied",d.Granted="granted",d.NotDetermined="not-determined",d.Prompt="prompt",d.Unknown="unknown"})(n||(n={}));var s;(function(d){d.NONE="none",d.Blur="blur",d.Both="both"})(s||(s={}));var r;(function(d){d.Camera="camera",d.Microphone="microphone"})(r||(r={}))},9195837907:(Q,C,e)=>{"use strict";e.d(C,{t:()=>t});var t;(function(n){n.Blur="blur",n.Background="bg"})(t||(t={}))},7149946954:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>D});var t=e(9706240641),n=e(8736071954),s=e(4518410378),r=e(5387083734),d=e(462591818),o=e(571104883),a=e(796111729),l;(function(P){P.Granted="granted",P.Denied="denied",P.Prompt="prompt",P.NotDetermined="not-determined",P.Restricted="restricted",P.Unknown="unknown"})(l||(l={}));var m;(function(P){P.CAMERA="camera",P.MICROPHONE="microphone",P.SCREEN="display-capture"})(m||(m={}));const c={[d.mT.MICROPHONE]:m.MICROPHONE,[d.mT.CAMERA]:m.CAMERA,[d.mT.SCREEN]:m.SCREEN},_={[d.mT.MICROPHONE]:null,[d.mT.CAMERA]:null,[d.mT.SCREEN]:null},p=i(()=>({..._}),"getInitialPermissionsState");var u=e(6998663753),h=e(6422693406);let E=i(class{constructor(k){this.config=k,this.canAccessMediaResource=W=>{const L=this.wasPermissionGranted(W);return this.logger.info(`${W} permissions granted: ${L}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[W]}};var R=this;this.requestMediaAccess=function(){var W=(0,t.coroutine)(function*(L){return R.updatePermissionsState(L,R.getDefaultAccessResult().status),R.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),h.S.resolve({isAvailable:R.config.isElectronApiAvailable,isGranted:!0})});return function(L){return W.apply(this,arguments)}}();var V=this;this.refreshAllPermissions=(0,t.coroutine)(function*(){try{yield V.refreshDevicePermissionStatus(d.mT.MICROPHONE),yield V.refreshDevicePermissionStatus(d.mT.CAMERA),yield V.refreshDevicePermissionStatus(d.mT.SCREEN)}catch(W){V.logger.warn("An error occurred while refreshing device permissions",W)}});var B=this;this.refreshDevicePermissionStatus=function(){var W=(0,t.coroutine)(function*(L){B.updatePermissionsState(L,B.getDefaultAccessResult().status)});return function(L){return W.apply(this,arguments)}}(),this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:n.eJ.Granted}),this.updatePermissionsState=(W,L)=>{this.permissions[W]!==L&&(this.logger.info(`permission state for ${W} changed to ${L}`),this.permissions[W]=L,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=W=>{let L=!1;return this.permissions[W]&&(L=this.permissions[W]===n.eJ.Granted),L},this.hasNoKnownPermissions=W=>this.permissions[W]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var A=e(3245843483);let v=i(class extends E{constructor(k){super(k);var R=this;this.refreshDevicePermissionStatus=function(){var B=(0,t.coroutine)(function*(W){const{status:L}=yield(0,A.XBC)(W);R.logger.info(`Received ${W} access status for desktop app: ${L}`),R.updatePermissionsState(W,L)});return function(W){return B.apply(this,arguments)}}();var V=this;this.requestMediaAccess=function(){var B=(0,t.coroutine)(function*(W){const{isAvailable:L,isGranted:S}=yield(0,A.Nin)(W);return V.updatePermissionsState(W,S?n.eJ.Granted:n.eJ.Denied),{isAvailable:L,isGranted:!!S}});return function(W){return B.apply(this,arguments)}}()}},"DesktopDevicePermissions"),f=i(class extends E{constructor(k){super(k);var R=this;this.refreshDevicePermissionStatus=function(){var V=(0,t.coroutine)(function*(B){if(B===d.mT.SCREEN)return;const W=B===d.mT.MICROPHONE?"audioinput":"videoinput";try{const S=(yield navigator.mediaDevices.enumerateDevices()).filter(w=>w.kind===W),H=S.length>0&&S.some(w=>w.label.trim()!=="");R.updatePermissionsState(B,H?n.eJ.Granted:n.eJ.NotDetermined)}catch{R.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),R.updatePermissionsState(B,n.eJ.NotDetermined)}});return function(B){return V.apply(this,arguments)}}()}},"FirefoxDevicePermissions"),g=i(class extends E{constructor(...k){super(...k),this.changeHandlers=p();var R=this;this.refreshDevicePermissionStatus=function(){var V=(0,t.coroutine)(function*(B){const W=yield navigator.permissions.query({name:c[B]});R.updatePermissionsState(B,W.state),R.logger.info(`Received ${B} access status for browser: ${R.permissions[B]}`),R.maybeRegisterPermissionChangeListener(B,W)});return function(B){return V.apply(this,arguments)}}(),this.maybeRegisterPermissionChangeListener=(V,B)=>{if(!this.changeHandlers[V]){const W=i(()=>this.onPermissionChangeEvent(V,B==null?void 0:B.state),"handler");B.addEventListener("change",W),this.changeHandlers[V]=W}},this.onPermissionChangeEvent=(V,B)=>{this.updatePermissionsState(V,B)}}},"BrowserDevicePermissions");var y=e(6673728906);const T="device-permissions-state",M=7*24*60*60*1e3,O=5*1e3;class I{isPersistedStateTrustworthy(k){return!(!k||Date.now()-k>M)}savePermissionsToLocalStorage(k){try{const R={permissions:k,timestamp:Date.now()},V=JSON.stringify(R);localStorage.setItem(T,V),this.logger.info(`Permissions saved to local storage: ${V}`)}catch(R){this.logger.error("Error saving permissions to local storage",R)}}readPermissionsFromLocalStorage(){try{const k=localStorage.getItem(T);if(k){this.logger.info(`Permissions loaded from local storage ${k}`);const R=JSON.parse(k);return this.isPersistedStateTrustworthy(R==null?void 0:R.timestamp)?R.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(k){this.logger.error("Error reading permissions from local storage",k)}return null}constructor(){this.isSSB=(0,o.y3)(),this.logger=(0,a.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1;var k=this;this.init=(0,u.A)((0,t.coroutine)(function*(){k.logger.info("Initializing media device permissions manager"),k.initialized=!0,k.permissionsStrategy=k.getStrategy(),setTimeout(k.refreshAllPermissions,O),k.logger.info("Scheduled permissions refresh")})),this.canAccessMediaResource=W=>{var L,S;return!((L=this.permissionsStrategy)===null||L===void 0)&&L.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(W):{isAvailable:!!(!((S=this.config)===null||S===void 0)&&S.isElectronApiAvailable),status:n.eJ.Granted}};var R=this;this.requestMediaAccess=function(){var W=(0,t.coroutine)(function*(L){var S;return!((S=R.config)===null||S===void 0)&&S.isElectronApiAvailable?R.permissionsStrategy.requestMediaAccess(L):(R.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})});return function(L){return W.apply(this,arguments)}}(),this.getStrategy=()=>{const W={initialState:this.readPermissionsFromLocalStorage()||p(),isElectronApiAvailable:this.isSSB,onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=W,(0,o.y3)()?(this.logger.info("Using desktop device permissions strategy"),new v(W)):(0,o.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new f(W)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new g(W)):(this.logger.info("Using default device permissions strategy"),new E(W))},this.onPermissionsChange=W=>{this.logger.info("Permissions changed",W),(0,y.pq)(),this.savePermissionsToLocalStorage(W)};var V=this;this.refreshAllPermissions=(0,t.coroutine)(function*(){V.logger.info("Refreshing all permissions");try{yield navigator.mediaDevices.enumerateDevices(),yield V.refreshPermissions(d.mT.MICROPHONE),yield V.refreshPermissions(d.mT.CAMERA),yield V.refreshPermissions(d.mT.SCREEN)}catch(W){V.logger.warn("An error occurred while refreshing device permissions",W)}});var B=this;this.refreshPermissions=function(){var W=(0,t.coroutine)(function*(L){return B.logger.debug(`Refreshing ${L} permissions`),(0,r.IE)("media-access-update",(0,t.coroutine)(function*(){return B.permissionsStrategy.refreshDevicePermissionStatus(L)})).catch(S=>{B.logger.warn(`An error occurred while trying to check ${L} permissions`,S)})});return function(L){return W.apply(this,arguments)}}(),this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,o.gm)()&&"permissions"in s.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(p())}}}i(I,"DevicePermissionsManager");const D=new I},6673728906:(Q,C,e)=>{"use strict";e.d(C,{_o:()=>Ee,Nj:()=>pe,T5:()=>de,Zy:()=>U,G0:()=>Le,pq:()=>ue,cT:()=>se,i_:()=>ee,es:()=>ae});var t=e(9706240641),n=e(8736071954),s;(function(ye){ye.Microphone="audioinput",ye.Camera="videoinput",ye.Speakers="audiooutput"})(s||(s={}));const r=i(ye=>({[n.lW.Microphone]:s.Microphone,[n.lW.Camera]:s.Camera,[n.Q4]:s.Speakers})[ye],"adapter_mapDeviceTypeToDeviceKind"),d=i(ye=>({[s.Microphone]:n.lW.Microphone,[s.Camera]:n.lW.Camera,[s.Speakers]:n.Q4})[ye],"mapDeviceKindToDeviceType"),o=i(ye=>{const Te=d(ye.kind);return Te===n.Q4?{id:ye.deviceId,label:ye.label,groupId:ye.groupId,type:n.Q4}:{id:ye.deviceId,label:ye.label,groupId:ye.groupId,type:Te,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var a=e(4423055085),l=e(4518410378),m=e(9113979368),c=e(9268023148),_=e(2208015175),p=e(235108050),u=e(8289365785),h=e(4103274853),E=e(796111729);const v=(0,E.Wo)({label:"DEVICE-PREFS"});var f=e(571104883),g=e(3078252698);const y=["ZoomAudioDevice (Virtual)"],O=["default","communications"],I=i(ye=>O.includes(ye),"isOSDefaultDeviceId"),D=i((ye,Te)=>{if(I(ye.deviceId))return!1;const Ae=Te.find(Ie=>I(Ie.deviceId)&&Ie.kind===ye.kind);return(Ae==null?void 0:Ae.groupId)===ye.groupId&&(Ae==null?void 0:Ae.label.includes(ye.label))},"isOSDefaultDeviceForType"),P=i(ye=>{const Te=/iphone/,Ae=ye.label;if(!(0,g.A)(Ae))return!1;const Ie=(0,f.cX)()&&Ae&&Te.test(Ae.toLowerCase()),Ue=(Ae==null?void 0:Ae.toLowerCase().includes("display audio"))||Ae.toLowerCase().includes("displayport");return Ie||Ue},"shouldDeprioritizeDevice"),k=i(ye=>!ye.label||y.includes(ye.label),"shouldRemoveDevice"),R=i(ye=>ye&&ye.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),V=i(ye=>ye.filter(Te=>Te.label).map(Te=>({deviceId:Te.deviceId,kind:Te.kind,label:R(Te.label)||"",groupId:Te.groupId})),"scrubAvailableDevices"),B=i((ye,Te)=>`${ye}-${Te}`,"generateDeviceKey");var W=e(6696292586),L=e(6313685253),S=e(8086952004);const H="version",w=4,F={1:ye=>ye,2:ye=>(0,h.A)(ye,Te=>{if((0,W.A)(Te))return Te;const Ae={...Te},Ie=R(Te.deviceLabel);return Ie&&Ie!==Te.deviceLabel&&(Ae.deviceLabel=Ie),Ae}),3:ye=>(0,L.A)(ye,(Te,Ae,Ie)=>{if(!I(Ie)&&Ie!==H){const Ue=(0,S.A)(ye,(Be,we)=>I(we)&&Be.deviceInfo.kind===Ae.deviceInfo.kind&&Be.deviceInfo.groupId===Ae.deviceInfo.groupId&&Be.deviceInfo.label.includes(Ae.deviceInfo.label));Ue&&((!Ae.used&&Ue.used||Ae.used&&Ue.used&&Ae.used<Ue.used)&&(Ae.used=Ue.used),(!Ae.selected&&Ue.selected||Ae.selected&&Ue.selected&&Ae.selected<Ue.selected)&&(Ae.selected=Ue.selected)),Te[Ie]=Ae}return Te},{}),4:ye=>(0,L.A)(ye,(Te,Ae,Ie)=>{if((0,W.A)(Ae))Te[Ie]=Ae;else{const{deviceId:Ue,kind:Be}=Ae.deviceInfo,we=B(Ue,Be);Te[we]=Ae}return Te},{})},j=i(ye=>ye[H]!==w,"isMigrationNeeded"),J=i(ye=>{if(!F[w])throw new Error(`No migration found for version ${w}`);const Te=ye[H]||0;if(Te===w)return ye;let Ae={...ye};for(let Ie=Te;Ie<w;Ie++){const Ue=Ie+1,Be=F[Ue];Ae=Be(Ae),Ae[H]=Ue}return Ae},"maybeMigrateDeviceHistory");var X=e(1649982175);const q="device-selection-records",G=v,ne=i(()=>{let ye;try{const Te=localStorage.getItem(q);Te?(ye=JSON.parse(Te),j(ye)?(G.debug(`Migration needed for device selection history from ${ye[H]} to ${w}`),ye=J(ye)):G.debug("No migration needed for device selection history")):ye=void 0}catch(Te){G.error("Failed to read device selection history from local storage",Te),ye=void 0}return G.debug("Reading device selection history from local storage",ye),ye?(0,X.A)(ye,H):void 0},"readSelectionHistoryFromLocalStorage"),te=i(ye=>{if(ye){G.debug("Writing device selection history to local storage",ye);try{const Te={...ye,[H]:w};localStorage.setItem(q,JSON.stringify(Te))}catch(Te){G.error("Failed to write device selection history to local storage",Te)}}},"saveDeviceSelectionRecordsToLocalStorage");var le=e(700984029),he=e(4250409994),fe=e(6533394955),ve=e(3783723764),me=e(6217320234);class oe{hasRecordForDevice(Te){return!!this.getRecord(Te)}getFormattedLabelForRecord(Te){const Ae=this.getRecord(Te);return Ae==null?void 0:Ae.deviceLabel}wasDeviceSelected(Te){const Ae=this.getRecord(Te);return!!(Ae!=null&&Ae.selected)}wasDeviceUsed(Te){const Ae=this.getRecord(Te);return!!(Ae!=null&&Ae.used)}createRecord(Te){const Ae=this.createEmptyDeviceSelectionRecord(Te);if(Ae.deviceLabel){const Ie=this.findExistingRecordByLabel(Te,Ae.deviceLabel);if(Ie){v.info(`Matching device record found for label: ${Ie.deviceLabel} ${Ie.deviceInfo.deviceId}`),this.removeRecord(Ie.deviceInfo),this.setRecord(Te,{...Ie,deviceInfo:Te});return}}this.setRecord(Te,Ae)}updateDeviceUsed(Te){const Ae=this.getRecord(Te);Ae&&(v.info(`Removing device selection record for used device ${Te.deviceId}`),this.setRecord(Te,{...Ae,used:Date.now()}))}updateDeviceSelected(Te){const Ae=this.getRecord(Te);Ae&&(v.info(`Updating device selection record for selected device ${Te.deviceId}`),this.setRecord(Te,{...Ae,selected:Date.now()}))}updateDeviceLabel(Te){this.getRecord(Te)&&v.info(`Updating device selection record for label ${Te.label} ${Te.deviceId}`)}updateDeviceInfo(Te){const Ae=this.getRecord(Te);Ae&&(v.debug(`Updating device selection record for device info ${Te.label} ${Te.deviceId}`),this.setRecord(Te,{...Ae,deviceLabel:Te.label,deviceInfo:Te}))}persistToLocalStorage(){v.info("Persisting device selection records to local storage"),te(this.records)}initFromLocalStorage(){this.records=ne()||{},v.info("Initializing device preferences manager from local storage")}setRecord(Te,Ae){const{deviceId:Ie,kind:Ue}=Te,Be=B(Ie,Ue);v.debug(`Setting device selection record for ${Be}`,Ae),this.records[Be]=Ae}getRecord(Te){let{deviceId:Ae,kind:Ie}=Te;const Ue=B(Ae,Ie);return this.records[Ue]}removeRecord(Te){const{deviceId:Ae,kind:Ie}=Te,Ue=B(Ae,Ie);v.info(`Removing device selection record for ${Ue}`),delete this.records[Ue]}findExistingRecordByLabel(Te,Ae){return Object.values(this.records).find(Ue=>Ue.deviceLabel===Ae&&Ue.deviceInfo.kind===Te.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=Te=>{const Ae=this.getRecord(Te);if(Ae)return{...Ae.deviceInfo}},this.sortDevicesByLastSelection=Te=>(0,ve.A)(Te,Ae=>{var Ie;return(Ie=this.records[B(Ae.deviceId,Ae.kind)])===null||Ie===void 0?void 0:Ie.selected},"desc"),this.sortDevicesByLastUsed=Te=>(0,ve.A)(Te,Ae=>{var Ie;return(Ie=this.records[B(Ae.deviceId,Ae.kind)])===null||Ie===void 0?void 0:Ie.used},"desc"),this.sortDevicesByLabel=Te=>(0,me.A)(Te,Ae=>Ae.label),this.printRecords=()=>{v.info("Device selection records:",this.records)},this.createEmptyDeviceSelectionRecord=Te=>({deviceInfo:Te,deviceLabel:Te.label,selected:null,used:null})}}i(oe,"DeviceSelectionRecordsStore");let N;const K=i(()=>(N||(N=new oe),N),"getDeviceSelectionRecordStore");class x{constructor(){this.logger=v,this.deviceSelectionRecords=K(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[s.Microphone]:!1,[s.Camera]:!1,[s.Speakers]:!1},this.osDefaultDevices={[s.Microphone]:null,[s.Camera]:null,[s.Speakers]:null},this.prioritizedDeviceLists={[s.Microphone]:[],[s.Camera]:[],[s.Speakers]:[]};var Te=this;this.init=function(){var we=(0,t.coroutine)(function*(re){let{teamId:ge,useDevicesExp:De}=re;if(Te.deviceSelectionRecords.init(),ge!==Te.currentTeamId){Te.useDevicesExp=De,Te.useDevicesExp&&Te.logger.info("Initializing device preferences manager with experimental features"),Te.currentTeamId=ge,Te.dispatch=(0,fe.getStoreInstanceByTeamId)(ge).dispatch;try{yield Te.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",Te.handleDeviceListChange)}catch(be){Te.logger.error("Error initializing device preferences manager",be)}}});return function(re){return we.apply(this,arguments)}}();var Ae=this;this.refreshAvailableDevices=(0,t.coroutine)(function*(){yield Ae.updateAvailableDevices()}),this.getPreferredDeviceOfType=we=>this.getPrioritizedDeviceListOfType(we)[0],this.getPrioritizedDeviceListOfType=we=>this.prioritizedDeviceLists[we],this.recordDeviceSelected=(we,re)=>{try{const{deviceId:ge,deviceLabel:De}=this.lookupDeviceDetailsById(we,re);if(!ge){this.logger.warn("Device record not found for selected device id",we);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:ge,kind:re})){this.logger.warn("No device selection record found for device id",ge);return}this.logger.info(`Reporting ${re} device selected, label: ${De}, id: ${ge}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:ge,kind:re}),this.propagateUpdateToExternalStores()}catch(ge){this.logger.error("Error reporting device selected",ge)}},this.recordDeviceUsed=(we,re)=>{try{const{deviceId:ge,deviceLabel:De}=this.lookupDeviceDetailsById(we,re);if(!ge){this.logger.warn("Device record not found for used device id",we);return}this.logger.info(`Reporting ${re} device used, label: ${De}, id: ${ge}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:ge,kind:re}),this.propagateUpdateToExternalStores()}catch(ge){this.logger.error("Error reporting device used",ge)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{te({})},this.lookupDeviceDetailsById=(we,re)=>{(0,m.A)(this.prioritizedDeviceLists[re])&&this.updateAvailableDevices();const ge={deviceId:null,deviceLabel:null},De=I(we)?this.osDefaultDevices[re]:we;if(De&&I(De)&&this.logger.warn(`OS default device id (${we}) used for details. This should not happen`),!De)return this.logger.warn("Device record not found for device id",De),ge;ge.deviceId=De;const be=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:De,kind:re}),xe=R(be);return xe?(ge.deviceLabel=xe,ge):(this.logger.warn("Device record not found for device id",De),ge)};var Ie=this;this.updateAvailableDevices=(0,t.coroutine)(function*(){if(Ie.updatingAvailableDevicesPromise)return Ie.logger.info("Available devices update already in progress. Returning existing promise."),Ie.updatingAvailableDevicesPromise;const we=function(){var re=(0,t.coroutine)(function*(ge){try{Ie.logger.info("Updating available devices");const De=yield l.J.navigator.mediaDevices.enumerateDevices();Ie.logger.info(`Available devices ${JSON.stringify(De,null,2)}`),Ie.availableDevices=V(De),Ie.updateDeviceRecords(Ie.availableDevices),Ie.logger.info("Updated device records after device list update. Propagating update"),Ie.propagateUpdateToExternalStores(),ge()}catch(De){Ie.logger.error("Error updating available devices",De),ge()}finally{Ie.updatingAvailableDevicesPromise=null}});return i(function(De){return re.apply(this,arguments)},"updateFn")}();return Ie.updatingAvailableDevicesPromise=new Promise(we),Ie.updatingAvailableDevicesPromise});var Ue=this;this.waitForDeviceListUpdate=(0,t.coroutine)(function*(){yield Ue.updateAvailableDevices()}),this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(s.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[s.Microphone]),this.updatePrioritizedDeviceListOfType(s.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[s.Camera]),this.updatePrioritizedDeviceListOfType(s.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[s.Speakers])};var Be=this;this.handleDeviceListChange=(0,c.A)((0,t.coroutine)(function*(){try{Be.logger.info(`Device list change event received at ${Date.now()}`),yield Be.updateAvailableDevices()}catch(we){Be.logger.error("Error handling device list change event",we)}}),1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateDeviceRecords=we=>{(0,_.A)(we,re=>{if(!re.deviceId||I(re.deviceId))return;const ge=this.deviceSelectionRecords.hasRecordForDevice(re),De=this.deviceSelectionRecords.getFormattedLabelForRecord(re),be=this.deviceSelectionRecords.getDeviceInfoForRecord(re);if(ge&&be&&be.kind!==re.kind){this.logger.warn(`device id collision between ${be.kind} device (${be.label}) and ${re.kind} device (${re.label})`);return}if(ge&&re.label&&De!==re.label&&(this.deviceSelectionRecords.updateDeviceInfo(re),this.logger.info(`Device label updated from ${De} to ${re.label}`)),ge?(this.logger.debug(`Device history record found for ${re.label} ${re.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(re)):(this.logger.info(`Creating new device history record for ${re.label} ${re.deviceId}`),this.deviceSelectionRecords.createRecord(re)),D(re,we)&&this.osDefaultDevices[re.kind]!==re.deviceId){var Re;const Ge=((Re=this.getPreferredDeviceOfType(re.kind))===null||Re===void 0?void 0:Re.deviceId)===this.osDefaultDevices[re.kind];this.osDefaultDevices[re.kind]=re.deviceId,this.logger.info(`OS default device updated for ${re.kind}: ${re.label} ${re.deviceId}`),Ge&&(this.logger.info(`Preferred ${re.kind} OS default has changed to: ${re.label} ${re.deviceId}. Recording as selected.`),this.recordDeviceSelected(re.deviceId,re.kind))}})},this.updatePrioritizedDeviceListOfType=we=>{var re,ge;let De=null;const be=[],xe=[],Re=[],je=[];this.availableDevices.forEach(rt=>{const it=rt.deviceId===this.osDefaultDevices[rt.kind];if(rt.kind!==we||I(rt.deviceId))return;const lt=this.deviceSelectionRecords.getDeviceInfoForRecord(rt);if(!lt){this.logger.error("No selection record found for device",rt);return}if(!k(lt)){if(this.deviceSelectionRecords.wasDeviceSelected(lt)){be.push(lt);return}if(this.deviceSelectionRecords.wasDeviceUsed(lt)){xe.push(lt);return}if(P(lt)){Re.push(lt);return}if(it){De=lt;return}je.push(lt)}});const Ge=[];Ge.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(be)),Ge.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(xe)),Ge.push(De),Ge.push(...this.deviceSelectionRecords.sortDevicesByLabel(je)),Ge.push(...Re);const Qe=(0,p.A)(Ge).filter(Boolean),Xe=(re=(0,u.A)(Qe))===null||re===void 0?void 0:re.deviceId;return Xe&&Xe!==((ge=this.prioritizedDeviceLists[we][0])===null||ge===void 0?void 0:ge.deviceId)&&(this.enqueuedPreferenceUpdates[we]=!0),Qe&&(this.prioritizedDeviceLists[we]=Qe),Qe},this.updateDevicesInHuddle=()=>{const we=i(re=>{var ge;const De=(ge=this.getPreferredDeviceOfType(re))===null||ge===void 0?void 0:ge.deviceId;!De||!this.enqueuedPreferenceUpdates[re]||(this.enqueuedPreferenceUpdates[re]=!1,(0,fe.dispatchForClientStore)((0,he.HC)({id:De,type:d(re)})),this.logger.info(`Setting preferred ${re} device in huddle`,De))},"maybeApplyPreference");we(s.Microphone),we(s.Speakers),we(s.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,le.Fb)(void 0)),this.updateDevicesInHuddle()}}}i(x,"DevicePreferencesManager");const b=new x,z={printDeviceSelectionRecords:()=>{const ye=K().getAllRecordsForTesting(),Te=(0,h.A)(ye,Ae=>{var Ie;return{deviceId:Ae.deviceInfo.deviceId,label:Ae.deviceLabel,type:Ae.deviceInfo.kind,"is preferred":((Ie=b.getPreferredDeviceOfType(Ae.deviceInfo.kind))===null||Ie===void 0?void 0:Ie.deviceId)===Ae.deviceInfo.deviceId,"last selected":Ae.selected?Ae.selected.toString():"Never selected","last used":Ae.used?Ae.used.toString():"Never used","is available":!!b.getPrioritizedDeviceListOfType(Ae.deviceInfo.kind).find(Ue=>Ue.deviceId===Ae.deviceInfo.deviceId),"is OS default":Ae.deviceInfo.deviceId===b.getOSDefaults()[Ae.deviceInfo.kind],groupId:Ae.deviceInfo.groupId}});console.log("Device selection records"),console.table(Te)},printPreferredMicrophone:()=>{const ye=b.getPreferredDeviceOfType(s.Microphone);console.log("Preferred microphone",ye)},printPreferredCamera:()=>{const ye=b.getPreferredDeviceOfType(s.Camera);console.log("Preferred camera",ye)},printPreferredSpeakers:()=>{const ye=b.getPreferredDeviceOfType(s.Speakers);console.log("Preferred speakers",ye)},printPrioritizedDeviceLists:()=>{const ye=(0,h.A)(b.getOSDefaults(),(Te,Ae)=>b.getPrioritizedDeviceListOfType(Ae));(0,_.A)(ye,(Te,Ae)=>{const Ie=Te.map(Ue=>({deviceId:Ue.deviceId,label:Ue.label,groupId:Ue.groupId}));console.log(`Prioritized list for ${Ae}`),console.table(Ie)})},printRawDeviceList:(0,t.coroutine)(function*(){const ye=yield l.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),ye.forEach(Te=>{console.log(Te)})}),printDebugInfo:()=>{z.printDeviceSelectionRecords(),z.printPrioritizedDeviceLists(),z.printPreferredMicrophone(),z.printPreferredCamera(),z.printPreferredSpeakers(),z.printRawDeviceList()},clearDeviceSelectionRecords:()=>{b.clearDeviceSelectionRecords(),l.J.location.reload()}};(0,a.ul)("devices",z);const $=b;let Z=null;const U=function(){var ye=(0,t.coroutine)(function*(Te){let{teamId:Ae,useDevicesExp:Ie}=Te;!Ae||Z===Ae||(Z=Ae,yield $.init({teamId:Ae,useDevicesExp:Ie}))});return i(function(Ae){return ye.apply(this,arguments)},"initializeDevicePreferences")}(),ee=i((ye,Te)=>{if(!Z)return;const Ae=r(Te);$.recordDeviceUsed(ye,Ae)},"reportDeviceUsed"),se=i((ye,Te)=>{if(!Z)return;const Ae=r(Te);$.recordDeviceSelected(ye,Ae)},"reportDeviceSelected"),de=i(()=>{if(!Z)return;const ye=$.getPrioritizedDeviceListOfType(s.Microphone)||[],Te=$.getPrioritizedDeviceListOfType(s.Camera)||[],Ae=$.getPrioritizedDeviceListOfType(s.Speakers)||[];return{[n.lW.Microphone]:ye.map(o),[n.lW.Camera]:Te.map(o),[n.Q4]:Ae.map(o)}},"getPrioritizedDeviceLists"),ue=function(){var ye=(0,t.coroutine)(function*(){Z&&(yield $.refreshAvailableDevices())});return i(function(){return ye.apply(this,arguments)},"refreshDeviceListsOnDevicePermissionsUpdate")}(),_e=i(ye=>{if(!Z)return;const Te=mapDeviceTypeToDeviceKind(ye);return devicePreferencesManager.getPrioritizedDeviceListOfType(Te).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),pe=i(ye=>{if(!Z)return;const Te=r(ye),Ae=$.getPreferredDeviceOfType(Te);if(Ae)return o(Ae)},"getPreferredDeviceOfType"),ae=function(){var ye=(0,t.coroutine)(function*(){Z&&(yield $.waitForDeviceListUpdate())});return i(function(){return ye.apply(this,arguments)},"waitForDeviceListUpdate")}(),Ee=i(()=>{var ye;return((ye=pe(n.Q4))===null||ye===void 0?void 0:ye.id)||"default"},"getPreferredAudioSinkId"),Le=i(()=>!!Z,"isDevicePreferencesManagerInitialized")},63202349:(Q,C,e)=>{"use strict";e.d(C,{k:()=>o});var t=e(6664301844),n=e(2825968873),s=e(6926388022),r=e(4423055085);const d={debug:0,info:1,warn:2,error:3,action:0};class o{debug(l){if(!(this.level>t.$b.DEBUG||!o.debugLogsEnabled))if(typeof l=="string"){const m=l;this.consoleLogger.debug(m)}else{const m=l();this.consoleLogger.debug(m)}}info(l){this.level>t.$b.INFO||this.consoleLogger.info(l)}warn(l){this.level>t.$b.WARN||this.consoleLogger.warn(l)}error(l){this.level>t.$b.ERROR||this.callLogger.error(l)}setLogLevel(l){this.level=l}getLogLevel(){return this.level}getName(){return this.name}constructor(l,m){this.name=l,this.level=m||d[(0,s.XM)()],this.consoleLogger=(0,n.Cc)(l),this.callLogger=(0,n.Jt)(l)}}i(o,"FreeWillyLogger"),o.debugLogsEnabled=!1,(0,r.ul)("toggleChimeDebugLogs",()=>{o.debugLogsEnabled=!o.debugLogsEnabled})},1930424451:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>vt});var t=e(9706240641),n=e(1649982175),s=e(3750057149),r=e(6664301844),d=e(5741354339),o=e(8445020572),a=e(2825968873),l=e(8736071954),m=e(7561130599),c=e(4708000837),_=e(462591818),p=e(9268023148),u=e(3078252698),h=e(2003990933),E=e(571104883),A=e(8872167513),v=e(2709531527),f=e(6246464105),g=e(9853754481);let y=i(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,g.n2)(this.data)/g.Ep}constructor(Y){this.analyserNode=Y,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var T=e(9009528296);const M=300;class O{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser(Y){this.previewAudioAnalyser=Y}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&T.A.subscriberCount>0&&T.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,M)},this.monitorAudioLevel()}}i(O,"AudioLevelMonitor");function I(Oe,Y){let{skipIntermediatePendingRuns:ce=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ce=!1,ke=[];const st=function(){var dt=(0,t.coroutine)(function*(){for(var Ze=arguments.length,Lt=new Array(Ze),Gt=0;Gt<Ze;Gt++)Lt[Gt]=arguments[Gt];if(Ce){ce&&(ke=[]);const wn=(0,d.u)();return ke.push({args:Lt,deferred:wn}),wn}Ce=!0;const ln=yield Y.call(Oe,...Lt);Ce=!1;const In=ke.shift();return In&&st(...In.args).then(In.deferred.resolve).catch(In.deferred.reject),ln});return i(function(){return dt.apply(this,arguments)},"run")}();return st}i(I,"serialGuard");var D=e(3496486794),P=e(6673728906);class k{initialize(Y){let{preferredDeviceId:ce}=Y;var Ce,ke,st,dt,Ze,Lt,Gt,ln,In,wn,Fn,Sn,jn,is;if(!(!((Ce=this.defaultDeviceController)===null||Ce===void 0||(ke=Ce.activeDevices)===null||ke===void 0||(st=ke.audio)===null||st===void 0||(dt=st.stream)===null||dt===void 0)&&dt.getAudioTracks))return;const gs=this.defaultDeviceController;if(!(!((Ze=this.defaultDeviceController)===null||Ze===void 0||(Lt=Ze.activeDevices)===null||Lt===void 0||(Gt=Lt.audio)===null||Gt===void 0||(ln=Gt.stream)===null||ln===void 0)&&ln.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const Ls=gs.activeDevices.audio.stream.getAudioTracks();if(Ls.length===1)this.audioInputTrack=Ls[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(In=this.audioInputTrack)===null||In===void 0||In.addEventListener("mute",this.onMute),(wn=this.audioInputTrack)===null||wn===void 0||wn.addEventListener("unmute",this.onUnmute),(Fn=this.audioInputTrack)===null||Fn===void 0||Fn.addEventListener("ended",this.onEnded),!((Sn=this.audioInputTrack)===null||Sn===void 0)&&Sn.muted?this.onMute():this.onUnmute();const us=(is=(jn=this.audioInputTrack)===null||jn===void 0?void 0:jn.getSettings())===null||is===void 0?void 0:is.deviceId;if(!us){this.logger.warn("No deviceId found for audio input track");return}us!==ce?this.logger.warn(`Used audio input track device id (${us}) does not match the preferred device id (${ce}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${ce})`),(0,P.cT)(us,l.lW.Microphone)}tearDown(){var Y,ce,Ce;(Y=this.audioInputTrack)===null||Y===void 0||Y.removeEventListener("mute",this.onMute),(ce=this.audioInputTrack)===null||ce===void 0||ce.removeEventListener("unmute",this.onUnmute),(Ce=this.audioInputTrack)===null||Ce===void 0||Ce.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(Y,ce,Ce){this.defaultDeviceController=Y,this.observer=ce,this.logger=Ce,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}i(k,"AudioInputTrackHandler");var R;(function(Oe){Oe.Blur="BLUR",Oe.Image="IMAGE",Oe.None="NONE"})(R||(R={}));class V{constructor({backgroundEffect:Y}){this.filterCPUUtilizationHigh=ce=>{const{cpuUtilization:Ce,filterMillis:ke,periodMillis:st}=ce;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${Ce} - spent ${ke}ms of last ${st}ms processing video background`)},this.filterFrameDurationHigh=ce=>{const{framesDropped:Ce,avgFilterDurationMillis:ke,framerate:st,periodMillis:dt}=ce;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${st}, frames dropped: ${Ce}, spent ${ke}ms of last ${dt}ms processing video background`)},this.callLogger=(0,a.Jt)(`VIDEO-BACKGROUND-${Y}`)}}i(V,"VideoBackgroundObserver");const B=V;var W=e(5071086688),L=e(5470425448),S=e(1473609332),H=e(9195837907),w=e(416787925),F=e(7149946954);class j{load(){var Y=this;return(0,t.coroutine)(function*(){if(Y.url.origin===window.location.origin)return new Worker(Y.url,Y.options);const Ce=yield(yield fetch(Y.url)).text(),ke=new Blob([Ce],{type:"application/javascript"}),st=URL.createObjectURL(ke);return new Worker(st,Y.options)})()}constructor(Y,ce){this.url=Y,this.options=ce}}i(j,"CORSWorker");class J{intrinsicDevice(){var Y=this;return(0,t.coroutine)(function*(){return Y.device})()}stop(){var Y=this;return(0,t.coroutine)(function*(){var ce;Y.generatorVideoTrack.stop(),(ce=Y.inputMediaStream)===null||ce===void 0||ce.getTracks().forEach(Ce=>Ce.stop()),(yield Y.worker).terminate()})()}onOutputStreamDisconnect(){if(this.generatorVideoTrack.stop(),!(this.device instanceof MediaStream)){var Y;(Y=this.inputMediaStream)===null||Y===void 0||Y.getTracks().forEach(ce=>ce.stop())}}transformStream(Y){var ce=this;return(0,t.coroutine)(function*(){if(ce.inputMediaStream=Y,Y){const Ce=new MediaStreamTrackProcessor({track:Y.getVideoTracks()[0]});(yield ce.worker).postMessage({type:"init",input:Ce.readable,output:ce.generatorVideoTrack.writable,width:Y.getVideoTracks()[0].getSettings().width,height:Y.getVideoTracks()[0].getSettings().height,bgImg:ce.bgImg},[Ce.readable,ce.generatorVideoTrack.writable,...ce.bgImg?[ce.bgImg]:[]])}return ce.outputMediaStream})()}constructor(Y,ce){this.device=Y,this.bgImg=ce,this.worker=new j(new URL(e.p+e.u("js_modern_app_free-willy_free-willy-sdk_filter-worker_background-worker_ts"),e.b)).load(),this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack])}}i(J,"BackgroundWorkerVideoTransformDevice");var X=e(5221945366),q;(function(Oe){Oe.START_PREVIEW="start-preview",Oe.STOP_PREVIEW="stop-preview",Oe.ENABLE="enable",Oe.DISABLE="disable"})(q||(q={}));const G=1e4,ne=30,te="medium",le=!0,he=50;let fe=i(class{shutdown(){var Y=this;return(0,t.coroutine)(function*(){var ce,Ce,ke;if(Y.isShuttingDown=!0,Y.voiceFocusDevice){var st;yield Y.voiceFocusDevice.stop(),yield(st=Y.voiceFocusManager)===null||st===void 0?void 0:st.tearDown(),Y.voiceFocusDevice=void 0}Y.audioVideoFacade.removeDeviceChangeObserver(Y),Y.audioVideoFacade.stopLocalVideoTile(),yield Y.audioVideoFacade.stopVideoInput(),yield Y.audioVideoFacade.stopAudioInput(),Y.audioVideoFacade.unbindAudioElement(),Y.removeAudioElementErrorHandler(),yield Y.clearVideoTransformDeviceRefs(),Y.audioInputDeviceRefreshTimer&&(clearTimeout(Y.audioInputDeviceRefreshTimer),Y.audioInputDeviceRefreshTimer=null),Y.videoInputDeviceRefreshTimer&&(clearTimeout(Y.videoInputDeviceRefreshTimer),Y.videoInputDeviceRefreshTimer=null),Y.cameraMetricsTimeout&&(clearTimeout(Y.cameraMetricsTimeout),Y.cameraMetricsTimeout=null),yield(Ce=(ce=(0,r._R)())===null||ce===void 0?void 0:ce.getAudioContext())===null||Ce===void 0?void 0:Ce.suspend(),Y.callLogger.info("Audio context suspended"),(ke=Y.audioLevelMonitor)===null||ke===void 0||ke.stop(),delete Y.audioLevelMonitor,Y.callLogger.info("Device manager shutdown complete")})()}init(){var Y=this;return(0,t.coroutine)(function*(){yield Y.refreshMediaDeviceInfo(),yield Y.determineInitialMicrophonePermissionState(),Y.enumerateDevices(),Y.logDevices(),yield Y.updateMicrophone(),yield Y.updateSpeaker(),Y.isCameraEnabled&&(yield Y.updateCamera())})()}determineInitialMicrophonePermissionState(){var Y=this;return(0,t.coroutine)(function*(){if((0,E.y3)()){yield Y.determineInitialMicrophonePermissionStateForDesktop();return}yield Y.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var Y=this;return(0,t.coroutine)(function*(){const{status:ce}=F.Ay.canAccessMediaResource(_.mT.MICROPHONE);let Ce;(ce===l.eJ.Prompt||ce===l.eJ.NotDetermined||ce===l.eJ.Unknown)&&(yield Y.audioVideoFacade.listAudioInputDevices(!0),Ce=F.Ay.canAccessMediaResource(_.mT.MICROPHONE).status),(ce===l.eJ.Denied||Ce===l.eJ.Denied)&&(Y.observer.onBrowserMediaDeviceAccessDenied(_.mT.MICROPHONE),Y.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),Y.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var Y=this;return(0,t.coroutine)(function*(){const ce=yield Y.maybeCheckSystemMediaAccess(_.mT.MICROPHONE);(0,E.j9)()||(0,E.uF)()&&!Y.options.useGetMediaAccessCheckForWindows||ce&&(ce==null?void 0:ce.status)!==l.eJ.Granted&&(Y.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),Y.isStartMutedBarrierActive=!0)})()}setAGC(Y){var ce=this;return(0,t.coroutine)(function*(){ce.prefs.audio&&ce.prefs.audio.enableAGC!==Y&&(ce.callLogger.info(`AGC setting changed: ${Y}`),ce.prefs.audio.enableAGC=Y,(0,S.i4)(ce.prefs),yield ce.updateMicrophone())})()}setPreferredDevice(Y,ce){var Ce=this;return(0,t.coroutine)(function*(){switch(ce){case l.lW.Microphone:yield Ce.updateMicrophone();break;case l.Q4:yield Ce.updateSpeaker();break;case l.lW.Camera:Ce.isCameraEnabled&&(yield Ce.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(Y){var ce=this;return(0,t.coroutine)(function*(){ce.enumerateDevices(),yield ce.updateCamera()})()}setVideoBackgroundEffect(Y){let{effect:ce,effectBgKey:Ce}=Y;var ke=this;return(0,t.coroutine)(function*(){ke.prefs.video&&(ke.callLogger.info(`Video background effect changed: ${ce}`),ke.prefs.video.effect=ce,ke.prefs.video.effectBgKey=Ce,(0,S.i4)(ke.prefs),ke.isCameraEnabled&&(yield ke.updateCamera()))})()}setNoiseSuppression(Y){var ce=this;return(0,t.coroutine)(function*(){ce.prefs.audio&&ce.prefs.audio.enableNoiseSuppression!==Y&&(ce.callLogger.info(`Noise suppression setting changed: ${Y}`),ce.prefs.audio.enableNoiseSuppression=Y,(0,S.i4)(ce.prefs),yield ce.updateMicrophone())})()}setStartMutedBarrier(Y){var ce=this;return(0,t.coroutine)(function*(){ce.isStartMutedBarrierActive=Y})()}setMicrophone(Y){var ce=this;return(0,t.coroutine)(function*(){var Ce;if(ce.voiceFocusManager&&(yield ce.voiceFocusManager.setMute(Y)),!Y){var ke;ce.audioVideoFacade.realtimeMuteLocalAudio(),(ke=ce.huddleEventsTrace)===null||ke===void 0||ke.update({name:v.p.MICROPHONE,type:v.G.STOP});return}ce.isStartMutedBarrierActive&&(ce.callLogger.info("Releasing start muted barrier"),ce.isStartMutedBarrierActive=!1),ce.audioVideoFacade.realtimeUnmuteLocalAudio(),(Ce=ce.huddleEventsTrace)===null||Ce===void 0||Ce.update({name:v.p.MICROPHONE,type:v.G.START})})()}requestPreviewStreamForDeviceId(Y,ce,Ce){ce===l.lW.Camera&&this.handleCameraChanges({type:q.START_PREVIEW,deviceId:Y,videoElement:Ce})}stopVideoPreviewForVideoInput(Y){this.handleCameraChanges({type:q.STOP_PREVIEW,videoElement:Y||this.cameraPreviewVideoElement})}setCamera(Y){Y!==this.isCameraEnabled&&(this.isCameraEnabled=Y,this.isCameraEnabled?(this.handleCameraChanges({type:q.ENABLE}),this.maybeCheckSystemMediaAccess(_.mT.CAMERA)):this.handleCameraChanges({type:q.DISABLE}))}setCameraQuality(Y,ce,Ce,ke){this.callLogger.info(`Camera quality settings changed: ${Y}x${ce}@${Ce}fps ${ke}kbps`),this.audioVideoFacade.chooseVideoInputQuality(Y,ce,Ce),this.audioVideoFacade.setVideoMaxBandwidthKbps(ke)}audioVideoDidStart(){return(0,t.coroutine)(function*(){})()}localVideoTileDidUpdate(Y){(!Y.boundVideoStream||!Y.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${Y.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!Y.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var Y=this;return(0,t.coroutine)(function*(){if(!Y.isAudioOutputElementBound&&Y.audioOutputElement){try{yield Y.audioVideoFacade.bindAudioElement(Y.audioOutputElement)}catch(ce){Y.callLogger.info(`bindAudioElement failed: error: ${ce.name}, message: ${ce.message}`);return}Y.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(Y){var ce=this;return(0,t.coroutine)(function*(){if(!(0,E.y3)()){const{status:Ce}=F.Ay.canAccessMediaResource(Y);if(Ce===l.eJ.Granted)return{isAvailable:!1,status:l.eJ.Granted}}if((0,E.cX)()||ce.options.useGetMediaAccessCheckForWindows&&(0,E.uF)())try{const Ce=F.Ay.canAccessMediaResource(Y);if(ce.callLogger.info(`DeviceManager::getMediaAccessStatus ${Y} electron API available: ${Ce.isAvailable} and status: ${Ce.status}`),!Ce.isAvailable)return{isAvailable:!1,status:l.eJ.NotDetermined};if(Ce.status===l.eJ.Granted)return ce.observer.onDeviceAccessApproved(Y),Ce;let ke;return Ce.status===l.eJ.NotDetermined&&(ke=Y==="screen"?null:yield F.Ay.requestMediaAccess(Y),ce.callLogger.info(`DeviceManager::askForMediaAccess ${Y} electron API available: ${!!(ke!=null&&ke.isAvailable)} and isConsentGranted: ${ke==null?void 0:ke.isGranted}`),Y!=="screen"&&(ke!=null&&ke.isGranted))?(ce.observer.onDeviceAccessApproved(Y),{status:l.eJ.Granted,isAvailable:!0}):((Ce.status===l.eJ.Denied||ke&&!ke.isGranted)&&(ce.micPermissionDenied=!0,ce.observer.onCheckSystemMediaAccess(Y)),Ce)}catch(Ce){ce.callLogger.info(`DeviceManager::Error retrieving system access for ${Y}: ${Ce}`)}return{isAvailable:!1,status:l.eJ.NotDetermined}})()}audioInputMuteStateChanged(Y,ce){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${Y}, ${ce?"muted":"unmuted"}`)}audioInputStreamEnded(Y){var ce;Y&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((ce=(0,P.Nj)(l.lW.Microphone))===null||ce===void 0?void 0:ce.id)===Y&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(_.mT.MICROPHONE)))}videoInputStreamEnded(Y){var ce=this;return(0,t.coroutine)(function*(){Y&&(ce.callLogger.info("DeviceManager::videoInputStreamEnded"),ce.observer.onSetNoMediaInput(_.mT.CAMERA))})()}logDevices(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.LL;const ce=(0,P.T5)();if(!ce){this.callLogger.error("No devices found");return}(0,w.my)(this.callLogger,ce,Y)}getPreferredDevice(Y){return(0,P.Nj)(Y)}enumerateDevices(){const Y=(0,P.T5)();if(!Y){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated(Y)}handleCameraChanges(Y){var ce=this;return(0,t.coroutine)(function*(){switch(Y.type){case q.START_PREVIEW:yield ce.runCameraActivityStartPreview(Y);break;case q.STOP_PREVIEW:yield ce.runCameraActivityStopPreview(Y);break;case q.ENABLE:yield ce.runCameraActivityEnable();break;case q.DISABLE:yield ce.runCameraActivityDisable();break;default:break}})()}updateMicrophone(){var Y=this;return(0,t.coroutine)(function*(){const ce=Y.getPreferredDevice(l.lW.Microphone);if(!ce){Y.callLogger.info("No audio input device found");return}const{id:Ce,label:ke}=ce;if(Y.micPermissionDenied&&(Y.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),Y.hasRetriedAudioInit))return;Y.callLogger.info(`Selected audio input device: ${ce.label||ce.id}, deviceId: ${Ce}, deviceLabel: ${ke}`);const dt={autoGainControl:Y.prefs.audio?Y.prefs.audio.enableAGC:!0,deviceId:Ce};let Ze=!0;if(Y.voiceFocusManager&&Y.voiceFocusManager.isAvailable()&&(Y.prefs.audio&&Y.prefs.audio.enableNoiseSuppression)){if(Y.voiceFocusDevice||(Y.voiceFocusDevice=yield Y.voiceFocusManager.getTransformDevice()),Y.voiceFocusDevice){const Lt=yield Y.voiceFocusDevice.chooseNewInnerDevice(dt);Y.voiceFocusDevice=Lt}Y.voiceFocusDevice||(Ze=!1)}else Ze=!1;Y.voiceFocusDevice&&(0,f.Y)({name:f.R1.VoiceFocusDevice,ref:Y.voiceFocusDevice}),Y.callLogger.info("Noise suppression:",Ze?"enabled":"disabled");try{if(Y.isStartMutedBarrierActive&&(Y.callLogger.info("Start muted barrier active"),Y.audioVideoFacade.realtimeMuteLocalAudio()),Ze)if(Y.voiceFocusDevice)yield Y.initAudioInput(Y.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(dt.noiseSuppression=!0),yield Y.initAudioInput(dt)}catch(Lt){Y.callLogger.error(`chooseAudioInputDevice failed: error: ${Lt.name}, message: ${Lt.message}`),yield Y.handleAudioInitError(Lt);return}Y.hasRetriedAudioInit&&(Y.callLogger.info("Microphone initialized successfully after retry"),Y.hasRetriedAudioInit=!1),Y.initAudioAnalyserForPreview(),Y.setupAudioInputTrackHandler({preferredDeviceId:Ce}),!(yield Y.isMediaPermissionDeniedOnWindows(_.mT.MICROPHONE))&&(Y.observer.onSelfPermissionUpdated(Y.micPermissionDenied,l.lW.Microphone),Y.attemptToInitMicrophoneNative(ce.label))})()}updateSpeaker(){var Y=this;return(0,t.coroutine)(function*(){const ce=Y.getPreferredDevice(l.Q4);if(!ce){Y.callLogger.info("No audio output device found");return}const{id:Ce,label:ke}=ce;Y.callLogger.info(`Selected audio output device id: ${ce.label||ce.id}, deviceId: ${Ce}, deviceLabel: ${ke}`),yield Y.audioVideoFacade.chooseAudioOutput(Ce),Y.observer.onOutputDeviceChanged({id:ce.id,type:l.Q4}),(0,P.i_)(Ce,l.Q4)})()}updateCamera(){var Y=this;return(0,t.coroutine)(function*(){const ce=Y.getPreferredDevice(l.lW.Camera);if(!ce){Y.callLogger.info("No video input device found");return}Y.callLogger.info(`Selected video input device id: ${ce.label||ce.id}`);try{yield Y.setCameraVideoInputDevice(ce)}catch(Ce){Y.callLogger.info(`chooseVideoInputDevice failed: error: ${Ce.name}, message: ${Ce.message}`),Ce instanceof r.Ll?Y.observer.onSelfPermissionUpdated(!0,l.lW.Camera):Y.observer.onSelfPermissionUpdated(!1,l.lW.Camera);return}(yield Y.isMediaPermissionDeniedOnWindows(_.mT.CAMERA))||Y.observer.onSelfPermissionUpdated(!1,l.lW.Camera)})()}setCameraVideoInputDevice(Y){var ce=this;return(0,t.coroutine)(function*(){if(yield ce.clearVideoTransformDeviceRefs(),ce.options.backgroundVideoFilteringSetting===l.uT.NONE){yield ce.initVideoInput(Y.id);return}switch(ce.prefs.video.effect){case H.t.Blur:{yield ce.setCameraVideoInputDeviceWithBackgroundBlurFilter(Y);break}case H.t.Background:{ce.options.backgroundVideoFilteringSetting!==l.uT.Both?yield ce.initVideoInput(Y.id):yield ce.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:Y,selectedBackgroundImageKey:ce.prefs.video.effectBgKey});break}default:{yield ce.initVideoInput(Y.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(Y){let{videoDevice:ce,selectedBackgroundImageKey:Ce}=Y;var ke=this;return(0,t.coroutine)(function*(){const st=ce.label||ce.id;if(Ce===void 0){ke.callLogger.info(`No background image key provided id: ${st}`),yield ke.initVideoInput(ce.id);return}const Ze=D.g.find(jn=>jn.key===Ce);if(Ze===void 0)return ke.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",ce);ke.callLogger.info(`Enabling video input device with background image filter id: ${st}`);const Gt=yield(yield fetch(Ze.url)).blob();if(ke.options.useHuddlesFilterWorker){const jn=yield createImageBitmap(Gt),is=new J(ce.id,jn);ke.setVideoTransformDeviceRefs({transformDevice:is,processors:[]}),yield ke.initVideoInput(is),yield ke.cleanupTransformDevicesAndCameraIfShuttingdown();return}const ln=(0,r.jq)(),In=(0,r.px)(),wn=[];if(!(yield r.i3.isSupported(ke.chimeLogger))&&le)return ke.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",ce);if(!(yield In.isSupported())&&!le)return ke.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",ce);if(ke.isShuttingDown)return;const Fn={...ke.defaultVideoProcessorOptions,imageBlob:Gt};if(le){if(ke.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:te},backgroundReplacement:{isEnabled:!0,backgroundImageURL:Ze.url,defaultColor:void 0}},ke.videoFxProcessor=yield r.i3.create(ke.chimeLogger,ke.videoFxConfig,he),!ke.videoFxProcessor)return ke.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",ce);ke.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${st}`),wn.push(ke.videoFxProcessor)}else{const jn=yield In.create(void 0,Fn);if(jn)ke.setupVideoBackgroundFrameProcessor({processor:jn,backgroundEffect:R.Image}),wn.push(jn);else return ke.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",ce)}ke.callLogger.info(`Enabling video input device with background image replacement id: ${st}`);const Sn=new ln(ke.chimeLogger,ce.id,wn);ke.setVideoTransformDeviceRefs({transformDevice:Sn,processors:wn}),yield ke.initVideoInput(Sn),yield ke.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(Y,ce){var Ce=this;return(0,t.coroutine)(function*(){const ke=ce.label||ce.id;Ce.callLogger.info(`${Y}: ${ke}`),yield Ce.initVideoInput(ce.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(Y){var ce=this;return(0,t.coroutine)(function*(){const Ce=(0,r.jq)(),ke=(0,r.kM)(),st=Y.label||Y.id;if(ce.callLogger.info(`Enabling video input device with background blur filter id: ${st}`),ce.options.useHuddlesFilterWorker){const Lt=new J(Y.id);ce.setVideoTransformDeviceRefs({transformDevice:Lt,processors:[]}),yield ce.initVideoInput(Lt),yield ce.cleanupTransformDevicesAndCameraIfShuttingdown();return}const dt=[];if(le){if(!(yield r.i3.isSupported(ce.chimeLogger)))return ce.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",Y);if(ce.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:te},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},ce.videoFxProcessor=yield r.i3.create(ce.chimeLogger,ce.videoFxConfig,he),!ce.videoFxProcessor)return ce.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",Y);ce.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${st}`),dt.push(ce.videoFxProcessor)}else{if(!(yield ke.isSupported()))return ce.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",Y);const Lt={...ce.defaultVideoProcessorOptions,blurStrength:15},Gt=yield ke.create(void 0,Lt);if(!Gt)return ce.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",Y);ce.setupVideoBackgroundFrameProcessor({processor:Gt,backgroundEffect:R.Blur}),dt.push(Gt)}ce.callLogger.info(`Enabling video input device with background blur filter id: ${st}`);const Ze=new Ce(ce.chimeLogger,Y.id,dt);ce.setVideoTransformDeviceRefs({transformDevice:Ze,processors:dt}),yield ce.initVideoInput(Ze),yield ce.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var Y=this;return(0,t.coroutine)(function*(){Y.isShuttingDown&&(Y.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield Y.audioVideoFacade.stopVideoInput(),yield Y.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var Y=this;return(0,t.coroutine)(function*(){const Ce=(yield Y.audioVideoFacade.listVideoInputDevices()).length>0;return Ce||Y.observer.onSelfPermissionUpdated(!0,l.lW.Camera),Y.prefs=(0,S.Bh)(),Y.enumerateDevices(),Ce})()}runCameraActivityStartPreview(Y){var ce=this;return(0,t.coroutine)(function*(){const Ce=Y.deviceId,ke=Y.videoElement;!Ce||!ke||(ce.cameraPreviewVideoElement=ke,yield ce.setPreferredCameraDeviceForPreview(Ce),yield ce.startCameraPreview())})()}runCameraActivityStopPreview(Y){var ce=this;return(0,t.coroutine)(function*(){const Ce=Y.videoElement;Ce&&(Ce!==ce.cameraPreviewVideoElement&&ce.callLogger.warn("Mismatch in preview video element"),ce.audioVideoFacade.hasStartedLocalVideoTile()?ce.detachStreamFromCameraPreview():ce.stopCameraPreview(),delete ce.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var Y=this;return(0,t.coroutine)(function*(){var ce;!Y.audioVideoFacade.hasStartedLocalVideoTile()&&Y.cameraPreviewVideoElement&&Y.stopCameraPreview(),yield Y.updateCamera(),Y.audioVideoFacade.hasStartedLocalVideoTile()||(Y.waitForCameraReady=(0,d.u)(),Y.audioVideoFacade.startLocalVideoTile(),yield Y.waitForCameraReady.catch(()=>{Y.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),Y.runCameraActivityDisable()})),Y.attachStreamToCameraPreview(),(ce=Y.huddleEventsTrace)===null||ce===void 0||ce.update({name:v.p.VIDEO,type:v.G.START})})()}runCameraActivityDisable(){var Y=this;return(0,t.coroutine)(function*(){var ce;Y.detachStreamFromCameraPreview(),yield Y.audioVideoFacade.stopVideoInput(),Y.audioVideoFacade.stopLocalVideoTile(),(ce=Y.huddleEventsTrace)===null||ce===void 0||ce.update({name:v.p.VIDEO,type:v.G.STOP}),Y.cameraPreviewVideoElement&&(yield Y.updateCamera(),yield Y.startCameraPreview())})()}startCameraPreview(){var Y=this;return(0,t.coroutine)(function*(){Y.cameraPreviewVideoElement&&(Y.waitForCameraReady=(0,d.u)(),Y.audioVideoFacade.startVideoPreviewForVideoInput(Y.cameraPreviewVideoElement),Y.cameraPreviewVideoElement.addEventListener("canplay",ce=>{Y.waitForCameraReady.resolve()}),yield Y.waitForCameraReady)})()}stopCameraPreview(){var Y=this;return(0,t.coroutine)(function*(){Y.cameraPreviewVideoElement&&(Y.audioVideoFacade.stopVideoPreviewForVideoInput(Y.cameraPreviewVideoElement),yield Y.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var Y;if(!this.cameraPreviewVideoElement)return;const ce=(Y=this.audioVideoFacade.getLocalVideoTile())===null||Y===void 0?void 0:Y.state();ce&&ce.boundVideoStream&&r.xc.connectVideoStreamToVideoElement(ce.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&r.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(Y){var ce,Ce,ke,st;const dt=((ce=Y.target)===null||ce===void 0||(Ce=ce.error)===null||Ce===void 0?void 0:Ce.code)||"unavailable",Ze=((ke=Y.target)===null||ke===void 0||(st=ke.error)===null||st===void 0?void 0:st.message)||Y.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${dt}, message: ${Ze}`),this.observer.onSetNoAudioOutput(_.NS.AUDIO_ELEMENT_ERROR)}isMediaPermissionDeniedOnWindows(Y){var ce=this;return(0,t.coroutine)(function*(){if(ce.options.useGetMediaAccessCheckForWindows&&(0,E.uF)()&&(0,E.dY)("4.9.0")){const Ce=yield ce.maybeCheckSystemMediaAccess(Y);if(Ce&&Ce.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const Y=(0,r._R)().getAudioContext();if(!Y){this.callLogger.warn("Unable to get AudioContext");return}Y.resume();const ce=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(ce){var Ce;const ke=new y(ce);(Ce=this.audioLevelMonitor)===null||Ce===void 0||Ce.setPreviewAudioAnalyser(ke)}}setupAudioInputTrackHandler(Y){let{preferredDeviceId:ce}=Y;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new k(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:ce})}constructor(Y,ce,Ce,ke,st=!1,dt,Ze,Lt){this.audioVideoFacade=Y,this.audioOutputElement=ce,this.observer=Ce,this.options=ke,this.isStartMutedBarrierActive=st,this.chimeLogger=dt,this.defaultDeviceController=Ze,this.voiceFocusManager=Lt,this.callLogger=(0,a.Jt)("DEVICES"),this.waitForCameraReady=(0,d.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:te},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1,this.hasRetriedAudioInit=!1;var Gt=this;this.audioInputsChanged=(0,t.coroutine)(function*(){Gt.callLogger.info("DeviceManager::audioInputsChanged"),yield(0,P.es)(),Gt.logDevices([l.lW.Microphone]),Gt.observer.onClearNoMediaInput(_.mT.MICROPHONE)});var ln=this;this.audioOutputsChanged=(0,t.coroutine)(function*(){ln.callLogger.info("DeviceManager::audioOutputsChanged"),yield(0,P.es)(),ln.logDevices([l.Q4]),ln.observer.onClearNoAudioOutput(_.NS.AUDIO_ELEMENT_ERROR)});var In=this;this.videoInputsChanged=(0,t.coroutine)(function*(){In.callLogger.info("DeviceManager::videoInputsChanged"),yield(0,P.es)(),In.logDevices([l.lW.Camera])});var wn=this;this.attemptToInitMicrophoneNative=(0,p.A)(function(){var us=(0,t.coroutine)(function*(ns){try{if(!ns||!wn.options.useDevicesExp)return;const rs=yield(0,X.Lh)(ns),{error:ie,canInit:Se}=rs;(0,u.A)(ie)?ie.includes("Method not available")||ie.includes("only supported on Windows")?wn.callLogger.info("Microphone init test not supported on this client"):Se||wn.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${ns}: ${ie}`):wn.callLogger.info(`Successfully initialized microphone with device: ${ns}`)}catch(rs){wn.callLogger.error("Error attempting to init audio device",rs)}});return function(ns){return us.apply(this,arguments)}}(),1e3);var Fn=this;this.refreshMediaDeviceInfo=(0,t.coroutine)(function*(){Fn.enumerateDevices()});var Sn=this;this.handleAudioInitError=function(){var us=(0,t.coroutine)(function*(ns){let rs=!Sn.hasRetriedAudioInit;switch(ns.name){case"NotReadableError":Sn.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":Sn.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":Sn.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":Sn.callLogger.error("User denied permission to access microphone.");break;case"TypeError":Sn.callLogger.error("An unexpected TypeError occured during audio input initialization",ns),rs=!1;break;case"GetUserMediaError":Sn.callLogger.error("An unexpected GetUserMediaError occured during audio input initialization",ns),rs=!1;break;default:Sn.callLogger.error("Unknown error during audio input initialization"),rs=!1}const ie=ns instanceof r.Ll;ie||Sn.observer.onSelfPermissionUpdated(!1,l.lW.Microphone),rs?(Sn.hasRetriedAudioInit=!0,Sn.callLogger.info("Retrying audio input initialization"),yield Sn.updateMicrophone(),yield Sn.updateSpeaker()):(ie&&Sn.observer.onSelfPermissionUpdated(!0,l.lW.Microphone),Sn.callLogger.error("Audio input initialization failed. Not retrying"))});return function(ns){return us.apply(this,arguments)}}(),this.setVideoTransformDeviceRefs=us=>{let{transformDevice:ns,processors:rs}=us;this.currentVideoTransformDevice=ns,this.currentVideoFrameProcessors=rs,(0,f.Y)({name:f.R1.VideoTransformDevice,ref:ns})},this.setupVideoBackgroundFrameProcessor=us=>{let{processor:ns,backgroundEffect:rs}=us;var ie;this.clearVideoBackgroundFrameProcessor(),!le&&(this.currentVideoFrameProcessor=ns,this.currentVideoFrameProcessorObserver=new B({backgroundEffect:rs}),(ie=this.currentVideoFrameProcessor)===null||ie===void 0||ie.addObserver(this.currentVideoFrameProcessorObserver),(0,f.Y)({name:f.R1.VideoFrameProcessor,ref:ns}))},this.clearVideoBackgroundFrameProcessor=()=>{le||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var jn=this;this.clearVideoTransformDeviceRefs=(0,t.coroutine)(function*(){jn.clearVideoBackgroundFrameProcessor(),jn.currentVideoFrameProcessors&&(jn.currentVideoFrameProcessors.forEach(us=>{us.destroy()}),jn.currentVideoFrameProcessors.length=0,jn.currentVideoFrameProcessors=void 0),jn.currentVideoTransformDevice&&(yield jn.currentVideoTransformDevice.stop(),jn.currentVideoTransformDevice=void 0)});var is=this;this.initAudioInput=function(){var us=(0,t.coroutine)(function*(ns){ns&&(yield is.audioVideoFacade.startAudioInput(ns))});return function(ns){return us.apply(this,arguments)}}();var gs=this;this.initVideoInput=function(){var us=(0,t.coroutine)(function*(ns){if(!ns)return;yield gs.audioVideoFacade.startVideoInput(ns),gs.recordCameraResolution();const rs=(0,h.A)(ns,"device",ns);typeof rs=="string"&&(0,P.i_)(rs,l.lW.Camera)});return function(ns){return us.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var us,ns,rs,ie,Se;if(this.isShuttingDown||!((us=this.audioVideoFacade)===null||us===void 0?void 0:us.hasStartedLocalVideoTile()))return;const Pt=this.audioVideoFacade.getLocalVideoTile(),Mn=(ns=Pt==null?void 0:Pt.state())===null||ns===void 0?void 0:ns.boundVideoStream,Cn=Mn==null?void 0:Mn.getVideoTracks()[0];if(Cn instanceof CanvasCaptureMediaStreamTrack){W.A.publish({type:L.lx.CameraResolution,update:{isCanvasStream:!0}});return}const Rn=Cn==null?void 0:Cn.getSettings(),on=Cn==null?void 0:Cn.getCapabilities(),qn=Rn==null?void 0:Rn.width,ms=Rn==null?void 0:Rn.height,Ts=Rn==null?void 0:Rn.frameRate,Ps=on==null||(rs=on.width)===null||rs===void 0?void 0:rs.max,Ss=on==null||(ie=on.height)===null||ie===void 0?void 0:ie.max,vs=on==null||(Se=on.frameRate)===null||Se===void 0?void 0:Se.max;Ps&&Ss&&W.A.publish({type:L.lx.CameraResolution,update:{cameraWidth:qn,cameraHeight:ms,cameraFrameRate:Ts,cameraMaxWidth:Ps,cameraMaxHeight:Ss,cameraMaxFrameRate:vs,isCanvasStream:!1}})}catch{}},5e3)},this.callLogger.info("Using device manager v2"),this.updateMicrophone=I(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=I(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=I(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=I(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,S.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new O,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:ne,reportingPeriodMillis:G,logger:this.chimeLogger};const{huddleEventsTrace:Ls}=(0,A.A)().getAllTraceHandlers();this.huddleEventsTrace=Ls}},"DeviceManager");var ve=e(63202349),me=e(3390261877),oe=e(3320454392);let N=i(class{constructor(Y,ce,Ce){this.sequenceNumber=Y,this.message=ce,this.timestampMs=Ce}},"MeetingEvent"),K=i(class Yo{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(Y){var ce=this;this.intervalScheduler.start((0,t.coroutine)(function*(){if(ce.getEventCaptureSize()===0)return;const Ce=ce.eventCapture.slice(0,Y);try{ce.postEvents(Ce),ce.eventCapture=ce.eventCapture.slice(Ce.length)}catch(ke){ce.log.error(ke.message)}}))}stop(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,Y,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(Y,ce){const{meetingHistory:Ce,...ke}=ce;try{const st=JSON.stringify({name:Y,attributes:ke});this.eventCapture.push(new N(this.sequenceNumber,st,Date.now())),this.sequenceNumber+=1}catch(st){this.log.error(st.message)}}postEvents(Y){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ke;Y.length===0&&!ce&&!Ce||(ke=this.observer)===null||ke===void 0||ke.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,Y,ce,Ce)}constructor(Y,ce,Ce,ke,st,dt=Yo.DEFAULT_BATCH_SIZE,Ze=Yo.DEFAULT_INTERVAL_MS){this.observer=Y,this.meetingId=ce,this.mediaRegion=Ce,this.attendeeId=ke,this.callId=st,this.batchSize=dt,this.intervalMs=Ze,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,a.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new me.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize);var Lt=this;(0,oe.A)((0,t.coroutine)(function*(){Lt.stop(!0)}))}},"MeetingEventLogger");K.DEFAULT_BATCH_SIZE=100,K.DEFAULT_INTERVAL_MS=65*60*1e3;var x=e(3245843483),b=e(1033764764),z=e(9372409576),$=e(7299481592);const Z=1e4,U=3e4;class ee{observe(Y){this.connections.push(Y),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(Y){remove(this.connections,Y),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){var Y=this;this.connections.forEach(function(){var ce=_bluebirdCoroutine(function*(Ce){const ke=Ce.getPeerConnection();if(!ke)return;const st=se(yield ke.getStats());ue(Ce,st);const dt={...Ee(st),send:st.sendTracks.map(Ze=>Le(Ze,st)),recv:st.recvTracks.map(Ze=>({...ye(Ze,st),peerId:Ce.getPeerIdFromRemoteStreamId(st.trackIdToStreamId[Ze.id])}))};Y.observer.onStats(dt)});return function(Ce){return ce.apply(this,arguments)}}())}constructor(Y,ce=Z){this.observer=Y,this.collectionIntervalMs=ce,this.connections=[]}}i(ee,"StatsManager");function se(Oe){const Y=Array.from(Oe.entries()),ce=reduce(Y,(Ce,ke)=>{let[st,dt]=ke;return Be(dt)?dt.remoteSource===!0?Ce.recvTracks.push(dt):Ce.sendTracks.push(dt):Ue(dt)||Ie(dt)?dt.trackId&&(Ce.rtpStats[dt.trackId]=dt):we(dt)?Ce.transports[dt.id]=dt:re(dt)?Ce.candidates[dt.id]=dt:ge(dt)?Ce.candidatePairs[dt.id]=dt:De(dt)?Ce.codecs[dt.id]=dt:be(dt)?dt.trackIds&&dt.trackIds.forEach(Ze=>{Ce.trackIdToStreamId[Ze]=dt.streamIdentifier}):xe(dt)&&dt.trackIdentifier&&(Ce.mediaSources[dt.trackIdentifier]=dt),Ce},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return ce.recvTracks=ce.recvTracks.filter(Ce=>ce.trackIdToStreamId[Ce.id]!==void 0),ce}i(se,"groupStatsByType");function de(Oe){const Y=filter(Oe.candidatePairs,Ze=>!!Ze.nominated),ce=maxBy(Y,Ze=>Ze.priority);if(!ce)return;const Ce=find(Oe.candidates,(Ze,Lt)=>Lt===ce.localCandidateId);if(!Ce)return;let ke=Ce.candidateType==="relay"?Ce.relayProtocol:Ce.protocol;Ce.candidateType==="prflx"&&(ke+=" (unreliable)");const st="unknown";return{candidateType:Ce.candidateType||st,networkType:Ce.networkType||st,transportType:ke||st}}i(de,"getConnectionNetworkInfo");function ue(Oe,Y){const ce=de(Y);ce&&Oe.maybeLogNetworkInfo(ce)}i(ue,"reportConnectionNetworkInfo");const _e={nominal:1,fair:2,serious:3,critical:4};function pe(){return ae.apply(this,arguments)}i(pe,"makeAppMetricsStats");function ae(){return ae=(0,t.coroutine)(function*(){var Oe;if(!(0,E.y3)())return;let Y,ce,Ce;if(x.vkf.isAvailable()){var ke;const Gt=yield(0,x.vkf)();if(!Gt)return;Y=Gt.processMetrics,ce=_e[Gt.thermalState],Ce=(ke=Gt.speedLimit)===null||ke===void 0?void 0:ke.limit}else Y=yield(0,x.rc_)();if(!Y)return;let st=null;const dt=Y.reduce((Gt,ln)=>{var In,wn,Fn;return ln.type==="GPU"&&(st=ln),{cpu:Gt.cpu+((ln==null||(In=ln.cpu)===null||In===void 0?void 0:In.percentCPUUsage)||0),memory:{workingSetSize:Gt.memory.workingSetSize+(0,b.UK)((ln==null||(wn=ln.memory)===null||wn===void 0?void 0:wn.workingSetSize)||0),peakWorkingSetSize:Gt.memory.peakWorkingSetSize+(0,b.UK)((ln==null||(Fn=ln.memory)===null||Fn===void 0?void 0:Fn.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),Ze=st==null||(Oe=st.cpu)===null||Oe===void 0?void 0:Oe.percentCPUUsage,Lt=Ze?dt.cpu-st.cpu.percentCPUUsage:dt.cpu;return{...dt,cpuWithoutGpu:Lt,gpu:Ze,thermalState:ce,speedLimit:Ce}}),ae.apply(this,arguments)}i(ae,"_makeAppMetricsStats");function Ee(Oe){const[Y,...ce]=Object.values(Oe.transports);debugCheck(!ce.length,"Can there be more than one transport stat in a report?");const Ce=Y&&Y.selectedCandidatePairId,ke=Oe.candidatePairs[Ce];if(!Ce||!ke)return;const st=Oe.candidates[ke.remoteCandidateId]||{};return{availableOutgoingBitrate:ke.availableOutgoingBitrate||0,availableIncomingBitrate:ke.availableIncomingBitrate||0,totalBytesSent:ke.bytesSent,totalBytesReceived:ke.bytesReceived,currentRoundTripTime:ke.currentRoundTripTime,totalRoundTripTime:ke.totalRoundTripTime,protocol:st.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:st.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}i(Ee,"makeConnectionStats");function Le(Oe,Y){const ce=Y.rtpStats[Oe.id]||{},Ce={codec:Te(ce,Y),bytesSent:ce.bytesSent,packetsSent:ce.packetsSent};if(Oe.kind==="audio"){const ke=Oe.trackIdentifier?Y.mediaSources[Oe.trackIdentifier]:null;return ke?{...Ce,audioStats:{audioLevel:ke.audioLevel,totalAudioEnergy:ke.totalAudioEnergy,totalSamplesDuration:ke.totalSamplesDuration,echoReturnLoss:ke.echoReturnLoss,echoReturnLossEnhancement:ke.echoReturnLossEnhancement}}:{...Ce,audioStats:{audioLevel:Oe.audioLevel,echoReturnLoss:Oe.echoReturnLoss,echoReturnLossEnhancement:Oe.echoReturnLossEnhancement}}}return{...Ce,videoStats:{frameHeight:Oe.frameHeight,frameWidth:Oe.frameWidth,framesSent:Oe.framesSent,hugeFramesSent:Oe.hugeFramesSent,framesPerSecond:ce.framesPerSecond,framesEncoded:ce.framesEncoded}}}i(Le,"makeOutboundMediaStats");function ye(Oe,Y){const ce=Y.rtpStats[Oe.id]||{},Ce={codec:Te(ce,Y),bytesReceived:ce.bytesReceived,packetsReceived:ce.packetsReceived,packetsLost:ce.packetsLost,fractionLost:ce.fractionLost,jitter:ce.jitter};return Oe.kind==="audio"?{...Ce,audioStats:{audioLevel:Oe.audioLevel,jitterBufferDelay:Oe.jitterBufferDelay,concealedSamples:Oe.concealedSamples,concealmentEvents:Oe.concealmentEvents}}:{...Ce,videoStats:{firCount:ce.firCount,nackCount:ce.nackCount,pliCount:ce.pliCount,sliCount:ce.sliCount,frameHeight:Oe.frameHeight,frameWidth:Oe.frameWidth,framesPerSecond:Oe.framesPerSecond,framesCorrupted:Oe.framesCorrupted,framesDecoded:Oe.framesDecoded,framesDropped:Oe.framesDropped,framesReceived:Oe.framesReceived}}}i(ye,"makeInboundMediaStats");function Te(Oe,Y){const ce=Oe.codecId,Ce=get(Y.codecs,ce),ke=get(Ce,"mimeType");return Ae(ke)}i(Te,"getCodecForRtpStat");function Ae(Oe){switch(Oe){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}i(Ae,"parseCodec");function Ie(Oe){return Oe.type==="inbound-rtp"}i(Ie,"isRecvRtpStat");function Ue(Oe){return Oe.type==="outbound-rtp"}i(Ue,"isSendRtpStat");function Be(Oe){return Oe.type==="track"}i(Be,"isTrackStat");function we(Oe){return Oe.type==="transport"}i(we,"isTransportStat");function re(Oe){return Oe.type==="local-candidate"||Oe.type==="remote-candidate"}i(re,"isIceCandidateStat");function ge(Oe){return Oe.type==="candidate-pair"}i(ge,"isIceCandidatePairStat");function De(Oe){return Oe.type==="codec"}i(De,"isCodecStat");function be(Oe){return Oe.type==="stream"}i(be,"isStreamStat");function xe(Oe){return Oe.type==="media-source"}i(xe,"isMediaSourceStat");const Re=5e3;let je=i(class{constructor(Y,ce){this.audioVideoFacade=Y,this.observer=ce,this.callLogger=(0,a.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1;var Ce=this;this.onMetricsDidReceive=function(){var dt=(0,t.coroutine)(function*(Ze){if(!Ze)return;const Lt=yield Ce.collectScreenshareStats();Ce.reportAppMetrics({clientMetricReport:Ze,screenshareRtcStats:Lt})});return function(Ze){return dt.apply(this,arguments)}}(),this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const dt=setInterval(()=>{if(!this.isDisconnected){clearInterval(dt);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},Re)},this.cleanup=()=>{};var ke=this;this.collectScreenshareStats=(0,t.coroutine)(function*(){let dt;try{var Ze;const Lt=(Ze=ke.audioVideoFacade.contentShareController.contentAudioVideo)===null||Ze===void 0?void 0:Ze.rtcPeerConnection;return Lt?(dt=yield Lt.getStats(),dt):void 0}catch(Lt){ke.callLogger.error("Failed to collect screenshare stats",Lt)}});var st=this;this.reportAppMetrics=(0,t.coroutine)(function*(){let{clientMetricReport:dt,screenshareRtcStats:Ze}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!dt&&!st.isDisconnected)return;st.isDisconnected&&dt&&(st.isDisconnected=!1);const Lt=yield st.collectAppMetrics();st.observer.onAppMetrics({appMetrics:Lt,clientMetricReport:dt,screenshareRtcStats:Ze})}),this.collectAppMetrics=(0,t.coroutine)(function*(){const dt=yield pe();if(!dt)return;let Ze=dt;return dt&&(Ze=(0,n.A)({...dt,cpu:dt.cpuWithoutGpu},"cpuWithoutGpu")),Ze})}},"HuddlesStatsManager"),Ge=i(class{start(){var Y;this.isSignallingOnly=!1,(Y=this.videoDownlinkManager)===null||Y===void 0||Y.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}stop(){var Y=this;return(0,t.coroutine)(function*(){Y.isSignallingOnly?(Y.waitForStart.resolve(),Y.waitForStop.resolve(!0)):yield Y.waitForStart,Y.isStopRequested=!0,Y.audioVideoFacade.stop()})()}audioVideoDidStartConnecting(Y){if(!Y)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var ce,Ce,ke;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(ce=this.statsManager)===null||ce===void 0||(Ce=ce.reportDisconnect)===null||Ce===void 0||Ce.call(ce),(ke=this.huddleReconnectTracer)===null||ke===void 0||ke.traceReconnectAttempt(),this.isReconnecting=!0}}audioVideoDidStart(){if(this.callLogger.info("Chime audio video session started"),this.isReconnecting){var Y;this.callLogger.info("Successfully re-connected to Huddle"),(Y=this.huddleReconnectTracer)===null||Y===void 0||Y.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(ce=>ce.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(Y){var ce,Ce,ke,st;const dt=r.b9[Y.statusCode()],Ze=`Chime session stopped. StatusCode: ${dt}`;if(this.callLogger.info(Ze),this.isReconnecting&&Y.isFailure()){var Lt;this.callLogger.info("Failed to re-connect to Huddle"),(Lt=this.huddleReconnectTracer)===null||Lt===void 0||Lt.traceReconnectAttemptOutcome({isSuccess:!1})}this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(ce=this.videoDownlinkManager)===null||ce===void 0||ce.removeObserver(this),(Ce=this.meetingEventLogger)===null||Ce===void 0||Ce.stop(),delete this.meetingEventLogger,(st=(ke=this.statsManager).cleanup)===null||st===void 0||st.call(ke),delete this.statsManager,this.dataChannelSubscribers.forEach(Gt=>Gt.onDisconnectDataChannel()),!this.isStopRequested&&Y.isTerminal()&&(this.observer.onClogError(Ze),this.observer.onError(_.uZ.CallEnded,dt)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(Y){if(!Y.boundVideoStream||!Y.boundAttendeeId){Y.tileId&&this.observer.onVideoTileRemoved(Y.tileId);return}const ce=new r.jp(Y.boundAttendeeId).base();this.selfAttendeeId===ce?(this.deviceManager.localVideoTileDidUpdate(Y),this.observer.onSelfVideoTileUpdate(Y)):this.observer.onPeerVideoTileUpdate(ce,Y)}videoTileWasRemoved(Y){this.consoleLog.info(`Video tile removed: tileId=${Y}`),this.observer.onVideoTileRemoved(Y)}videoAvailabilityDidChange(Y){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${Y.remoteVideoAvailable}, CanStartLocalVideo=${Y.canStartLocalVideo}`)}metricsDidReceive(Y){var ce=this;return(0,t.coroutine)(function*(){var Ce;(Ce=ce.statsManager)===null||Ce===void 0||Ce.onMetricsDidReceive(Y)})()}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){this.callLogger.warn("SDK suggested stop video, maybe poor connection")}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(Y){var ce,Ce;(ce=this.videoDownlinkManager)===null||ce===void 0||ce.remoteVideoSourcesDidChange(Y),(Ce=this.videoUplinkManager)===null||Ce===void 0||Ce.remoteVideoSourcesDidChange(Y)}tileWillBePausedByDownlinkPolicy(Y){this.observer.onVideoTileWillPause(Y)}tileWillBeUnpausedByDownlinkPolicy(Y){this.observer.onVideoTileWillUnpause(Y)}constructor(Y,ce,Ce,ke,st,dt,Ze,Lt,Gt,ln,In=[],wn){this.selfAttendeeId=Y,this.meetingId=ce,this.mediaRegion=Ce,this.callId=ke,this.audioVideoFacade=st,this.observer=dt,this.deviceManager=Ze,this.videoDownlinkManager=Lt,this.dataChannelSubscribers=In,this.videoUplinkManager=wn,this.callLogger=(0,a.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,a.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,d.u)(),this.waitForStop=(0,d.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,Gt&&(this.waitForStart=Gt),ln&&(this.waitForStop=ln),this.statsManager=new je(st,dt),this.meetingEventLogger=new K(dt,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,A.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Qe=e(8571983633),Xe=e(489015593),et=e(2671711178),rt=e(5954792826),it=e(9240258658),lt=e(8193414630),ot=e(1990810649);function Et(){switch((0,x.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}i(Et,"getScaleFactorForCurrentZoomLevel");function At(Oe,Y){const[ce,Ce]=Oe;return[ce*Y,Ce*Y]}i(At,"getScaledCoordinates");function Ot(Oe,Y){var ce;const ke=(0,E.y3)()&&!(0,E.dY)("4.18.0")?1/Et():1,st=((ce=Oe.itemId)===null||ce===void 0?void 0:ce.toString())||null,dt=Oe.itemId==="self"?Y:st;switch(Oe.type){case _.Sl.New:case _.Sl.Edit:{const[Ze,Lt]=At(Oe.segment.a,ke),[Gt,ln]=At(Oe.segment.b,ke),[In,wn]=At(Oe.segment.c,ke),[Fn,Sn]=At(Oe.segment.d,ke);return{itemId:dt,type:Oe.type===_.Sl.New?it.Y.Draw.Type.NEW:it.Y.Draw.Type.EDIT,segment:{a:{x:Ze,y:Lt},b:{x:Gt,y:ln},c:{x:In,y:wn},d:{x:Fn,y:Sn}}}}case _.Sl.End:return{itemId:dt,type:it.Y.Draw.Type.END};case _.Sl.ChangeHue:return{itemId:dt,type:it.Y.Draw.Type.CHANGE_HUE,hue:Oe.hue};case _.Sl.Position:return{itemId:dt,type:it.Y.Draw.Type.POSITION,x:Oe.x,y:Oe.y};default:return(0,lt.Kh)(Oe)}}i(Ot,"convertDrawMessageToPeerMessage");function Rt(Oe,Y){const ce=Oe.itemId===Y?"self":Oe.itemId;switch(Oe.type){case it.Y.Draw.Type.NEW:case it.Y.Draw.Type.EDIT:{const ke=(0,E.y3)()&&!(0,E.dY)("4.18.0")?Et():1;return{itemId:ce,type:Oe.type===it.Y.Draw.Type.NEW?_.Sl.New:_.Sl.Edit,segment:{a:[(Oe.segment.a.x||0)*ke,(Oe.segment.a.y||0)*ke],b:[(Oe.segment.b.x||0)*ke,(Oe.segment.b.y||0)*ke],c:[(Oe.segment.c.x||0)*ke,(Oe.segment.c.y||0)*ke],d:[(Oe.segment.d.x||0)*ke,(Oe.segment.d.y||0)*ke]}}}case it.Y.Draw.Type.END:return{itemId:ce,type:_.Sl.End};case it.Y.Draw.Type.CHANGE_HUE:return{itemId:ce,type:_.Sl.ChangeHue,hue:Oe.hue};case it.Y.Draw.Type.POSITION:return{itemId:ce,type:_.Sl.Position,x:Oe.x,y:Oe.y};default:(0,$.M)("Unhandled draw message case");return}}i(Rt,"convertPeerMessageToDrawMessage");function yt(Oe){let Y=ot.o.Standard;return Oe.type&&Oe.type===it.Y.Reacji.Type.Effect&&(Y=ot.o.Effect),Oe.type&&Oe.type===it.Y.Reacji.Type.Gif&&(Y=ot.o.Gif),Y}i(yt,"convertFromPeerReactionType");function Mt(Oe){let Y=it.Y.Reacji.Type.Standard;return Oe===ot.o.Effect&&(Y=it.Y.Reacji.Type.Effect),Oe===ot.o.Gif&&(Y=it.Y.Reacji.Type.Gif),Y}i(Mt,"convertToPeerReactionType");var en=e(1975685771);let Tt=i(class Qr{updatePresence(Y,ce){ce?this.attendeesStates.set(Y,this.initializeState()):this.attendeesStates.delete(Y)}calculateScore(Y,ce,Ce){const ke=this.attendeesStates.get(Y);if(!ke||(Ce!==null&&(ke.muted=Ce),ke.muted))return 0;const st=Date.now();if(ce){ke.noiseFloor=this.updateNoiseFloor(ke,ce);const dt={timestamp:st,volume:ce};ke.volumeSamples.push(dt)}return this.pruneVolumeSamples(ke),this.getScore(ke,st)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(Y,ce){let Ce=Y.noiseFloor;return ce>Ce?Ce=(1-this.params.slowAttackFactor)*Ce+this.params.slowAttackFactor*ce:Ce=(1-this.params.fastDecayFactor)*Ce+this.params.fastDecayFactor*ce,Math.min(Ce,this.params.noiseFloorMax)}pruneVolumeSamples(Y){const ce=Date.now()-this.params.analysisWindowMs,Ce=Y.volumeSamples;for(;Ce.length&&Ce[0].timestamp<ce;)Ce.shift()}getScore(Y,ce){return Y.volumeSamples.reduce((Ce,ke)=>{const st=Math.max(1,Math.ceil((ce-ke.timestamp)/1e3));return Ce+Math.max(0,ke.volume-Y.noiseFloor)/st},0)}constructor(){this.attendeesStates=new Map,this.params=Qr.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Tt.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Tt.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let xt=i(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(Y){new r.jp(Y).hasModality(r.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has(Y)||(this.disconnectedAttendees.set(Y,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(Y){this.disconnectedAttendees.delete(Y),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(Y){return this.disconnectedAttendees.has(Y)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const Y=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);Y&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(Y-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const Y=[],ce=Date.now();this.disconnectedAttendees.forEach((Ce,ke)=>{ce>Ce&&(this.observer.onStalePeer(ke),Y.push(ke))}),Y.forEach(Ce=>{this.disconnectedAttendees.delete(Ce)}),this.maybeStartTimer()}constructor(Y,ce){this.timeoutMs=Y,this.observer=ce,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var bt=e(4075246222),nn=e(2208015175),dn=e(8403493408),Xt=e(2604971659),jt=e(2462761869);let _n=i(class{addSelf(Y){this.selfId=Y,this.addPeer(Y)}removeSelf(Y){(0,$.M)(Y===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(Y)}addPeer(Y){this.ids=(0,bt.A)(this.ids,[Y]),(0,nn.A)(this.cachedPeerStates[Y],(Ce,ke)=>{this.peerStateForwarder[ke]&&!(0,Qe.A)(Ce)&&this.peerStateForwarder[ke](Y,Ce)}),delete this.cachedPeerStates[Y];const ce=[];(0,nn.A)(this.cachedCallState,(Ce,ke)=>{this.callStateForwarder[ke]&&!(0,Qe.A)(Ce)&&this.callStateForwarder[ke].getPeerIdFn(Ce)===Y&&(this.callStateForwarder[ke].forwardFn(Ce),this.callStateForwarder[ke].isCached||ce.push(ke))}),this.cachedCallState=(0,n.A)(this.cachedCallState,ce)}removePeer(Y){(0,dn.A)(this.ids,Y),(0,nn.A)((0,Xt.A)(this.cachedCallState),ce=>{if(this.callStateForwarder[ce]){const Ce=this.callStateForwarder[ce].removeFn(this.cachedCallState[ce],Y);if(!Ce){delete this.cachedCallState[ce];return}this.cachedCallState[ce]=Ce}})}getPeers(){return this.ids}hasPeer(Y){return this.ids.includes(Y)}hasAttendee(Y){return this.hasPeer(Y)||Y===this.selfId}updateCallState(Y){const ce=Y;(0,nn.A)(Y,(Ce,ke)=>{this.callStateForwarder[ke]&&(ce[ke]=this.callStateForwarder[ke].updateFn(this.cachedCallState[ke],Ce))}),(0,nn.A)(this.callStateForwarder,(Ce,ke)=>{this.forwardOrCacheCallState([ce],ke,Ce)})}updatePeerStates(Y){(0,nn.A)(this.peerStateForwarder,(ce,Ce)=>{this.forwardOrCachePeerState(Y,Ce,ce)})}setIncludeSelfAndNoneActiveSpeaker(Y,ce){Y===this.includeSelf&&ce===this.includeNone||(this.includeSelf=Y,this.includeNone=ce,(0,nn.A)(this.cachedCallState,(Ce,ke)=>{this.callStateForwarder[ke]&&!(0,Qe.A)(Ce)&&this.callStateForwarder[ke].forwardFn(Ce)}))}forwardOrCachePeerState(Y,ce,Ce){Y.filter(st=>!(0,Qe.A)(st.state[ce])).map(st=>({id:st.peerId,value:st.state[ce]})).forEach(st=>{let{id:dt,value:Ze}=st;this.ids.includes(dt)?Ce(dt,Ze):this.cachedPeerStates[dt]={...this.cachedPeerStates[dt],[ce]:Ze}})}forwardOrCacheCallState(Y,ce,Ce){Y.filter(st=>!(0,Qe.A)(st[ce])).map(st=>({value:st[ce]})).forEach(st=>{let{value:dt}=st;const Ze=Ce.getPeerIdFn(dt);let Lt=!1;Ze&&(this.ids.includes(Ze)||Ze===this.NO_ACTIVE_SPEAKER)?Ce.forwardFn(dt):Lt=!0,(Lt||Ce.isCached)&&(this.cachedCallState={...this.cachedCallState,[ce]:dt})})}getAttendeeId(Y){return new r.jp(Y).base()}constructor(Y){this.observer=Y,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(ce,Ce)=>{const ke=ce||[],st=Ce&&Ce.length?Ce[0]:this.NO_ACTIVE_SPEAKER;return(0,jt.A)(ke,[st,this.NO_ACTIVE_SPEAKER]),ke.unshift(st),ke},removeFn:(ce,Ce)=>{if(ce)return(0,dn.A)(ce,Ce),ce},getPeerIdFn:ce=>{const Ce=ce.filter(ke=>ke===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(ke));if(Ce.length)return Ce[0]},forwardFn:ce=>{const Ce=ce.filter(ke=>ke===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(ke));!Ce.length||Ce[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===Ce[0]?"self":Ce[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(ce,Ce)=>{this.observer.onPeerDrawEnabled(ce,Ce)}}}},"PeerCache");var ze=e(252549317);let Dt=i(class{destroy(){var Y,ce,Ce;(Y=this.peerCache)===null||Y===void 0||Y.getPeers().forEach(ke=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(ke)),delete this.peerCache,(ce=this.staleAttendeeChecker)===null||ce===void 0||ce.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(Ce=this.audioVideoFacade.transcriptionController)===null||Ce===void 0||Ce.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(Y){this.sendPeerMessageOverDataChannel(new it.Y({capabilities:{isDrawEnabled:Y},fromPeerIdString:this.selfAttendeeId}))}sendReacji(Y,ce){let Ce;ce?Ce={emoji:Y,type:Mt(ce)}:Ce={emoji:Y},this.sendPeerMessageOverDataChannel(new it.Y({reacji:Ce,fromPeerIdString:this.selfAttendeeId}))}sendBackground(Y){this.sendPeerMessageOverDataChannel(new it.Y({background:{url:Y},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(Y){this.sendPeerMessageOverDataChannel(new it.Y({muteRequest:{peerId:Y},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(Y){this.sendPeerMessageOverDataChannel(new it.Y({jukeboxRequest:{songKey:Y},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new it.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(Y){this.sendPeerMessageOverDataChannel(new it.Y({draw:Ot(Y,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(Y){this.sendPeerMessageOverDataChannel(new it.Y({contentShareDetails:{sourceType:Y,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new it.Y({recordingStartNotification:{type:it.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(Y){this.callLogger.info(`Removing stale peer: ${Y}`),this.attendeeLeft(Y),this.observer.onPeerDisconnected(Y),this.observer.onPeerLeft(Y)}setIncludeSelfAndNoneActiveSpeaker(Y,ce){var Ce;(Ce=this.peerCache)===null||Ce===void 0||Ce.setIncludeSelfAndNoneActiveSpeaker(Y,ce)}attendeeJoined(Y){if(Y===this.selfAttendeeId){var ce;(ce=this.peerCache)===null||ce===void 0||ce.addSelf(Y)}else{var Ce;(Ce=this.peerCache)===null||Ce===void 0||Ce.addPeer(Y)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(Y,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${Y} volume indicator`)}attendeeLeft(Y){if(Y===this.selfAttendeeId){var ce;(ce=this.peerCache)===null||ce===void 0||ce.removeSelf(Y)}else{var Ce;(Ce=this.peerCache)===null||Ce===void 0||Ce.removePeer(Y)}this.audioVideoFacade.removeVideoTilesByAttendeeId(Y),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Y),this.consoleLog.info(`Unsubscribed from attendee=${Y} volume indicator`)}sendPeerMessageOverDataChannel(Y){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,it.Y.encode(Y).finish()):this.logFailureToSendPeerMessage(Y)}isAttendeeOfTypeContent(Y){return new r.jp(Y).hasModality(r.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(Y,ce,Ce,ke){var st;if(this.consoleLog.info(`Attendee presence: attendeeId=${Y}, isSelf=${this.selfAttendeeId===new r.jp(Y).base()}, present=${ce}, externalUserId=${Ce}, dropped=${ke}`),(st=this.windowedActiveSpeakerPolicy)===null||st===void 0||st.updatePresence(Y,ce),this.isAttendeeOfTypeContent(Y)){ce||this.audioVideoFacade.removeVideoTilesByAttendeeId(Y);return}if(!Ce){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${Y}`),this.observer.onClogError("MissingExternalUserId");return}let dt=null;if(ce){var Ze;ke===!1&&!(!((Ze=this.peerCache)===null||Ze===void 0)&&Ze.hasAttendee(Y))?dt="joined":dt="reconnected"}else ke===!0?dt="disconnected":dt="left";if(dt===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===Y)switch(dt){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${dt}`);return}else{const In=(0,rt.l)(Ce);if(!In){this.callLogger.error(`No externalUserId for ${Y}`);return}switch(dt){case"joined":{var Lt;(Lt=this.staleAttendeeChecker)===null||Lt===void 0||Lt.deleteDisconnectedAttendee(Y),this.observer.onPeerJoined(Y,In),this.observer.onPeerConnected(Y),this.updatePeerVideoTile(Y);break}case"left":this.observer.onPeerDisconnected(Y),this.observer.onPeerLeft(Y);break;case"disconnected":var Gt;(Gt=this.staleAttendeeChecker)===null||Gt===void 0||Gt.addDisconnectedAttendee(Y),this.observer.onPeerDisconnected(Y);break;case"reconnected":{var ln;(ln=this.staleAttendeeChecker)===null||ln===void 0||ln.deleteDisconnectedAttendee(Y),this.observer.onPeerConnected(Y),this.updatePeerVideoTile(Y);break}default:this.callLogger.error(`unknown peer event ${dt}`);return}}dt==="joined"&&this.attendeeJoined(Y),dt==="left"&&this.attendeeLeft(Y)}realtimeFatalErrorCallback(Y){this.callLogger.error(`Chime session fatal error: name=${Y.name}, message=${Y.message}`),this.observer.onClogError(`FatalError: ${Y.name} - ${Y.message}`)}realtimeLocalSignalStrengthChangeCallback(Y){this.consoleLog.debug(`Local attendee signalStrength=${Y}`)}realtimeMuteAndUnmuteLocalAudioCallback(Y){this.callLogger.debug(`Local attendee mute=${Y}`),this.observer.onPeerMuted("self",Y)}realtimeSetCanUnmuteLocalAudioCallback(Y){this.consoleLog.debug(`Local attendee can unmute = ${Y}`)}realtimeVolumeIndicatorCallback(Y,ce,Ce,ke,st){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${Y}, volume=${ce}, muted=${Ce}, signalStrength=${ke}, externalUserId=${st}`),this.selfAttendeeId!==Y&&(Ce?this.observer.onPeerMuted(Y,!0):Ce!==null&&Ce===!1&&this.observer.onPeerMuted(Y,!1)),ke!==null&&(this.selfAttendeeId===Y?this.observer.onSelfConnectionQualityChanged("uplink",(0,_.MK)(ke)):this.observer.onPeerConnectionQualityChanged(Y,"uplink",(0,_.MK)(ke)))}activeSpeakerDetectorCallback(Y){var ce,Ce;(ce=this.peerCache)===null||ce===void 0||ce.updateCallState({activeSpeakerList:Y}),(Ce=this.videoUplinkManager)===null||Ce===void 0||Ce.reportActiveSpeakerChange(this.selfAttendeeId===Y[0])}realtimeReceiveDataMessageCallback(Y){if(this.selfAttendeeId===Y.senderAttendeeId){if(!Y.throttled)return;this.callLogger.info(`Data message throttled: size=${Y.data.length} bytes`);return}let ce;try{ce=it.Y.decode(Y.data)}catch(Ce){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${Ce}
				| Data Sender Attendee ID: ${Y.senderAttendeeId}
				| Data Sender External Attendee ID: ${Y.senderExternalUserId}
				| Topic: ${Y.topic}`);return}this.handlePeerMessageFromDataMessage(ce,Y.senderAttendeeId)}handlePeerMessageFromDataMessage(Y,ce){const Ce=ce;if(Y.jukeboxRequest){var ke;if(!(0,en.Z)(Ce,"senderAttendeeId is not populated")||!(0,en.Z)(Y.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((ke=this.peerCache)===null||ke===void 0)&&ke.hasPeer(Ce))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${Ce}`);return}Y.jukeboxRequest.songKey&&!Y.jukeboxRequest.stop&&this.observer.onJukeboxRequest(Y.jukeboxRequest.songKey),Y.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(Y.reacji){var st;if(!(0,en.Z)(Ce,"senderAttendeeId is not populated")||!(0,en.Z)(Y.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((st=this.peerCache)===null||st===void 0)&&st.hasPeer(Ce)){const ln=yt(Y.reacji);this.observer.onPeerReacji(Ce,Y.reacji.emoji,!0,ln)}else this.callLogger.info(`Dropping reacji from unknown peer: ${Ce}`)}else if(Y.draw){var dt;const ln=Rt(Y.draw,this.selfAttendeeId);if(!(0,en.Z)(Ce,"senderAttendeeId is not populated")||!(0,en.Z)(ln,"Draw message must be correctly formed"))return;!((dt=this.peerCache)===null||dt===void 0)&&dt.hasPeer(Ce)?this.observer.onPeerDrawMessage(Ce,ln):this.callLogger.info(`Dropping draw message from unknown peer: ${Ce}`)}else if(Y.capabilities){if(!(0,en.Z)(Ce,"senderAttendeeId is not populated"))return;if(!(0,Qe.A)(Y.capabilities.isDrawEnabled)){var Ze;(Ze=this.peerCache)===null||Ze===void 0||Ze.updatePeerStates([{peerId:Ce,state:{isDrawEnabled:Y.capabilities.isDrawEnabled}}])}}else if(Y.muteRequest){var Lt;if(!(0,en.Z)(Ce,"senderAttendeeId is not populated")||!(0,en.Z)(Y.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((Lt=this.peerCache)===null||Lt===void 0)&&Lt.hasPeer(Ce)){if(Y.muteRequest.peerId===this.selfAttendeeId){var Gt;const ln=this.attendeeMuteRequests[ce],In=ln==null?void 0:ln.lastRequestTime,wn=Date.now();if(ln?(ln.lastRequestTime=wn,ln.count+=1):this.attendeeMuteRequests[ce]={lastRequestTime:wn,count:1},In&&wn-In<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${ce} peer: ${Ce}`);return}if(((Gt=this.attendeeMuteRequests[ce])===null||Gt===void 0?void 0:Gt.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${ce} peer: ${Ce}`);return}}this.observer.onPeerMuteRequest(Ce,Y.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${Ce}`)}else if(Y.contentShareDetails){if(!(0,en.Z)(Ce,"senderAttendeeId is not populated")||!(0,en.Z)(Y.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,en.Z)(Y.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${Y.contentShareDetails.itemId}, type: ${Y.contentShareDetails.sourceType}`);const ln=(0,ze.Vd)(Y.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(Ce,ln,Y.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(Y){this.observer.onTranscriptionEvent(Y)}updatePeerVideoTile(Y){this.audioVideoFacade.getAllVideoTiles().filter(ke=>{const st=ke.state();return!st||!st.boundAttendeeId?!1:new r.jp(st.boundAttendeeId).base()===new r.jp(Y).base()}).forEach(ke=>{const st=(ke==null?void 0:ke.state())||null;st&&this.observer.onPeerVideoTileUpdate(Y,st)})}constructor(Y,ce,Ce,ke){var st;this.selfAttendeeId=Y,this.audioVideoFacade=ce,this.observer=Ce,this.videoUplinkManager=ke,this.callLogger=(0,a.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,a.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var dt,Ze,Lt;return(dt=this.audioVideoFacade.audioVideoController)===null||dt===void 0||(Ze=dt.meetingSessionContext)===null||Ze===void 0||(Lt=Ze.signalingClient)===null||Lt===void 0?void 0:Lt.ready()},this.logFailureToSendPeerMessage=dt=>{const Ze=dt.draw?"draw":"reacji",Lt=i(()=>this.callLogger.error(`Failed to send ${Ze} peer message. Data channel is not ready to use.`),"logError");return(0,et.A)(Ze,Lt)},(0,Xe.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Tt,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(st=this.audioVideoFacade.transcriptionController)===null||st===void 0||st.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new _n(this.observer),this.staleAttendeeChecker=new xt(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var hn=e(3867135795),yn=e(6696292586);const ht=15,Bt=2560,wt=1e3,Qt="text";let mn=i(class{stopMusic(Y){let{cleanObserver:ce}=Y;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),ce&&this.audioVideoFacade.removeContentShareObserver(this))}stop(){var Y=this;return(0,t.coroutine)(function*(){Y.isScreenshareEnabled&&(Y.isStopRequested=yield Y.stopContentShare()),Y.huddlesJukeboxEnabled&&Y.stopMusic({cleanObserver:!0}),Y.isStopRequested||(Y.observer.onScreenShareStopped(),Y.audioVideoFacade.removeContentShareObserver(Y))})()}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}setSongStream(Y){var ce=this;return(0,t.coroutine)(function*(){ce.huddlesJukeboxEnabled&&(ce.waitForStart=(0,d.u)(),yield ce.audioVideoFacade.startContentShare(Y),ce.isMusicEnabled=!0)})()}setScreenshare(Y,ce,Ce){var ke=this;return(0,t.coroutine)(function*(){if(Y===ke.isScreenshareEnabled)return;const{huddleEventsTrace:st}=(0,A.A)().getAllTraceHandlers();if(Y){let dt=ce;if(ce){const Lt=ce.split(":");Lt.length===3&&Lt[2]!=="0"&&(Lt[2]="0",dt=Lt.join(":"),ke.log.warn(`Munging screen share media source id, before: ${ce}, after: ${dt}`))}let Ze;try{ke.waitForStart=(0,d.u)();const Lt=i(Gt=>{throw ke.log.error(`getUserMedia error during huddle screenshare attempt: ${Gt.name} ${Gt.message}`),Gt},"logGetUserMediaError");if((0,x.g9M)()&&ke.log.info(`Starting screen share with zoomLevel = ${(0,x.IXB)()}`),(0,x.g9M)()&&Ce){const{screenHeight:Gt,screenWidth:ln,selectedDisplayId:In}=Ce;if(Ze={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:dt,maxFrameRate:ht}}},ln&&Gt){const Sn=Ze.video.mandatory,jn=ln/Gt,is=Bt;Sn.maxWidth=ln<is?ln:is,Sn.maxHeight=Gt<is?Gt:is;const gs=navigator.mediaDevices.getSupportedConstraints();(0,hn.A)(gs,"aspectRatio")&&!!gs.aspectRatio&&(0,yn.A)(jn)&&(Sn.minAspectRatio=jn,Sn.maxAspectRatio=jn),ke.log.info(`Starting screen share with resolution constraints: ${Sn.maxWidth} x ${Sn.maxHeight} | resolution provided: ${ln} x ${Gt}`)}else ke.log.info("Starting application window share without proposed resolution");const Fn=yield navigator.mediaDevices.getUserMedia(Ze).catch(Lt);(Fn==null?void 0:Fn.getVideoTracks().length)>0?(ke.log.debug(`Applying content hint to content share stream. Content Hint ${Qt}`),Fn.getVideoTracks()[0].contentHint=Qt):ke.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const Sn=Fn.getVideoTracks()[0].getSettings(),jn=(0,ze.MS)(Sn==null?void 0:Sn.deviceId);W.A.publish({type:L.lx.ScreenshareContentType,update:{screenshareContentType:jn}}),ke.log.info(`Created video track with resolution: ${Sn.width} x ${Sn.height} framerate: ${Sn.frameRate} aspect ratio: ${Sn.aspectRatio}`),In&&ke.log.info(`Sharing from selected display: ${In}`)},500),yield ke.audioVideoFacade.startContentShare(Fn),setTimeout(()=>ke.applyContentShareConstraints(Fn),wt),st==null||st.update({name:v.p.SCREENSHARE,type:v.G.START})}else{ke.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const Gt=yield ke.audioVideoFacade.startContentShareFromScreenCapture(dt).catch(Lt);if(st==null||st.update({name:v.p.SCREENSHARE,type:v.G.START}),setTimeout(()=>ke.applyContentShareConstraints(Gt),wt),(Gt==null?void 0:Gt.getVideoTracks().length)>0){ke.log.debug(`Applying content hint to content share stream. Content Hint ${Qt}`),Gt.getVideoTracks()[0].contentHint=Qt;const ln=Gt.getVideoTracks()[0].getSettings(),In=(0,ze.MS)(ln==null?void 0:ln.deviceId);W.A.publish({type:L.lx.ScreenshareContentType,update:{screenshareContentType:In}})}else ke.log.warn("No video tracks where available when starting unconstrained content share")}}catch(Lt){const Gt=i(()=>{delete ke.waitForStart,ke.isScreenshareEnabled=!1,ke.observer.onScreenShareStopped()},"exitScreenshare");if(Lt.name==="NotAllowedError"){Gt(),Lt.message==="Permission denied by system"&&ke.observer.onCheckSystemMediaAccess(_.mT.SCREEN);return}if(Lt.name==="OverconstrainedError"){Gt(),Ze&&ke.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(Ze)}`);return}if(["TypeError","AbortError","Error"].includes(Lt.name)){Gt(),ke.observer.onScreenShareError(_.lD.ERROR);return}if(Lt.name==="NotReadableError"){Gt(),ke.observer.onScreenShareError(_.lD.NOT_READABLE_ERROR);return}throw Lt.name==="NotFoundError"&&(Gt(),ke.observer.onScreenShareError(_.lD.NOT_FOUND_ERROR)),ke.log.error(`Encountered an uncaught error attempting to start screen share: ${Lt.name} ${Lt.message}`),ke.waitForStart.resolve(!1),Gt(),Lt}ke.lastEnableTimeMs=Date.now(),ke.isScreenshareEnabled=Y}else ke.isScreenshareEnabled&&(yield ke.stopContentShare())})()}applyContentShareConstraints(Y){var ce=this;return(0,t.coroutine)(function*(){if(!ce.isExperimentalSDK)return;const Ce=Y.getVideoTracks()[0];if(!Ce){ce.log.info("Constraints not re-applied no video track available");return}Ce.getSettings()||ce.log.info("Constraints not re-applied no video track settings available");const st={width:{ideal:Bt},height:{ideal:Bt},frameRate:{ideal:ht}};yield Ce.applyConstraints(st),ce.log.info("Constraints re-applied to content share (resolution overwrite applied)")})()}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}stopContentShare(){var Y=this;return(0,t.coroutine)(function*(){let ce=!1;if(Y.waitForStart.isPending()?Date.now()-Y.lastEnableTimeMs>1e4?(ce=!0,Y.log.info(`Stop screen share, force: ${Date.now()-Y.lastEnableTimeMs} ms since start`)):(Y.log.info("Stop screen share, waiting for content share start to resolve"),ce=yield Y.waitForStart,Y.log.info(`Stop screen share, wait for content share start resolve finished: ${ce}`)):(ce=Y.waitForStart.value(),Y.log.info(`Stop screen share, promise resolved: ${ce}`)),ce){Y.audioVideoFacade.stopContentShare(),Y.isScreenshareEnabled=!1;const{huddleEventsTrace:Ce}=(0,A.A)().getAllTraceHandlers();Ce==null||Ce.update({name:v.p.SCREENSHARE,type:v.G.STOP}),W.A.publish({type:L.lx.ScreenshareContentType,update:null})}else Y.log.warn("Screen share disable ignored as screen share was not started successfully");return ce})()}constructor(Y,ce,Ce,ke){this.audioVideoFacade=Y,this.observer=ce,this.huddlesJukeboxEnabled=Ce,this.isExperimentalSDK=ke,this.log=(0,a.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=I(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),On=i(class{addObserver(Y){var ce,Ce;(ce=this.videoDownlinkPolicy)===null||ce===void 0||(Ce=ce.addObserver)===null||Ce===void 0||Ce.call(ce,Y)}removeObserver(Y){var ce,Ce;(ce=this.videoDownlinkPolicy)===null||ce===void 0||(Ce=ce.removeObserver)===null||Ce===void 0||Ce.call(ce,Y)}remoteVideoSourcesDidChange(Y){this.videoSources=Y,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const Y=[];this.videoSources.forEach(ce=>{var Ce;const ke=(Ce=ce.attendee)===null||Ce===void 0?void 0:Ce.attendeeId;ke===this.selfAttendeeId||!ke||(ke.includes("#content")||!this.isAudioOnlyMode)&&Y.push(ce)}),this.sendChimeVideoPreferences(Y)}constructor({selfAttendeeId:Y,videoDownlinkPolicy:ce}){this.logger=new ve.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=Ce=>{this.isAudioOnlyMode=Ce,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=Ce=>{var ke;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(Ce)}`)}catch{}(ke=this.videoDownlinkPolicy)===null||ke===void 0||ke.chooseRemoteVideoSources(Ce)},this.videoDownlinkPolicy=ce,this.selfAttendeeId=Y}},"VideoDownlinkManager");const zt=null;var nt=e(796111729);const mt=30,Ct=720;class Zt{get videoParticipantCount(){const Y=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+Y}constructor(Y,ce){this.observer=Y,this.audioVideoFacade=ce,this.logger=(0,nt.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.remoteVideoSourcesDidChange=Ce=>{this.logger.info("remote video sources changed",Ce),this.remoteVideoParticipantCount=Ce.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=Ce=>{this.logger.debug(`user is active speaker: ${Ce}`);const ke=this.isActiveSpeaker;this.isActiveSpeaker=Ce,ke===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const Ce=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const ke=this.currentBitrate;if(this.isActiveSpeaker?this.currentBitrate=Ce:this.remoteVideoParticipantCount<=2?this.currentBitrate=Ce:this.remoteVideoParticipantCount<=4?this.currentBitrate=Ce*2/3:this.currentBitrate=Ce*2/this.remoteVideoParticipantCount,ke===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}this.applyNextVideoSettings()},this.applyNextVideoSettings=()=>{if(!this.currentBitrate){this.logger.warn("current bitrate is null. Returning.");return}this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate))},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(Ct,Ct,mt),this.observer.onMaxTileSizeUpdated(Ct),this.applyNextVideoSettings()}}i(Zt,"VideoUplinkManager");var Ft=e(3146858537),Jt=e(3398586081),rn=e(1829947126);let gn=i(class{initialize(Y,ce){this.gainNode=ce,this.audioContext=Y}onAudioLevelUpdated(Y){isNaN(Y.value)||Y.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const Y=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(Y,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var Y;this.gainNode&&this.audioContext&&((Y=this.gainNode)===null||Y===void 0||Y.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(Y){this.defaultVolume=Y,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),rn.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const Fe="HUDDLE-JUKEBOX";let Ke=i(class{startLocalJukebox(Y){let{song:ce,volume:Ce}=Y;var ke=this;return(0,t.coroutine)(function*(){var st;const dt=ke.getSongUrl({song:ce});if(dt===ke.localAudioUrl)return;ke.callLogger.info(`Starting local jukebox song key: ${ce.key}.`),ke.audioContext||(ke.audioContext=new AudioContext),ke.cleanup(),ke.localAudioUrl=dt;const Lt=yield(yield window.fetch(dt)).arrayBuffer(),Gt=yield ke.audioContext.decodeAudioData(Lt);ke.audioBufferSourceNode=ke.audioContext.createBufferSource(),ke.audioBufferSourceNode.buffer=Gt,ke.localAudio=new Audio,ke.localAudio.volume=Ce,yield ke.localAudio.setSinkId((0,P._o)()),ke.localMediaStreamAudioDestinationNode=ke.audioContext.createMediaStreamDestination(),ke.gainNode=ke.audioContext.createGain(),(st=ke.jukeboxDucker)===null||st===void 0||st.initialize(ke.audioContext,ke.gainNode),ke.gainNode.gain.value=ke.defaultVolume,ke.audioBufferSourceNode.connect(ke.gainNode),ke.gainNode.connect(ke.localMediaStreamAudioDestinationNode),ke.localAudio.srcObject=ke.localMediaStreamAudioDestinationNode.stream,ke.audioBufferSourceNode.loop=!0,ke.audioBufferSourceNode.start(),ke.localAudio.play()})()}startContentShareJukebox(Y){let{song:ce}=Y;var Ce=this;return(0,t.coroutine)(function*(){var ke,st;Ce.audioContext||(Ce.audioContext=new AudioContext),Ce.audioDestination||(Ce.audioDestination=Ce.audioContext.createMediaStreamDestination()),Ce.callLogger.info(`Starting jukebox song key: ${ce.key}`),Ce.cleanup();const dt=Ce.getSongUrl({song:ce}),Lt=yield(yield window.fetch(dt)).arrayBuffer(),Gt=yield Ce.audioContext.decodeAudioData(Lt);return Ce.audioBufferSourceNode=Ce.audioContext.createBufferSource(),Ce.audioBufferSourceNode.buffer=Gt,Ce.localAudio=new Audio,yield Ce.localAudio.setSinkId((0,P._o)()),Ce.localMediaStreamAudioDestinationNode=Ce.audioContext.createMediaStreamDestination(),Ce.gainNode=Ce.audioContext.createGain(),(ke=Ce.jukeboxDucker)===null||ke===void 0||ke.initialize(Ce.audioContext,Ce.gainNode),Ce.gainNode.gain.value=Ce.defaultVolume,Ce.audioBufferSourceNode.connect(Ce.gainNode),Ce.gainNode.connect(Ce.audioDestination),Ce.gainNode.connect(Ce.localMediaStreamAudioDestinationNode),Ce.localAudio.srcObject=Ce.localMediaStreamAudioDestinationNode.stream,Ce.audioBufferSourceNode.loop=!0,Ce.audioBufferSourceNode.start(),Ce.localAudio.play(),(st=Ce.audioDestination)===null||st===void 0?void 0:st.stream})()}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var Y,ce,Ce,ke;(Y=this.audioBufferSourceNode)===null||Y===void 0||Y.stop(),this.audioBufferSourceNode=void 0,(ce=this.localAudio)===null||ce===void 0||ce.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(Ce=this.gainNode)===null||Ce===void 0||Ce.disconnect(),this.gainNode=void 0,(ke=this.audioDestination)===null||ke===void 0||ke.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var Y;return(Y=this.localAudio)===null||Y===void 0?void 0:Y.volume}getSongUrl(Y){let{song:ce}=Y;return ce.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,a.Jt)(Fe),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new gn(this.defaultVolume)}},"JukeboxManager");const He=(0,Jt.A)(()=>new Ke),Je={connectionWaitTimeMs:5*1e3,connectionUnhealthyThreshold:10,sendingAudioFailureSamplesToConsider:2,sendingAudioFailureInitialWaitTimeMs:3*1e3},ft={connectionWaitTimeMs:10*1e3,connectionUnhealthyThreshold:25,sendingAudioFailureSamplesToConsider:5,sendingAudioFailureInitialWaitTimeMs:10*1e3},St=i(class{constructor({enableExperimentalConfig:Y}){this.enableExperimentalConfig=!1,this.getConfiguration=()=>this.enableExperimentalConfig?ft:Je,this.enableExperimentalConfig=!!Y}},"ConnectionHealthPolicyManager");var cn=e(610288365),An=e(1921074781),Ln;(function(Oe){Oe.Control="control",Oe.Vp8="vp8",Oe.Vp8Svc="vp8_svc",Oe.Vp9="vp9",Oe.Vp9Svc="vp9_svc",Oe.Av1="av1",Oe.Av1Svc="av1_svc"})(Ln||(Ln={}));const It=(0,nt.Wo)({label:"HUDDLE-VIDEO-CODECS"}),qe=function(){var Oe=(0,t.coroutine)(function*(Y){let{audioVideoFacade:ce,h264BaselineProfileEnabled:Ce,disableVp9:ke}=Y;var st,dt;const Ze=[];!(0,E.gm)()&&!ke&&Ze.push(r.KK.vp9()),Ce&&Ze.push(r.KK.h264BaselineProfile()),Ze.push(r.KK.h264()),It.info(`Setting preferred camera video codec to ${(st=Ze[0])===null||st===void 0?void 0:st.codecName}`),It.debug("Setting camera video codec preferences",Ze),(dt=ce.setVideoCodecSendPreferences)===null||dt===void 0||dt.call(ce,Ze)});return i(function(ce){return Oe.apply(this,arguments)},"setCameraVideoCodec")}(),ct=function(){var Oe=(0,t.coroutine)(function*(Y){let{useAv1:ce,audioVideoFacade:Ce,h264BaselineProfileEnabled:ke}=Y;var st,dt;const Ze=[];ce&&Ze.push(r.KK.av1()),ke&&Ze.push(r.KK.h264BaselineProfile()),Ze.push(r.KK.h264()),It.info(`Setting preferred content share video codec to ${(st=Ze[0])===null||st===void 0?void 0:st.codecName}`),It.debug("Setting content share video codec preferences",Ze),(dt=Ce.setContentShareVideoCodecPreferences)===null||dt===void 0||dt.call(Ce,Ze)});return i(function(ce){return Oe.apply(this,arguments)},"setScreenshareVideoCodec")}();class vt{initialize(Y,ce,Ce,ke,st,dt){var Ze=this;return(0,t.coroutine)(function*(){var Lt,Gt,ln,In,wn,Fn,Sn,jn;st&&(Ze.waitForStop=st),dt&&(Ze.dataChannelSubscribers=dt),Ze.observer.onInit(),Ze.options=Y;const{serverConfig:is,useChimeSdkExp:gs,useSimulcast:Ls,useGetMediaAccessCheckForWindows:us,useHuddlesFilterWorker:ns}=Ze.options;yield(0,r.ZT)(gs),Ze.chimeLogger=new ve.k(Ze.loggerName),Ze.callLogger=(0,a.Jt)(Ze.loggerName),(Lt=Ze.callLogger)===null||Lt===void 0||Lt.info(`user agent: ${navigator.userAgent}`);const rs=(0,o.HF)();(Gt=Ze.callLogger)===null||Gt===void 0||Gt.info(`Version TS: ${rs}`);const ie=(document==null||(ln=document.documentElement)===null||ln===void 0||(In=ln.dataset)===null||In===void 0?void 0:In.versionHash)||"unknown";(wn=Ze.callLogger)===null||wn===void 0||wn.info(`Version Hash: ${ie}`),(Fn=Ze.callLogger)===null||Fn===void 0||Fn.info(`Chime SDK Version: ${r.zF.sdkVersion}${gs?" (Experimental)":""}`),Ze.meeting=is.meeting,Ze.attendee=is.attendee,Ze.selfAttendeeId=Ze.attendee.AttendeeId;const Se=(0,c.Y)(is.attendee.ExternalUserId);try{var $e;const Ye=JSON.stringify((0,n.A)(Y,"serverConfig"),null,2);($e=Ze.callLogger)===null||$e===void 0||$e.debug(`Huddle SDK [${Se}] initialized with options: ${Ye}`)}catch(Ye){var Pt;(Pt=Ze.callLogger)===null||Pt===void 0||Pt.error("Error stringifying options",Ye)}if(Ze.transportProtocols=is.transportProtocols,Ze.isPrejoin=Ze.options.isPrejoin,Ze.meetingSessionConfiguration=new r.QJ(Ze.meeting,Ze.attendee),Ls&&Ze.meetingSessionConfiguration){var Mn;(Mn=Ze.callLogger)===null||Mn===void 0||Mn.info("Simulcast enabled"),Ze.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(Ze.options.usePriorityDownlinkPolicy&&(Ze.videoDownlinkPolicy=new r.gi(Ze.selfAttendeeId),Ze.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=Ze.videoDownlinkPolicy,Ze.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,Ze.videoDownlinkManager=new On({selfAttendeeId:Ze.selfAttendeeId,videoDownlinkPolicy:Ze.videoDownlinkPolicy})),Ze.meetingSessionConfiguration.urls&&(Ze.meetingSessionConfiguration.urls.urlRewriter=Ze.urlRewriter.bind(Ze)),Ze.meetingSessionConfiguration&&Ze.meetingSessionConfiguration.connectionHealthPolicyConfiguration&&(0,s.A)(Ze.options.enableExperimentalConnectionHealthPolicyConfig)){const Ye=new St({enableExperimentalConfig:Ze.options.enableExperimentalConnectionHealthPolicyConfig});Object.assign(Ze.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Ye.getConfiguration())}Ze.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,yield Ze.initVoiceFocus();const Cn={audio:ce.includes(_.mT.MICROPHONE),video:ce.includes(_.mT.CAMERA)};r.vB.disable();let Rn;const on=!!(!((Sn=Ze.voiceFocusManager)===null||Sn===void 0)&&Sn.isAvailable()),qn=Ze.options.disableAudioRedundancy||!1;if(gs){const Ye=(0,r.Q_)(),Yt=(0,r.RM)();if(Ze.defaultDeviceController=new Yt(Ze.chimeLogger,{enableWebAudio:on}),Ze.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Cn)),Ze.sessionExp=new Ye(Ze.meetingSessionConfiguration,Ze.chimeLogger,Ze.defaultDeviceController),Rn=Ze.sessionExp.audioVideo,qn){const pt=(0,r.Ls)();Rn.setAudioProfile(new pt(null,!1)),Rn.setContentAudioProfile(new pt(null,!1))}}else{const Ye=(0,r.of)(),Yt=(0,r.zg)();if(Ze.defaultDeviceController=new Yt(Ze.chimeLogger,{enableWebAudio:on}),Ze.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Cn)),Ze.session=new Ye(Ze.meetingSessionConfiguration,Ze.chimeLogger,Ze.defaultDeviceController),Rn=Ze.session.audioVideo,qn){const pt=(0,r.j3)();Rn.setAudioProfile(new pt(null,!1)),Rn.setContentAudioProfile(new pt(null,!1))}}if(Ze.options.useVideoUplinkPolicy){var ms;(ms=Ze.callLogger)===null||ms===void 0||ms.info("Video uplink policy enabled"),Ze.videoUplinkManager=new Zt(Ze.observer,Rn)}yield Ze.populateDeviceInfoCache();const Ts=Ze.options.useH264Baseline||!1;qe({audioVideoFacade:Rn,h264BaselineProfileEnabled:Ts,disableVp9:!!Ze.options.disableVp9});const Ps=Ze.options.useH264BaselineScreenshare||!1,Ss=Ze.options.useAv1Screenshare;ct({useAv1:Ss,audioVideoFacade:Rn,h264BaselineProfileEnabled:Ps});const vs={useGetMediaAccessCheckForWindows:us,useHuddlesFilterWorker:ns,backgroundVideoFilteringSetting:l.uT.Both,useDevicesExp:Ze.options.useDevicesExp,useVideoUplinkPolicy:Ze.options.useVideoUplinkPolicy},bs=fe;Ze.deviceManager=new bs(Rn,Ze.audioOutputElement,Ze.observer,vs,Ce,Ze.chimeLogger,Ze.defaultDeviceController,Ze.voiceFocusManager),(jn=Ze.dataChannelSubscribers)===null||jn===void 0||jn.forEach(Ye=>Ye.onInitializeDataChannelSubscriber()),Ze.audioVideoObserver=new Ge(Ze.selfAttendeeId,Ze.meeting.MeetingId,Ze.meeting.MediaRegion,Se,Rn,Ze.observer,Ze.deviceManager,Ze.videoDownlinkManager,ke,Ze.waitForStop,Ze.dataChannelSubscribers,Ze.videoUplinkManager);const Pn=Ze.options.huddlesJukeboxEnabled;if(Pn){var tt;(tt=Ze.callLogger)===null||tt===void 0||tt.info("Huddles Jukebox experiment enabled (prototype)")}Ze.contentShareManager=new mn(Rn,Ze.observer,!!Pn,gs),Ze.audioVideoFacadeSubscriber=new Dt(Ze.selfAttendeeId,Rn,Ze.observer,Ze.videoUplinkManager),(0,cn.Ay)().initialize(),Ze.connect(),Ze.screenManager=new m.A,Ze.observer.onMeetingSessionInitialized(),Ze.waitForInit.resolve()})()}shutdown(Y){var ce=this;return(0,t.coroutine)(function*(){var Ce,ke,st,dt,Ze,Lt;if((Ce=ce.callLogger)===null||Ce===void 0||Ce.info("Huddles SDK shutdown initiated"),yield ce.waitForInit,ce.cleanupDataChannelSubscribers(),(ke=ce.contentShareManager)===null||ke===void 0||ke.stop(),(st=ce.audioVideoObserver)===null||st===void 0||st.stop(),yield(dt=ce.deviceManager)===null||dt===void 0?void 0:dt.shutdown(),An.F.doesInstanceExist()){var Gt;(Gt=An.F.getInstance())===null||Gt===void 0||Gt.release()}(Ze=ce.audioVideoFacadeSubscriber)===null||Ze===void 0||Ze.destroy(),yield ce.waitForStop,delete ce.session,delete ce.sessionExp,delete ce.meetingSessionConfiguration,yield ce.cleanupDefaultDeviceControllerRefs(),(Lt=ce.callLogger)===null||Lt===void 0||Lt.info("Huddles SDK shutdown completed"),delete ce.chimeLogger,delete ce.callLogger,delete ce.deviceManager,delete ce.audioVideoFacadeSubscriber,delete ce.audioVideoObserver,delete ce.contentShareManager,delete ce.screenManager,delete ce.voiceFocusManager,delete ce.videoDownlinkManager,delete ce.videoDownlinkPolicy,delete ce.videoUplinkManager,Y&&Y()})()}selfMicrophoneEnabled(Y){var ce;(ce=this.deviceManager)===null||ce===void 0||ce.setMicrophone(Y)}selfVideoEnabled(Y,ce,Ce,ke){var st,dt;(st=this.deviceManager)===null||st===void 0||st.setCamera(Y),(dt=this.contentShareManager)===null||dt===void 0||dt.setScreenshare(ce,Ce,ke)}startContentShareJukebox(Y){let{song:ce}=Y;var Ce=this;return(0,t.coroutine)(function*(){var ke;const st=yield He().startContentShareJukebox({song:ce});st&&((ke=Ce.contentShareManager)===null||ke===void 0||ke.setSongStream(st))})()}selfStopJukebox(){var Y=this;return(0,t.coroutine)(function*(){var ce;He().stopJukebox(),(ce=Y.contentShareManager)===null||ce===void 0||ce.stopMusic({cleanObserver:!1})})()}setCameraQuality(Y,ce,Ce,ke){var st;if(!(!((st=this.options)===null||st===void 0)&&st.useVideoUplinkPolicy)){var dt;(dt=this.deviceManager)===null||dt===void 0||dt.setCameraQuality(Y,ce,Ce,ke)}}setAGC(Y){var ce;(ce=this.deviceManager)===null||ce===void 0||ce.setAGC(Y)}setNewPreferredDevice(Y,ce){var Ce;(Ce=this.deviceManager)===null||Ce===void 0||Ce.setPreferredDevice(Y,ce)}setNoiseSuppression(Y){var ce;(ce=this.deviceManager)===null||ce===void 0||ce.setNoiseSuppression(Y)}setVideoBackgroundEffect(Y){var ce;(ce=this.deviceManager)===null||ce===void 0||ce.setVideoBackgroundEffect(Y)}requestPreviewStreamForDeviceId(Y,ce,Ce){var ke;(ke=this.deviceManager)===null||ke===void 0||ke.requestPreviewStreamForDeviceId(Y,ce,Ce)}stopVideoPreviewForVideoInput(Y){var ce;(ce=this.deviceManager)===null||ce===void 0||ce.stopVideoPreviewForVideoInput(Y)}getScreenThumbnails(Y){var ce=this;return(0,t.coroutine)(function*(){var Ce;return yield(Ce=ce.screenManager)===null||Ce===void 0?void 0:Ce.getScreenThumbnails(Y==null?void 0:Y.thumbnailDimensions,Y==null?void 0:Y.isRefetch)})()}selfDrawEnabled(Y){var ce;(ce=this.audioVideoFacadeSubscriber)===null||ce===void 0||ce.selfDrawEnabled(Y)}sendReacji(Y,ce){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.sendReacji(Y,ce)}sendBackground(Y){var ce;(ce=this.audioVideoFacadeSubscriber)===null||ce===void 0||ce.sendBackground(Y)}sendMuteRequest(Y){var ce;(ce=this.audioVideoFacadeSubscriber)===null||ce===void 0||ce.sendMuteRequest(Y)}sendJukeboxRequest(Y){var ce;(ce=this.audioVideoFacadeSubscriber)===null||ce===void 0||ce.sendJukeboxRequest(Y)}sendJukeboxStopRequest(){var Y;(Y=this.audioVideoFacadeSubscriber)===null||Y===void 0||Y.sendJukeboxStopRequest()}sendDrawMessage(Y){var ce;(ce=this.audioVideoFacadeSubscriber)===null||ce===void 0||ce.sendDrawMessage(Y)}sendContentShareDetails(Y){var ce;(ce=this.audioVideoFacadeSubscriber)===null||ce===void 0||ce.sendContentShareDetails(Y)}sendRecordingStartNotification(){var Y;(Y=this.audioVideoFacadeSubscriber)===null||Y===void 0||Y.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var Y;(Y=this.deviceManager)===null||Y===void 0||Y.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(Y){var ce;return(ce=this.deviceManager)===null||ce===void 0?void 0:ce.maybeCheckSystemMediaAccess(Y)}setIncludeSelfAndNoneActiveSpeaker(Y,ce){var Ce;(Ce=this.audioVideoFacadeSubscriber)===null||Ce===void 0||Ce.setIncludeSelfAndNoneActiveSpeaker(Y,ce)}bindVideo(Y,ce,Ce){var ke;const st=this.session||this.sessionExp;if(!st)return;const dt=(ke=st.audioVideo.getVideoTile(Y))===null||ke===void 0?void 0:ke.state();Ce?dt!=null&&dt.boundVideoStream&&r.xc.connectVideoStreamToVideoElement(dt.boundVideoStream,ce,!1):(this.videoDownlinkPolicy&&(dt!=null&&dt.paused)&&st.audioVideo.unpauseVideoTile(Y),st.audioVideo.bindVideoElement(Y,ce))}unbindVideo(Y,ce,Ce){const ke=this.session||this.sessionExp;ke&&(Ce?r.xc.disconnectVideoStreamFromVideoElement(ce,!0):ke.audioVideo.getVideoTile(Y)&&ke.audioVideo.unbindVideoElement(Y))}pauseVideo(Y){const ce=this.session||this.sessionExp;if(!ce)return;const Ce=ce.audioVideo.getVideoTile(Y),ke=Ce==null?void 0:Ce.state();!(ke!=null&&ke.isContent)&&(ke!=null&&ke.active)&&(Ce==null||Ce.pause())}unpauseVideo(Y){const ce=this.session||this.sessionExp;if(!ce)return;const Ce=ce.audioVideo.getVideoTile(Y),ke=Ce==null?void 0:Ce.state();ke!=null&&ke.paused&&(Ce==null||Ce.unpause())}videoTileHasStream(Y){const ce=this.session||this.sessionExp;if(!ce)return!1;const Ce=ce.audioVideo.getVideoTile(Y);if(!Ce)return!1;const ke=Ce.state();return ke?!!ke.boundVideoStream:!1}getMeetingMediaRegion(){var Y;return(Y=this.meeting)===null||Y===void 0?void 0:Y.MediaRegion}completePrejoin(Y){var ce=this;return(0,t.coroutine)(function*(){const{isStartMuted:Ce}=Y;if(ce.isPrejoin){var ke,st;return Ce&&((ke=ce.deviceManager)===null||ke===void 0||ke.setStartMutedBarrier(Ce)),(st=ce.audioVideoObserver)===null||st===void 0||st.start(),ce.maybeBindAudioOutputElement(),ce.setIncludeSelfAndNoneActiveSpeaker(!0,!0),ce.isPrejoin=!1,!0}return!1})()}urlRewriter(Y){if(!Y)return Y;if(this.transportProtocols){const st=this.transportProtocols;if(Y.includes("?transport=udp")&&!st.includes("udp")){var ce;return(ce=this.callLogger)===null||ce===void 0||ce.info("Dropping UDP transport"),""}if(Y.includes("?transport=tcp")){if(Y.includes("turns:")){if(!st.includes("tls")){var Ce;return(Ce=this.callLogger)===null||Ce===void 0||Ce.info("Dropping TLS transport"),""}}else if(!st.includes("tcp")){var ke;return(ke=this.callLogger)===null||ke===void 0||ke.info("Dropping TCP transport"),""}}}return Y.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var Y,ce=this;const Ce=function(){var ke=(0,t.coroutine)(function*(){try{var st;ce.videoDevicePermissionStatus="IN_PROGRESS";const Ze=yield navigator.mediaDevices.getUserMedia({video:!0});return(st=ce.callLogger)===null||st===void 0||st.info("Video device permissions granted"),ce.videoDevicePermissionStatus="GRANTED",Ze}catch(Ze){var dt;throw ce.videoDevicePermissionStatus="DENIED",ce.observer.onSetNoMediaInput(_.mT.CAMERA),(dt=ce.callLogger)===null||dt===void 0||dt.info("Video device permissions denied"),Ze}});return i(function(){return ke.apply(this,arguments)},"callback")}();(Y=this.defaultDeviceController)===null||Y===void 0||Y.setDeviceLabelTrigger(Ce)}maybeEnableSelfCamera(){let{isScreenshareEnabled:Y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var ce=this;return(0,t.coroutine)(function*(){if((yield ce.initVideoPermission())&&(ce.videoDevicePermissionStatus==="INITIAL"||ce.videoDevicePermissionStatus==="GRANTED")){var ke;ce.selfVideoEnabled(!0,!!Y),ce.observer.onPeerCameraActive("self",!0),(ke=ce.callLogger)===null||ke===void 0||ke.info("maybeEnableSelfCamera:: enabling camera function executed")}})()}initVideoPermission(){var Y=this;return(0,t.coroutine)(function*(){var ce;return Y.setupVideoDeviceLabelTrigger(),yield(ce=Y.deviceManager)===null||ce===void 0?void 0:ce.initVideoInputDevices()})()}getSelfAttendeeId(){return this.selfAttendeeId}constructor(Y,ce,Ce="FREE-WILLY-SDK"){this.observer=Y,this.audioOutputElement=ce,this.loggerName=Ce,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,d.u)(),this.waitForStop=(0,d.u)();var ke=this;this.initVoiceFocus=(0,t.coroutine)(function*(){let Lt=0;const Gt=Date.now();ke.voiceFocusManager=new Ft.A(ke.chimeLogger),yield ke.voiceFocusManager.init({configOnly:!1}),Lt=Date.now()-Gt,ke.observer.onMaybeVoiceFocusInitialized(Lt)});var st=this;this.populateDeviceInfoCache=(0,t.coroutine)(function*(){var Lt,Gt,ln,In;const wn=Date.now(),Fn=yield(Lt=st.defaultDeviceController)===null||Lt===void 0?void 0:Lt.listAudioInputDevices(),Sn=yield(Gt=st.defaultDeviceController)===null||Gt===void 0?void 0:Gt.listAudioOutputDevices(),jn=yield(ln=st.defaultDeviceController)===null||ln===void 0?void 0:ln.listVideoInputDevices(),is=Date.now()-wn;(In=st.callLogger)===null||In===void 0||In.info(`Populated device info cache in ${is}ms with ${Fn==null?void 0:Fn.length} microphones, ${Sn==null?void 0:Sn.length} speakers, and ${jn==null?void 0:jn.length} cameras`)}),this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Lt=>Lt.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)};var dt=this;this.cleanupDefaultDeviceControllerRefs=(0,t.coroutine)(function*(){var Lt;if(!dt.defaultDeviceController)return;yield dt.defaultDeviceController.destroy();const Gt=(Lt=dt.defaultDeviceController)===null||Lt===void 0?void 0:Lt.eventController;if(Gt){var ln;const In=(ln=Gt.configuration)===null||ln===void 0?void 0:ln.urls;In&&(In.urlRewriter=void 0)}dt.defaultDeviceController.deviceLabelTrigger=void 0,delete dt.defaultDeviceController}),this.handleClientOffline=()=>{var Lt;(Lt=this.audioVideoObserver)===null||Lt===void 0||Lt.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Lt=>{var Gt;(Gt=this.videoDownlinkManager)===null||Gt===void 0||Gt.toggleAllIncomingVideo(Lt)};var Ze=this;this.connect=(0,t.coroutine)(function*(){var Lt,Gt;if((Lt=Ze.audioVideoObserver)===null||Lt===void 0||Lt.startWithSignalingOnly(),yield(Gt=Ze.deviceManager)===null||Gt===void 0?void 0:Gt.init(),!Ze.isPrejoin){var ln;if(!F.Ay.canAccessMediaResource(_.mT.MICROPHONE)){var In;(In=Ze.callLogger)===null||In===void 0||In.error("Missing microphone permissions. Not connecting to huddle");return}(ln=Ze.audioVideoObserver)===null||ln===void 0||ln.start()}}),this.videoDevicePermissionStatus="INITIAL"}}i(vt,"FreeWillySdk")},5016574668:(Q,C,e)=>{"use strict";e.d(C,{An:()=>r,Kp:()=>l,Nb:()=>s,RN:()=>m,Sq:()=>a,ZT:()=>t,jt:()=>c,tz:()=>d,w4:()=>o,yz:()=>n});const t=10*1e3,n=1e3,s="2.5",r=450*450,d=25,o=15,a="huddles_perf",l="app_metrics",m="client_metrics",c=5},2205899741:(Q,C,e)=>{"use strict";e.d(C,{$c:()=>M,h7:()=>O,t5:()=>E,e7:()=>_,KG:()=>D,q4:()=>A,_N:()=>h,sI:()=>V,Ap:()=>u,kq:()=>L,ik:()=>y,No:()=>R,fB:()=>W,Ye:()=>v,RI:()=>m,Fq:()=>k,oj:()=>p,qf:()=>P,Tg:()=>f});const t=30,n=300,s=300,r=30,d=10,o=30,a=1,l=i(S=>function(H){for(var w=arguments.length,F=new Array(w>1?w-1:0),j=1;j<w;j++)F[j-1]=arguments[j];if(!(typeof H!="string"&&typeof H!="number"))return S(H,...F)},"makeDeduction"),m=l(S=>S>r?S/5:void 0),c=l(S=>S>400?S/20:void 0),_=l(S=>S>1?S:void 0),p=l(S=>S>s?S/7.5:void 0),u=l(S=>S>1?S*10:void 0),h=l(S=>S>t?S/2:void 0),E=l(S=>S>o?S*1.25:void 0),A=l(S=>S>n?S/10:void 0),v=l(S=>S>o?S*1.5:void 0),f=l(S=>S>d?S*1.5:void 0),g=l(S=>S*2),y=l(S=>S&&S!=="udp"?40:void 0),T=l(S=>S&&S>500?S/100:void 0),M=l(S=>S>150?S/5:void 0),O=l(S=>S>15?S*2:void 0),I=l(S=>S>5?S:void 0),D=l(S=>S>20?S/5:void 0),P=l(S=>S>1?S*2.5:void 0),k=l(S=>!S||S==="none"?void 0:25),R=l(S=>S>0?S*20:void 0),V=l(S=>S>1?S*1.25:void 0),B=l(S=>S>300?S/10:void 0),W=l(S=>S&&S>o?S*1.5:void 0),L=l(S=>S>a?Math.round(S*7.5):void 0)},8634352961:(Q,C,e)=>{"use strict";e.d(C,{Zr:()=>g,gR:()=>A,kB:()=>f,oB:()=>y,ws:()=>E,zT:()=>v});var t=e(7578217447),n=e(3852424459),s=e(796111729),r=e(9101533895),d=e(5795074931),o=e(3078252698);const a=(0,s.Wo)({label:"HUDDLE-RTM-FILTER"}),l=new Set(["file_shared","file_created","file_unshared","file_change"]),m=new Set(["sh_room_join","huddle_invite_cancel","update_thread_state","thread_subscribed","ended_huddle_update"]);let c=i(class{constructor(M){this.skippedCount=0,this.allowedCount=0,this.allowedTypes={},this.updateSubscribedChannels=()=>{const I=this.getState();this.mutedChannels=(0,n.m)(I);const D=(0,r.D5)(I);this.joinedChannelIds=new Set(D.map(P=>P.id)),a.info(`Huddle RTM filter initialized. XWS joined channel count: ${this.joinedChannelIds.size} - Muted channel count: ${this.mutedChannels?Object.keys(this.mutedChannels).length:0}`)},this.getTopAllowedTypes=()=>this.allowedCount?Object.entries(this.allowedTypes).sort((I,D)=>{let[,P]=I,[,k]=D;return k-P}).slice(0,5).map(I=>{let[D]=I;return D}).join(" "):"",this.getPercentSkipped=()=>Math.round(this.skippedCount/(this.skippedCount+this.allowedCount)*100),this.isChannelDm=I=>I.startsWith("D"),this.isChannelMuted=I=>!I||!this.mutedChannels?!1:!!this.mutedChannels[I],this.isChannelJoined=I=>!I||!this.joinedChannelIds?!1:!!this.joinedChannelIds.has(I),this.skipRtm=()=>(this.skippedCount+=1,!0),this.allowRtm=I=>{this.allowedCount+=1;const D=I.type==="message"?`${I.type}/${I.subtype}`:I.type;return this.allowedTypes[I.type]=(this.allowedTypes[D]||0)+1,a.debug(`Allowed RTM type: ${I.type} - subtype: ${I.subtype}`,I),!1},this.shouldSkipRtm=I=>{var D,P;if(m.has(I.type))return this.allowRtm(I);if(((D=I.user)===null||D===void 0?void 0:D.id)===this.currentUserId||I.user===this.currentUserId||I.user_id===this.currentUserId)return this.allowRtm(I);if(I.type==="channel_joined"||I.type==="mpim_joined"||I.type==="im_open"||I.type==="member_joined_channel"||I.type==="message"&&I.subtype==="channel_join"||I.type==="desktop_notification"&&I.is_channel_invite)return a.info("Received IM/MPDM/channel join RTM. Updating channel references",I),this.updateSubscribedChannels(),this.allowRtm(I);const k=I.channel||((P=I.item)===null||P===void 0?void 0:P.channel)||I.channel_id,R=(0,o.A)(k)?k:void 0;return R&&this.isChannelDm(R)?this.allowRtm(I):R&&this.isChannelMuted(R)?this.skipRtm():R&&!this.isChannelJoined(R)?this.skipRtm():t.Sj.has(I.type)&&!l.has(I.type)?this.skipRtm():I.type==="dnd_invalidated"?this.skipRtm():I.type==="bot_added"||I.type==="bot_changed"||I.type==="hermes_trigger_updated"||I.type==="apps_changed"||I.type==="apps_installed"||I.type==="apps_uninstalled"?this.skipRtm():this.allowRtm(I)};const O=M();this.getState=M,this.currentUserId=(0,d.WR)(O),this.updateSubscribedChannels()}},"HuddleRtmFilter"),_,p,u=0;const h=i(()=>{u=0,p=Date.now()},"clearRtmsSinceLastReport"),E=i(T=>{try{a.info("initializing Huddle RTM filter"),_||(_=new c(T),h())}catch(M){a.error("Error in initHuddleRtmFilter",M)}},"initHuddleRtmFilter"),A=i(()=>{a.info("destroying Huddle RTM filter"),_=void 0,h()},"destroyHuddleRtmFilter"),v=i(()=>{if(_)return _.getPercentSkipped()},"getRtmFilterPercentSkipped"),f=i(()=>{if(_)return _.getTopAllowedTypes()},"getRtmFilterTopAllowedTypes"),g=i(T=>{try{return u+=1,p||(p=Date.now()),_?_.shouldSkipRtm(T):!1}catch(M){return a.error("Error in shouldSkipRtmDuringHuddle",M),!1}},"shouldSkipRtmDuringHuddle"),y=i(()=>{try{if(!p||!u)return 0;const T=Date.now()-p,M=Math.round(u/(T/1e3));return h(),M}catch(T){return a.error("Error in getRtmsPerSecond",T),0}},"getRtmsPerSecond")},415910655:(Q,C,e)=>{"use strict";e.d(C,{ZR:()=>r,jm:()=>n,s2:()=>s});let t;const n=i(d=>{t||(t={}),Object.assign(t,d)},"updateJoinTimingMetrics"),s=i(()=>t,"getJoinTimingMetrics"),r=i(()=>{t=void 0},"resetJoinTimingMetrics")},5470425448:(Q,C,e)=>{"use strict";e.d(C,{lx:()=>l,zu:()=>a});var t;(function(m){m.UDP="udp",m.TCP="tcp"})(t||(t={}));var n;(function(m){m.RELAY="relay",m.DIRECT="direct"})(n||(n={}));var s;(function(m){m.UPLINK="uplink",m.DOWNLINK="downlink"})(s||(s={}));var r;(function(m){m.GOOD="good",m.FAIR="fair",m.BAD="bad",m.WORST="worst"})(r||(r={}));var d;(function(m){m.GOOD="good",m.FAIR="fair",m.BAD="bad",m.WORST="worst"})(d||(d={}));var o;(function(m){m[m.UPSTREAM=0]="UPSTREAM",m[m.DOWNSTREAM=1]="DOWNSTREAM"})(o||(o={}));var a;(function(m){m[m.AUDIO=0]="AUDIO",m[m.VIDEO=1]="VIDEO"})(a||(a={}));var l;(function(m){m.RtmMetrics="rtm-metrics",m.RenderTiming="render-timing",m.BluetoothDevices="bluetooth-devices",m.MemoryLeaks="memory-leaks",m.SelectedMediaRegion="selected-media-region",m.PreferredMediaRegion="preferred-media-region",m.VoiceFocusConfig="voice-focus-config",m.NetworkDisconnect="network-disconnect",m.CallId="call-id",m.ScreenshareContentType="screenshare-content-type",m.AppMetrics="app-metrics",m.NoAudio="no-audio",m.CameraResolution="max-camera-resolution",m.SetIsDebugApp="set-is-debug-app",m.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",m.TroubleshootingEntryPoint="troubleshooting-entry-point",m.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(l||(l={}))},5071086688:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6267571562);const n=new t.G},5403856613:(Q,C,e)=>{"use strict";e.d(C,{U:()=>r,p:()=>o});var t=e(7091646278),n=e(2205899741);const s=20,r=80,d=60,o=i(a=>{const{audioDownstreamQualityScore:l,networkQualityScore:m,networkType:c,networkProtocol:_,networkRelayProtocol:p,networkAvailableOutgoingBitrate:u,networkJitterMs:h,audioDownstreamJitterBufferDelay:E,networkCurrentRoundTripTimeMs:A,mediaRegionSelected:v,mediaRegionPreferred:f,cpuUse:g,cpuUseRelative:y,cpuCompetitionScore:T,gpuUse:M,batteryIsUsing:O,selectedMicrophone:I,selectedCamera:D,selectedSpeakers:P,cameraIsBlocked:k,cameraIsAvailable:R,microphoneIsBlocked:V,microphoneIsAvailable:B,isMicrophoneBluetooth:W,isSpeakerBluetooth:L,isMicrophoneAndSpeakerOnSameDevice:S,isHardwareAccelerationEnabled:H,isDisconnected:w,noAudioInput:F,osIsThrottlingCpu:j,networkPacketLossPercent:J}=a;let X;switch(!0){case m<=0:X=t.bz.Bad;break;case m<=r:X=t.bz.Warn;break;default:X=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:v,mediaRegionPreferred:f,selectedMicrophone:I,selectedCamera:D,selectedSpeakers:P},unstable:{cpuCompetitionScore:T,cpuUse:g,gpuUse:M,cpuUseRelative:y,audioQualityScore:l,jitterMs:h,audioDelayMs:E,roundTripTimeMs:A,packetLossPercent:J,incomingBandwidth:u,networkQualityScore:m}},warnings:{stable:{isVpnEnabled:c==="vpn",isSuboptimalProtocol:!!(0,n.ik)(_)||!!(0,n.ik)(p),isMediaRegionSuboptimal:!!v&&!!f&&v!==f,isUsingBatteryPower:O,isMicrophoneBluetooth:W,isMicrophoneAndSpeakerOnSameDevice:S,isSpeakerBluetooth:L,isCameraProbablyIphone:/iphone/.test(D==null?void 0:D.toLowerCase()),isHardwareAccelerationDisabled:H===!1,isOSThrottlingCpu:!!j},unstable:{isCpuUsePoor:!!(0,n.$c)(g),isCpuUseRelativePoor:!!(0,n.h7)(y),isGpuUsePoor:!!(0,n.KG)(M),isJitterPoor:!!(0,n._N)(h),isRTTPoor:!!(0,n.oj)(A),isAudioDelayPoor:!!(0,n.q4)(E),isPacketLossPoor:!!(0,n.kq)(J)}},alerts:{stable:{isCameraBlocked:k||!R,isMicrophoneBlocked:V||!B,isMicrophoneNotSendingAudio:!!F,isDisconnected:w},unstable:{networkQualityHealth:X,isNetworkQualityPoor:m<=r,isAudioQualityPoor:l<=s,isCpuCompetitionPoor:T<=d}}}},"getTroubleshootingMetricsFromTags")},6246464105:(Q,C,e)=>{"use strict";e.d(C,{N5:()=>m,R1:()=>d,Y:()=>l});var t=e(6797417739),n=e(2825968873),s=e(5470425448),r=e(5071086688),d;(function(c){c.HuddlesSdk="huddles-sdk",c.ChimeChannelListener="chime-channel-listener",c.ChimeChannelBroadcaster="chime-channel-broadcaster",c.VoiceFocusDevice="voice-focus-device",c.VideoTransformDevice="video-transform-device",c.VideoFrameProcessor="video-frame-processor"})(d||(d={}));const o=new Map([[d.HuddlesSdk,t.Y.create({name:d.HuddlesSdk})],[d.ChimeChannelListener,t.Y.create({name:d.ChimeChannelListener})],[d.ChimeChannelBroadcaster,t.Y.create({name:d.ChimeChannelBroadcaster})],[d.VoiceFocusDevice,t.Y.create({name:d.VoiceFocusDevice})],[d.VideoTransformDevice,t.Y.create({name:d.VideoTransformDevice})],[d.VideoFrameProcessor,t.Y.create({name:d.VideoFrameProcessor})]]),a=(0,n.Jt)("HUDDLE-LEAK-MONITOR"),l=i(c=>{let{name:_,ref:p}=c;const u=o.get(_);if(!u)return;const h=u.getMetrics();if(h){const{numberOfObjects:E,numberOfExpiredObjects:A}=h,v=E-A;A>3&&(a.warn(`Detected ${A} memory leak(s) for ${_}${v?` (with another ${v} instances in memory)`:""}`),r.A.publish({type:s.lx.MemoryLeaks,update:{name:_,leakCount:A}}))}u.watch(p)},"monitorObjectForMemoryLeaks"),m=i(()=>{for(const[,c]of o)c.expectGCAll()},"detectMemoryLeaks")},8872167513:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ln});var t=e(3398586081),n=e(4724591729),s=e(796111729),r=e(3855029223),d=e(4798756512),o=e(9680914051);let a=i(class{initializeHuddleReconnectTracer(){var qe,ct,vt;this.reconnectSpan=(qe=this.trace)===null||qe===void 0?void 0:qe.startSpan(o.xN),this.reconnectSuccessSpan=(ct=this.trace)===null||ct===void 0?void 0:ct.startSpan(o.xx),this.reconnectFailureSpan=(vt=this.trace)===null||vt===void 0?void 0:vt.startSpan(o.cJ)}traceReconnectAttemptOutcome(qe){let{isSuccess:ct}=qe;var vt;ct?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(vt=this.logger)===null||vt===void 0||vt.info(`Registered huddle reconnect attempt outcome - isSuccess: ${ct}`)}traceReconnectAttempt(){var qe;this.reconnectCount+=1,(qe=this.logger)===null||qe===void 0||qe.info("Counted huddle reconnect attempt")}report(){var qe,ct,vt,Oe,Y;(qe=this.reconnectSpan)===null||qe===void 0||qe.addTags({metric_value:this.reconnectCount}).close(),(ct=this.reconnectSuccessSpan)===null||ct===void 0||ct.addTags({metric_value:this.reconnectSuccessCount}).close(),(vt=this.reconnectFailureSpan)===null||vt===void 0||vt.addTags({metric_value:this.reconnectFailureCount}).close(),(Oe=this.tracer)===null||Oe===void 0||Oe.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(Y=this.logger)===null||Y===void 0||Y.info("Reported reconnect attempt metric trace")}constructor({tracer:qe,trace:ct,logger:vt}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=qe,this.trace=ct,this.logger=vt,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),l=i(class{addTTIMetaTags(qe){let{entryPoint:ct,preferredMediaRegion:vt,isPrejoin:Oe,isCreate:Y}=qe;var ce;(ce=this.trace)===null||ce===void 0||ce.addTags({entry_point:ct,preferred_media_region:vt,is_prejoin:Oe,is_create:Y,success:!1})}createFetchCredentialsSpan(){var qe;this.fetchCredentialsSpan=(qe=this.trace)===null||qe===void 0?void 0:qe.startSpan(o.xl)}setCachedTag(qe){let{cached:ct}=qe;var vt;(vt=this.trace)===null||vt===void 0||vt.addTags({cached:ct})}closeFetchCredentialsSpan(){var qe;(qe=this.fetchCredentialsSpan)===null||qe===void 0||qe.close()}createConnectToMediaServiceSpan(){var qe;this.connectToMediaServiceSpan=(qe=this.trace)===null||qe===void 0?void 0:qe.startSpan(o.xA)}closeConnectToMediaServiceSpan(){var qe,ct,vt,Oe;(qe=this.connectToMediaServiceSpan)===null||qe===void 0||qe.close(),(ct=this.trace)===null||ct===void 0||ct.addTags({success:!0}),(vt=this.tracer)===null||vt===void 0||vt.reportTrace(this.trace),this.traceReported=!0,(Oe=this.logger)===null||Oe===void 0||Oe.info("Reported TTI metric trace")}getTTITraceId(){var qe;return(qe=this.trace)===null||qe===void 0?void 0:qe.getTraceId()}getFetchCredentialsSpanId(){var qe;return(qe=this.fetchCredentialsSpan)===null||qe===void 0?void 0:qe.getId()}setMediaRegionTag(qe){var ct,vt;const Oe=(ct=this.trace)===null||ct===void 0?void 0:ct.getTags().preferred_media_region;(vt=this.trace)===null||vt===void 0||vt.addTags({media_region:qe,media_region_matches:qe===Oe})}report(){var qe,ct;if(!this.traceReported){var vt,Oe;(vt=this.tracer)===null||vt===void 0||vt.reportTrace(this.trace),this.traceReported=!0,(Oe=this.logger)===null||Oe===void 0||Oe.info("Reported TTI metric trace in final clean up")}(qe=this.tracer)===null||qe===void 0||qe.clearTrace(this.trace),(ct=this.logger)===null||ct===void 0||ct.info("Cleaned up TTI metric trace")}constructor({teamId:qe,logger:ct}){this.traceReported=!1,this.tracer=(0,r.E)({teamOrEnterpriseId:qe}),this.trace=this.tracer.createTrace({traceName:o.bQ,samplingOptions:{sampleRate:(0,n.Cu)()?1:.05,sampleType:d.tS.SESSION}}),this.logger=ct}},"HuddleTTITracer");var m=e(7542104324),c=e(5470425448),_=e(9706240641),p=e(5016574668),u=e(1616072515);let h=i(class{recordAppMetrics(qe){var ct=this;return(0,_.coroutine)(function*(){const vt=Date.now();if(vt-ct.lastRecordedSpanTs<ct.reportingInterval)return;ct.logger.debug(`Adding new ${p.Sq}:${p.Kp} span`);const Y=ct.trace.startSpan(p.Kp),ce=(0,u.tT)(qe),Ce=Object.keys(ce).length;Y.addTags(ce),Y.close(),ct.logger.debug(`Added new ${p.Sq}:${p.Kp} span with ${Ce} tags`),ct.getSpanCount()>p.jt&&ct.report(),ct.lastRecordedSpanTs=vt})()}constructor({teamId:qe,logger:ct,callLogger:vt,enableMaxReportingFrequency:Oe}){var Y=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.getMetricsCollectionInterval=()=>(0,n.Cu)()||this.enableMaxReportingFrequency?p.yz:p.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:p.Sq,tags:{__dataset:p.RN},samplingOptions:{sampleType:d.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var ce;const Ce=(ce=this.trace)===null||ce===void 0?void 0:ce.getSpans();return Ce?Object.keys(Ce).length:0},this.report=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(ce&&Y.callLogger.debug(`Huddle ${Y.callId} is ending. Reporting ${Y.getSpanCount()} remaining spans`),!Y.traceReported&&Y.getSpanCount()>0){var Ce,ke;(Ce=Y.tracer)===null||Ce===void 0||Ce.reportTrace(Y.trace),(ke=Y.tracer)===null||ke===void 0||ke.clearTrace(Y.trace),Y.logger.debug(`Cleared ${p.Sq}:${p.Kp} event trace`),ce?Y.traceReported=!0:Y.createNewTrace()}else Y.logger.debug(`Attempted to report ${p.Sq}:${p.Kp} trace but there was nothing to report`)},this.tracer=(0,r.E)({teamOrEnterpriseId:qe}),this.enableMaxReportingFrequency=!!Oe,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=ct,this.callLogger=vt}},"HuddlePerfTracer");const E=null;var A=e(4103274853),v=e(166097325),f=e(8478954380),g=e(5403856613);const y=10*1e3,T=30*1e3;class M{constructor(qe){this.logger=qe,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=y,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(T,this.updateInterval+1e3))},this.getStableAlerts=(ct,vt)=>{const Oe=i(Y=>{const ce=ct[Y];let Ce=this.currentAlerts[Y];const ke=Date.now();Ce.push({timestamp:ke,value:ce}),Ce=Ce.filter(Gt=>{let{timestamp:ln}=Gt;return ke-ln<=T}),this.currentAlerts[Y]=Ce,Ce=Ce.filter(Gt=>{let{timestamp:ln}=Gt;return ke-ln<=vt.interval});const st=new Map;for(const Gt of Ce)st.has(Gt.value)||st.set(Gt.value,0),st.set(Gt.value,st.get(Gt.value)+1);const dt=Array.from(st.entries());let[Ze,Lt]=dt[0];for(const[Gt,ln]of dt.slice(1))ln>Lt&&(Lt=ln,Ze=Gt);return dt.length?Ze:this.currentUnstableAlerts[Y]},"nextAlert");return{isAudioQualityPoor:Oe("isAudioQualityPoor"),isCpuCompetitionPoor:Oe("isCpuCompetitionPoor"),isNetworkQualityPoor:Oe("isNetworkQualityPoor"),networkQualityHealth:Oe("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=ct=>{let{alerts:vt}=ct;const Oe=this.getStableAlerts(vt,this.getStabilityConfig()),Y=!(0,v.A)(Oe,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),Y)return this.currentUnstableAlerts=Oe,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),Oe}}}i(M,"AlertUpdater");const O=null,I="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",D={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${I}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${I}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},R={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...D},V={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class B{constructor({callLogger:qe,logger:ct,dispatch:vt}){this.isDev=(0,n.Cu)(),this.isJsPath=(0,n.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=Oe=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:Y,isUnifiedGrid:ce,visibleSidebarItemCount:Ce,networkType:ke,networkProtocol:st,networkRelayProtocol:dt,isHardwareAccelerationEnabled:Ze,batteryIsUsing:Lt}=Oe;this.callLogger.info(`Initial Huddle Config: Network Type=${ke}; Network Protocol=${st}; Network Relay Protocol=${dt}; IA4=${Y}; Unified Grid=${ce}; Hardware Acceleration=${Ze??"unknown (browser)"}; Using Battery Power=${Lt}; Sidebar Size=${Ce};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(Oe,Y)=>{Object.entries(Oe).forEach(ce=>{let[Ce,ke]=ce;if(ke&&this.isRelevantWarning(Ce,Oe)&&R[Ce]){let st;if(Ce in V){const Ze=V[Ce];Ze&&(Y!=null&&Y[Ze])&&(st=Y[Ze])}this.logger.warn(`\u{1F6A8} WARNING! ${R[Ce]}${st?` reasons: (${st})`:""}`)}})},this.isRelevantWarning=(Oe,Y)=>Oe==="isNetworkQualityPoor"||Oe==="isCpuCompetitionPoor"?"isAudioQualityPoor"in Y&&!!Y.isAudioQualityPoor:!0,this.logTags=Oe=>{const Y=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${p.Sq}:${p.Kp} event span tags`,Oe):Y-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${p.Sq}:${p.Kp} event span tags`,Oe),this.lastLoggedTagsTs=Y)},this.getStatsDiff=Oe=>{const Y=this.lastProcessedStats;return(0,A.A)(Oe,(ce,Ce)=>{var ke,st;return{stable:Y?!(0,v.A)((ke=Y[Ce])===null||ke===void 0?void 0:ke.stable,ce==null?void 0:ce.stable):null,unstable:Y?!(0,v.A)((st=Y[Ce])===null||st===void 0?void 0:st.unstable,ce==null?void 0:ce.unstable):null}})},this.maybeUpdateTroubleshootingPanel=Oe=>{var Y,ce,Ce,ke,st,dt,Ze,Lt,Gt;const ln=Date.now(),In=(0,g.p)(Oe),wn=this.getStatsDiff(In);if(this.lastProcessedStats=In,(!((Y=wn.alerts)===null||Y===void 0)&&Y.stable||((ce=wn.alerts)===null||ce===void 0?void 0:ce.stable)===null)&&In.alerts.stable&&(this.dispatch((0,f._6)(In.alerts.stable)),wn.alerts.stable&&this.logWarningAndAlertUpdates(In.alerts.stable)),(!((Ce=wn.metrics)===null||Ce===void 0)&&Ce.stable||((ke=wn.metrics)===null||ke===void 0?void 0:ke.stable)===null)&&In.metrics.stable&&this.dispatch((0,f.qO)(In.metrics.stable)),(!((st=wn.warnings)===null||st===void 0)&&st.stable||((dt=wn.warnings)===null||dt===void 0?void 0:dt.stable)===null)&&In.warnings.stable&&(this.dispatch((0,f.it)(In.warnings.stable)),this.logWarningAndAlertUpdates(In.warnings.stable)),!((Ze=In.alerts)===null||Ze===void 0)&&Ze.unstable){const Fn=this.alertUpdater.getAlertUpdates({alerts:In.alerts.unstable});Fn&&(this.dispatch((0,f.Li)(Fn)),this.logWarningAndAlertUpdates(Fn,Oe))}In.metrics.unstable&&In.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||ln-this.lastUnstableMetricsUpdateTs>1e4&&(!((Lt=wn.warnings)===null||Lt===void 0)&&Lt.unstable||!((Gt=wn.metrics)===null||Gt===void 0)&&Gt.unstable))&&(this.dispatch((0,f.bW)({metrics:In.metrics.unstable,warnings:In.warnings.unstable})),this.lastUnstableMetricsUpdateTs=ln)},this.processTags=Oe=>{this.maybeUpdateTroubleshootingPanel(Oe),this.logHuddleConfigInfo(Oe),this.logTags(Oe),this.lastProcessedTagsTs=Date.now()},this.callLogger=qe,this.logger=ct,this.dispatch=vt,this.alertUpdater=new M(ct),this.callLogger.info("huddle perf observer initialized")}}i(B,"HuddlePerfObserver");const W=null,L=B;var S=e(2825968873),H=e(5238395322),w=e(2208015175),F=e(9137897911),j=e(9113979368),J=e(8872403767),X=e(6313685253),q=e(1687672245),G=e(6696292586);const ne=i(It=>{if((0,j.A)(It))return;const qe=(0,X.A)(It,(ct,vt)=>(0,q.A)(ct,vt,(Oe,Y)=>(Oe||0)+Y),{});return(0,A.A)(qe,ct=>ct/It.length)},"calculateIncomingVideoStatsAverages"),te=i(It=>{if(typeof It=="string"||typeof It=="boolean")return It;if(!isNaN(It)&&!(typeof It>"u"||It===null))return Math.round(It)},"getScrubbedMetricValue"),le=i(It=>{let{clientMetricReport:qe,direction:ct}=It;const vt=Object.keys(qe.streamMetricReports);let Oe;return vt.forEach(Y=>{const ce=Number(Y),Ce=qe.streamMetricReports[ce];Ce.direction===ct&&Ce.mediaType===c.zu.AUDIO&&(Oe=ce)}),Oe},"getAudioSsrcId"),he=i((It,qe,ct,vt,Oe)=>{const Y=It==null?void 0:It.getMetricMap(qe,ct)[vt];if(Y!=null&&Y.transform)return Y.transform(vt,Oe)},"getNonObservedMetric"),fe=i((It,qe)=>{const ct=qe?It.replace(qe,""):It;return ct.charAt(0).toUpperCase()+ct.slice(1)},"removeSubstringAndCapitalize"),ve=i(function(It){let qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,G.A)(qe)||!(0,G.A)(It))return 0;const vt=isNaN(ct)?0:ct;if(It===qe||It>qe)return 0;const Y=(qe-It)/qe*100-vt;return Math.round(Y)},"calculateNonNetworkPacketLoss");var me=e(5057176955),oe;(function(It){It[It.UPSTREAM=0]="UPSTREAM",It[It.DOWNSTREAM=1]="DOWNSTREAM"})(oe||(oe={}));var N;(function(It){It[It.AUDIO=0]="AUDIO",It[It.VIDEO=1]="VIDEO"})(N||(N={}));let K,x;const b=i(function(It,qe,ct){let vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It||!qe)return;const Oe=(qe.timestamp-It.timestamp)/1e3,Y=qe[ct]-It[ct];return vt?Y/Oe:Y},"getNextStat"),z=i(It=>{let{clientMetricReport:qe,selfAttendeeId:ct}=It;const vt=qe.getObservableVideoMetrics();if(!vt||!ct)return;let Oe=0;const Y={},ce=[];return(0,w.A)(vt,(Ce,ke)=>{var st;const dt=Number((st=Object.keys(Ce))===null||st===void 0?void 0:st[0]);if(!dt)return;const Ze=Ce[dt];if(ke.endsWith("#content")){var Lt,Gt;Oe+=1,(0,w.A)(Ze,(jn,is)=>{Y[(0,F.A)(`screenshare_${(0,u._3)(is)}${Oe>1?`${Oe}_`:""}`)]=te(jn)}),Object.assign(Y,{screenshareVideoDownstreamDecoderImplementation:(Lt=qe.streamMetricReports[dt])===null||Lt===void 0||(Gt=Lt.currentStringMetrics)===null||Gt===void 0?void 0:Gt.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:qe.countPerSecond("framesReceived",dt),screenshareVideoDownstreamFramesDroppedPerSecond:he(qe,N.VIDEO,oe.DOWNSTREAM,"framesDropped",dt),screenshareVideoDownstreamFreezeCount:he(qe,N.VIDEO,oe.DOWNSTREAM,"freezeCount",dt),screenshareVideoDownstreamTotalDecodeTime:he(qe,N.VIDEO,oe.DOWNSTREAM,"totalDecodeTime",dt),screenshareVideoDownstreamTotalFreezesDuration:he(qe,N.VIDEO,oe.DOWNSTREAM,"totalFreezesDuration",dt)});return}if(ct===ke){if(Ze.videoUpstreamBitrate!==0){var ln,In;(0,w.A)(Ze,(jn,is)=>{Y[`self${fe(is,"Upstream")}`]=te(jn)}),Object.assign(Y,{selfVideoHardwareEncoder:he(qe,N.VIDEO,oe.UPSTREAM,"encoderImplementation",dt),selfVideoEncoderImplementation:(ln=qe.streamMetricReports[dt])===null||ln===void 0||(In=ln.currentStringMetrics)===null||In===void 0?void 0:In.encoderImplementation,selfVideoTotalEncodeTime:he(qe,N.VIDEO,oe.UPSTREAM,"totalEncodeTime",dt)})}}else{var wn,Fn;const jn=he(qe,N.VIDEO,oe.DOWNSTREAM,"totalDecodeTime",dt);if(jn){var Sn;Y.videoDownstreamTotalDecodeTime=((Sn=Y.videoDownstreamTotalDecodeTime)!==null&&Sn!==void 0?Sn:0)+jn}Object.assign(Y,{videoDownstreamDecoderImplementation:(wn=qe.streamMetricReports[dt])===null||wn===void 0||(Fn=wn.currentStringMetrics)===null||Fn===void 0?void 0:Fn.decoderImplementation}),ce.push({...Ze,videoDownstreamFramesReceivedPerSecond:qe.countPerSecond("framesReceived",dt),videoDownstreamFramesDroppedPerSecond:he(qe,N.VIDEO,oe.DOWNSTREAM,"framesDropped",dt)})}}),(0,j.A)(ce)||Object.assign(Y,ne(ce)),Y},"getVideoMetricTags"),$=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],Z=i(It=>{let{clientMetricReport:qe}=It;const{audioDecoderLoss:ct,audioPacketLossPercent:vt,audioPacketsReceived:Oe,audioPacketsReceivedFractionLoss:Y,audioPacketsSent:ce,audioSpeakerDelayMs:Ce,audioDownstreamJitterMs:ke,videoUpstreamBitrate:st,videoPacketSentPerSecond:dt,currentRoundTripTimeMs:Ze,availableIncomingBitrate:Lt,availableOutgoingBitrate:Gt,nackCountReceivedPerSecond:ln,audioUpstreamRoundTripTimeMs:In,audioUpstreamJitterMs:wn}=qe.getObservableMetrics(),Fn=50,Sn=ve(Oe,Fn,Y),jn=ve(ce,Fn,vt),is={audioDownstreamDecoderLoss:ct,audioUpstreamPacketLossPercent:vt,audioDownstreamPacketsReceived:Oe,audioDownstreamPacketLossPercent:Y,audioDownstreamJitterMs:ke,audioUpstreamPacketsSent:ce,audioDownstreamNonNetworkPacketLossPercent:Sn,audioUpstreamNonNetworkPacketLossPercent:jn,audioDownstreamJitterBufferDelay:Ce,selfVideoBitrate:st,selfVideoPacketsSentPerSecond:dt,audioUpstreamRoundTripTimeMs:In,audioUpstreamJitterMs:wn,networkCurrentRoundTripTimeMs:Ze,networkAvailableIncomingBitrate:Lt,networkAvailableOutgoingBitrate:Gt,networkNackCountReceivedPerSecond:ln},gs=(0,J.A)(is,(Se,$e)=>$.indexOf($e)>-1?(0,F.A)(`network_${$e}`):$e),us={networkSocketPacketsDiscardedOnSend:qe.globalMetricReport.currentMetrics.packetsDiscardedOnSend},ns=le({clientMetricReport:qe,direction:oe.DOWNSTREAM});let rs;if(ns){const Se=he(qe,N.AUDIO,oe.DOWNSTREAM,"concealedSamples",ns);rs={audioDownstreamTotalSamplesReceived:he(qe,N.AUDIO,oe.DOWNSTREAM,"totalSamplesReceived",ns),audioDownstreamConcealedSamples:Se}}return(0,A.A)({...gs,...us,...rs},Se=>te(Se))},"getAudioMetricTags"),U=i(It=>{const qe={},ct=[];let vt;if(!It)return K=void 0,qe;It.forEach(Y=>{Y.type==="local-candidate"&&ct.push(Y),Y.type==="media-source"&&Y.kind==="audio"&&(qe.audioUpstreamTotalSamplesDuration=Y.totalSamplesDuration,qe.audioUpstreamAudioLevel=Y.audioLevel,qe.audioUpstreamTotalAudioEnergy=Y.totalAudioEnergy),Y.type==="candidate-pair"&&Y.state==="succeeded"&&Y.nominated&&Y.localCandidateId&&(vt=Y.localCandidateId),Y.type==="inbound-rtp"&&Y.kind==="audio"&&(qe.audioDownstreamLevel=Y.audioLevel),Y.type==="outbound-rtp"&&Y.kind==="video"&&(qe.selfVideoQualityLimitationDurations=Y.qualityLimitationDurations&&(0,me.Zf)(Y.qualityLimitationDurations),qe.selfVideoOutboundFramesPerSecond=Y.framesPerSecond,qe.selfVideoPacketSendDelay=b(K,Y,"totalPacketSendDelay"),K=Y),Y.type==="media-source"&&Y.kind==="video"&&(qe.selfVideoSourceFramesPerSecond=Y.framesPerSecond)});const Oe=ct.find(Y=>Y.id===vt);if(Oe){const{networkType:Y,protocol:ce,relayProtocol:Ce}=Oe;qe.networkType=Y,qe.networkProtocol=ce,qe.networkRelayProtocol=Ce}return qe},"getRtcStatsTags"),ee=i(It=>{if(!It){x=void 0;return}const qe={};return It.forEach(ct=>{if(ct.type==="remote-inbound-rtp"&&ct.kind==="video"){const{fractionLost:vt,jitter:Oe,roundTripTime:Y}=ct;Object.assign(qe,{screenshareUpstreamJitter:Oe*1e3,screenshareUpstreamPacketLossPercent:vt*100,screenshareUpstreamRoundTripTime:Y*1e3})}if(ct.type==="outbound-rtp"&&ct.kind==="video"){const{frameHeight:vt,frameWidth:Oe,framesPerSecond:Y,targetBitrate:ce,encoderImplementation:Ce,scalabilityMode:ke,powerEfficientEncoder:st}=ct;if(Object.assign(qe,{screenshareUpstreamTargetBitrate:ce,screenshareUpstreamFrameWidth:Oe,screenshareUpstreamFrameHeight:vt,screenshareUpstreamFramesPerSecond:Y,screenshareUpstreamEncoderImplementation:Ce,screenshareUpstreamPowerEfficientEncoder:st,screenshareUpstreamScalabilityMode:ke}),!x){x=ct;return}const dt=b(x,ct,"totalEncodeTime",!0),Ze=dt&&dt*1e3;Object.assign(qe,{screenshareUpstreamPacketsSent:b(x,ct,"packetsSent"),screenshareUpstreamPacketSendDelay:b(x,ct,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:b(x,ct,"keyFramesEncoded"),screenshareUpstreamBitrate:b(x,ct,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:Ze}),x=ct}}),(0,A.A)(qe,ct=>te(ct))},"getScreenshareRtcStatsTags"),se=i(It=>{let{clientMetricReport:qe,selfAttendeeId:ct}=It;const vt=z({clientMetricReport:qe,selfAttendeeId:ct}),Oe=Z({clientMetricReport:qe});return{...vt,...Oe}},"getClientMetricReportTags"),de={getVideoMetricTags:z,getAudioMetricTags:Z,getClientMetricReportTags:se,getScreenshareRtcStatsTags:ee,getRtcStatsTags:U};var ue=e(4404059078),_e=e(6890312250),pe=e(2205899741);const ae=0,Ee=100;function Le(It){return It.endsWith(",")?It.slice(0,-1):It}i(Le,"trimComma");const ye=i(()=>{let It=100,qe="";return{deductFromScoreForReason:(ct,vt)=>{ct&&(It-=ct,qe+=`${vt},`)},getScore:()=>(0,ue.A)(It,ae,Ee),getReasons:()=>Le(qe)}},"trackScoreAndReasons"),Te=i(It=>{const{deductFromScoreForReason:qe,getScore:ct,getReasons:vt}=ye(),{screenshareUpstreamBitrate:Oe,screenshareUpstreamPacketLossPercent:Y,screenshareUpstreamJitter:ce,screenshareUpstreamRoundTripTime:Ce,screenshareUpstreamFramesPerSecond:ke,screenshareUpstreamPacketSendDelay:st,screenshareUpstreamQualityLimitationReason:dt}=It;if(Oe)return qe((0,pe.Tg)(Y),"screenshareUpstreamPacketLossPercent"),qe((0,pe._N)(ce),"screenshareUpstreamJitter"),qe((0,pe.oj)(Ce),"screenshareUpstreamRoundTripTime"),qe((0,pe.RI)(st),"screenshareUpstreamPacketSendDelay"),qe((0,pe.qf)(p.w4-ke),"screenshareUpstreamFramesPerSecond"),qe((0,pe.Fq)(dt),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:ct(),screenshareUpstreamQualityScoreReasons:vt()}},"getScreenshareUpstreamQualityScore"),Ae=i(It=>{const{selfVideoPacketLossPercent:qe,selfVideoFrameHeight:ct,selfVideoFrameWidth:vt,selfVideoRoundTripTime:Oe,selfVideoJitterMs:Y,selfVideoFramesEncodedPerSecond:ce,isSelfVideoEnabled:Ce}=It;if(!Ce||!vt)return;const{deductFromScoreForReason:ke,getScore:st,getReasons:dt}=ye();ke((0,pe.Tg)(qe),"selfVideoPacketLossPercent");const Ze=ct*vt;return ke((0,pe.e7)(100-Ze/p.An*100),"selfVideoFrameHeight,selfVideoFrameWidth"),ke((0,pe._N)(Y),"selfVideoJitterMs"),ke((0,pe.oj)(Oe),"selfVideoRoundTripTime"),ke((0,pe.qf)(p.tz-ce),"selfVideoFramesEncodedPerSecond"),{selfVideoQualityScore:st(),selfVideoQualityScoreReasons:dt()}},"getSelfVideoQualityScore"),Ie=i(It=>{const{videoDownstreamPacketLossPercent:qe,videoDownstreamFramesDecodedPerSecond:ct,videoDownstreamFrameHeight:vt,videoDownstreamFrameWidth:Oe,videoDownstreamJitterMs:Y,videoDownstreamDelayMs:ce}=It;if(!Oe)return;const{deductFromScoreForReason:Ce,getScore:ke,getReasons:st}=ye();Ce((0,pe.Tg)(qe),"videoDownstreamPacketLossPercent");const dt=vt*Oe;return Ce((0,pe.e7)(p.An/dt),"videoDownstreamFrameHeight,videoDownstreamFrameWidth"),Ce((0,pe.q4)(ce),"videoDownstreamDelayMs"),Ce((0,pe._N)(Y),"videoDownstreamJitterMs"),Ce((0,pe.qf)(p.tz-ct),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:ke(),videoDownstreamQualityScoreReasons:st()}},"getVideoDownstreamQualityScore"),Ue=i(function(It){let qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:ct,getScore:vt,getReasons:Oe}=ye();if(qe){const{screenshareVideoDownstreamPacketLossPercent2:st,screenshareVideoDownstreamJitterMs2:dt,screenshareVideoDownstreamDelayMs2:Ze,screenshareVideoDownstreamFrameHeight2:Lt}=It;return Lt?(ct((0,pe.Tg)(st),"screenshareVideoDownstreamPacketLossPercent2"),ct((0,pe._N)(dt),"screenshareVideoDownstreamJitterMs2"),ct((0,pe.q4)(Ze),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:vt(),screenshareVideoDownstreamQualityScoreReasons2:Oe()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:Y,screenshareVideoDownstreamJitterMs:ce,screenshareVideoDownstreamDelayMs:Ce,screenshareVideoDownstreamFrameHeight:ke}=It;if(ke)return ct((0,pe.Tg)(Y),"screenshareVideoDownstreamPacketLossPercent"),ct((0,pe._N)(ce),"screenshareVideoDownstreamJitterMs"),ct((0,pe.q4)(Ce),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:vt(),screenshareVideoDownstreamQualityScoreReasons:Oe()}},"getScreenshareDownstreamQualityScore"),Be=i(It=>{const{audioUpstreamPacketLossPercent:qe,audioUpstreamRoundTripTimeMs:ct,audioUpstreamJitterMs:vt,audioUpstreamNonNetworkPacketLossPercent:Oe}=It;if(!ct)return;const{deductFromScoreForReason:Y,getScore:ce,getReasons:Ce}=ye();return Y((0,pe.Ye)(qe),"audioUpstreamPacketLossPercent"),Y((0,pe.oj)(ct),"audioUpstreamRoundTripTimeMs"),Y((0,pe._N)(vt),"audioUpstreamJitterMs"),Y((0,pe.fB)(Oe),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:ce(),audioUpstreamQualityScoreReasons:Ce()}},"getAudioUpstreamQualityScore"),we=i(It=>{const qe={};return It.screenshareVideoDownstreamFrameHeight2&&Object.assign(qe,Ue(It,!0)),{...Ue(It),...qe}},"getScreenshareDownstreamQualityScores"),re=i(It=>{const{cpuUse:qe,gpuUse:ct,cpuUseRelative:vt,longTasksPercentage:Oe}=It,{deductFromScoreForReason:Y,getScore:ce,getReasons:Ce}=ye();return Y((0,pe.sI)(Oe),"longTasksPercentage"),Y((0,pe.$c)(qe),"cpuUse"),Y((0,pe.KG)(ct),"gpuUse"),Y((0,pe.h7)(vt),"cpuUseRelative"),{cpuCompetitionScore:ce(),cpuCompetitionScoreReasons:Ce()}},"getCpuCompetitionScoreTags"),ge=i(function(){for(var It=arguments.length,qe=new Array(It),ct=0;ct<It;ct++)qe[ct]=arguments[ct];const vt=qe.filter(G.A);return vt.length?Math.round((0,_e.A)(vt)):0},"getMetricAverage"),De=i(It=>{const{networkCurrentRoundTripTimeMs:qe,networkNackCountReceivedPerSecond:ct,networkSocketPacketsDiscardedOnSend:vt,networkProtocol:Oe,networkRelayProtocol:Y,audioDownstreamJitterMs:ce,audioDownstreamPacketLossPercent:Ce,audioUpstreamPacketLossPercent:ke,audioUpstreamJitterMs:st,videoDownstreamPacketLossPercent:dt,screenshareDownstreamPacketLossPercent:Ze,screenshareUpstreamPacketLossPercent:Lt,selfVideoPacketLossPercent:Gt}=It,{deductFromScoreForReason:ln,getScore:In,getReasons:wn}=ye();ln((0,pe.ik)(Oe),"networkProtocol"),ln((0,pe.ik)(Y),"networkRelayProtocol"),ln((0,pe.No)(vt),"networkSocketPacketsDiscardedOnSend"),ln((0,pe.oj)(qe),"networkCurrentRoundTripTimeMs");const Fn=ge(ce,st);ln((0,pe._N)(Fn),"networkJitterMs"),ln((0,pe.Ap)(ct),"networkNackCountReceivedPerSecond");const Sn=ge(Ce,dt,Ze,ke,Gt,Lt);return ln((0,pe.kq)(Sn),"networkPacketLossPercent"),{networkJitterMs:Fn,networkPacketLossPercent:Sn,networkQualityScore:In(),networkQualityScoreReasons:wn()}},"getNetworkQualityScoreTags"),be=i(It=>{const{audioDownstreamDecoderLoss:qe,audioDownstreamJitterBufferDelay:ct,audioDownstreamPacketLossPercent:vt}=It,{deductFromScoreForReason:Oe,getScore:Y,getReasons:ce}=ye();return Oe((0,pe.t5)(qe),"audioDownstreamDecoderLoss"),Oe((0,pe.q4)(ct),"audioDownstreamJitterBufferDelay"),Oe((0,pe.Ye)(vt),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:Y(),audioDownstreamQualityScoreReasons:ce()}},"getAudioDownstreamQualityTags"),Re=i(It=>({...be(It),...De(It),...Be(It),...Ae(It),...we(It),...Te(It),...re(It),...Ie(It),qualityScoringVersion:p.Nb}),"getQualityScoreTags"),je=i((It,qe)=>{let{type:ct,update:vt}=It;switch(ct){case c.lx.BluetoothDevices:case c.lx.PreferredMediaRegion:case c.lx.CameraResolution:case c.lx.CallId:case c.lx.ScreenshareContentType:Object.assign(qe.sharedTags,vt);break;case c.lx.MemoryLeaks:{const Oe=qe.sharedTags.memoryLeakCount;Object.assign(qe.sharedTags,{type:"shared",tags:{[`memoryLeaks-${vt.name}`]:vt.leakCount,memoryLeakCount:Oe?Oe+vt.leakCount:vt.leakCount}});break}case c.lx.SelectedMediaRegion:{const{mediaRegionPreferred:Oe}=qe.sharedTags,Y=Oe&&vt.mediaRegionSelected?Oe===vt.mediaRegionSelected:!0;Object.assign(qe.sharedTags,{mediaRegionSelected:vt.mediaRegionSelected,mediaRegionMatchesPreference:Y});break}case c.lx.VoiceFocusConfig:Object.assign(qe.sharedTags,{vfSimdSupported:vt.model.simd,vfModelVariant:vt.model.variant,vfSupported:vt.supported});break;case c.lx.NetworkDisconnect:vt.peerId==="self"&&Object.assign(qe.transientTags,{selfDisconnectCount:(qe.transientTags.selfDisconnectCount||0)+1});break;case c.lx.NoAudio:{const Oe=vt.direction==="send"?{noAudioInput:vt.noAudio}:{noAudioOutput:vt.noAudio};Object.assign(qe.sharedTags,Oe);break}case c.lx.SetIsDebugApp:Object.assign(qe.sharedTags,{isDebugApp:!0});break;default:{(0,S.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${ct}`));break}}},"updateState"),Ge=null;var Qe=e(6267571562);const Xe=(0,s.Wo)({label:"COMPUTE-PRESSURE"}),et={nominal:1,fair:2,serious:3,critical:4};class rt{constructor(){this.defaultSampleRate=.5,this.pubSub=new Qe.G,this.isObserving=!1,this.currentLevel=null;var qe=this;this.startObserving=(0,_.coroutine)(function*(){if(!qe.isObserving){try{var vt;qe.isObserving=!0,yield(vt=qe.pressureObserver)===null||vt===void 0?void 0:vt.observe("cpu")}catch(Oe){qe.isObserving=!1,Xe.error("An error occurred while attempting to observe compute pressure",Oe)}Xe.info("Observing compute pressure")}}),this.getPressureLevelFromRecord=vt=>vt?et[vt.state]:void 0,this.pressureObserverCallback=vt=>{const Oe=vt.pop();if(!Oe)return;const Y=this.getPressureLevelFromRecord(Oe);Y&&(this.currentLevel=Y,Y===1?Xe.debug(`Compute pressure updated to ${Oe.state} (${Y} of 4)`):Xe.warn(`Compute pressure updated to ${Oe.state} (${Y} of 4)`),this.pubSub.publish(Y))};var ct=this;this.subscribe=function(){var vt=(0,_.coroutine)(function*(Oe){ct.pubSub.subscribe(Oe),yield ct.startObserving()});return function(Oe){return vt.apply(this,arguments)}}(),this.unsubscribe=vt=>{if(this.pubSub.unsubscribe(vt),!this.pubSub.subscriberCount)try{var Oe;(Oe=this.pressureObserver)===null||Oe===void 0||Oe.disconnect(),Xe.debug("No longer observing compute pressure.")}catch(Y){Xe.error("An error occurred attempted to disconnect from the compute pressure observer",Y)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let vt;try{var Oe;vt=(Oe=this.pressureObserver)===null||Oe===void 0?void 0:Oe.takeRecords()}catch(ce){Xe.error("An error occurred attempting to get latest compute pressure reports",ce)}const Y=vt?this.getPressureLevelFromRecord(vt.pop()):void 0;return Y&&(this.currentLevel=Y),Y},Xe.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(vt){Xe.error("An error occurred creating a new instance of the PressureObserver",vt)}if(!this.pressureObserver){Xe.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}i(rt,"ComputePressureObserver"),rt.isSupported=()=>"PressureObserver"in globalThis;let it;const lt=i(()=>{if(it)return it;if(!rt.isSupported()){Xe.info("Compute Pressure API is not supported.");return}try{it=new rt}catch(It){Xe.error("An error occurred while attempting to create compute pressure observer",It);return}return it},"getComputePressureObserver"),ot=null,Et=null,At=lt,Ot={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Rt=i(class{initializeReport(){this.report={...Ot},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const ct=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/ct*100));const vt={...this.report};return this.initializeReport(),vt}constructor(){this.report={...Ot},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=qe=>{const ct=qe.getEntries();let vt=0,Oe=0;ct.forEach(Y=>{const ce=Y.duration;vt+=ce,ce>Oe&&(Oe=ce)}),this.report.longTasksTotalDuration+=vt,this.report.longTasksCount+=ct.length,Oe>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=Oe)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const yt=null,Mt=Rt;let en=0;const Tt={traceName:p.Sq},xt="HUDDLES-PERF",bt={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let nn=i(class{constructor(){var qe;this.callLogger=(0,S.tZ)(xt),this.logger=(0,s.Wo)({label:xt}),this.sharedTags=Tt,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...bt},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new Mt,this.initSharedTags=()=>{en+=1,this.updateSharedTags({huddlesCountSinceRefresh:en})},this.initComputePressureObserver=()=>{this.computePressureObserver=At(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var ct;const vt=(ct=this.computePressureObserver)===null||ct===void 0?void 0:ct.getCurrentLevel();this.computePressure=vt})},this.updateSharedTags=ct=>{this.sharedTags={...this.sharedTags,...ct}},this.updateTransientTags=ct=>{this.transientTags={...this.transientTags,...ct}},this.updateComputePressure=ct=>{const vt=this.computePressure;this.computePressure=ct;let Oe;switch(ct){case 1:Oe="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:Oe="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:Oe="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:Oe="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:Oe="Unknown system workload condition."}ct>2?this.callLogger.warn(`Compute pressure updated to level ${ct} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${ct} suggests that: ${Oe}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):vt&&vt>2&&this.logger.debug(`Compute pressure updated to level ${ct} of 4 from ${vt}. ${Oe}`)},this.updateState=ct=>{switch(ct.type){case c.lx.RenderTiming:this.renderTimings.push(ct.update);break;case c.lx.RtmMetrics:this.rtmProcessingTimings.push(ct.update);break;case c.lx.AppMetrics:this.updateMetrics(ct.update);break;case c.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=ct.update;break;case c.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:je(ct,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=ct=>{let{huddleStateSnapshot:vt,clientMetricReport:Oe,screenshareRtcStats:Y}=ct;const ce=Oe?se({clientMetricReport:Oe,selfAttendeeId:Oe.selfAttendeeId}):{},Ce=Oe?U(Oe.getRTCStatsReport()):{},ke=ee(Y),st={...vt,...ce,...ke,...Ce,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},dt=Re(st);this.currentTags={...st,...dt},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var ct;return(ct=this.longTaskObserver)===null||ct===void 0?void 0:ct.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:ct}=this.currentTags;return ct?{secondsSinceJoining:Math.floor((Date.now()-ct)/1e3)}:{}},this.getRtmMetricTags=()=>{const ct=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:ct}},this.getTroubleshootingTags=()=>{const ct={...this.troubleshootingTags};return this.troubleshootingTags={...bt},ct},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const ct=Date.now()-this.lastAppMetricsRecordingTs,vt=(0,H.A)(this.renderTimings),Oe=this.renderTimings.length;return!vt||!ct?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((vt/ct*100).toFixed(1)),uiRenderCount:Oe})},this.cleanup=()=>{var ct,vt;(ct=this.computePressureObserver)===null||ct===void 0||ct.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(vt=this.longTaskObserver)===null||vt===void 0||vt.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(qe=this.longTaskObserver)===null||qe===void 0||qe.start()}},"HuddlePerfStateInternal");const dn=null,Xt=nn;var jt=e(5071086688),_n=e(5387083734),ze=e(8634352961),Dt=e(415910655),hn=e(5332875232);const yn="HUDDLES-PERF",ht=5e3,Bt=1e3;let wt=i(class{constructor({teamId:qe,logger:ct,dispatch:vt,getState:Oe,useRtmFiltering:Y=!1}){this.logger=(0,s.Wo)({label:yn}),this.callLogger=(0,S.tZ)(yn),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=ce=>{ce.type===c.lx.AppMetrics?this.recordAppMetrics(ce):this.huddlePerfState.updateState(ce)},this.recordAppMetrics=ce=>{(0,_n.IE)("huddle-perf-metrics",()=>{var Ce,ke;if(!this.shouldRecordAppMetrics({nextReportTimestamp:(Ce=ce.update)===null||Ce===void 0||(ke=Ce.clientMetricReport)===null||ke===void 0?void 0:ke.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState(ce);const st=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(st);try{this.huddlePerfObserver.processTags(st)}catch(dt){this.errorReported||(this.callLogger.error("An error occurred while processing tags",dt),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=ce=>{let{nextReportTimestamp:Ce}=ce;if(!Ce)return!1;const ke=Date.now(),st=ke-this.lastRecordedMetricsTs;if(st<Bt)return this.logger.debug(`Not enough time has passed since last report was recorded (${st}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const Ze=ke-Ce;return Ze>ht?(this.logger.debug(`Too much time has passed since the current report was made (${Ze}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=ce=>{this.huddlePerfTrace.report(ce),jt.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,m.rH)(!1),(0,Dt.ZR)(),this.useRtmFiltering&&(this.callLogger.info("RTM filtering will be disabled"),(0,ze.gR)())},this.huddlePerfTrace=new h({teamId:qe,logger:ct,callLogger:this.callLogger,enableMaxReportingFrequency:(0,hn.CN)(Oe())}),this.huddlePerfObserver=new L({logger:ct,callLogger:this.callLogger,dispatch:vt}),this.useRtmFiltering=Y,this.huddlePerfState=new Xt,jt.A.subscribe(this.reportUpdate),(0,m.rH)(!0),this.useRtmFiltering&&(0,ze.ws)(Oe)}},"HuddlePerfManager");const Qt=null,mn=wt;var On=e(6533394955),zt=e(2141441167),nt=e(2709531527),mt=e(8276911661),Ct=e(5795074931),Zt=e(5286203919),Ft=e(8847766420),Jt=e(7606781622),rn=e(6251210828),gn=e(3792998666);const Fe=i(It=>{let{teamId:qe}=It;var ct,vt;const Oe=(0,On.getStoreInstanceByTeamId)(qe).getState(),Y=(0,On.getClientStoreInstance)().getState(),ce=(0,Zt.E9)(Y),Ce=(0,Zt.hc)(Y),ke=(0,Ft.jV)(Oe),st=(0,rn.ok)(Oe,{huddleId:ce}),dt=(0,rn.Zg)(Oe,{huddleId:ce}),Ze=(0,Ct.WR)(Oe),Lt=dt?dt.timestamps.map(Sn=>Ce?(0,Jt.Ld)(Oe,Ce,Sn):void 0).filter(Sn=>(Sn==null?void 0:Sn.user)===Ze):[],Gt=(ct=Lt[0])===null||ct===void 0?void 0:ct.ts,ln=(vt=Lt.slice(-1)[0])===null||vt===void 0?void 0:vt.ts,In=Lt.length,wn=(0,mt.nv)(Oe,Ze),Fn=(0,gn.P)(wn);return{huddleId:ce,channelId:Ce,enterpriseId:ke,threadId:st,threadReplyCnt:In,threadFirstReplyTs:Gt,threadLastReplyTs:ln,isGuest:Fn}},"getHuddleEventsStateSnapshot"),Ke="huddle_events",Ne="huddle",He="vhq",Je={topicName:Ne,userAgent:navigator.userAgent,serviceName:He};let ft=i(class{get spansList(){var qe;return(0,zt.A)((qe=this.trace)===null||qe===void 0?void 0:qe.getSpans())||[]}report(){var qe;let ct;try{ct=(0,u.tT)({...this.sharedTags,...Fe({teamId:this.teamId})})}catch(Oe){var vt;this.logger.error(`Error while reporting huddle_events trace: ${Oe}`),(vt=this.tracer)===null||vt===void 0||vt.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(ct),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",ct)),(qe=this.tracer)===null||qe===void 0||qe.clearTrace(this.trace)}constructor({teamId:qe,logger:ct}){this.sharedTags=Je,this.traceReported=!1,this.getSpanByName=vt=>this.spansList.find(Oe=>vt===Oe.getOperationName()),this.getDataSet=()=>{if(!(0,n.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:nt.p.JOIN,type:nt.G.START,tags:{}}),this.update({name:nt.p.MINIPLAYER_VIEW,type:nt.G.START})},this.isSurfaceChange=vt=>vt===nt.p.MINIPLAYER_VIEW||vt===nt.p.WINDOW_COMPACT_VIEW||vt===nt.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=vt=>{let{name:Oe,type:Y}=vt;Y===nt.G.START&&this.isSurfaceChange(Oe)&&this.spansList.filter(ce=>this.isSurfaceChange(ce.getOperationName())).forEach(ce=>{ce.getOperationName()!==Oe&&this.closeSpan(ce)})},this.update=vt=>{let{name:Oe,type:Y,tags:ce}=vt;if(this.trace)if(Y===nt.G.START||Y===nt.G.ONCE){const Ce=this.trace.startSpan(Oe,{parentSpanId:this.joinSpanId});ce&&Ce.addTags(ce),Oe===nt.p.JOIN&&(this.joinSpanId=Ce.getId()),this.isSurfaceChange(Oe)&&this.handleSurfaceChange({name:Oe,type:Y}),this.logger.debug(`started new span for huddle_events trace: ${Oe}`),Y===nt.G.ONCE&&this.closeSpan(Ce)}else{const Ce=this.getSpanByName(Oe);this.closeSpan(Ce),this.logger.debug(`closed span for huddle_events trace: ${Oe}`)}},this.closeSpan=vt=>{vt&&(vt.getCloseTimeMs()||vt.close())},this.recordEntryPoint=vt=>{Object.assign(this.sharedTags,{entryPoint:vt})},this.tracer=(0,r.E)({teamOrEnterpriseId:qe}),this.trace=this.tracer.createTrace({traceName:Ke,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:d.tS.SESSION}}),this.teamId=qe,this.logger=ct,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");const Kt="HUDDLE-TRACE-MANAGER",St=(0,s.Wo)({label:Kt});let cn=i(class{initializeTraces(qe){let{teamId:ct,isTinySpeck:vt,isDebugApp:Oe}=qe;const Y=(0,On.getStoreInstanceByTeamId)(ct),ce=Y.getState();this.teamId=ct,this.tracer=(0,r.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:o.ne,samplingOptions:{sampleRate:(0,n.Cu)()||vt?1:.05,sampleType:d.tS.SESSION},tags:{__dataset:"client_metrics"}}),Oe||(this.reconnectTrace=new a({tracer:this.tracer,trace:this.trace,logger:St}),this.ttiTrace=new l({teamId:this.teamId,logger:St}),this.huddleEventsTrace=new ft({teamId:this.teamId,logger:St})),this.huddlePerfTraceManager=new mn({teamId:this.teamId,logger:St,dispatch:Y.dispatch,getState:Y.getState,useRtmFiltering:(0,hn.DP)(ce)})}setCallId(qe){var ct;this.callId=qe,(ct=this.trace)===null||ct===void 0||ct.addTags({callId:this.callId}),qe&&jt.A.publish({type:c.lx.CallId,update:{callId:qe}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace}}cleanup(){var qe,ct,vt,Oe,Y,ce;(qe=this.reconnectTrace)===null||qe===void 0||qe.report(),(ct=this.ttiTrace)===null||ct===void 0||ct.report(),(vt=this.huddlePerfTraceManager)===null||vt===void 0||vt.report(!0),(Oe=this.huddleEventsTrace)===null||Oe===void 0||Oe.report(),(Y=this.tracer)===null||Y===void 0||Y.reportTrace(this.trace),(ce=this.tracer)===null||ce===void 0||ce.clearTrace(this.trace),St.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,this.callId=null}constructor(){St.info("Huddle Trace Manager created")}},"HuddleTraceManager");const Ln=(0,t.A)(()=>new cn)},2709531527:(Q,C,e)=>{"use strict";e.d(C,{G:()=>t,p:()=>n});var t;(function(s){s.START="start",s.STOP="stop",s.ONCE="once"})(t||(t={}));var n;(function(s){s.JOIN="session_join",s.VIDEO="video",s.SCREENSHARE="screenshare",s.REACTION="reaction_posted",s.MESSAGE="message_posted",s.MICROPHONE="microphone",s.MINIPLAYER_VIEW="mini_player_view",s.WINDOW_COMPACT_VIEW="window_compact_view",s.WINDOW_FULL_VIEW="window_full_view",s.THREAD_VIEW="thread_flexpane_view",s.TRANSCRIPT="trxn"})(n||(n={}))},1616072515:(Q,C,e)=>{"use strict";e.d(C,{_3:()=>r,tT:()=>d});var t=e(4178261413),n=e(8872403767),s=e(6422693406);const r=i(a=>(0,t.A)(a),"formatTag"),d=i(function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,n.A)(a,(m,c)=>c.indexOf(l)>-1?c:r(c))},"formatTags"),o=i(()=>new Bluebird(a=>{setTimeout(a,0)}),"waitForNextTick")},3146858537:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(9706240641),n=e(8958249318),s=e(6422693406),r=e(56548687),d=e(6244014364),o=e(6664301844),a=e(2825968873);function l(){return 2}i(l,"getVoiceFocusCacheVersion");var m;const c="voiceFocusCache";function _(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}i(_,"createDefaultVoiceFocusCapability");function p(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}i(p,"createDefaultVoiceFocusCachedConfig");function u(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(m=window.navigator)===null||m===void 0?void 0:m.userAgent,T=arguments.length>1?arguments[1]:void 0;const M=localStorage.getItem(c),O={version:l(),voiceFocusCapability:_(),voiceFocusCachedConfig:p()};if(!M)return O;let I;try{I=JSON.parse(M)}catch(D){return(0,a.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",D.message),O}return I.version!==l()?O:(I.voiceFocusCapability&&(I.voiceFocusCapability.userAgent!==y||I.voiceFocusCapability.sdkVersion!==T)&&(I.voiceFocusCapability=O.voiceFocusCapability,I.voiceFocusCachedConfig=O.voiceFocusCachedConfig),{...O,...I})}i(u,"readVoiceFocusCache");function h(y){try{localStorage.setItem(c,JSON.stringify(y))}catch(T){(0,a.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",T.message)}}i(h,"writeVoiceFocusCache");var E=e(5470425448),A=e(5071086688);const v=1657647210615,f=1686248081659;let g=i(class{init(T){let{configOnly:M}=T;var O=this;return(0,t.coroutine)(function*(){M||O.callLogger.info(`VF cache: ${!!O.cache}`),O.isSupported=yield O.isCapable(!!M),O.isSupported&&O.prepare(M)})()}isAvailable(){return this.isSupported}getTransformDevice(){var T=this;return(0,t.coroutine)(function*(){if(T.isSupported&&(T.voiceFocusConfigPromise&&(yield T.voiceFocusConfigPromise),!!T.voiceFocusDeviceTransformerPromise)){try{yield T.voiceFocusDeviceTransformerPromise}catch{T.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(T.voiceFocusTransformDevicePromise)try{return yield T.voiceFocusTransformDevicePromise}catch{T.callLogger.error("Could not get VoiceFocusTransformDevice")}}})()}shouldDisable(){return!1}setMute(T){var M=this;return(0,t.coroutine)(function*(){const O=yield M.getTransformDevice();O&&(yield O.mute(T))})()}isCapable(T){var M=this;return(0,t.coroutine)(function*(){if(M.isIFramed())return T||M.callLogger.warn("not supported due to IFrame"),!1;let O=!1;switch(M.cache.voiceFocusCapability.isSupported){case"yes":T||M.callLogger.info("cache says supported"),O=!0;break;case"no":T||M.callLogger.info("cache says not supported"),O=!1;break;case"unknown":{T||M.callLogger.info("cache says unknown, determining support..."),M.cache.voiceFocusCapability.userAgent=(0,n.A)(),M.cache.voiceFocusCapability.sdkVersion=o.zF.sdkVersion,O=yield(0,o.w2)().isSupported(),O?M.cache.voiceFocusCapability.isSupported="yes":M.cache.voiceFocusCapability.isSupported="no",h(M.cache),T||M.callLogger.info(`determined supported=${M.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:M.callLogger.warn(`Voice Focus capability pref bad: ${M.cache.voiceFocusCapability.isSupported}`);break}return O})()}isIFramed(){try{var T;return((T=window.frameElement)===null||T===void 0?void 0:T.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(T){const O=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,I=this.allowMaxModelsToBeUsed?f:v;return O===0||T-O>6048e5||O<I}prepare(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const M=Date.now(),O=this.cache.voiceFocusCachedConfig.vfConfig,I=this.isStale(M),D={},P={logger:this.chimeLogger};if(O!=="unknown"&&!I){if(T)return;if(!O.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(D,P,O);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=s.S.resolve((0,o.w2)().configure(D,P)),this.voiceFocusConfigPromise.then(k=>{var R;if(!k.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${k.reason}`);return}if(!(!(k==null||(R=k.model)===null||R===void 0)&&R.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const B=k;this.callLogger.info(`Got new config, variant: ${B.model.variant}, simd: ${B.model.simd}, executionQuanta: ${B.executionQuanta}`),this.storeVfConfig(M,B),T||this.setupDevice(D,P,B)}).catch(k=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${k.name}: ${k.message}`),T||this.setupDevice(D,P)}))}storeVfConfig(T,M){this.cache.voiceFocusCachedConfig.vfConfig=M,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=T,h(this.cache)}updateCacheWithUpdatedConfig(T){var M=this;return(0,t.coroutine)(function*(){M.callLogger.info("Updating VF cache with new modified model");const O={logger:M.chimeLogger},I={variant:T},D=yield(0,o.w2)().configure(I,O);D.supported&&M.storeVfConfig(Date.now(),D)})()}setupDevice(T,M,O){const I=T;let D=O,P,k;O?(P=O.model.variant,k=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),P="c10",k=!1);let R=!0;this.allowMaxModelsToBeUsed&&(R=!1);const V=this.chooseModelVariant(P,k,R);if(V.modelWasAdjusted&&(I.variant=V.chosenModel,D=void 0,this.callLogger.info(`VF Model was adjusted from ${O==null?void 0:O.model.variant} to ${V.chosenModel} Reason: ${V.adjustmentReason}`),this.updateCacheWithUpdatedConfig(V.chosenModel)),O){(0,r.e)().track(d.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:O.model.variant,model_variant_override:I.variant,simd:O.model.simd,execution_quanta:O.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const W={...O};W.model.variant=V.chosenModel,A.A.publish({type:E.lx.VoiceFocusConfig,update:W}),this.callLogger.info(`model_variant_determined: ${O.model.variant}, model_variant_override: ${V.chosenModel}, simd: ${O.model.simd}, execution_quanta: ${O.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=s.S.resolve((0,o.w2)().create(I,M,D));var B=this;this.voiceFocusDeviceTransformerPromise.then(function(){var W=(0,t.coroutine)(function*(L){B.voiceFocusTransformDevicePromise=s.S.resolve(L.createTransformDevice(null))});return function(L){return W.apply(this,arguments)}}()).catch(W=>{this.callLogger.info(`Could not create voice device transformer exp: ${W.name}: ${W.message}`)})}chooseModelVariant(T,M,O){const I={c10:1,c20:2,c50:3,c100:4},D=navigator==null?void 0:navigator.hardwareConcurrency;if(!D)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${T}`),{modelWasAdjusted:!1,chosenModel:T,adjustmentReason:""};let P;return D<=4?P="c10":D<=6?P="c20":D<=8?P="c50":P="c100",I[P]<I[T]&&!O?{modelWasAdjusted:this.wasModelAdjusted(P,T,M),chosenModel:P,adjustmentReason:"Using CPU restricted model variant which is weaker"}:I[P]>I[T]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${T}`),P=T,!O)?{modelWasAdjusted:!1,chosenModel:T,adjustmentReason:""}:P==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",T,M),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",T,M),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(T,M,O){return T===M&&!O||T!==M}tearDown(){var T=this;return(0,t.coroutine)(function*(){const M=yield T.getTransformDevice();M&&(T.callLogger.info("Attempting to destroyVoiceFocus"),o.wV.destroyVoiceFocus(M))})()}constructor(T,M){this.chimeLogger=T,this.allowMaxModelsToBeUsed=M,this.callLogger=(0,a.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=u((0,n.A)(),o.zF.sdkVersion)}},"VoiceFocusManager")},8558782493:(Q,C,e)=>{"use strict";e.d(C,{k:()=>d});var t=e(56548687),n=e(5795074931),s=e(3395259576),r=e(7439555287);function d(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var c;const _=(c=(0,r.KA)())===null||c===void 0?void 0:c.getState();if(!_)return;const p=(0,t.e)({state:_}).setUser((0,n.WR)(_));if(l){const u={...a,room_id:(0,s.G0)(_)};p.track(o,u,{sendImmediately:m})}else p.track(o,a,{sendImmediately:m})}i(d,"trackCallsClog")},164795489:(Q,C,e)=>{"use strict";e.d(C,{w:()=>f});var t=e(9706240641),n=e(6680093304),s=e(6422693406),r=e(1031947056),d=e(8276911661),o=e(3677514771),a=e(1269227002),l=e(8445020572),m=e(5046160032),c=e(4914127094),_=e(7299481592);const p="screenhero.rooms.proxyLogs",u=(0,r.Ay)("Send call logs to the server",(g,y,T)=>{let{logs:M,useSendBeacon:O=!1,callId:I}=T;const D=y();let P;if(I?P=I:D.activeCall&&D.activeCall.id&&(P=D.activeCall.id),!P)return(0,_.M)(!1,"There should be an active call in progress in order to send logs."),s.S.reject(new Error("SendLogs: no call"));const k=(0,d.cA)(D),R=(0,o.H7)(D);if(!R)return s.S.reject(new Error("SendLogs: no current team"));const V={data:{room_id:P,user_id:k.id,team_id:R.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:M}},B={data:JSON.stringify(V.data)};return O?(0,m.A)({apiUrl:"/api/",method:p,token:(0,c.F)(D),versionTs:(0,l.HF)(),versionUid:(0,l.X3)(),args:B})?s.S.resolve():s.S.reject(new Error("SendLogs: beacon failed")):g((0,a.apiCall)({method:p,reason:"calls-logging",args:B}))});u.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var h=e(7439555287),E=e(796111729),A=e(4518410378);const v=60*1e3;class f{start(y){(0,_.M)(!this.intervalHandle,"Log reporter already started."),this.callId=y,this.intervalHandle=A.J.setInterval(()=>this.report(!1),v),A.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(y){return y.map(T=>T.join(" ")).join(`
`)}constructor(y=n.tt){this.buffer=y,this.unloadHandler=()=>{A.J.Cypress||this.report(!0)};var T=this;this.stop=(0,t.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;T.intervalHandle&&A.J.clearInterval(T.intervalHandle),T.intervalHandle=void 0,A.J.removeEventListener("beforeunload",T.unloadHandler),yield T.emptyBuffer(D),T.callId=void 0});var M=this;this.emptyBuffer=(0,t.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;M.buffer.hasItems()&&(yield M.report(I),yield M.emptyBuffer(I))});var O=this;this.report=(0,t.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:D}=(0,h.KA)(),P=O.buffer.flush();if(!P.length)return;const k=O.joinLogs(P);yield D(u({logs:k,useSendBeacon:I,callId:O.callId})).catch(()=>{(0,E.Wo)().error("Failed to send Huddle logs")})})}}i(f,"LogReporter")},3300324857:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6267571562);const n=new t.G},3395259576:(Q,C,e)=>{"use strict";e.d(C,{G0:()=>w,jl:()=>te,pI:()=>ne});var t=e(2384831516),n=e(2140362605),s=e(462591818),r=e(7299481592),d=e(571104883),o=e(2024014560),a=e(3677514771),l=e(6839188756),m=e(6303366080),c=e(387328355);const _=(0,n.Ay)("Update part or all of the call");_.meta={name:"createAction",key:"createActionupdate",description:"Update part or all of the call"};const p=(0,n.Ay)("Update the active call token");p.meta={name:"createAction",key:"createActionsetServerToken",description:"Update the active call token"};const u=(0,n.Ay)("Update the elapsed call time");u.meta={name:"createAction",key:"createActiontickCallTime",description:"Update the elapsed call time"};const h=(0,n.Ay)("update state to notify active call window is closed");h.meta={name:"createAction",key:"createActioncallWindowClosed",description:"update state to notify active call window is closed"};const E=(0,n.Ay)("Show slow network alert");E.meta={name:"createAction",key:"createActionshowSlowNetworkAlert",description:"Show slow network alert"};const A=(0,n.Ay)("Hide slow network alert");A.meta={name:"createAction",key:"createActionhideSlowNetworkAlert",description:"Hide slow network alert"};const v=(0,n.Ay)("Set no media input from microphone or camera");v.meta={name:"createAction",key:"createActionsetNoMediaInput",description:"Set no media input from microphone or camera"};const f=(0,n.Ay)("Clear no media input from microphone or camera");f.meta={name:"createAction",key:"createActionclearNoMediaInput",description:"Clear no media input from microphone or camera"};const g=(0,n.Ay)("Set no audio output");g.meta={name:"createAction",key:"createActionsetNoAudioOutput",description:"Set no audio output"};const y=(0,n.Ay)("Clear no audio output");y.meta={name:"createAction",key:"createActionclearNoAudioOutput",description:"Clear no audio output"};const T=(0,n.Ay)("Set no or low input audio level");T.meta={name:"createAction",key:"createActionsetNoOrLowInputAudioLevel",description:"Set no or low input audio level"};const M=(0,n.Ay)("Clear no or low input audio level");M.meta={name:"createAction",key:"createActionclearNoOrLowInputAudioLevel",description:"Clear no or low input audio level"};const O=(0,n.Ay)("Start session timeout check");O.meta={name:"createAction",key:"createActionstartSessionTimeoutCheck",description:"Start session timeout check"};const I=(0,n.Ay)("Stop session timeout check");I.meta={name:"createAction",key:"createActionstopSessionTimeoutCheck",description:"Stop session timeout check"};const D=(0,n.Ay)("Maybe start peer joining timeout check");D.meta={name:"createAction",key:"createActionmaybeStartPeerJoinTimeoutCheck",description:"Maybe start peer joining timeout check"};const P=(0,n.Ay)("Stop peer joining timeout check");P.meta={name:"createAction",key:"createActionstopPeerJoinTimeoutCheck",description:"Stop peer joining timeout check"};const k=(0,n.Ay)("Store gleaned contextual information from the url");k.meta={name:"createAction",key:"createActionsetInitialContext",description:"Store gleaned contextual information from the url"};const R=(0,n.Ay)("Set call view mode");R.meta={name:"createAction",key:"createActionsetCallViewMode",description:"Set call view mode"};const V=(0,n.Ay)("Ends call");V.meta={name:"createAction",key:"createActionendCall",description:"Ends call"};const B=(0,t.vy)({},{hasJoined:!1,hasSelfConnected:!1,hasRemotePeerConnected:!1,hasVideoBeenEnabled:!1,hasScreenshareBeenEnabled:!1,elapsedDisplayTime:(0,o.A)(0),viewMode:s.ND.SPEAKER},{storeKey:"activeCall",persistenceEnabled:!1}).on(k,(fe,ve)=>{let{viewId:me,inviterUserId:oe}=ve,N,K,x;return(0,s.cd)(me)?N=me:(0,s.t1)(me)?K=me:(0,s.bU)(me)&&(x=me),{...fe,id:N,conversationId:K,incomingInviterUserId:oe,incomingInviteResponse:(0,d.y3)()?void 0:s.xr.Accept,virtualRoomId:x}}).on(_,(fe,ve)=>{let{terminalState:me}=ve;return fe.terminalState&&(me=fe.terminalState),{...fe,...ve,terminalState:me}}).on(h,(fe,ve)=>{let{isCallWindowClosed:me}=ve;return{...fe,isCallWindowClosed:me}}).on(R,(fe,ve)=>{let{callViewMode:me}=ve;return{...fe,viewMode:me}}).on(u,fe=>fe.callStartedTimestamp?{...fe,elapsedDisplayTime:(0,o.A)(Date.now()-fe.callStartedTimestamp*1e3)}:fe).on(p,(fe,ve)=>{let{token:me,tokenExpiry:oe}=ve;return fe.server?{...fe,server:{...fe.server,token:me,tokenExpiry:oe}}:((0,r.M)("Cannot set server token without a server"),fe)}).on(c.kT,(fe,ve)=>({...fe,hasVideoBeenEnabled:fe.hasVideoBeenEnabled||!!ve.isCameraEnabled,hasScreenshareBeenEnabled:fe.hasScreenshareBeenEnabled||!!((0,c.E_)(ve)&&ve.isScreenshareEnabled),hasSelfConnected:fe.hasSelfConnected||!!((0,c.E_)(ve)&&ve.isConnected)})).on(c.BD,(fe,ve)=>({...fe,hasVideoBeenEnabled:fe.hasVideoBeenEnabled||!ve.isContent,hasScreenshareBeenEnabled:fe.hasScreenshareBeenEnabled||ve.isContent})).on(c.E3,(fe,ve)=>({...fe,hasRemotePeerConnected:fe.hasRemotePeerConnected||!!ve.isConnected})).on(c.kl,(fe,ve)=>({...fe,hasScreenshareBeenEnabled:fe.hasScreenshareBeenEnabled||!!ve.isScreenshareEnabled}));var W=null;const L=i(fe=>!!fe.activeCall.incomingInviterUserId&&!fe.activeCall.incomingInviteResponse,"isIncomingInvitePending"),S=i(fe=>!!fe.activeCall.incomingInviterUserId,"wasInvitedToCall"),H=i(fe=>!!fe.activeCall.conversationId&&isDm(fe.activeCall.conversationId),"wasCreatedFromDm"),w=i(fe=>{var ve;return fe==null||(ve=fe.activeCall)===null||ve===void 0?void 0:ve.id},"getActiveCallId"),F=i(fe=>fe.activeCall.server,"getActiveCallServer"),j=i(fe=>fe.activeCall.conversationId,"getActiveConversationId"),J=i(fe=>fe.activeCall&&fe.activeCall.dynamicSurvey,"getDynamicSurveyRates"),X=i(fe=>fe.activeCall.hasSelfConnected&&fe.activeCall.hasRemotePeerConnected,"didSelfAndPeerConnect"),q=i(fe=>fe.activeCall.terminalState,"getActiveCallTerminalState"),G=i(fe=>{if(!(!fe.activeCall||!fe.activeCall.server))return fe.activeCall.server.hostname?MediaBackendType.ORCA:MediaBackendType.FREE_WILLY},"getCallMediaBackendType"),ne=i(fe=>fe.activeCall.isShroudVisible,"isShroudVisibleInCallWindow"),te=i(fe=>{var ve;return(ve=fe.activeCall)===null||ve===void 0?void 0:ve.viewMode},"getCallViewMode"),le=i(fe=>{var ve,me;return fe==null||(ve=fe.activeCall)===null||ve===void 0||(me=ve.sharedInConversations)===null||me===void 0?void 0:me[0]},"getCallSharedInConversation"),he=i(fe=>{const ve=getCurrentTeam(fe),me=j(fe)||le(fe);return!!me&&isOnFreePlan(ve)&&getChannelIsSponsored(fe,me)},"isSponsoredConnectionsChannel")},7366481123:(Q,C,e)=>{"use strict";e.d(C,{Iw:()=>I,LL:()=>P,Sb:()=>D,WG:()=>k,Xs:()=>W,eI:()=>O,mV:()=>T,vT:()=>v,xw:()=>B});var t=e(2384831516),n=e(2140362605),s=e(3385422400),r=e(387328355),d=e(3395259576),o=e(462591818),a=e(9683518026),l=e(6217320234),m=e(2101927269),c=e(166097325),_=e(8571983633),p=e(3783303734),u=e(8086952004),h=e(2825968873),E=e(700984029),A=e(9365970888),v;(function(L){L.Connecting="connecting",L.NoConnection="noConnection",L.NoUserAudioDevice="noUserAudioDevice",L.NoUserVideoDevice="noUserVideoDevice",L.NoSystemAudio="noSystemAudio",L.NoSystemVideo="noSystemVideo",L.NoSystemScreenShare="noSystemScreenShare",L.RemotePeerMuted="remotePeerMuted",L.PeerMuteRequest="peerMuteRequest",L.RemotePeerSlowConnection="remotePeerSlowConnection",L.DisplayDisconnected="displayDisconnected",L.UpdateSlack="updateSlack",L.ScreenShareFreeTeam="screenShareFreeTeam",L.NoGroupCallsForFreeTeam="noGroupCallsForFreeTeam",L.NoUserVideoStream="noUserVideoStream",L.NoUserAudioStream="noUserAudioStream",L.SlowNetwork="slowNetwork",L.NoAudioOutputAudioElementError="noAudioOutputAudioElementError",L.NoAudioOutputAudioLevelError="noAudioOutputAudioLevelError",L.NoOrLowInputAudioLevelError="noOrLowInputAudioLevelError",L.SpeakingWhenMuted="SpeakingWhenMuted",L.ScreenShareError="screenShareError",L.SSNotFoundError="ScreenShareNotFoundError",L.SSNotReadableError="ScreenShareNotReadableError",L.NoiseSuppressionCPUThrottled="NoiseSuppressionCPUThrottled",L.NoBrowserAudioPermission="NoBrowserAudioPermission",L.NoBrowserVideoPermission="NoBrowserVideoPermission",L.AudioInputTrackMuted="AudioInputTrackMuted",L.HiddenUserJoinedHuddle="HiddenUserJoinedHuddle",L.AudioOnlyModeRecommended="AudioOnlyRecommended",L.AudioOnlyModeActive="AudioOnlyModeActive",L.ExternalUsersInHuddle="ExternalUsersInHuddle"})(v||(v={}));const f=[v.RemotePeerMuted,v.SlowNetwork];function g(L,S){switch(L){case v.NoConnection:return{priority:0,type:L,icon:"cloud-offline",isWarning:!0};case v.Connecting:return{priority:0,type:L,isWarning:!0};case v.NoSystemAudio:return{priority:200,type:L,dismissible:!0,isWarning:!0};case v.SpeakingWhenMuted:return{priority:200,type:L,dismissible:!0};case v.AudioInputTrackMuted:return{priority:200,type:L,dismissible:!0,isWarning:!0};case v.NoUserAudioDevice:return{priority:201,type:L,dismissible:!0,isWarning:!0};case v.NoUserAudioStream:return{priority:202,type:L,dismissible:!0,isWarning:!0};case v.NoiseSuppressionCPUThrottled:return{priority:203,type:L,dismissible:!0,isWarning:!0};case v.NoBrowserAudioPermission:return{priority:204,type:L,dismissible:!0,isWarning:!0};case v.AudioOnlyModeActive:return{priority:205,type:L,dismissible:!0,isWarning:!0};case v.AudioOnlyModeRecommended:return{priority:206,type:L,dismissible:!0,isWarning:!0};case v.NoSystemScreenShare:return{priority:300,type:L,dismissible:!0,isWarning:!0};case v.ScreenShareError:return{priority:301,type:L,dismissible:!0,isWarning:!0};case v.SSNotFoundError:return{priority:302,type:L,dismissible:!0,isWarning:!0};case v.SSNotReadableError:return{priority:303,type:L,dismissible:!0,isWarning:!0};case v.NoSystemVideo:return{priority:400,type:L,dismissible:!0,isWarning:!0};case v.NoUserVideoDevice:return{priority:401,type:L,dismissible:!0,isWarning:!0};case v.NoUserVideoStream:return{priority:402,type:L,dismissible:!0,isWarning:!0};case v.NoBrowserVideoPermission:return{priority:403,type:L,dismissible:!0,isWarning:!0};case v.ScreenShareFreeTeam:return{priority:500,type:L,dismissible:!0};case v.NoGroupCallsForFreeTeam:return{priority:500,type:L,dismissible:!0};case v.HiddenUserJoinedHuddle:return{priority:600,type:L,dismissible:!0,isWarning:!0};case v.ExternalUsersInHuddle:return{priority:601,type:L,dismissible:!0,isWarning:!0};case v.SlowNetwork:return{priority:700,type:L,dismissible:!0,isWarning:!0,icon:"slow-network"};case v.NoAudioOutputAudioElementError:return{priority:701,type:L,dismissible:!0,isWarning:!0};case v.NoAudioOutputAudioLevelError:return{priority:701,type:L,dismissible:!0,isWarning:!0};case v.NoOrLowInputAudioLevelError:return{priority:701,type:L,dismissible:!0,isWarning:!0};case v.RemotePeerSlowConnection:return{priority:800,type:L,id:S};case v.RemotePeerMuted:return{priority:801,type:L,id:S,icon:"microphone-slash"};case v.PeerMuteRequest:return{priority:802,type:L,id:S,dismissible:!0,isWarning:!0};case v.DisplayDisconnected:return{priority:900,type:L,dismissible:!0};case v.UpdateSlack:default:return{priority:1e3,type:L,dismissible:!0}}}i(g,"makeAlertObject");const y={alerts:[]};function T(L,S,H){const w=g(S,H);return H?(0,a.A)((0,l.A)([w,...L.alerts],["priority"]),(F,j)=>F.id===j.id&&F.type===j.type):(0,a.A)((0,l.A)([w,...L.alerts],["priority"]),(F,j)=>F.id?F.id===j.id&&F.type===j.type:F.type===j.type)}i(T,"createArrayWithNewAlert");function M(L,S){return(0,m.A)(L.alerts,H=>H.type!==S)}i(M,"filterAlertType");function O(L,S){return(0,m.A)(L.alerts,H=>!S.find(w=>H.type===w))}i(O,"filterAlertTypes");const I=(0,n.Ay)("Add an alert from the alerts array");I.meta={name:"createAction",key:"createActionaddAlert",description:"Add an alert from the alerts array"};const D=(0,n.Ay)("Add an alert from the alerts array, specifying sender peer Id");D.meta={name:"createAction",key:"createActionaddPeerAlert",description:"Add an alert from the alerts array, specifying sender peer Id"};const P=(0,n.Ay)("Remove an alert from the alerts array");P.meta={name:"createAction",key:"createActionremoveAlert",description:"Remove an alert from the alerts array"};const k=i(()=>(0,t.vy)({},y,{storeKey:"alert",persistenceEnabled:!1}).on(I,(L,S)=>{const H=T(L,S);return(0,c.A)(L.alerts,H)?L:((0,h.tZ)("ALERTS").info(`Added alert type: '${S.toString()}'`),{alerts:H})}).on(D,(L,S)=>{let{alert:H,peerId:w}=S;const F=T(L,H,w);return(0,c.A)(L.alerts,F)?L:((0,h.tZ)("ALERTS").info(`Added peer alert type: '${H.toString()}'`),{alerts:F})}).on(P,(L,S)=>{const H=M(L,S);return(0,c.A)(L.alerts,H)?L:((0,h.tZ)("ALERTS").info(`Removed alert type: '${S.toString()}'`),{alerts:H})}),"createDefaultAlertReducer"),R=k().on(E.Fb,(L,S)=>{let H=L.alerts;return(0,A.yp)(S)?H=(0,m.A)(L.alerts,w=>w.type!==v.NoUserAudioDevice):H=T(L,v.NoUserAudioDevice),{alerts:H}}).on(r.Uu,(L,S)=>{let H=L.alerts;return S.isMicrophoneEnabled===!1&&(H=T(L,v.RemotePeerMuted,S.id)),S.slowNetwork&&(H=T(L,v.RemotePeerSlowConnection,S.id)),{alerts:H}}).on(r.xx,(L,S)=>({alerts:(0,m.A)(L.alerts,w=>w.id!==S)})).on(r.kT,(L,S)=>{let H=L.alerts;return(0,r.E_)(S)?(0,_.A)(S.isConnected)||(S.isConnected?H=M(L,v.Connecting):H=T(L,v.Connecting,S.id)):((0,_.A)(S.isMicrophoneEnabled)||(S.isMicrophoneEnabled?H=M(L,v.RemotePeerMuted):H=T(L,v.RemotePeerMuted,S.id)),(0,_.A)(S.slowNetwork)||(S.slowNetwork===!1?H=M(L,v.RemotePeerSlowConnection):S.slowNetwork&&(H=T(L,v.RemotePeerSlowConnection,S.id)))),{alerts:H}});var V=null;const B=(0,t.Mz)(L=>L.alert.alerts);B.meta={name:"createSelector",key:"createSelectorgetAllAlerts",description:L=>L.alert.alerts};const W=(0,s.Mz)(B,r.EA,d.jl,(L,S,H)=>{let w=L;H===o.ND.GALLERY&&(w=(0,m.A)(L,J=>!f.includes(J.type)));let F=w[0];return(0,p.A)(S)>1&&(F=(0,u.A)(L,J=>!J.id)),F})},6839101721:(Q,C,e)=>{"use strict";e.d(C,{D8:()=>_,WY:()=>c,cn:()=>p,d2:()=>l,gJ:()=>m});var t=e(2140362605);const n=(0,t.Ay)("connect to free willy media server");n.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const s=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");s.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const d=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");d.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const o=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");o.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const a=(0,t.Ay)("Set flag to determine if a call is a readiness test call");a.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const l=(0,t.Ay)("Binds video tile to a video element");l.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const m=(0,t.Ay)("Unbinds video tile from a video element");m.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const c=(0,t.Ay)("Pauses video tile");c.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const _=(0,t.Ay)("Unpauses video tile");_.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const p=(0,t.Ay)("Returns if there in a stream associated with the tileId");p.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},3094144240:(Q,C,e)=>{"use strict";e.d(C,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function n(s){return!!has(s,"activeCall")}i(n,"isCallWindowContextState")},5156662944:(Q,C,e)=>{"use strict";e.d(C,{Rv:()=>V,Xk:()=>R,hL:()=>k,j7:()=>w,lp:()=>B,tO:()=>G,tw:()=>W,uI:()=>X,vf:()=>J});var t=e(5597672932),n=e(6007206761),s=e(4630136761),r=e(9884588328),d=e(8798294025),o=e(1407713935),a=e(2350349607),l=e(6839188756),m=e(4827886670),c=e(8276911661),_=e(6728717861),p=e(8921478798),u=e(8170643398),h=e(3534324375),E=e(3677514771),A=e(735940183),v=e(9101533895),f=e(5670315214),g=e(8767621462),y=e(462591818),T=e(340763958),M=e(6470070112);const O="Slack",I=new A.Ay("calls");function D(te){return!!(0,t.x)(te,"allow_calls")}i(D,"isCallsAllowedByAdmin");function P(te,le){return(0,M.pt)(te)&&(0,M.Bn)(te,le)}i(P,"isHuddlesAllowed");function k(te,le,he){const fe=(0,v.Pu)(te,le.id);return!(!D(te)&&!P(te,fe)||(0,u.fy)(le)&&!he||!(0,u._W)(le)||!(0,g.S)(te,le.id)||(0,r.Mi)(fe))}i(k,"canCallMember");function R(te,le){let he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const fe=(0,c.nv)(te,(0,d.e)(le)),ve=he&&j(te);return!D(te)&&!P(te,le)&&!ve||(0,s.Zz)(le)||(0,o.LI)(le)&&(!fe||!k(te,fe))||!(0,r.Ez)(le)?!1:(0,m.c)(te,le)}i(R,"isCallButtonVisibleForChannel");function V(te,le){return(0,_.Pb)(te)?((0,r.bU)(le)||(0,n.F)(le))&&!ne(le):!0}i(V,"isCallButtonDisabledForChannel");function B(te,le){const he=(0,v.OL)(te,le);return he&&!V(te,he)&&R(te,he)}i(B,"canStartCallInChannel");function W(te,le,he){const fe=(0,a.V)(le),ve=(0,f.q8)(te,fe),me=(0,c.nv)(te,he,{preferNonExistentToNull:!1,fetchIfMissing:!0}),oe=(0,u.v8)(me),N=(0,f.OJ)({callsApp:ve,memberPhoneNumber:oe,hideVideoApps:!1}),K=N.length,x=P(te,le);let b=K;return x&&(b+=1),b>1?I.t("{numCallApps} calling options",{numCallApps:b}):b===1?K===0?"":I.t("using {appName}",{appName:N[0].name}):""}i(W,"getTipSubtitleForStartCall");function L(te,le,he){const fe=(0,p.I)(te,(0,d.e)(le));return he?I.rt("Huddle with {name}",{name:fe,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):I.rt("Call {name}",{name:fe})}i(L,"getTipForIm");function S(te,le,he){const fe=(0,r.d3)(te,le).map(me=>(0,h.sE)(te,me)),ve=(0,A.jd)(fe,{noEscape:!0}).join("");return he?I.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ve,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):I.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ve})}i(S,"getTipForMpim");function H(te,le,he){return(0,o.LI)(le)?L(te,le,he):(0,o.yz)(le)?S(te,le,he):he?I.t("Huddle in {channelName}",{channelName:(0,r.SB)(te,le),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):I.t("Start a call")}i(H,"getTipForChannel");function w(te,le){const he=(0,E.H7)(te),fe=(0,l.qR)(he),ve=j(te),me=fe||ve,oe=P(te,le)&&!J(te);return(0,_.Pb)(te)?me&&(0,n.F)(le)?I.t("Unarchive this channel to start a huddle"):me&&(0,r.bU)(le)?I.t("Join this channel to start a huddle"):(ve||ne(le),H(te,le,oe)):I.t("Go online to start a huddle")}i(w,"getTipForStartCall");function F(te,le){const he=getCurrentTeam(te),fe=isPaidTeamRule(he),ve=isMpimRule(le),me=j(te),oe=fe||me;return!isClientOnline(te)||oe&&isArchived(le)||oe&&isPreview(le)||me?!1:!!(!fe&&ve||!fe&&isNonImOrMpimChannel(le))}i(F,"isFreeTeamAndInChannelOrMpim");function j(te){const le=(0,f.wZ)(te);for(let he=0;he<le.length;he++)if(le[he].id!==y.rq)return!0;return!1}i(j,"isThirdPartyCallEnabled");function J(te){return(0,f.wZ)(te).length>0}i(J,"isAnyCallAppEnabled");function X(te){const le=I.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),he=I.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:te,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),fe=I.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:le,description:he,confirm:fe,cancel:I.t("Cancel")}}i(X,"getCallConfirmationStrings");function q(){return!1}i(q,"isNativeSlackCallEnabled");function G(){return!0}i(G,"isSlackCallSlashCommandDisabled");function ne(te){return(0,T.ju)(te)&&!(0,o.LI)(te)}i(ne,"shouldEnableForSponsoredConnections")},7561130599:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(9706240641),n=e(2825968873),s=e(3245843483),r=e(7299481592),d=e(571104883),o=e(8558782493),a=e(6244014364),l=e(336376314);const m=window.RTCPeerConnection,c=window.MediaStream,_=window.RTCIceCandidate,p=window.navigator,u={height:116,width:168};let h=i(class{getScreenThumbnails(v){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var g=this;return(0,t.coroutine)(function*(){const y=yield(0,s.zxd)();f||E(g.log,y);const T=["screen"];T.push("window"),u.width=(v==null?void 0:v.width)||200,u.height=(v==null?void 0:v.height)||150;let M;try{M=yield(0,s.Yx3)(u,T)}catch(I){g.log.error(`Could not get screen thumbnails: ${I.message}`)}return M?M.map((I,D)=>{var P;const k=y.find(V=>parseInt(I.display_id,10)===V.id);!k&&!(0,d.tR)()&&!(0,d.cX)()&&!(!((P=I.id)===null||P===void 0)&&P.startsWith("window:"))&&g.log.error(`Could not find matching display for screen ${D} with id ${I.display_id}`);const R=k||((0,d.tR)()||(0,d.cX)()?y[D]:void 0);return{mediaSourceId:I.id,thumbnail:I.thumbnail,displayId:R&&R.id,bounds:R&&R.bounds,name:I.name}}):[]})()}getCurrentlyActiveScreenTrack(){return this.screenTrack}startCapturingScreen(v){var f=this;return(0,t.coroutine)(function*(){if((0,r.M)(!f.screenTrack,"Screen track should not already be active"),!v){if(!p.mediaDevices.getDisplayMedia)throw f.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const g={audio:!1,video:{frameRate:{max:15}}},y=yield p.mediaDevices.getDisplayMedia(g);return f.screenTrack=y.getVideoTracks()[0],f.log.info(`Start screen sharing with track id: ${f.screenTrack.id} in browser`),f.screenTrack}catch(g){if(g.name!=="NotAllowedError")throw f.log.error(`Error: ${g.name} while trying to screen share in browser`),(0,o.k)(a.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:g.name}),g;return null}}try{const g={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:v,maxFrameRate:15}}};if(!(0,d.uF)()){const T=yield f.getScreenDetailsByMediaSourceId(v);T&&T.bounds&&(g.video.mandatory.maxWidth=T.bounds.width,g.video.mandatory.maxHeight=T.bounds.height)}const y=yield p.mediaDevices.getUserMedia(g);return f.screenTrack=y.getTracks()[0],f.log.info("Start screen sharing with track id:",f.screenTrack.id,"and mediaSourceId:",v),f.screenTrack}catch(g){throw f.log.error(`Error: ${g.name} for screen ${v}`),(0,o.k)(a.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:g.name}),g}})()}stopCapturingScreen(){if(!this.screenTrack){(0,r.M)("No screenTrack to stop.");return}this.screenTrack.stop();const v=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",v),v}clearScreenTrack(){delete this.screenTrack}getScreenDetailsByMediaSourceId(v){var f=this;return(0,t.coroutine)(function*(){let g;const y=yield f.getScreenThumbnails();return y&&(g=y.find(T=>T.mediaSourceId===v,y)),g})()}constructor(){this.log=(0,n.tZ)("SCREENS")}},"ScreenManager");function E(A,v){if(!v.length){A.error("No screens available");return}const f=new l.M(["id","width","height","x","y","scaleFactor","rotation"]);v.forEach(g=>{f.add([g.id,g.bounds.width,g.bounds.height,g.bounds.x,g.bounds.y,g.scaleFactor,g.rotation].map(String))}),A.info(`Available screens:
${f.report()}`)}i(E,"logDisplays")},4708000837:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>t});function t(n){const s=(n||"").split("-");return s&&(s.length===3||s.length===4)?s[1]:null}i(t,"getCallIdFromExternalId")},8405076696:(Q,C,e)=>{"use strict";e.d(C,{n:()=>t});function t(n){let{width:s,height:r,top:d,left:o}=n;return{position:"absolute",width:`${s}px`,height:`${r}px`,top:`${d}px`,left:`${o}px`}}i(t,"cssForRect")},6117529990:(Q,C,e)=>{"use strict";e.d(C,{BD:()=>s,OV:()=>n,XY:()=>d,wn:()=>r,zq:()=>o});var t=e(4761125736);function n(a){return(0,t._Z)(a,"calls_chime_sdk_exp")==="enabled"}i(n,"isCallsChimeSdkExpEnabled");const s=i(a=>(0,t._Z)(a,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),r=i(a=>(0,t._Z)(a,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),d=i(a=>(0,t._Z)(a,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),o=i(a=>(0,t._Z)(a,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},2004048777:(Q,C,e)=>{"use strict";e.d(C,{$:()=>d,Y:()=>r});var t=e(2615100822),n=e(2825968873),s=e(796111729);function r(o){let{direction:a,type:l,payload:m}=o;const c=(0,t.A)()?"slack":"call",_="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,n.tZ)(_):(0,s.Wo)({label:_})).info(`${a==="send"?"Sending":"Received"} ${l} ${a==="send"?"to":"from"} the ${c} window${m?`, with payload: ${JSON.stringify(m)}`:""}`)}i(r,"logInterWindowMessage");function d(o){function a(l,m,c){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;o(m,c,_),l.sendData({type:m,payload:c})}return i(a,"sendMessage"),a}i(d,"createInterWindowMessageSender")},1371073900:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(571104883);function n(){return!(0,t.j9)()&&(0,t.y3)()}i(n,"isDrawSupported")},6267571562:(Q,C,e)=>{"use strict";e.d(C,{G:()=>n});var t=e(8403493408);class n{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){(0,t.A)(this.subscribers,r)}publish(r){this.subscribers.forEach(d=>{d(r)})}constructor(){this.subscribers=[]}}i(n,"PubSub")},6155974509:(Q,C,e)=>{"use strict";e.d(C,{X:()=>h,a:()=>E});var t=e(571104883),n=e(4387298515),s=e(2825968873),r=e(2615100822),d=e(796111729),o=e(6117529990);const a=2e3,l=6,m=0/265,c=255/265,_=53/265,p=1,u="SCREEN-SHARE",h=i((A,v)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,o.zq)(v)&&((0,n.$m)(A,a),(0,n.VR)(A),(0,n.D0)(l),(0,n.Mh)(m,c,_,p),(0,n.Ac)(),((0,r.A)()?(0,s.tZ)(u):(0,d.Wo)({label:u})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),E=i(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,n.th)(),((0,r.A)()?(0,s.tZ)(u):(0,d.Wo)({label:u})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},7304871158:(Q,C,e)=>{"use strict";e.d(C,{R:()=>r});var t=e(7299481592),n=e(2615100822),s=e(2004048777);const r=(0,s.$)(function(d,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,n.A)(),"Expected to send message from the slack window"),(0,s.Y)({direction:"send",type:d,payload:a?o:"REDACTED"})})},336376314:(Q,C,e)=>{"use strict";e.d(C,{M:()=>n});var t=e(9118672869);class n{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(o=>"-".repeat(o));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((o,a)=>o+a.reduce((l,m,c)=>l+(0,t.A)(m,this.padding[c])+(c!==a.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((d,o)=>Math.max(d.length,this.padding[o]||0))}constructor(r,d="|"){this.columnNames=r,this.separator=d,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}i(n,"StringTable")},5954792826:(Q,C,e)=>{"use strict";e.d(C,{l:()=>t});function t(n){const s=(n||"").split("-");return s&&(s.length===3||s.length===4)?s[2]:null}i(t,"getUserIdFromExternalId")},92886754:(Q,C,e)=>{"use strict";e.d(C,{Np:()=>A,O4:()=>u,Vr:()=>E,WT:()=>m,Wd:()=>p,we:()=>c,yh:()=>_});var t=e(5215813485),n=e(6089972488),s=e(571104883),r=e(3245843483),d=e(4096483543),o=e(735940183),a=e(5707999534);const l=new o.Ay("calls_wrong_build");function m(){if(!(0,s.y3)())return!1;const f=(0,r.suT)();return h(f,{major:4,minor:13,patch:0})}i(m,"isWrongGantryHuddlesBuild");function c(){if(!(0,s.y3)())return!1;const f=(0,r.suT)();return f.major<4?f.minor<4?h(f,{major:3,minor:3,patch:7}):h(f,{major:3,minor:4,patch:0,prerelease:"alpha3"}):f.prerelease&&(f.prerelease.startsWith("sonic")||f.prerelease.startsWith("alpha2"))?!1:h(f,{major:4,minor:0,patch:0,prerelease:"alpha1190201"})}i(c,"isWrongGantryCallsBuild");const _=i(()=>{if((0,s.y3)())return!1;if((0,s.gm)()){if(!((0,s.cX)()||(0,s.uF)()))return!0;const g=87;return Number((0,s.JF)().split(".")[0])<g}return!((0,s.F2)()||(0,a.W)())},"isWrongGantryHuddlesBrowser");function p(){return(0,s.y3)()?!1:!(0,s.F2)()}i(p,"isWrongGantryCallsBrowser");function u(){return(0,d.A)()||((0,s.y3)()?!c():!p())}i(u,"useGantryCalls");function h(f,g){const y=(0,n.Z)(f,g),T=y<0,M=y>0;return T?!0:M||!f.prerelease?!1:g.prerelease?f.prerelease<g.prerelease:!0}i(h,"isPrereleaseVersionOlder");function E(f){return v(f,l.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to calls &mdash; as well as bug fixes and an all-around smoother experience.",{fallbackHash:"15f4227e116c3dce202df6486303491344a6350d",fallbackHashNs:"utility"}))}i(E,"sendEphemeralMessageWithCorrectBuildInfo");function A(f){return v(f,l.t("Unfortunately, Slack calls aren't available in this browser. We recommend downloading the Slack desktop app, or you can switch to Chrome.",{fallbackHash:"c3316caea826cdc00385e8aca03517944038abcc",fallbackHashNs:"utility"}))}i(A,"sendEphemeralMessageWithCorrectBrowserInfo");function v(f,g){return(0,t.A)({temporary:!0,message:{text:g,channel:f}})}i(v,"sendEphemeralMessage")},9910898937:(Q,C,e)=>{"use strict";e.d(C,{uM:()=>ve,Gf:()=>fe,lQ:()=>me});var t=e(6188550760),n=e(9706240641),s=e(3202757386),r=e(2664504268),d=e(6533394955),o=e(2567914105),a=e(4529239752),l=e(8628205589),m=e(3193155968),c=e(9108490430),_=e(4096483543),p=e(7213691587),u=e(109860581),h=e(3034856104),E=e(8172368937),A=e(3340556249),v=e(1031947056),f=e(5223893135);const g=(0,v.Ay)("Determine if fullscreen mode is enabled",(oe,N)=>{const K=N();return(0,f.V)(K)});g.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var y=e(6527965646),T=e(8646192222);const M=(0,v.Ay)("Find view container for a specific window history entry",(oe,N,K)=>{let{id:x}=K;var b;const z=N();return(0,T.iB)(z)?(b=(0,y.G)(z).find(Z=>Z.id===x))===null||b===void 0?void 0:b.container:void 0});M.meta={name:"createThunk",key:"createThunkfindContainerForHistoryEntry",description:"Find view container for a specific window history entry"};var O=e(3875705815),I=e(5661379004),D=e(7606925238),P=e(5925742547),k=e(9012396182);const R=i((oe,N)=>!(!(0,T.mL)(oe)||(0,O.V)(oe)||N[m.jf]!==m.k6.BBM),"shouldPreventBBMHistory"),V=i((oe,N,K)=>{if(!(0,T.iB)(oe)||(0,f.V)(oe))return!1;const x=(0,d.getStateForClientStore)();if((k.getFocusedWorkspace===null||k.getFocusedWorkspace===void 0?void 0:(0,k.getFocusedWorkspace)(x))!==K)return!1;const b=(0,a.jo)(x),z=N[m.jf],$=b[m.jf];if(z!==$)return!1;const Z=N[z],U=b[$];return!!(0,P.A)(Z,U)},"shouldPreventDuplicateHistory"),B=(0,v.Ay)("Maybe prevent default handling of history on pop state",(oe,N,K)=>{let{current:x,index:b,teamId:z}=K;const $=N();if(!R($,x)&&!V($,x,z))return!1;const Z=(0,d.getStateForClientStore)(),U=(0,a.XG)(Z),ee=b>U;if(ee){if((0,a.yS)(Z))return!0}else if((0,a.m6)(Z))return!0;return oe((ee?I.r:D.h)()),!0});B.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var W=e(2554594353);function L(oe){return S.apply(this,arguments)}i(L,"onPopState");function S(){return S=(0,n.coroutine)(function*(oe){const N=oe.state;if(!(N!=null&&N.teamId)||!(N!=null&&N.id))return;const K=(0,d.getClientStoreInstance)();if(!K)return;const x=K.getState,b=K.dispatch;if(!x||!b)return;const z=(0,a.jR)(x()),$=z.findIndex(ye=>ye.id===N.id);if($<0)return;const Z=(0,a.XG)(x()),U=z[Z],ee=N.state[m.jf];if((0,d.dispatchForTeamId)(N.teamId,B({current:N.state,index:$,teamId:N.teamId})))return;var de;const ue=(de=N.state[ee])!==null&&de!==void 0?de:(0,m.DP)(ee),_e=(0,h.H)(U)?U[m.jf]:void 0,pe=(0,h.H)(U)&&_e?U[_e]:void 0,{viewSet:ae}=yield(0,d.dispatchForTeamId)(N.teamId,(0,A.F)({context:E.b.HistoryStack,prevViewSet:pe,prevTab:_e,nextViewSet:ue,nextTab:ee,windowId:m.N2}));N.state[ee]=ae??ue,b((0,l.cM)({windowId:m.N2,index:$,previousIndex:Z})),(0,d.dispatchForTeamId)(N.teamId,(0,c.cQ)(N.state)),(k.getFocusedWorkspace===null||k.getFocusedWorkspace===void 0?void 0:(0,k.getFocusedWorkspace)(x()))!==N.teamId&&b(W.b===null||W.b===void 0?void 0:(0,W.b)({teamId:N.teamId,fromNavigation:!0}));const Le=(0,d.dispatchForTeamId)(N.teamId,g())?(0,d.dispatchForTeamId)(N.teamId,M({id:N.id})):void 0;(0,d.dispatchForTeamId)(N.teamId,(0,p.C)({prevViewSet:pe,prevTab:_e,nextViewSet:ue,nextTab:ee,windowId:m.N2,navigateParams:{destinationContainer:Le},triggerType:u.w.HISTORY_NAVIGATION}))}),S.apply(this,arguments)}i(S,"_onPopState");function H(oe){if(!isSonic())return;const N=oe.state;if(!(N!=null&&N.id))return;const K=getClientStoreInstance();if(!K)return;const x=K.getState,b=K.dispatch;if(!x||!b)return;const $=getHistoryForMainWindow(x()).findIndex(U=>U.id===N.id);if($<0)return;const Z=getHistoryIndexForMainWindow(x());b(updateIndexForMainWindow({windowId:MainWindowId,index:$,previousIndex:Z}))}i(H,"onIA3PopState");var w=e(1642614792),F=e(8289899277),j=e(472899830),J=e(796111729);function X(oe){return q.apply(this,arguments)}i(X,"navigateAfterPopState");function q(){return q=(0,n.coroutine)(function*(oe){var N;if(!(0,s.A)())return;if(!(oe==null||(N=oe.state)===null||N===void 0)&&N.isIA4){j.p.prevNavigatedTeamOrEnterpriseId=oe.state.teamId,L(oe);return}const K=(0,w.oI)(),x=(0,F.f)(),b=(0,t.A_)(),z=(0,d.getStoreInstanceByTeamId)(j.p.prevNavigatedTeamOrEnterpriseId),$=z?(0,o.oY)(z.getState()):!1,Z=(0,r.A)().slice(0,8);if((0,J.Wo)().info("ROUTES",`[${Z}]`,`[${x.routeName}]`,"Attempting to popstate navigate to new route",x.params),(yield(0,t.$C)({prevTeamOrEnterpriseId:j.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:K,prevRouteInfo:j.p.popstatePrevRouteInfo,routeName:x.routeName,params:x.params,reason:t.GB,uuid:Z}))===!1||$===!0){(0,J.Wo)().info("ROUTES",`[${Z}]`,`[${x.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,t.OX)({prevTeamOrEnterpriseId:j.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:K,prevRouteInfo:j.p.popstatePrevRouteInfo,routeName:x.routeName,params:x.params,reason:t.GB,uuid:Z}),(0,J.Wo)().info("ROUTES",`[${Z}]`,`[${x.routeName}]`,"Navigated to new route"),j.p.prevNavigatedTeamOrEnterpriseId=K,b&&typeof b.onEnter=="function"){const ee=(0,d.getStoreInstanceByTeamId)(K);b.onEnter.call(null,ee.getState,null,window.location.pathname)}}),q.apply(this,arguments)}i(q,"_navigateAfterPopState");const G=i(()=>{window.addEventListener("popstate",X)},"addPopStateListener");var ne=e(9733150292),te=e(7515251865),le=e(210422728),he=e(3080748521);G();function fe(){let{store:oe,shouldSetFocus:N}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const K=(0,F.f)(window.location.pathname,{throwOnNoRoute:!1});if(K&&N&&K.routeName!==te.o)return K;if(!oe)return null;const x=(0,he.D8)(oe.getState()),b=(0,he.MC)(oe.getState()),z={routeName:x,params:b};return(0,t.EB)(z)?z:null}i(fe,"determineCurrentView");function ve(){return(0,t.Dd)(oe=>{let{nextTeamId:N,routeName:K,params:x}=oe;(0,d.getStoreInstanceByTeamId)(N)&&(0,d.dispatchForTeamId)(N,(0,le.w)({routeName:K,params:x}))})}i(ve,"configureUpdateCurrentRoute");function me(oe){const N=(0,ne._z)(oe,"lastRoute");return(0,t.EB)(N)?N:null}i(me,"getLastRouteFromLocalConfig")},210422728:(Q,C,e)=>{"use strict";e.d(C,{T:()=>s,w:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Navigate to a route");n.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const s=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");s.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},311893736:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(6533394955),n=e(3677514771),s=e(9012396182);function r(d,o){const a=(0,t.getClientStoreInstance)();if(a){const m=a.getState(),c=(0,s.getWorkspaceMetaBySubdomain)(m,o);if(c)return c.id}const l=(0,n.lL)(d,o);if(l)return l.id}i(r,"findWorkspaceIdForSubdomain")},8204430196:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(9113979368),s=e(2562405183),r=e(1030162945),d=e(2374999399),o=e(6818330210);function a(m){let{memberId:c,className:_,emoji:p,emojiSize:u,showTooltips:h,stopAnimations:E}=m;const A=(0,s.F3)(g=>(0,d.A)(g,c));if(!c||!p)return null;const{name:v=p,url:f=void 0}=A?(0,o.H)(p,(0,n.A)(A)?void 0:A):{};return t.createElement(r.Ay,{className:_,emojiSize:u||r.lw.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!h,stopAnimations:!!E,text:v,url:f})}i(a,"CustomStatusEmoji"),a.displayName="CustomStatusEmoji";const l=t.memo(a)},6710730141:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(735940183),s=e(2406011273),r=e(9391594207),d=e(1345620242),o=e(2047021170);const a=new n.Ay("current_status");function l(_){let{className:p,expiration:u,time24:h}=_;if(!u)return null;const E=u*1e3,A=a.t("Until {expirationDate}",{expirationDate:(0,s.A)(E,"{status_expiration}",{do24hrTime:h,shouldCapitalize:!1})});return t.createElement("span",{className:p,"data-qa-status-expiration":u},A)}i(l,"CustomStatusExpiration"),l.displayName="CustomStatusExpiration";function m(_,p){let{memberId:u}=p;return{expiration:(0,d.A)(_,u||"")||0,time24:!!(0,o.ty)(_,"time24")}}i(m,"mapStateToProps");const c=(0,r.N)(m)(l)},5530660703:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(2562405183),s=e(1030162945),r=e(2374999399),d=e(7969928607);function o(l){let{memberId:m,className:c,emojiSize:_,showTooltips:p,stopAnimations:u,text:h}=l;const E=(0,n.F3)(A=>m?(0,r.A)(A,m):void 0);return h?t.createElement("span",{className:c,"data-qa":"custom_status_text"},t.createElement(d.A,{text:h,inputIsEscaped:!0,emojiSize:_||s.lw.MEDIUM,showTooltips:!!p,stopAnimations:!!u,emojiDisplayInfo:E})):null}i(o,"CustomStatusText"),o.displayName="CustomStatusText";const a=t.memo(o)},7278430876:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(193084903),d=e(2312625946),o=e(1030162945),a=e(8204430196),l=e(2072540560),m=e(8276911661),c=e(8170643398),_=e(2689960678),p=e(5530660703);function u(){return u=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},u.apply(this,arguments)}i(u,"_extends");const h={noLinking:!1},E=i(y=>{let{stopAnimations:T=!1,noText:M=!1,className:O,memberId:I="",noLinking:D,showEmojiTooltip:P=!1,insertTextSpacing:k=!1,displayInMemberProfile:R=!1,emoji:V}=y;const B=(0,n.d4)(S=>(0,l.A)(S,I)),W=(0,n.d4)(S=>(0,c.fy)((0,m.nv)(S,I)));let L=_.t0;return D===!1&&(L=h),R?t.createElement("span",{className:O},t.createElement(a.A,{memberId:I,emoji:V,stopAnimations:T,showTooltips:P,emojiSize:o.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),B&&t.createElement(p.A,u({memberId:I,className:(0,s.A)("margin_left_50","padding_right_50",{margin_right_100:W}),emojiSize:o.lw.SMALL,stopAnimations:T,text:M?"":B},L))):t.createElement("span",{className:O},t.createElement(a.A,{memberId:I,showTooltips:P,emojiSize:o.lw.SMALL,emoji:V,stopAnimations:T}),B&&t.createElement(p.A,u({memberId:I,className:k?"margin_left_50":"margin_left_25",emojiSize:o.lw.SMALL,stopAnimations:T,text:M?"":B},L)))},"CustomStatusTooltipContent");E.displayName="CustomStatusTooltipContent";const A=t.memo(E);var v=e(6710730141);const f=i(y=>{let{animated:T=!1,tooltip:M=!0,tipPosition:O,noText:I=!1,className:D,memberId:P="",noLinking:k,showEmojiTooltip:R=!1,insertTextSpacing:V=!1,displayInMemberProfile:B=!1}=y;const W=(0,n.d4)(S=>(0,r.A)(S,P)),L=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(A,{className:"c-custom_status__tooltip",noText:I,memberId:P,noLinking:k,showEmojiTooltip:R,insertTextSpacing:V,displayInMemberProfile:B,emoji:W}),t.createElement(v.A,{className:"c-custom_status__expiration",memberId:P})),[P,I,k,R,V,B,W]);return W?M?t.createElement(d.Ay,{tip:L,position:O,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:(0,s.A)("c-custom_status",D),"data-qa":"custom_status"},t.createElement(a.A,{memberId:P,showTooltips:!1,emojiSize:o.lw.SMALL,emoji:W,stopAnimations:!T}))):t.createElement(A,{className:(0,s.A)(D,"c-custom_status","c-custom_status--inline",{display_flex:B}),stopAnimations:!T,noText:I,memberId:P,noLinking:k,showEmojiTooltip:R,insertTextSpacing:V,displayInMemberProfile:B,emoji:W}):null},"CustomStatus");f.displayName="CustomStatus";const g=t.memo(f)},2486585453:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,j:()=>n.A});var t=e(7278430876),n=e(6710730141);const s=t.A},9580887194:(Q,C,e)=>{"use strict";e.d(C,{E:()=>d,a:()=>o});var t=e(9936232041),n=e(9609912577),s=e(1031947056),r=e(6440800009);const d=(0,s.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(a,l,m)=>{let{emojiName:c,emojiUrl:_}=m;var p;a((0,n.A)({emojiNameSuggestion:c&&((p=(0,t.A)(c))===null||p===void 0?void 0:p.name),emojiUrl:_}))});d.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const o=(0,s.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(a,l,m)=>{const c=l(),{event:_,emojiName:p,emojiUrl:u}=m;u&&(0,r.LU)(c,u,p)&&(_==null||_.preventDefault(),_==null||_.stopPropagation(),a(d(m)))});o.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},8021873188:(Q,C,e)=>{"use strict";e.d(C,{K:()=>o});var t=e(3134334389),n=e(735940183),s=e(8683010724),r=e(6440800009);const d=new n.Ay("import-external-emoji");function o(a){let{emojiUrl:l,emojiName:m}=a;return(0,r.tJ)(l,m)?t.createElement("div",{className:"margin_top_50"},t.createElement(s.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},d.t("Right click to add to your organization"))):null}i(o,"ImportExternalEmojiTooltipInfo"),o.displayName="ImportExternalEmojiTooltipInfo"},6440800009:(Q,C,e)=>{"use strict";e.d(C,{$N:()=>V,LU:()=>I,tJ:()=>D});var t=e(8701485242),n=e(4921059838),s=e(9936232041),r=e(2689960678),d=e(317660850),o=e(6790819894),a=e(3677514771),l=e(2757639362),m=e(6839188756),c=e(5795074931),_=e(6457401668),p=e(2562405183),u=e(2384831516),h=e(7606781622),E=e(5757070316),A=e(9608713960),v=e(6783791506),f=e(4813703725);const g=i(B=>{var W;return Array.isArray((W=B)===null||W===void 0?void 0:W.elements)},"hasElements"),y=i((B,W)=>(0,t.Ay)(B.emojiName,W.emojiName),"emojiNameSort"),T=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function M(B){var W;const L=(W=(0,s.A)(B))===null||W===void 0?void 0:W.name;return!!L&&T.has(L)}i(M,"isBuiltInEmoji");function O(B,W,L){return decodeURIComponent(W).includes((0,l.w)())?!1:!(L&&((0,n.A)(B,L)||M(L)))}i(O,"isCustomEmoji");const I=(0,u.Mz)((B,W,L)=>{if(!(W&&(0,c.TZ)(B)&&O(B,W,L)&&(0,d.D)(B)))return!1;const H=(0,a.Yc)(B);var w;const F=(w=H==null?void 0:H.id)!==null&&w!==void 0?w:"",j=(0,m.Ic)(H);return!!j&&W.indexOf((0,m.k7)(F,j))===-1&&W.indexOf(F.slice(1))===-1});I.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(B,W,L)=>{if(!(W&&(0,c.TZ)(B)&&O(B,W,L)&&(0,d.D)(B)))return!1;const H=(0,a.Yc)(B);var w;const F=(w=H==null?void 0:H.id)!==null&&w!==void 0?w:"",j=(0,m.Ic)(H);return!!j&&W.indexOf((0,m.k7)(F,j))===-1&&W.indexOf(F.slice(1))===-1}};function D(B,W){return(0,p.d4)(L=>I(L,B,W))}i(D,"useCanImportThisEmoji");function P(B,W){for(const L of W||[])(0,v.E)(L)?L.display_url&&B.set(L.display_url,{emojiName:L.name,emojiUrl:L.display_url}):g(L)&&P(B,L.elements)}i(P,"collectMessageEmojis");function k(B,W){for(const{name:L,url:S}of W||[])S&&B.set(S,{emojiName:L,emojiUrl:S})}i(k,"collectMessageReactjis");const R=(0,o.F)((B,W)=>W,(B,W)=>(0,A.bk)(B,(0,E.J)(W)),(B,W)=>{const L=new Map;return k(L,W),P(L,B.blocks),[...L.values()].sort(y)}),V=(0,f.eI)((B,W)=>{let{channelId:L,ts:S}=W;if(!(0,d.D)(B)||!(0,c.TZ)(B))return r.Ml;const H=(0,h.Ld)(B,L,S);return!H||(0,_.aK)(H)?r.Ml:R(B,H).filter(w=>{let{emojiName:F,emojiUrl:j}=w;return I(B,j,F)})})},9253306e3:(Q,C,e)=>{"use strict";e.d(C,{r:()=>L});var t=e(3134334389),n=e(735940183),s=e(362134992),r=e(2689960678),d=e(9101533895),o=e(4288405498),a=e(7045654828),l=e(5892132962),m=e(4158363050),c=e(2823938397),_=e(2463625947),p=e(8417858288),u=e(5255740490),h=e(7026348746),E=e(8683010724),A=e(6084388622),v=e(2217643974),f=e.n(v);function g(){return t.createElement(E.A,{name:"caret-right",size:"16"})}i(g,"Separator"),g.displayName="Separator";function y(S){let{crumb:H}=S;const{label:w,onClick:F,className:j,iconProps:J}=H;return t.createElement("div",{className:(0,u.A)(f().record_breadcrumb,j)},t.createElement(E.A,{name:J.name,inline:!0}),!F&&t.createElement("span",{className:f().record_breadcrumb_label},w),F&&t.createElement(A.jV,{className:f().record_breadcrumb_label,onClick:F},w))}i(y,"Breadcrumb"),y.displayName="Breadcrumb";function T(S){let{className:H,crumbs:w,isLoading:F}=S;return!w.length&&!F?null:t.createElement("div",{className:(0,u.A)(f().record_breadcrumbs,H)},F&&t.createElement(h.A,{dataQa:"record-breadcrumbs-missing-text",size:"large"}),!F&&w.map((j,J)=>t.createElement(t.Fragment,{key:j.label},t.createElement(y,{crumb:j}),!j.noSeparator&&J!==w.length-1&&t.createElement(g,null))))}i(T,"RecordBreadcrumbsLayout"),T.displayName="RecordBreadcrumbsLayout";var M=e(9548888903),O=e(2562405183),I=e(2233365467),D=e(1190344069),P=e(8096107629),k=e(8300007136);const R=new n.Ay("recordchannels");function V(S){let{className:H,recordId:w}=S;const F=(0,k.wA)(),j=(0,O.d4)(X=>(0,a.PQ)(X,w)),J=(0,t.useMemo)(()=>{if(!(0,P._s)(j))return r.Ml;const{org:X,parent:q}=j;return(0,s.A)([q&&{label:q.name,iconProps:(0,l.Ep)(q.object_api_name),onClick:()=>F((0,_.c)({recordId:q.id}))},X&&{label:X.name,iconProps:(0,l.Ep)(M.hM.Org)}])},[F,j]);return t.createElement(T,{className:H,crumbs:J,isLoading:(0,P.Eh)(j)})}i(V,"BaseRecordBreadcrumbs"),V.displayName="BaseRecordBreadcrumbs";function B(S){let{className:H,channelId:w,includePrefix:F}=S;const j=(0,k.wA)(),J=(0,O.d4)(me=>(0,d.OL)(me,w)),X=(0,O.d4)(D.hm),q=(0,O.d4)(D.bU),G=(0,I.iJ)(J),ne=(0,I.dM)(J),te=(0,I.jT)(J),le=(0,O.d4)(me=>(0,a.PQ)(me,G)),he=le.parent,fe=(0,O.d4)(me=>{var oe;return(0,m.k)(me,(oe=(0,p.B)(G||""))===null||oe===void 0?void 0:oe.orgId)}),ve=(0,t.useMemo)(()=>(0,s.A)([F&&{label:X?R.t("{recordLabel} in",{recordLabel:te,recordType:te,fallbackHash:"eb133cfd29e163bd9be3a746955bc8b4714e245b"}):`${te} in`,className:"margin_right_25",iconProps:(0,l.Ep)(ne),noSeparator:!0},(he==null?void 0:he.name)&&{label:he.name,iconProps:(0,l.Ep)(he.object_api_name),onClick:()=>{he.id&&j(q?(0,o.N)({recordId:he.id}):(0,_.c)({recordId:he.id}))}},(0,c.uz)(fe)&&{label:fe.name,iconProps:(0,l.Ep)(M.hM.Org)}]),[j,F,fe,he,ne,te,X,q]);return t.createElement(T,{className:H,crumbs:ve,isLoading:(0,c.mX)(fe)||(0,c.mX)(J)||(0,P.Eh)(le)})}i(B,"BaseRecordChannelBreadcrumbs"),B.displayName="BaseRecordChannelBreadcrumbs";const W=null,L=t.memo(B)},2463625947:(Q,C,e)=>{"use strict";e.d(C,{c:()=>l});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(5267010247),d=e(8822892075),o=e(8847766420),a=e(8096107629);const l=(0,s.Ay)("Navigate to a Record in the Flexpane",function(){var m=(0,t.coroutine)(function*(c,_,p){let{listViewId:u,recordId:h,view:E}=p;const A=_(),v=(0,o.ZT)(A);return v&&(0,a.D1)(v,[h]),c((0,r.o)((0,d.Lv)({listViewId:u,recordId:h,view:E})))});return function(c,_,p){return m.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunknavigateToRecord",description:"Navigate to a Record in the Flexpane"}},5892132962:(Q,C,e)=>{"use strict";e.d(C,{Ep:()=>_,sc:()=>p});var t=e(9548888903),n=e(2233365467),s=e(1407713935);const r={name:"sf-opportunity",variation:"filled"},d={name:"sf-account",variation:"filled"},o={name:"sf-case",variation:"filled"},a={name:"sf-lead",variation:"filled"},l={name:"sf-contact",variation:"filled"},m={name:"sf-cloud",variation:"filled"},c={name:"headphones",variation:"filled"};function _(u){switch(u){case t.hM.Opportunity:return r;case t.hM.Account:return d;case t.hM.Lead:return a;case t.hM.Case:return o;case t.hM.Contact:return l;case t.hM.Org:default:return m}}i(_,"getSalesforceObjectTypeIconProps");function p(u){if(!(0,s.rI)(u))return null;const h=(0,n.LJ)(u);switch((0,n.fI)(h==null?void 0:h.record_id)){case t.B4.Huddle:return c;default:return null}}i(p,"getRecordChannelOverrideIconProps")},7244076749:(Q,C,e)=>{"use strict";e.d(C,{b:()=>n});var t=e(4724591729);function n(){return(0,t.b3)()}i(n,"isSlackKitPlaygroundEnabled")},1340402138:(Q,C,e)=>{"use strict";e.d(C,{R:()=>s});var t=e(2384831516),n=e(3677514771);const s=(0,t.Mz)(r=>{const d=(0,n.H7)(r);if(!d)return!1;var o;return(o=d==null?void 0:d.is_solo)!==null&&o!==void 0?o:!1});s.meta={name:"createSelector",key:"createSelectorgetIsSPFNonWorkWorkspace",description:r=>{const d=(0,n.H7)(r);if(!d)return!1;var o;return(o=d==null?void 0:d.is_solo)!==null&&o!==void 0?o:!1}}},5868036555:(Q,C,e)=>{"use strict";e.d(C,{CC:()=>s,Fv:()=>r,NY:()=>o,P:()=>a,PG:()=>c,Qi:()=>_,Uk:()=>d,We:()=>p,n0:()=>l,zr:()=>m});var t=e(9132066222),n=e(4761125736);function s(u){return(0,n._Z)(u,"solutions")==="on"}i(s,"isSolutionsEnabled");function r(u){return(0,n._Z)(u,"workflow_composer")==="on"}i(r,"isWorkflowComposerEnabled");function d(u){return(0,n._Z)(u,"workflow_composer_ga_wishlist")==="on"}i(d,"isWorkflowComposerGAWishlistEnabled");function o(u){return(0,n._Z)(u,"workflow_file_dialog")==="on"||s(u)}i(o,"isWorfklowFileDialogEnabled");function a(u){return(0,n._Z)(u,"solutions_add_to_channel")==="on"&&s(u)&&(0,t.U6)(u)}i(a,"isSolutionsAddToChannelEnabled");function l(u){return(s(u)||(0,t.U6)(u))&&(0,n._Z)(u,"solutions_tidy_up")==="on"}i(l,"isSolutionsTidyUpEnabled");function m(u){return s(u)&&(0,n._Z)(u,"custom_solution_creation")==="on"}i(m,"isCustomSolutionCreationEnabled");function c(u){return(0,n._Z)(u,"solutions_for_sfdc")==="on"}i(c,"isSolutionsForSfdcEnabled");function _(u){return a(u)&&(0,n._Z)(u,"solutions_new_setup_flow")==="on"}i(_,"isSolutionNewSetupFlowEnabled");const p=i(u=>(0,n._Z)(u,"ask_slack_view")==="on","isAskSlackViewEnabled")},2664997725:(Q,C,e)=>{"use strict";e.d(C,{x:()=>l});var t=e(6839188756),n=e(3677514771),s=e(9132066222),r=e(1552255081),d=e(6642124196),o=e(1737183214),a=e(5868036555);const l=i(m=>{const c=(0,n.H7)(m);return!((0,t.tc)(c)||!(0,a.CC)(m)||!(0,s.U6)(m)||!(0,r.F)(m)||!(0,d.teamHasFullListsAccess)(m)||!(0,o.I)(m))},"canUserProvisionSolutions")},3121972076:(Q,C,e)=>{"use strict";e.d(C,{g:()=>c});var t=e(3134334389),n=e(9132066222),s=e(125295483),r=e(5917710436),d=e(6839188756),o=e(2689960678),a=e(2562405183),l=e(9101533895),m=e(3677514771);function c(_){const p=(0,a.d4)(A=>(0,l.OL)(A,_,!1)),u=(0,a.d4)(A=>{var v;return(0,n.xA)(A,p)?p==null||(v=p.properties)===null||v===void 0?void 0:v.tabs:o.Ml}),h=(0,d.tc)((0,a.d4)(m.H7)),E=(0,a.d4)(r.T$);return(0,t.useMemo)(()=>{var A;if(!p)return[];let v=[...((A=u==null?void 0:u.filter(f=>!f.is_disabled))===null||A===void 0?void 0:A.map(n._f))||[]];return E===r.MB.READ_ONLY&&(v=v.filter(f=>f.type!==s.Xy.List)),h&&(v=v.filter(f=>f.type!==s.Xy.List&&f.type!==s.Xy.Workflows)),v},[u,p,h,E])}i(c,"useDynamicChannelTabs")},667891291:(Q,C,e)=>{"use strict";e.d(C,{Hv:()=>m,c5:()=>l});var t=e(3134334389),n=e(6217320234),s=e(9374064916),r=e(7245481391),d=e(2562405183);const o=[r.fY.Channel,r.fY.RecordCreate,r.fY.RecordOverview,r.fY.RecordSummary,r.fY.RecordOpportunities,r.fY.ChannelCanvas,r.fY.RecordHistory];function a(_){const p=o.indexOf(_);return p===-1?Number.MAX_SAFE_INTEGER:p}i(a,"getTabOrderIndex");function l(_){return(0,n.A)(_,p=>a(p.id))}i(l,"getSortedStaticTabs");function m(_){const p=c(_);return(0,d.d4)(p)}i(m,"useStaticChannelTabs");function c(_){return(0,t.useMemo)(()=>(0,s.fZ)(_),[_])}i(c,"useMakeGetStaticTabsSelector")},5253816611:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>c});var t=e(3398586081),n=e(362134992),s=e(3385422400),r=e(1190344069),d=e(9548888903),o=e(7245481391),a=e(735940183);const l=new a.Ay("tabbed-channel"),m=i((_,p)=>`${_||""}.${p||""}`,"getCacheKey"),c=(0,t.A)((_,p)=>(0,s.Mz)([u=>(0,r.hm)(u),u=>(0,r.BU)(u),u=>(0,r.jL)(u),u=>(0,r.xw)(u),u=>(0,r.VJ)(u),u=>(0,r.dw)(u)],(u,h,E,A,v,f)=>{if(!_||!u)return[];const g=E||h||v;return(0,n.A)([{id:o.fY.RecordOverview,type:o.Xy.RecordOverview,label:l.t("{recordLabel} details",{recordLabel:p||l.t("Record",{fallbackHash:"0efc2e6be4c23b9a513d7ce0dcff8ed80e8912e7",fallbackHashNs:"recordchannels"}),fallbackHash:"0efc2e6be4c23b9a513d7ce0dcff8ed80e8912e7",fallbackHashNs:"recordchannels"})},g&&{id:o.fY.RecordSummary,type:o.Xy.RecordSummary,label:l.t("Summary")},_===d.hM.Account&&!f&&{id:o.fY.RecordOpportunities,type:o.Xy.RecordList,label:l.t("Open Opportunities",{fallbackHash:"51b7a8a4c68a8eaa403c840017fe5998f53be1da"})},A&&{id:o.fY.RecordHistory,type:o.Xy.RecordHistory,label:l.t("History")}])}),m)},9374064916:(Q,C,e)=>{"use strict";e.d(C,{fZ:()=>A});var t=e(362134992),n=e(3398586081),s=e(6217320234),r=e(3385422400),d=e(2233365467),o=e(9132066222),a=e(5253816611),l=e(7245481391),m=e(6839188756),c=e(735940183),_=e(6334717308),p=e(9101533895),u=e(3677514771);const h=new c.Ay("tabbed-channel"),E=i(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=arguments.length>2?arguments[2]:void 0,M=arguments.length>3?arguments[3]:void 0;const O=new Set(y==null?void 0:y.map(P=>P.type)),D=[...(0,t.A)([{id:l.fY.Channel,type:l.Xy.Channel,label:h.t("Messages")},!M&&{id:l.fY.ChannelCanvas,type:l.Xy.ChannelCanvas,label:h.t("Canvas")},!T&&{id:l.fY.Workflows,type:l.Xy.Workflows,isDisabled:!0,label:h.t("Workflows")},{id:l.fY.Bookmarks,type:l.Xy.Bookmarks,isDisabled:!0,label:h.t("Bookmarks",{fallbackHash:"ca3cddd25bd8f6bc4ce35a262e2e1398541ecf3d",fallbackHashNs:"bookmarks-bar"})},{id:l.fY.Files,type:l.Xy.Files,isDisabled:!0,label:h.t("Files")},{id:l.fY.Pins,type:l.Xy.Pins,isDisabled:!0,label:h.t("Pins")}]),...g].filter(P=>!O.has(P.type));return v(D)},"getComputedStaticTabs"),A=(0,n.A)(g=>(0,r.Mz)([y=>{const T=(0,p.OL)(y,g);return(0,a.Y)((0,d.dM)(T),(0,d.jT)(T))(y)},y=>{var T,M;return(T=(0,p.OL)(y,g))===null||T===void 0||(M=T.properties)===null||M===void 0?void 0:M.tabs},y=>(0,m.tc)((0,u.H7)(y)),y=>(0,_.c)(y)],E));function v(g){return(0,s.A)(g,y=>f(y.id))}i(v,"getSortedStaticTabs");function f(g){const y=o.s3.indexOf(g);return y===-1?Number.MAX_SAFE_INTEGER:y}i(f,"getTabOrderIndex")},7440014425:(Q,C,e)=>{"use strict";e.d(C,{d:()=>W,H:()=>L});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(6027162153),d=e(9744286524),o=e(1190344069),a=e(3121972076),l=e(667891291),m=e(9132066222),c=e(4427921758),_=e(3172414072),p=e(7056498591),u=e(796111729),h=e(1031947056);const E=(0,h.Ay)("Adds a new tab to a channel",function(){var S=(0,t.coroutine)(function*(H,w,F){let{channelId:j,tabId:J,data:X,label:q,reason:G="updateTab"}=F,ne={ok:!1,tabs:[]};try{ne=yield H((0,p.k)({id:J,...(q||q==="")&&{label:q},...X&&{data:X},channelId:j,reason:G}))}catch(te){(0,u.Ay)({label:"channel_tabs"}).error("error updating tab",te)}return ne});return function(H,w,F){return S.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunkupdateTab",description:"Adds a new tab to a channel"};var A=e(7245481391),v=e(5115870218),f=e(1783582283),g=e(7937864072),y=e(6334717308),T=e(4849735859),M=e(2580646391),O=e(2562405183),I=e(9101533895),D=e(3430841143),P=e(4347488242),k=e(5534420337),R=e(9530687876);const V=(0,h.Ay)(R.rd.SET_CHANNEL_PROPERTIES_DEFAULT_TAB_ID,(S,H,w)=>{let{channelId:F,defaultTabId:j}=w;const J=H(),X=!1,q=(0,I.OL)(J,F,X);if(!F||!q)return;let G;try{G=JSON.stringify({default_tab_id:j})}catch(te){(0,k.Ay)({getState:H}).error(te,"failed serializing new properties");return}const ne={...q,properties:{...q==null?void 0:q.properties,default_tab_id:j}};return S((0,D.F)({channel:ne,reason:R.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT})),S((0,P.D)({channelId:F,props:G,reason:"set_channel_canvas_default_tab_id"})).then(()=>{S((0,D.F)({channel:ne,reason:R.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT}))}).catch(te=>{(0,D.F)({channel:q})})});V.meta={name:"createThunk",key:"createThunksetChannelPropertiesDefaultTabId",description:R.rd.SET_CHANNEL_PROPERTIES_DEFAULT_TAB_ID};var B=e(4761125736);const W=(0,n.createContext)({});function L(S){let{channelId:H,children:w,tabParams:F,currentTabId:j}=S;var J;const X=(0,O.d4)(ue=>(0,B._Z)(ue,"unified_canvas_tabs_prototype")==="on"),q=(0,O.d4)(m.Hy),G=(0,O.d4)(o.dw),ne=(0,O.d4)(ue=>(0,B._Z)(ue,"channel_default_tabs")==="on"),te=(0,O.d4)(ue=>(0,I.OL)(ue,H)),le=(0,s.wA)(),he=(0,g.A)(),fe=(0,l.Hv)(H),ve=(0,a.g)(H),{channelCanvasFileId:me}=(0,d.A)({channelId:H}),oe=(0,O.d4)(y.c),[N,K]=(0,n.useState)(!1),x=(0,n.useCallback)(()=>{K(!0),le((0,T.A)({onCreate:ue=>{let{fileId:_e}=ue;le((0,_.P)({channelId:H,type:"canvas",fileId:_e})).then(pe=>{K(!1);const ae=pe.tabs,Ee=ae==null?void 0:ae.find(Le=>{let{data:ye}=Le;return ye&&ye.file_id===_e});Ee&&le((0,f.i)({channelId:H,id:Ee.id,reason:"add-channel-tab"}))})},source:M.P.CREATE_CHANNEL_SPACE}))},[H,le]),b=(0,n.useMemo)(()=>{var ue;let _e=(0,v.L)({tabs:[...fe,...ve],experimentChannelTabsV5BookmarkFoldersGroupOn:q,experimentLobRelatedListsGroupOn:G,isGovSlack:oe});if(!(te==null||(ue=te.properties)===null||ue===void 0)&&ue.default_tab_id){const pe=_e.find(ae=>ae.id===te.properties.default_tab_id);pe&&(_e=(0,r.A)(_e,pe),_e.unshift(pe))}if(X&&!me&&_e.find(pe=>{let{type:ae}=pe;return ae===A.Xy.ChannelCanvas})){const pe=_e.findIndex(ae=>{let{type:Ee}=ae;return Ee===A.Xy.ChannelCanvas});_e.find(ae=>{let{type:Ee}=ae;return Ee===A.Xy.Canvas})?_e.splice(pe,1):_e.splice(pe,1,{id:N?A.fY.CreatingCanvas:A.fY.CreateCanvas,type:A.Xy.CreateCanvas,label:"Canvas",onSelected:x})}return _e},[fe,ve,q,G,X,me,N,x,te,oe]),[z,$]=(0,n.useState)(b);(0,n.useEffect)(()=>{$(b)},[b]);const Z=(J=te.properties)===null||J===void 0?void 0:J.default_tab_id,U=(0,m.Fi)(z,j)||(0,m.Fi)(z,Z)||(0,m.Fi)(z,A.fY.Channel),ee=(0,n.useCallback)(function(){var ue=(0,t.coroutine)(function*(_e){let{sourceIndex:pe,destinationIndex:ae}=_e;const Ee=[...z],Le=[...z],[ye]=Ee.splice(pe,1);Ee.splice(ae,0,ye);const Te=Ee[ae-1];$(Ee),ne&&(ae===0&&pe!==0?yield le(V({channelId:H,defaultTabId:Ee[0].id})):pe===0&&ae!==0&&(yield le(V({channelId:H,defaultTabId:""})))),(yield le((0,f.i)({channelId:H,id:ye.id,...!!Te&&!(0,m.PN)(Te)&&{after:Te.id},reason:"updateTabOrder"}))).ok||$(Le)});return function(_e){return ue.apply(this,arguments)}}(),[H,le,ne,z]),se=(0,n.useCallback)(function(){var ue=(0,t.coroutine)(function*(_e){const pe=[...z],ae=[...z],Ee=pe.findIndex(ye=>ye.id===j);if(Ee<0)return;pe[Ee].label=_e,$(pe),(yield le(E({channelId:H,tabId:j||Z||A.fY.Channel,label:_e,reason:"updateTabLabel"}))).ok||$(ae)});return function(_e){return ue.apply(this,arguments)}}(),[H,j,Z,le,z]),de=(0,n.useMemo)(()=>({tabParams:F,tabSchema:z,channelId:H,currentTab:U,updateTabOrder:ee,updateTabLabel:se}),[z,F,H,U,ee,se]);return U?n.createElement(W.Provider,{value:de},n.createElement(c.j.Provider,{value:de},w)):(he.error(new Error("No current channel tab selected.")),null)}i(L,"TabbedChannelProvider"),L.displayName="TabbedChannelProvider"},4427921758:(Q,C,e)=>{"use strict";e.d(C,{j:()=>n});var t=e(6152845331);const n=(0,t.Ay)("Tabbed channel",{})},3172414072:(Q,C,e)=>{"use strict";e.d(C,{P:()=>d});var t=e(8786006583),n=e(2799479478),s=e(1031947056),r=e(3639008527);const d=(0,s.Ay)("Adds a tab to a channel and navigates to that tab",(o,a,l)=>{let{channelId:m,type:c,label:_,fileId:p,accessLevel:u,data:h,reason:E="add-channel-tab"}=l;const A=p||u||h?{channelId:m,type:c,label:_,data:{fileId:p,accessLevel:u,...h},reason:E}:{channelId:m,label:_,type:c,reason:E};return o((0,r.Z)(A)).then(v=>{const f=v.tabs;let g=(0,t.A)(f);return p?g=f==null?void 0:f.find(y=>{let{data:T}=y;return(T==null?void 0:T.file_id)===p}):h!=null&&h.recordRelatedListId?g=f==null?void 0:f.find(y=>{let{data:T}=y;return(T==null?void 0:T.record_related_list_id)===h.recordRelatedListId}):h!=null&&h.salesforceListViewId&&(g=f==null?void 0:f.find(y=>{let{data:T}=y;return(T==null?void 0:T.salesforce_list_view_id)===h.salesforceListViewId})),g&&o((0,n.D)({tabId:g.id,tab:g,channelId:m})),v})});d.meta={name:"createThunk",key:"createThunkaddTabToChannelAndNavigate",description:"Adds a tab to a channel and navigates to that tab"}},2799479478:(Q,C,e)=>{"use strict";e.d(C,{D:()=>h});var t=e(9132066222),n=e(7245481391),s=e(5267010247),r=e(8822892075),d=e(5964896486),o=e(82287009),a=e(6078549397),l=e(1031947056),m=e(2522627261),c=e(36177209),_=e(4033441523),p=e(8980478045),u=e(9101533895);const h=(0,l.Ay)("Navigate to a channel tab",(E,A,v)=>{let{tabId:f,tab:g,channelId:y,docSource:T,sectionIdsToHighlightOverride:M}=v;const O=A(),I=g||(0,t.kt)(O,y,f),D=(0,u.OL)(O,y,!1);if(I!=null&&I.data){const P="fileId"in I.data&&I.data.fileId||"file_id"in I.data&&I.data.file_id;if(P){if(I.type===n.Xy.Canvas){const k={fileId:P,source:T??_.f.CHANNEL_TAB,isChannelCanvas:!1,channelId:y};return E((0,s.o)((0,r.sL)((0,r.mo)({id:(0,a.Lo)({id:P}),clogParams:k}),y,f)))}if(I.type===n.Xy.List)return E((0,m.w)({listId:P,source:c.B.CHANNEL_TAB,channelId:y})),E((0,s.o)((0,r.sL)((0,r.st)({listId:P}),y,f)))}}if((I==null?void 0:I.type)===n.Xy.ChannelCanvas||f===n.fY.ChannelCanvas){const{fileId:P}=(0,d.H)(D),k=(0,p.Pf)(A(),y);if(P||k){const R={fileId:P||k||"",source:T??_.f.CHANNEL_TAB,isChannelCanvas:!1,channelId:y};return E((0,s.o)((0,r.sL)((0,r.NB)({entityId:(0,a.Lo)({id:P||k}),channelId:y,clogParams:R,sectionIdsToHighlightOverride:M}),y,f)))}return E((0,o.C$)({channelId:y}))}return E((0,s.o)((0,r.id)(y,{tabId:f,tabParams:I==null?void 0:I.data})))});h.meta={name:"createThunk",key:"createThunknavigateToChannelTab",description:"Navigate to a channel tab"}},5115870218:(Q,C,e)=>{"use strict";e.d(C,{L:()=>n});var t=e(7245481391);const n=i(s=>{let{tabs:r,experimentChannelTabsV5BookmarkFoldersGroupOn:d=!1,experimentLobRelatedListsGroupOn:o=!1,includeDisabled:a=!1,isGovSlack:l=!1}=s;return r.filter(m=>{let{type:c,isDisabled:_=!1}=m;return!(_&&!a||c===t.Xy.Pins||!d&&c===t.Xy.Folder||!o&&c===t.Xy.RecordRelatedList||l&&c===t.Xy.ChannelCanvas)})},"filterTabs")},3032483460:(Q,C,e)=>{"use strict";e.d(C,{No:()=>s,fw:()=>r,gk:()=>l,qC:()=>o,sD:()=>a,zm:()=>d});var t=e(8191156954),n=e(583204418);const s=i(m=>!!m&&"message"in m,"isMessageReference"),r=i(m=>!!m&&"message"in m,"isMessageReferenceApi"),d=i(m=>{var c;return m.type===t.$.Select&&((c=m.options)===null||c===void 0?void 0:c.format)!==n.YP.MultiSelect},"isSingleSelectField"),o=i(m=>{if(s(m)){const _=m.message;return _.threadTs?`message-${_.channelId}-${_.ts}-${_.threadTs}`:`message-${_.channelId}-${_.ts}`}const c=m==null?void 0:m.listRecord;return c?`list_record-${c.listId}-${c.rowId}`:""},"makeReferenceTrackerStoreKey"),a=i(m=>{if(r(m)){const _=m.message;return _.thread_ts?`message-${_.channel_id}-${_.ts}-${_.thread_ts}`:`message-${_.channel_id}-${_.ts}`}const c=m==null?void 0:m.list_record;return c?`list_record-${c.list_id}-${c.row_id}`:""},"makeReferenceApiTrackerStoreKey"),l=i(m=>{var c;return!!(!(m==null||(c=m.fields)===null||c===void 0)&&c.todo_completed)},"isMyTaskItemCompleted")},7156540029:(Q,C,e)=>{"use strict";e.d(C,{K8:()=>s,Q1:()=>t});const t=20,n={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},s={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},9509635375:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(2562405183),n=e(603616571),s=e(735940183),r=e(5255740490),d=e(3134334389),o=e(1206744593);function a(){return a=Object.assign||function(_){for(var p=1;p<arguments.length;p++){var u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},a.apply(this,arguments)}i(a,"_extends");const l=new s.Ay("members");function m(_){let{className:p,inverse:u=!1,isWorkflow:h=!1,isLegacyWorkflow:E=!1,...A}=_;const v=(0,t.d4)(n.TX),f=(0,t.d4)(o.x$);let g=l.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});E&&f&&(g=l.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),v&&h?g=l.t("BETA"):h||(g=l.t("APP"));const y=(0,r.A)(p,"c-app_badge",{"c-app_badge--inverse":u});return d.createElement("span",a({},A,{className:y,"data-stringify-suffix":" "}),g)}i(m,"AppBadge"),m.displayName="AppBadge";const c=(0,d.memo)(m)},3667436146:(Q,C,e)=>{"use strict";e.d(C,{o:()=>s});var t=e(2384831516),n=e(4761125736);const s=(0,t.Mz)(r=>(0,n._Z)(r,"app_dir_rebrand")==="on"||(0,n._Z)(r,"app_dir_rebrand_team")==="on");s.meta={name:"createSelector",key:"createSelectorappDirRebrandIsOn",description:r=>(0,n._Z)(r,"app_dir_rebrand")==="on"||(0,n._Z)(r,"app_dir_rebrand_team")==="on"}},5874162200:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(735940183);const n=new t.Ay("audio_player");function s(d){const o=Math.floor(d/3600),a=Math.floor((d-o*3600)/60),l=Math.floor(d-o*3600-a*60);return o>0?n.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:l,minutes:a,hours:o}):a>0?n.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:l,minutes:a}):n.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:l})}i(s,"secondsToSpokenTime");const r=s},1191942715:(Q,C,e)=>{"use strict";e.d(C,{A:()=>X});var t=e(8289365785),n=e(362134992),s=e(3134334389),r=e(9391594207),d=e(2047021170),o=e(8847766420),a=e(1301184890),l=e(6795568989),m=e(3842747943),c=e(7203178304),_=e(6533394955);function p(q,G){if(!G||!q||!(0,l.d)(q))return"";const ne=(0,_.getStateByTeamId)(G),te=(0,m.O)(ne);return(0,c.A)(te)[q]}i(p,"getUnicodeNameFromEmojiString");var u=e(8389327410),h=e(297247517),E=e(7712314707),A=e(1843207890),v=e(475043867),f=e(6783791506),g=e(6659965705),y=e(9413477854),T=e(8212777283),M=e(7957086050),O=e(8983164438),I=e(1030162945),D=e(2507822440),P=e(1470040509),k=e(3089302312),R=e(7970461309),V=e(5821662500),B=e(5014733736),W=e(694411468),L=e(3771536679),S=e(8300007136),H=e(2562405183),w=e(4841770661),F=e(8025887996);const j=i(q=>{let{richTextBlock:G,do24hrTime:ne,emojiSize:te,truncateLength:le,teamOrEnterpriseId:he,withFormattingStyles:fe,withHighlights:ve,withSlackLinks:me,withHyperlinks:oe}=q;var N;const K=(0,S.wA)(),x=(0,H.d4)(ue=>(0,d.ty)(ue,"suppress_link_warning")),b=(0,s.useCallback)(ue=>{if(!x){const{href:_e,innerText:pe}=ue.target;K((0,w.A)({text:pe,url:_e})),ue.preventDefault()}},[K,x]);if(!(!(G==null||(N=G.elements)===null||N===void 0)&&N.length))return null;let z=0;const $=i(()=>(z+=1,z),"makeKey");let Z=(0,t.A)((0,F.M)(G.elements)),U;if((0,O.C)(Z)&&(Z!=null&&Z.style&&Z.style===u.L1.ORDERED?U=s.createElement(s.Fragment,null,"1. "):U=s.createElement(s.Fragment,null,"\u2022 "),Z=(0,t.A)(Z.elements)),!Z||!Z.elements||!Z.elements.length)return null;let ee=!1,se=0;const de=Z.elements.map(ue=>{if(ee)return null;let _e=null;if((0,f.E)(ue)){se+=1;const pe=ue.name,ae=ue.skin_tone,Ee=ue.display_team_id,Le=ue.display_alias,ye=ue==null?void 0:ue.unicode,Te=Le??pe,Ae=(0,a.A)(Te,he);let Ie=ae?`:${Te}::skin-tone-${ae}:`:`:${Te}:`;if(Ae&&ye){const Be=p(ye,he??"");Be&&(Ie=`:${Be}:`)}const Ue=ue.display_url;_e=s.createElement(I.Ay,{key:$(),text:Ie,emojiSize:te||I.lw.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:Ee,url:Ue})}if((0,v.P)(ue)&&(ue!=null&&ue.channel_id)&&(se+=ue.channel_id.length,_e=s.createElement(D.A,{key:$(),id:ue.channel_id,noLinking:!me})),(0,g.H)(ue)&&(ue!=null&&ue.user_id)&&(se+=ue.user_id.length,_e=s.createElement(V.A,{key:$(),id:ue.user_id,noLinking:!me,noHighlights:!ve})),(0,y.G)(ue)&&(ue!=null&&ue.usergroup_id)&&(se+=ue.usergroup_id.length,_e=s.createElement(P.Ay,{key:$(),id:ue.usergroup_id,noLinking:!me,noHighlights:!ve})),(0,E.V)(ue)&&(ue!=null&&ue.range)&&(se+=ue.range.length,_e=s.createElement(k.A,{key:$(),type:ue.range,noLinking:!me,noHighlights:!ve})),(0,A.i)(ue)){const{timestamp:pe,format:ae,fallback:Ee}=ue;if(!pe||!ae)return null;se+=Ee?Ee.length:0,_e=s.createElement(R.A,{key:$(),ts:pe.toString(),format:ae,fallback:Ee,do24hrTime:ne,noLinking:!me})}if((0,M._)(ue)){se+=(ue.text||ue.url||"").length;let pe;if(oe){const ae=ue.url||"",Ee=ue.text||ue.url||"";(0,L.A)(Ee,ae)?pe=s.createElement(W.A,{key:$(),href:ae,onClick:b},Ee):pe=s.createElement(W.A,{key:$(),href:ae},Ee)}else pe=s.createElement(s.Fragment,{key:$()},ue.text||ue.url||"");_e=pe}if((0,T.f)(ue)&&(ue!=null&&ue.value)&&(se+=ue.value.length,_e=s.createElement(s.Fragment,{key:$()},ue.value||"")),(0,h.P)(ue)&&ue.text){const pe=ue.text.split(/\n/);let ae=(0,t.A)(pe);const Ee=le?le-se:se;se=ae?se+ae.length:se,pe.length>1&&(ee=!0),ae&&le&&ae.length>Ee&&(ee=!0,ae=ae.substr(0,Ee)),_e=s.createElement(s.Fragment,{key:$()},ae||"")}return fe&&(_e=s.createElement(B.A,{key:$(),style:ue.style},_e)),_e||(le&&!ee&&se>le&&(ee=!0),null)});return s.createElement(s.Fragment,null,U,(0,n.A)(de),ee&&s.createElement(s.Fragment,null,"\u2026"))},"RichTextPreamble");j.displayName="RichTextPreamble";const J=i(q=>({do24hrTime:(0,d.ty)(q,"time24"),teamOrEnterpriseId:(0,o.JY)(q)||""}),"mapStateToProps"),X=(0,r.N)(J)(j)},7999544567:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(297247517);function n(s){if((0,t.P)(s)){const r=s&&s.text&&s.text.trim();if(r)return r.length}return 0}i(n,"__WEBPACK_DEFAULT_EXPORT__")},8025887996:(Q,C,e)=>{"use strict";e.d(C,{M:()=>s});var t=e(3495012415),n=e(498506970);function s(r){return(0,t.A)(r,d=>{const o=d&&d.elements;if(!(o!=null&&o.length))return d;const a=[],l=i(c=>c&&c.style&&c.style.code,"isCode");let m=null;return o.forEach(c=>{const _=l(c)?(0,n.A)(c):c;m&&(m!=null&&m.style)&&(_!=null&&_.style)&&l(m)&&l(_)&&(m.style.noRightCap=!0,_.style.noLeftCap=!0),a.push(_),m=_}),{...d,elements:a}})}i(s,"decorateInlineCode")},5577180258:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(45851552),n=e(5404505308),s=e(6783791506),r=e(297247517),d=e(8389327410),o=e(5305906809),a=e(7999544567);const{_EMOJI_GROUP:l}=d.Lv;function m(_,p,u,h,E,A,v){const f=_.slice(A,v),g=A+(0,t.A)(f,s.E),y=A+(0,n.A)(f,s.E)+1;_.splice(g,y-g,{type:l,name:p,size:u,displayAlias:h,skinTone:E,elements:_.slice(g,y)})}i(m,"insertEmojiGroup");function c(_){let p,u,h,E,A,v=_.length-1;for(;v>=-1;){const g=_[v];if(h=h??v,u=u??0,(0,s.E)(g))g.name===p&&g.displayAlias===E&&g.skinTone===A?u+=1:(u>=o.uz&&m(_,p,u,E,A,v+1,h+1),p=g.name,E=g.displayAlias,A=g.skinTone,h=v,u=1);else if(!(0,r.P)(g)||(0,a.A)(g)!==0){var f;u>=o.uz&&m(_,p,u,E,A,v+1,h+1),p=void 0,E=void 0,A=void 0,h=void 0,u=void 0,!((f=g)===null||f===void 0)&&f.elements&&c(g.elements)}v-=1}return _}i(c,"groupEmojis")},5014733736:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(2372217664),r=e(8300007136),d=e(8170244779),o=e(8739505998),a=e(2312625946),l=e(8193414630),m=e(82287009),c=e(2562405183),_=e(6082887833),p=e(2375333597);const u=i(f=>{const g=new Date(f),y=g.getMinutes(),T=y%15;return T<8?g.setMinutes(y-T):g.setMinutes(y+(15-T)),g.setSeconds(0),g.setMilliseconds(0),g.getTime()/1e3},"roundToNearest15Minutes");function h(f){let{children:g}=f;const y=(0,t.useContext)(d.A),T=(0,c.d4)(D=>y.ts?(0,_.S)(D,y.ts):void 0),M=(0,r.wA)(),O=(0,t.useCallback)(()=>{M((0,p.q)({element:(0,m.Qo)({channelId:y==null?void 0:y.channelId,appType:"gcal",threadTs:y==null?void 0:y.threadTs,isProfileAppView:!1})}))},[M,y==null?void 0:y.channelId,y==null?void 0:y.threadTs]),I=(0,t.useCallback)(()=>{if(T!=null&&T.contextType)switch(T==null?void 0:T.contextType){case"create_event":if(!(T!=null&&T.createEventPayload)){O();break}if(!(T!=null&&T.createEventPayload.start_date)){O();break}if(!(T!=null&&T.createEventPayload.title)){O();break}M((0,p.q)({element:(0,m.Qo)({channelId:y==null?void 0:y.channelId,appType:"gcal",threadTs:y==null?void 0:y.threadTs,presetDate:new Date(T==null?void 0:T.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:u(T==null?void 0:T.createEventPayload.start_date),presetTitle:T==null?void 0:T.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(T!=null&&T.viewSchedulePayload)||!(T!=null&&T.viewSchedulePayload.start_time)||!(T!=null&&T.viewSchedulePayload.date)){O();break}M((0,p.q)({element:(0,m.Qo)({channelId:y==null?void 0:y.channelId,appType:"gcal",threadTs:y==null?void 0:y.threadTs,presetDate:new Date(T==null?void 0:T.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:u(T==null?void 0:T.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(T!=null&&T.findATimePayload)){O();break}if(!(T!=null&&T.findATimePayload.duration)){O();break}break;case"describe_knowledgebase":break;default:(0,l.Kh)(T==null?void 0:T.contextType)}},[T,M,y==null?void 0:y.channelId,y==null?void 0:y.threadTs,O]);return t.createElement(a.Ay,{tip:T==null?void 0:T.debugPayload},t.createElement(o.A,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:I},g))}i(h,"AssistantThreadAmbientSuggestion"),h.displayName="AssistantThreadAmbientSuggestion";const E=t.memo(h),A=i(f=>{let{children:g,style:y}=f;if(!g)return null;const{bold:T,italic:M,strike:O,code:I,clientHighlight:D,subjectLine:P,noLeftCap:k,noRightCap:R}=y||{},{slackAssistantAmbientSuggestion:V,slackAssistantAmbientSuggestionKey:B}=y||{};let W=g;if(O&&(W=t.createElement("s",{"data-stringify-type":"strike"},W)),M&&(W=t.createElement("i",{"data-stringify-type":"italic"},W)),T&&!P&&(W=t.createElement("b",{"data-stringify-type":"bold"},W)),D&&(W=t.createElement("span",{className:"c-mrkdwn__highlight"},W)),V&&(W=t.createElement(E,{suggestion:B},W)),I){const L=(0,n.A)("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":k,"c-mrkdwn__code--no_right_cap":R});W=t.createElement(s.i,{blockType:"code"},t.createElement(s.m,null,t.createElement("code",{"data-stringify-type":"code",className:L},W)))}return t.createElement(t.Fragment,null,W)},"WithFormattingStyles");A.displayName="WithFormattingStyles";const v=A},897219217:(Q,C,e)=>{"use strict";e.d(C,{n:()=>n});var t=e(8389327410);const n=i(s=>!s||s.length===0?!1:s[0].type===t.Lv.RICH_TEXT,"isFirstBlockRichText")},9744286524:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(8300007136),s=e(1668417071),r=e(8980478045),d=e(2562405183),o=e(6403319589),a=e(82287009),l=e(9671982974),m=e(2054605226),c=e(5914783706);function _(p){let{channelId:u}=p;const h=(0,n.wA)(),{spaceFileId:E,spaceIsEmpty:A}=(0,l.A)({channelId:u}),v=(0,d.d4)(D=>u?(0,r.Pf)(D,u):void 0),f=v??E,g=(0,a.$s)(f),y=(0,o.A)(g,g==null?void 0:g.isEmpty),T=typeof y=="boolean"||typeof A=="boolean",M=A!==void 0?A===!1:y===!1,O=(0,c.A)(M),I=(0,d.d4)(D=>u?(0,s.kM)(D,u):void 0);return(0,t.useEffect)(()=>{u&&I&&O&&!M&&h((0,m.ot)({channelId:u,template:void 0}))},[u,I,M,O,h]),{channelCanvasHasContent:M||!!I&&I!=="blank_page",isLoaded:T,doc:g,templateSelected:I,channelCanvasFileId:E}}i(_,"useChannelCanvasContent")},9671982974:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(2562405183),n=e(937317117),s=e(497761763),r=e(396294106),d=e(2188787324);function o(a){let{channelId:l}=a;const{spaceFileId:m,spaceIsPrimary:c,spaceIsEmpty:_,isLinkedCanvasDeleted:p,editsRestrictedToChannelManager:u,setEditsRestrictedToChannelManager:h,hasClickedUseBlankCanvasForChannel:E}=(0,r.A)({channelId:l}),A=(0,t.d4)(f=>m&&(0,s.A)(m)?(0,n.Lp)(f,m):null),v=(0,d.ln)(A);return{spaceFileId:m,spaceIsPrimary:c,spaceIsEmpty:_,isLinkedCanvasDeleted:p,editsRestrictedToChannelManager:u,setEditsRestrictedToChannelManager:h,isChannelCanvasLocked:v,hasClickedUseBlankCanvasForChannel:E}}i(o,"useChannelSpaceForChannel")},396294106:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(2562405183),d=e(8040098042),o=e(4761125736),a=e(1031947056),l=e(9101533895),m=e(3430841143),c=e(9530687876);const _=(0,a.Ay)(c.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_PRIMARY_VIEW,(O,I,D)=>{let{id:P,isPrimaryView:k}=D;var R;const V=I(),B=!1,W=(0,l.OL)(V,P,B);if(!P||!W)return;const L={...W,properties:{...W==null?void 0:W.properties,canvas:{...W==null||(R=W.properties)===null||R===void 0?void 0:R.canvas,is_primary_view:k}}};O((0,m.F)({channel:L,reason:c.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_PRIMARY_VIEW}))});_.meta={name:"createThunk",key:"createThunksetChannelPropertiesCanvasIsPrimaryView",description:c.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_PRIMARY_VIEW};var p=e(4347488242),u=e(5534420337);const h=(0,a.Ay)(c.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT,(O,I,D)=>{let{id:P,isOpenByDefault:k}=D;const R=I(),V=!1,B=(0,l.OL)(R,P,V),W=(0,o._Z)(R,"channel_properties_api_setter")==="on";if(!P||!B||!W)return;let L;try{L=JSON.stringify({canvas:{is_open_by_default:k}})}catch(S){(0,u.Ay)({getState:I}).error(S,"failed serializing new properties");return}return O((0,p.D)({channelId:P,props:L,reason:"set_channel_canvas_open_by_default"})).then(()=>{var S;const H={...B,properties:{...B==null?void 0:B.properties,canvas:{...B==null||(S=B.properties)===null||S===void 0?void 0:S.canvas,is_open_by_default:k}}};O((0,m.F)({channel:H,reason:c.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT}))})});h.meta={name:"createThunk",key:"createThunksetChannelPropertiesCanvasIsOpenByDefault",description:c.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT};const E=(0,a.Ay)(c.rd.SET_CHANNEL_PROPERTIES_CANVAS_EDITS_RESTRICTED_TO_CHANNEL_MANAGER,(O,I,D)=>{let{id:P,editsRestrictedToChannelManager:k}=D;const R=I(),V=!1,B=(0,l.OL)(R,P,V),W=(0,o._Z)(R,"channel_manager_chanvas_edits")==="on",L=(0,o._Z)(R,"channel_manager_chanvas_ui")==="on";if(!P||!B||!L||!W)return;let S;try{S=JSON.stringify({canvas:{edits_restricted_to_channel_manager:k}})}catch(H){(0,u.Ay)({getState:I}).error(H,"failed serializing new properties");return}return O((0,p.D)({channelId:P,props:S,reason:"set_edits_restricted_to_channel_manager"})).then(()=>{var H;const w={...B,properties:{...B==null?void 0:B.properties,canvas:{...B==null||(H=B.properties)===null||H===void 0?void 0:H.canvas,edits_restricted_to_channel_manager:k}}};O((0,m.F)({channel:w,reason:c.rd.SET_CHANNEL_PROPERTIES_CANVAS_EDITS_RESTRICTED_TO_CHANNEL_MANAGER}))})});E.meta={name:"createThunk",key:"createThunksetChannelPropertiesEditsRestrictedToChannelManager",description:c.rd.SET_CHANNEL_PROPERTIES_CANVAS_EDITS_RESTRICTED_TO_CHANNEL_MANAGER};var A=e(1523378513),v=e(4079686795),f=e(1668417071),g=e(8362292758),y=e(1407713935),T=e(5964896486);function M(O){let{channelId:I}=O;const D=(0,s.wA)(),P=(0,g.A)(),k=I?(0,d.A)(I):!1,R=(0,r.d4)(ne=>(0,l.OL)(ne,I)),V=(0,T.H)(R),B=V==null?void 0:V.fileId,W=V==null?void 0:V.isEmpty,L=k&&!(0,y.LI)(R)&&!(0,y.yz)(R)&&(V==null?void 0:V.isPrimaryView),S=k&&(V==null?void 0:V.isOpenByDefault),H=V==null?void 0:V.isLinkedCanvasDeleted,w=V==null?void 0:V.editsRestrictedToChannelManager,F=(0,r.d4)(ne=>(0,o._Z)(ne,"channel_properties_api_setter")==="on"),j=(0,r.d4)(f.As),J=I&&k?j[I]:void 0,X=(0,n.useCallback)(function(){var ne=(0,t.coroutine)(function*(te){if(!I||!k)return;D(_({id:I,isPrimaryView:te})),D((0,v.z)({channelId:I,pref:"space_is_primary",value:{enabled:te}}));let le;try{le=JSON.stringify({space_is_primary:te})}catch(he){P.error(he,"failed serializing new prefs");return}return D((0,A.E)({channelId:I,newPrefs:le,reason:"use-channel-space-prefs--set-space-is-primary"}))});return function(te){return ne.apply(this,arguments)}}(),[I,D,P,k]),q=(0,n.useCallback)(function(){var ne=(0,t.coroutine)(function*(te){if(!I||!k)return;if(F)return D(h({id:I,isOpenByDefault:te}));D((0,v.z)({channelId:I,pref:"space_open_by_default",value:{enabled:te}}));let le;try{le=JSON.stringify({space_open_by_default:te})}catch(he){P.error(he,"failed serializing new prefs");return}return D((0,A.E)({channelId:I,newPrefs:le,reason:"use-channel-space-prefs--set-space-is-open-by-default"}))});return function(te){return ne.apply(this,arguments)}}(),[I,D,P,k,F]),G=(0,n.useCallback)(function(){var ne=(0,t.coroutine)(function*(te){if(!(!I||!k))return D(E({id:I,editsRestrictedToChannelManager:te}))});return function(te){return ne.apply(this,arguments)}}(),[I,D,k]);return{spaceFileId:B,spaceIsPrimary:L,spaceIsEmpty:W,spaceIsOpenByDefault:S,editsRestrictedToChannelManager:w,setSpaceIsPrimary:X,setSpaceIsOpenByDefault:q,setEditsRestrictedToChannelManager:G,isLinkedCanvasDeleted:H,hasClickedUseBlankCanvasForChannel:J}}i(M,"useChannelSpacePrefs")},6403319589:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(2562405183),n=e(7115106069),s=e(9388275297);function r(d,o){const a=d==null?void 0:d.id.get(),l=(0,t.d4)(m=>a&&(0,n.d0)(m,a));return(0,s.A)(l?o:void 0)}i(r,"useQuipDocValueIfSubscribed")},7592430824:(Q,C,e)=>{"use strict";e.d(C,{N:()=>r,u:()=>s});var t=e(3134334389),n=e(6152845331);const s=(0,n.Ay)("Embedded UI Provider",null),r=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},5645915081:(Q,C,e)=>{"use strict";e.d(C,{Zq:()=>o,zF:()=>n,zf:()=>a});var t=e(5244168417),n;(function(l){l.PARAGRAPH="paragraph",l.H1="h1",l.H2="h2",l.H3="h3",l.CHECK_LIST="check-list",l.CHECK_LIST_TOGGLE="check-list-toggle",l.ORDERED_LIST="ordered-list",l.BULLET_LIST="bullet-list",l.BLOCKQUOTE="blockquote",l.CODE_BLOCK="code-block"})(n||(n={}));const s=[[t.DocBlockStyle.PLAIN,n.PARAGRAPH],[t.DocBlockStyle.H1,n.H1],[t.DocBlockStyle.H2,n.H2],[t.DocBlockStyle.H3,n.H3],[t.DocBlockStyle.LIST_CHECKLIST,n.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,n.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,n.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,n.BLOCKQUOTE],[t.DocBlockStyle.CODE,n.CODE_BLOCK]],r=new Map(s),d=new Map(s.map(l=>[l[1],l[0]]));function o(l){return r.get(l)}i(o,"blockStyleToFormat");function a(l){return d.get(l)}i(a,"formatToBlockStyle")},4843305308:(Q,C,e)=>{"use strict";e.d(C,{P:()=>s});var t=e(7731278967),n=e(9084547259);const s=i(r=>{switch(r){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case n.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"sparkles"};case t.r.CALLOUT:return{name:"callout"};default:return{name:"help"}}},"getQuipButtonIcon")},8079225585:(Q,C,e)=>{"use strict";e.d(C,{O:()=>d});var t=e(735940183),n=e(7731278967),s=e(9084547259);const r=new t.Ay("slack_docs"),d=i(function(o){let{experimentCanvasInsertWorkflowMenuGroupOn:a,experimentCanvasSmartCardsGroupOn:l,experimentWidgetsGroupOn:m,experimentCanvasSalesTemplatesGroupOn:c,experimentCanvasCalloutsGroupOn:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(o){case n.r.FILE:return r.t("File");case n.r.IMAGE:return r.t("Image");case n.r.CHECK_LIST:return r.t("Check list");case n.r.CHECK_LIST_TOGGLE:return r.t("Check list");case n.r.BULLET_LIST:return r.t("Bulleted list");case n.r.ORDERED_LIST:return r.t("Ordered list");case n.r.VIDEO_CLIP:return r.t("Record video clip");case n.r.AUDIO_CLIP:return r.t("Record audio clip");case n.r.DIVIDER:return r.t("Divider");case n.r.PINS:return r.t("Pins");case n.r.SMART_SUMMARY:return l?r.t("AI Channel Summary"):"";case n.r.RECENT_FILES:return l?r.t("Recent Files"):"";case n.r.ACTIVE_DISCUSSIONS:return l?r.t("Active Discussions"):"";case n.r.CHANNEL_HUDDLES:return l?r.t("Huddles"):"";case n.r.BLOCKQUOTE:return r.t("Blockquote");case n.r.CODE_BLOCK:return r.t("Code block");case n.r.PARAGRAPH:return r.t("Paragraph");case n.r.H1:return r.t("Big heading");case n.r.H2:return r.t("Medium heading");case n.r.H3:return r.t("Small heading");case n.r.CANVAS:return r.t("Canvas");case n.r.WORKFLOW:return a?r.t("Workflow"):"";case s.L.CODE:return r.t("Code");case n.r.TABLE:return r.t("Table");case n.r.LAYOUT_2_COLUMNS:return r.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LAYOUT_3_COLUMNS:return r.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LIST:return r.t("List");case n.r.WIDGET:return m?r.t("Widget"):"Widget";case n.r.USER_PROFILE_UNFURL:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.SALESFORCE_RECORD:return c?r.t("Salesforce record"):"";case n.r.PLACEHOLDER_CARD_VIDEO:return r.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case n.r.PLACEHOLDER_CARD_PROFILE:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.PLACEHOLDER_CARD_AUDIO:return r.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case n.r.PLACEHOLDER_CARD_WORKFLOW:return r.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case n.r.PLACEHOLDER_CARD_IMAGE:return r.t("Image");case n.r.PLACEHOLDER_CARD_CANVAS:return r.t("Canvas");case n.r.PLACEHOLDER_CARD_FILE:return r.t("File");case n.r.PLACEHOLDER_CARD_LINK:return r.t("Link");case n.r.PLACEHOLDER_CARD_LIST:return r.t("List");case n.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return c?r.t("Salesforce record"):"";case n.r.DATE_MENTION:return r.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case n.r.CALLOUT:return _?r.t("Callout Block",{fallbackHash:"f1647ad880b1b2d5886d6b153787daf89ea98d84"}):"";case n.r.AI_ASSISTANT:return r.t("AI assistant",{fallbackHash:"fc7ba35433ce677dc7b72889cebdbbaf99c6d596",fallbackHashNs:"ai_apps"});default:return o}},"getQuipButtonLabel")},9084547259:(Q,C,e)=>{"use strict";e.d(C,{B:()=>r,L:()=>n});var t=e(5244168417),n;(function(d){d.BOLD="bold",d.STRIKE="strike",d.ITALIC="italic",d.CODE="code",d.LINK="link",d.UNDERLINE="underline"})(n||(n={}));const s=new Map([[t.DocInlineStyle.BOLD,n.BOLD],[t.DocInlineStyle.STRIKETHROUGH,n.STRIKE],[t.DocInlineStyle.ITALIC,n.ITALIC],[t.DocInlineStyle.CODE,n.CODE],[t.DocInlineStyle.LINK,n.LINK]]);function r(d){return s.get(d)}i(r,"inlineStyleToFormat")},7731278967:(Q,C,e)=>{"use strict";e.d(C,{r:()=>s});var t=e(5645915081),n;(function(r){r.UNKNOWN="unknown",r.TITLE="title",r.FILE="file",r.IMAGE="image",r.VIDEO_CLIP="video-clip",r.AUDIO_CLIP="audio-clip",r.DIVIDER="divider",r.TABLE="table",r.SHORTCUT="shortcut",r.MENU_SEPARATOR="menu-separator",r.PINS="pins",r.BOOKMARKS="bookmarks",r.USER_UNFURL="user-unfurl",r.CANVAS_UNFURL="canvas-unfurl",r.MESSAGE_UNFURL="message-unfurl",r.PUBLIC_LINK_UNFURL="public-link-unfurl",r.SHORTCUT_UNFURL="shortcut-unfurl",r.USER_PROFILE_UNFURL="user-profile-unfurl",r.UNFURL="unfurl",r.CANVAS="canvas",r.GENERIC="generic",r.WORKFLOW="workflow",r.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",r.SMART_SUMMARY="smart-summary",r.RECENT_FILES="recent-files",r.ACTIVE_DISCUSSIONS="active-discussions",r.CHANNEL_HUDDLES="channel-huddles",r.LIST="list",r.WIDGET="widget",r.LAYOUT_2_COLUMNS="layout-2-columns",r.LAYOUT_3_COLUMNS="layout-3-columns",r.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",r.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",r.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",r.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",r.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",r.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",r.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",r.PLACEHOLDER_CARD_FILE="placeholder-card-file",r.PLACEHOLDER_CARD_LINK="placeholder-card-link",r.PLACEHOLDER_CARD_LIST="placeholder-card-list",r.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",r.SALESFORCE_RECORD="salesforce-record",r.DATE_MENTION="date-mention",r.CALLOUT="callout",r.AI_ASSISTANT="ai-assistant"})(n||(n={}));const s={...t.zF,...n}},1069376685:(Q,C,e)=>{"use strict";e.d(C,{D:()=>t});var t;(function(n){n.SpecificMembers="add-specific-members",n.AllMembers="add-all-members"})(t||(t={}))},8414606991:(Q,C,e)=>{"use strict";e.d(C,{v:()=>o});var t=e(3134334389),n=e(5255740490),s=e(207659888),r=e(8683010724),d=e(1610251172);const o=i(a=>{let{type:l,spacing:m="medium"}=a;const c=(0,n.A)("three_fourths_opacity",{margin_right_0:m==="none",margin_right_25:m==="small",margin_right_50:m==="medium"});return l===s.VZ.Channels||l===s.VZ.OrgChannels?t.createElement(d.A,{type:"channel",size:"inherit",className:c}):l===s.VZ.DirectMessages?t.createElement(d.A,{type:"dm",size:"inherit",className:c}):l===s.VZ.RecentApps?t.createElement(d.A,{type:"gn-menu",size:"inherit",className:c}):l===s.aw||l===s.oX?t.createElement(d.A,{type:"shared-channels-outline",size:"inherit",className:c}):l===s.VH?t.createElement(d.A,{type:"star-o",size:"inherit",className:c}):l===s.VZ.UserGroup?t.createElement("div",{className:(0,n.A)("c-icon","c-icon--inherit",c)},t.createElement(r.A,{variation:"filled",name:"user-groups"})):t.createElement(d.A,{type:"star-o",size:"inherit",className:c})},"InlineChannelSectionFallbackIcon");o.displayName="InlineChannelSectionFallbackIcon"},126225536:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(4308550795),d=e(1030162945),o=e(207659888),a=e(863162513),l=e(1033870301),m=e(8414606991);function c(p){let{channelSection:u,className:h,spacing:E="medium",showIcon:A=!0}=p;const f=(0,n.wA)()((0,l.i1)({channelSection:u})),g=f&&f.split(" "),y=g&&g[0],T=g&&(g.length>1?` ${g.slice(1).join(" ")}`:null),M=i(()=>{if(!A)return null;if(u.type===o.VZ.UserGroup)return t.createElement(m.v,{type:u.type,spacing:E});const O=(0,s.A)({margin_right_0:E==="none",margin_right_25:E==="small",margin_right_50:E==="medium"});return u.emoji?t.createElement(d.Ay,{className:O,shouldFallbackOnLoadError:!0,text:u.emoji,stopAnimations:!0,emojiSize:d.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):u.type===o.VZ.ExternalWorkspace?t.createElement(r.A,{workspaceId:(0,a.de)(u.id),size:15,className:O}):t.createElement(m.v,{type:u.type,spacing:E})},"getIcon");return M.displayName="getIcon",t.createElement("span",{className:(0,s.A)("p-inline_channel_section",h)},t.createElement("span",{className:"p-inline_channel_section__lockup"},M(),y),T)}i(c,"InlineChannelSection"),c.displayName="InlineChannelSection";const _=c},4308550795:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(2562405183),r=e(9950739645),d=e(698013937),o=e(3391133100),a=e(5865611660),l=e(3677514771),m=e(5672691263),c=e.n(m);const _=20,p=.8,u=.2,h={width:"auto"};function E(f){let{id:g,size:y,spacing:T}=f;const M=`${Math.ceil(y/2-1)}px`,O=`${y}px`,I=`${T}px`;return t.createElement("svg",{className:"sr-only"},t.createElement("mask",{id:g},t.createElement("rect",{x:M,y:M,width:O,height:O,rx:I,ry:I,fill:"white"})))}i(E,"SecondaryIconMask"),E.displayName="SecondaryIconMask";function A(f){let{size:g=_,className:y,workspaceId:T,externalWorkspaceHostId:M}=f;const O=(0,t.useMemo)(()=>`scw-icon-mask-${(0,o.r9)()}`,[]),I=(0,t.useMemo)(()=>({mask:`url(#${O}) exclude, linear-gradient(#000 0 0)`}),[O]),D=Math.floor(g*p),P=Math.floor(g*u),k=(0,t.useMemo)(()=>({marginRight:`-${P}px`,marginBottom:`-${P}px`}),[P]);return t.createElement("span",{style:h,className:(0,n.A)(y,c().container)},t.createElement("span",{style:I,className:c().primaryIcon},t.createElement(d.A,{id:T,size:g,allowTeamInitials:!0})),t.createElement("span",{style:k,className:c().secondaryIcon},t.createElement(d.A,{id:M,size:D,allowTeamInitials:!0})),t.createElement(E,{id:O,size:D,spacing:P}))}i(A,"ExternalWorkspaceIconStack"),A.displayName="ExternalWorkspaceIconStack";function v(f){let{size:g=_,className:y,workspaceId:T}=f;const M=(0,s.d4)(I=>(0,l._J)(I,T)),O=(0,s.d4)(I=>(0,a.m)(I,M));return(0,r.N)(M)?O?t.createElement(A,{workspaceId:T,externalWorkspaceHostId:O,size:g,className:y}):t.createElement(d.A,{id:T,size:g,className:y,allowTeamInitials:!0}):null}i(v,"ExternalWorkspaceIcon"),v.displayName="ExternalWorkspaceIcon"},9399618736:(Q,C,e)=>{"use strict";e.d(C,{AV:()=>l,Cu:()=>p,Gu:()=>a,g4:()=>c,qn:()=>m});var t=e(4423055085),n=e(796111729),s=e(6188550760);let r=1,d=1;const o=(0,n.Wo)({label:"HISTORY-NAVIGATION"}),a=i(()=>{d!==r&&(o.info("Incrementing the users current position in the history stack"),d+=1)},"onNavigateForward"),l=i(()=>{d!==1&&(o.info("Decrementing the users current position in the history stack"),d-=1)},"onNavigateBack"),m=i(()=>d===1,"isBackDisabled"),c=i(()=>d===r,"isForwardDisabled");function _(){o.info("Adding route to the history stack"),d+=1,r=d}i(_,"incrementHistoryLength");function p(h){let{shouldReplaceState:E,reason:A}=h;E||A!==s.GB&&_()}i(p,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>r,getHistoryIndex:()=>d});const u={maybeIncrementHistoryLength:p}},5670315214:(Q,C,e)=>{"use strict";e.d(C,{Hu:()=>u,OJ:()=>I,q8:()=>M,vU:()=>O,wZ:()=>D});var t=e(6249041335),n=e(735940183),s=e(4813703725),r=e(5597672932),d=e(462591818),o=e(6565762531),a=e(1223723593),l=e(6575028637),m=e(3677514771),c=e(6470070112),_=e(6946629059),p=e(6790819894);const u={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},h=new n.Ay("huddles"),E=i((P,k)=>({video:[...P&&P.video?P.video:[]],audio:[...!k&&P&&P.audio?P.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),A=i(P=>{const k=P.reduce((V,B)=>(Object.entries(B).forEach(W=>{let[L,S]=W;(L==="video"||L==="audio")&&(V[L]=V[L]?[...V[L],...S]:[...S])}),V),{}),R={video:[],audio:[]};return Object.entries(k).forEach(V=>{let[B,W]=V;(B==="video"||B==="audio")&&(R[B]=W.filter((L,S,H)=>S===H.findIndex(w=>w.id===L.id&&w.id!==void 0)))}),R},"combineCallApps"),v=i(P=>{const R=(0,m.FR)(P).map(B=>(0,r.x)(P,"calls_apps",B.id)).filter(_.b);return A(R)},"retrieveCallsAppsForUnifiedOrg"),f=i(P=>(0,l.ss)(P)?v(P):(0,r.x)(P,"calls_apps"),"retrieveCallsAppsFromPrefs"),g=i((P,k)=>{const R=f(P);if(k){var V;const B=R==null||(V=R.video)===null||V===void 0?void 0:V.findIndex(W=>W.id===d.rq);B>=0&&R.video.splice(B,1)}return R},"filterCallsAppsFromTeamPref"),y=(0,s.ik)((P,k)=>g(P,k),P=>E(P,!1)),T=(0,s.ik)((P,k)=>g(P,k),P=>E(P,!0)),M=i(function(P){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?T(P,!0):y(P,!0)},"getCallsAppsFromTeamPref"),O=(0,p.F)(M,c.pt,(P,k)=>{const R={},V=P&&P.video?P.video:[],B=P&&P.audio?P.audio:[],W=h.t("Start a huddle"),L=k?[{id:"A01",name:W,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...V,...B,...L].forEach(S=>{let H;S.id===d.rq?H={id:S.id,name:S.name,image:S.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(w=>S.id===w)!==-1?H={id:S.id,name:S.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:H=S,R[H.id]=H}),R}),I=i(P=>{let{callsApp:k,memberPhoneNumber:R,hideVideoApps:V=!1}=P;const B=[];return k&&(!V&&k.video&&B.push(...k.video.map(W=>({...W,type:a.JG.Video}))),k.audio&&(0,o.A)((0,t.A)(R))&&B.push(...k.audio.map(W=>({...W,type:a.JG.Audio})))),B},"getCallAppList"),D=i(P=>{const k=g(P,!0),R=k&&k.video?k.video:[],V=k&&k.audio?k.audio:[];return[...R,...V]},"getFlattenTeamPrefCallsApps")},4980558152:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(4103274853),s=e(7715417323),r=e(3245843483),d=e(2664504268),o=e(3514831633),a=e(3753517560),l=e(4776067035);function m(){return m=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E])}return p},m.apply(this,arguments)}i(m,"_extends");let c=i(class extends t.Component{onDesktopContextMenu(u){const{getTemplate:h,overrideDefaultMenu:E}=this.props,A=i(y=>({...y,id:(0,d.A)(),submenu:y.submenu&&y.submenu.map(A)}),"addIdsToItem"),v=h?h().map(A):[];if(!v.length)return;const{x:f,y:g}=(0,n.A)(this.getCoordinatesForContextMenu(u),y=>(0,r.xhB)()*y);(0,r.O0f)(v,{x:f,y:g,overrideDefaultMenu:E}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(u){if(!this.props.hasKeyboardFocus||!u)return{};const{left:h,top:E,width:A,height:v}=u.currentTarget.getBoundingClientRect(),f=h+A/2,g=E+v/2;return{x:f,y:g}}renderMenuFromTemplate(u){const{getTemplate:h,width:E,showSlackKitContextMenuOnDesktop:A,menuAriaLabel:v}=this.props;function f(y){return y.replace(/&([\w&])/g,(T,M)=>M)}i(f,"removeKeyboardAccelerators");const g=h?h().map(y=>!y.label||A?y:{...y,label:f(y.label)}):[];return g.length?t.createElement(o.a,m({"aria-label":v,width:E},u,{template:g,isContextMenu:!0,stripTerminalSeparators:!0})):null}render(){if((0,r.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,l.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:u,onClick:h,onClose:E,isDisabled:A,renderMenu:v,preventScroll:f}=this.props;return this.props.desktopAppOnly?(0,l.A)(this.props.children):t.createElement(o.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:u,shouldFade:!1,renderMenu:v||this.renderMenuFromTemplate,onClick:h,onClose:E,isDisabled:A,preventScroll:f},this.props.children)}constructor(u){super(u),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this)}},"ContextMenuTrigger");c.displayName="ContextMenuTrigger",c.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:s.A,onClose:s.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1};const _=(0,a.A)(c)},6388117406:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(4776067035),d=e(5795074931),o=e(4980558152),a=e(82287009);const l=i(c=>{let{id:_,children:p,forceOpen:u=!1,onClick:h,onClose:E,menuAriaLabel:A,sidebar:v,header:f,channelSection:g,onEnterEditModeClick:y,transitionFocusTo:T}=c;const M=(0,n.d4)(d.TZ),O=(0,s.wA)(),I=(0,t.useCallback)(()=>O((0,a.QO)({id:_,sidebar:v,header:f,channelSection:g,onEnterEditModeClick:y,transitionFocusTo:T})),[O,_,v,f,g,y,T]);return!M||!_?(0,r.A)(p):t.createElement(o.A,{menuAriaLabel:A,getTemplate:I,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:u,onClick:h,onClose:E,width:"auto"},p)},"ChannelContextMenu");l.displayName="ChannelContextMenu";const m=l},350738674:(Q,C,e)=>{"use strict";e.d(C,{AB:()=>W,Jv:()=>L,TX:()=>I,WF:()=>V,n1:()=>P,s5:()=>R,s9:()=>D});var t=e(735940183),n=e(7715417323),s=e(1031947056),r=e(2562405183),d=e(3385422400),o=e(8300007136),a=e(8276911661),l=e(8170643398),m=e(9262712126),c=e(3534324375),_=e(9107158149),p=e(5761207079),u=e(613926746),h=e(9236644324),E=e(485355941),A=e(56548687),v=e(6244014364),f=e(6839188756),g=e(3677514771),y=e(8847766420);const T=new t.Ay("member_profile"),M=new t.Ay("menu"),O=(0,d.Mz)((S,H)=>{let{memberId:w}=H;return(0,a.nv)(S,w)},(S,H)=>{let{memberId:w}=H;return(0,p.a)(S,w)},(S,H)=>{const w=(0,m.Gt)(S),F=(0,l.oy)(S),j=H?T.t("Copy display name"):T.t("Copy display name: @{displayName}",{displayName:w,__react:!0});return!F&&w?{key:"copy_display_name",dataQa:"copy_display_name",label:j,click:()=>{(0,h.x3)(w)},show:!0,disabled:(0,l.Zx)(S)}:null}),I=i(S=>{let{memberId:H}=S;return(0,r.d4)(w=>H?O(w,{memberId:H}):void 0)},"useGetMenuTemplateCopyDisplayName"),D=(0,s.Ay)("Gets the template for copy display name menu item",(S,H,w)=>O(H(),w));D.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const P=(0,s.Ay)("Clog member context item click",(S,H,w)=>{(0,A.e)({getState:H}).track(v.EventId.CONTEXT_MENU_ACTION,{label:w,is_iap1:!0})});P.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const k=(0,s.Ay)("Gets the template for copy display name menu item",(S,H,w)=>{const{memberId:F,label:j}=w,J=(0,c.sE)(H(),(0,a.nv)(H(),F));return{label:M.t("Copy name"),click:()=>{S(P(j));try{(0,h.LJ)({"text/plain":J,"text/html":`<span data-stringify-id="${F}" data-stringify-label="${J}">${J}</span>`})}catch{(0,h.x3)(J)}}}});k.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const R=(0,s.Ay)("Gets the template for copy name menu item",(S,H,w)=>S(k(w)));R.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const V=(0,s.Ay)("Copies link to member to clipboard",(S,H,w)=>{S(P(w.label));const F=H(),j=(0,g._J)(F,(0,y.ZT)(F)||"");(0,h.x3)((0,f.Zl)(j,`/team/${w.memberId}`))});V.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const B=(0,d.Mz)(S=>S,(S,H,w)=>{let{onClickCallback:F=n.A}=w;return F},(S,H,w)=>{let{isCanvasContext:F}=w;return F},(S,H,w)=>{let{memberId:F}=w;return(0,a.nv)(H,F)},(S,H,w)=>{let{memberId:F}=w;return(0,c.sE)(H,(0,a.nv)(H,F))},(S,H,w)=>{let{memberId:F}=w;return(0,_.zP)(H,F||"")},(S,H,w,F,j,J)=>{const X=(0,l.oy)(F);let q=T.rt("Message {memberName}",{memberName:j})||"";return w&&(X?q=T.t("View message history"):q=T.t("Message")),!J||(0,l.po)(F)||w&&(0,l.fy)(F)?null:{key:"message",dataQa:"message",label:q,click:G=>{S((0,u.Z)({memberId:F.id,shouldOpenInTile:(0,E.Cz)(G),reason:"member-context-menu"})).then(()=>H())},show:!!F,disabled:(0,l.Zx)(F)}}),W=i(S=>{let{memberId:H,isCanvasContext:w,onClickCallback:F}=S;const j=(0,o.wA)();return(0,r.d4)(J=>H?B(j,J,{memberId:H,isCanvasContext:w,onClickCallback:F}):void 0)},"useGetMenuTemplateMessage"),L=(0,s.Ay)("Gets the template for message menu item",(S,H,w)=>B(S,H(),w));L.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},8595150554:(Q,C,e)=>{"use strict";e.d(C,{A:()=>S});var t=e(3134334389),n=e(9391594207),s=e(4980558152),r=e(5795074931),d=e(4776067035),o=e(7715417323),a=e(1031947056),l=e(735940183),m=e(350738674),c=e(5267010247),_=e(8822892075),p=e(2327059915),u=e(3078708518),h=e(7324846416),E=e(4562579337),A=e(6795500641),v=e(2499661372),f=e(4459831283),g=e(8641233047),y=e(8276911661),T=e(3534324375),M=e(8170643398),O=e(5060694341);const I=new l.Ay("menu"),D={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link"},P=(0,a.Ay)("get the context menu item for actions",(H,w,F)=>{let{id:j}=F;const J=[];if((0,u.A)(w()))return J;const X=H((0,m.Jv)({memberId:j,onClickCallback:()=>(0,m.n1)(D.MESSAGE_MEMBER)}));return X&&J.push(X),J.length&&J.push({type:"separator"}),J});P.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const k=(0,a.Ay)("get the context menu item for sharing a contact",(H,w,F)=>{let{id:j}=F;const J=w();return(0,h.VX)(J,j||"")&&!(0,u.A)(J)?[{label:I.t("Share contact"),click:()=>H((0,p.A)({contactUserId:j}))},{type:"separator"}]:[]});k.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const R=(0,a.Ay)("get the context menu item for adding to or removing from VIP",(H,w,F)=>{let{id:j}=F;const J=w(),X=(0,f.FT)(J),q=(0,y.nv)(J,j),G=(0,E.A)(q),ne=X&&(0,M.fy)(q)&&!G;if(!j)return[];if(!ne)return[];const te=(0,A.mF)(J,j),le=(0,T.sE)(J,(0,y.nv)(J,j));return[{label:te?I.rt("Remove {memberName} from VIP",{memberName:le}):I.rt("Add {memberName} to VIP",{memberName:le}),click:()=>{H((0,v.C)(j)),H((0,O.M)({element:t.createElement(g.W,{memberName:le,isUserVIP:te})}))}},{type:"separator"}]});R.meta={name:"createThunk",key:"createThunkgetToggleVipActionMaybe",description:"get the context menu item for adding to or removing from VIP"};const V=(0,a.Ay)("get the context menu template when user clicks on a member",(H,w,F)=>{let{id:j}=F;return[{label:I.t("View profile"),click:()=>{H((0,m.n1)(D.VIEW_PROFILE)),H((0,c.o)((0,_.Fo)({memberId:j||""})))}},{type:"separator"},...H(P({id:j})),...H(R({id:j})),...H(k({id:j})),H((0,m.s5)({memberId:j,label:D.COPY_MEMBER_NAME})),H((0,m.s9)({memberId:j})),{label:I.t("Copy link"),click:()=>{H((0,m.WF)({memberId:j,label:D.COPY_MEMBER_LINK}))}}].filter(J=>!!J)});V.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"};let B=i(class extends t.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id})}render(){const{id:w,isClient:F}=this.props;return F?w?t.createElement(s.A,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):(0,d.A)(this.props.children):(0,d.A)(this.props.children)}constructor(w){super(w),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");B.displayName="MemberContextMenu",B.defaultProps={id:void 0,onClick:o.A};function W(H){return{isClient:(0,r.TZ)(H)}}i(W,"mapStateToProps");const L=i(H=>({getMemberContextMenuTemplate:w=>H(V(w))}),"mapDispatchToProps"),S=(0,n.N)(W,L)(B)},2837660778:(Q,C,e)=>{"use strict";e.d(C,{$g:()=>y,Mo:()=>A,rp:()=>g});var t=e(6217320234),n=e(7823346015),s=e(3385422400),r=e(8161242485),d=e(735940183),o=e(3707193570),a=e(6839188756),l=e(9950739645),m=e(6536982570),c=e(8276911661),_=e(3677514771),p=e(8847766420),u=e(241752795),h=e(5962670951);const E=new d.Ay("create_channel_modal"),A=(0,r.Ay)(T=>{const M=(0,c.cA)(T),O=(0,m.HI)(M),I=(0,_.H7)(T);if(!I)return[];const D=(0,p.VO)(T)||[],P=[I.id,...O,...D],k=[...new Set(P)].filter(R=>!(0,o.JV)(R)).map(R=>(0,_._J)(T,R)).filter(R=>!!R&&!(0,a.Zx)(R));return(0,t.A)(k,R=>(0,a.F1)(R))});A.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:T=>{const M=(0,c.cA)(T),O=(0,m.HI)(M),I=(0,_.H7)(T);if(!I)return[];const D=(0,p.VO)(T)||[],P=[I.id,...O,...D],k=[...new Set(P)].filter(R=>!(0,o.JV)(R)).map(R=>(0,_._J)(T,R)).filter(R=>!!R&&!(0,a.Zx)(R));return(0,t.A)(k,R=>(0,a.F1)(R))}};const v=i((T,M)=>{const O=M==null?void 0:M.map(I=>I.id);return T.map(I=>{var D,P;return{label:(0,a.F1)(I),value:I,optgroup:I.enterprise_name,key:I.id,isDisabled:!!(O!==void 0&&O.includes(I.id)),displayReason:(P=(D=M==null?void 0:M.find(k=>k.id===I.id))===null||D===void 0?void 0:D.displayReason)!==null&&P!==void 0?P:""}})},"mapWorkspacesToSelectOptionItems"),f=i((T,M)=>{let{ineligibleWorkspaces:O,excludeExternalWorkspaces:I}=M;const[D,P]=(0,n.A)(T,R=>(0,l.N)(R)),k={value:void 0,label:"",type:"divider"};return[...v(P,O),...!I&&D.length>0?[k,...v(D,O)]:[]]},"mapInvitableWorkspacesToSelectOptions"),g=(0,r.Ay)(T=>{const M=(0,u.y5)(T),O=(0,h.S)(T),I=A(T),D=I.filter(P=>!M.includes(P.id)&&!O.includes(P.id)).map(P=>({id:P.id,displayReason:E.t("You don\u2019t have access to this")}));return f(I,{ineligibleWorkspaces:D})});g.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:T=>{const M=(0,u.y5)(T),O=(0,h.S)(T),I=A(T),D=I.filter(P=>!M.includes(P.id)&&!O.includes(P.id)).map(P=>({id:P.id,displayReason:E.t("You don\u2019t have access to this")}));return f(I,{ineligibleWorkspaces:D})}};const y=(0,s.Mz)(A,T=>T.length>1)},4212246463:(Q,C,e)=>{"use strict";e.d(C,{D:()=>Dt,A:()=>yn});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(9003400431),d=e(980293773),o=e(3214129289);function a(ht){return ht&&ht.id}i(a,"getEmojiCollectionId");var l=e(370406050);function m(ht){return ht&&ht.author}i(m,"getEmojiCollectionAuthor");var c=e(6045879501);function _(ht){return ht&&ht.localEmoji}i(_,"getEmojiCollectionLocalEmoji");var p=e(735940183),u=e(2562405183),h=e(9113979368),E=e(2101927269),A=e(2141441167),v=e(6217320234),f=e(3783303734),g=e(4978843660),y=e(3297051565),T=e.n(y),M=e(3004085654),O=e(7564917982);function I(ht){return ht&&ht.date_create}i(I,"getEmojiCollectionDateCreate");var D=e(5071545805),P=e(2047021170),k=e(387484329),R=e(8840779375),V=e(5331686899),B=e(1610251172),W=e(7420598276),L=e(2036354333);const S=new p.Ay("custom_emoji_list"),H="emoji_packs_clicked_collection_cta",w=i(ht=>{let{id:Bt,name:wt,author:Qt,emoji:mn,installed:On,onClick:zt}=ht;const nt=(0,n.wA)(),mt=(0,u.d4)(Ne=>(0,P.ty)(Ne,H)),Ct=(0,u.d4)(M.fl),Zt=(0,u.d4)(M._J);if(!mn)return null;const Jt=a(Zt)===Bt&&Ct&&!mt;function rn(){Jt&&nt((0,k.AZ)({pref:H,value:!0})),zt()}i(rn,"handleOnClick");const gn=(0,R.A)(mn,(Ne,He)=>({name:He,url:Ne})),Fe=(0,g.A)(gn,4),Ke=S.t("by {author}",{author:Qt});return t.createElement(L.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:rn},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},wt,Jt&&t.createElement("span",{className:"margin_left_25"},t.createElement(W.A,null,S.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},Ke)),On&&!Jt&&t.createElement("div",{className:"flex_none"},t.createElement(B.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},Fe.map(Ne=>t.createElement("div",{key:Ne.map(He=>`${He.name}-card-`).join(),className:"p-emoji_pack_card__row"},Ne.map(He=>t.createElement(V.Ay,{key:`emoji-pack-${He.name}`,showTooltip:!1,text:`:${He.name}:`,url:He.url,emojiSize:V.lw.LARGE})),[...new Array(4-Ne.length)].map((He,Je)=>`emoji-pack-spacer-${Je}`).map(He=>t.createElement("div",{key:He,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");w.displayName="EmojiPackCard";const F=w,j=new p.Ay("custom_emoji_list"),J=i(()=>{const ht=j.t("STAY TUNED"),Bt=j.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(W.A,{className:"p-emoji_pack_coming_soon__pill"},ht),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},Bt),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");J.displayName="EmojiPackComingSoon";const X=J,q=new p.Ay("custom_emoji_list");function G(ht){let{row:Bt,className:wt,onPackClick:Qt}=ht;return t.createElement("div",{key:Bt.map(mn=>`${a(mn)}-row`).join(),className:wt},Bt.map(mn=>{if(mn.type==="coming_soon")return t.createElement(X,{key:"emoji-pack-coming-soon"});if(mn.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const On=(0,D.j)(mn);return t.createElement(F,{key:`emoji-pack-${a(mn)}`,installed:On,id:a(mn)||void 0,name:(0,l.M)(mn),author:m(mn),emoji:(0,c.H)(mn),onClick:()=>Qt(mn,{installed:On})})}))}i(G,"Row"),G.displayName="Row",G.propTypes={row:T().arrayOf(T().object),className:T().string,onPackClick:T().func.isRequired},G.defaultProps={row:[],className:void 0};function ne(ht){let{orgName:Bt,onPackClick:wt}=ht;const Qt=(0,n.wA)(),mn=(0,u.d4)(M.uI);if((0,t.useEffect)(()=>{Qt((0,O.H)({reason:"emojiPack:dialog"}))},[Qt]),(0,h.A)(mn))return null;const On=(0,E.A)(mn,Ct=>(0,D.j)(Ct)).length;let zt=(0,A.A)(mn);zt=(0,v.A)(zt,Ct=>-1*I(Ct)),(0,f.A)(mn)<2&&zt.push({type:"coming_soon"}),zt.length%2!==0&&zt.push({type:"spacer"});const nt=(0,g.A)(zt,2);let mt;return Bt?mt=q.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,Bt)}):mt=q.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(d.$m,null,t.createElement(d.qf,null,t.createElement("div",null,On>0&&t.createElement("div",{className:"p-emoji_pack__header"},q.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},On)),t.createElement("div",{className:"p-emoji_pack__list"},nt.map(Ct=>t.createElement(G,{key:Ct.map(Zt=>`${a(Zt)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:Ct,onPackClick:wt}))),t.createElement("div",{className:"p-emoji_pack__help"},mt))))}i(ne,"AddEmojiPackDialogContent"),ne.displayName="AddEmojiPackDialogContent";const te=ne;var le=e(9391594207),he=e(2003990933),fe=e(7715417323),ve=e(9268023148),me=e(2322735331),oe=e(56548687),N=e(2219904496),K=e(1030162945),x=e(5733135148),b=e(581167618),z=e(6084388622),$=e(1563996154),Z=e(5795074931),U=e(5060694341),ee=e(3842747943),se=e(6244014364),de=e(9746734072),ue=e(7156798807),_e=e(1269227002),pe=e(5257368278),ae=e(330221449),Ee=e(8161242485);const Le=(0,Ee.Ay)(ht=>!ht||!ht.customizeEmoji||!ht.customizeEmoji.customEmojiData||!ht.customizeEmoji.customEmojiData.length?[]:ht.customizeEmoji.customEmojiData);Le.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:ht=>!ht||!ht.customizeEmoji||!ht.customizeEmoji.customEmojiData||!ht.customizeEmoji.customEmojiData.length?[]:ht.customizeEmoji.customEmojiData};const ye=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.customEmojiTotalCount?ht.customizeEmoji.customEmojiTotalCount:0);ye.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.customEmojiTotalCount?ht.customizeEmoji.customEmojiTotalCount:0};const Te=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.currentPage?ht.customizeEmoji.currentPage:0);Te.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.currentPage?ht.customizeEmoji.currentPage:0};const Ae=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.totalPages?ht.customizeEmoji.totalPages:0);Ae.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.totalPages?ht.customizeEmoji.totalPages:0};const Ie=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.isLoadingNewPage?ht.customizeEmoji.isLoadingNewPage:!1);Ie.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.isLoadingNewPage?ht.customizeEmoji.isLoadingNewPage:!1};const Ue=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.isLoadingNewSearchQuery?ht.customizeEmoji.isLoadingNewSearchQuery:!1);Ue.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.isLoadingNewSearchQuery?ht.customizeEmoji.isLoadingNewSearchQuery:!1};const Be=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.deletedEmojiList?ht.customizeEmoji.deletedEmojiList:[]);Be.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.deletedEmojiList?ht.customizeEmoji.deletedEmojiList:[]};const we=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.disabledEmoji?ht.customizeEmoji.disabledEmoji:{});we.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.disabledEmoji?ht.customizeEmoji.disabledEmoji:{}};const re=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.sortDir?ht.customizeEmoji.sortDir:"asc");re.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.sortDir?ht.customizeEmoji.sortDir:"asc"};const ge=(0,Ee.Ay)(ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.sortBy?ht.customizeEmoji.sortBy:"name");ge.meta={name:"createSelector",key:"createSelectorgetSortBy",description:ht=>ht&&ht.customizeEmoji&&ht.customizeEmoji.sortBy?ht.customizeEmoji.sortBy:"name"};const De=(0,pe.A)("Load the next page of custom emoji data",function(ht,Bt){let{count:wt=100,queries:Qt,userIds:mn,reason:On="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const zt=Bt();ht((0,ae.en)(!0));const mt={page:Te(zt)+1,count:wt,sort_by:ge(zt),sort_dir:re(zt)};return Qt&&(mt.queries=JSON.stringify(Qt)),mn&&(mt.user_ids=JSON.stringify(mn)),ht((0,_e.apiCall)({method:"emoji.adminList",reason:On,args:mt})).then(Ct=>{ht((0,ae.en)(!1));const Zt=(0,de.A)(Ct.disabled_emoji)?(0,ue.A)(Ct.disabled_emoji,"name"):Ct.disabled_emoji;ht((0,ae.X8)({newCustomEmojiData:Ct.emoji,disabledEmoji:Zt,customEmojiTotalCount:Ct.custom_emoji_total_count,customEmojiSearchCount:Ct.paging.total,currentPage:Ct.paging.page,totalPages:Ct.paging.pages}))}).catch(Ct=>{throw Ct})});De.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},De.propTypes={queries:T().array,userIds:T().array};const be=(0,pe.A)("Load custom emoji data with a new search query",function(ht,Bt){let{queries:wt,page:Qt=1,count:mn=100,sortBy:On,sortDir:zt,userIds:nt,reason:mt="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ht((0,ae.d$)(!0));const Ct={page:Qt,count:mn};return wt&&(Ct.queries=JSON.stringify(wt)),nt&&(Ct.user_ids=JSON.stringify(nt)),On&&zt&&(Ct.sort_by=On,Ct.sort_dir=zt),ht((0,_e.apiCall)({method:"emoji.adminList",reason:mt,args:Ct})).then(Zt=>{ht((0,ae.d$)(!1));const Ft=(0,de.A)(Zt.disabled_emoji)?(0,ue.A)(Zt.disabled_emoji,"name"):Zt.disabled_emoji;ht((0,ae.Ot)({newCustomEmojiData:Zt.emoji,disabledEmoji:Ft,customEmojiTotalCount:Zt.custom_emoji_total_count,customEmojiSearchCount:Zt.paging.total,currentPage:Zt.paging.page,totalPages:Zt.paging.pages,sortBy:On,sortDir:zt}))}).catch(Zt=>{throw Zt})});be.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},be.propTypes={queries:T().array,page:T().number,count:T().number,sortBy:T().oneOf(["created","name"]),sortDir:T().oneOf(["asc","desc"]),userIds:T().array};const xe=(0,pe.A)("Deletes the given custom emoji",function(ht,Bt){let{emojiName:wt,isPrimaryEmoji:Qt=!1,synonyms:mn=[],reason:On="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ht((0,ae.gx)({emojiName:wt,isPrimaryEmoji:Qt,synonyms:mn})),ht((0,_e.apiCall)({method:"emoji.remove",reason:On,args:{name:wt}})).then(zt=>zt).then(()=>{(0,oe.e)({state:Bt()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(zt=>{throw(0,oe.e)({state:Bt()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),zt})});xe.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},xe.propTypes={emojiName:T().string,isPrimaryEmoji:T().bool,synonyms:T().array};const Re=(0,pe.A)("Creates a new custom emoji or alias",function(ht,Bt){let{mode:wt,name:Qt,aliasFor:mn,image:On,searchArgs:zt={},reason:nt="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ht((0,_e.apiCall)({method:"emoji.add",reason:nt,args:{mode:wt,name:Qt,alias_for:mn,image:On}})).then(mt=>mt).then(()=>{ht(be(zt))}).catch(mt=>{throw mt})});Re.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},Re.propTypes={mode:T().string,name:T().string,aliasFor:T().string,image:T().object};const je=(0,pe.A)("Gets the emoji data for a given emoji",function(ht,Bt){let{name:wt,reason:Qt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ht((0,_e.apiCall)({method:"emoji.getInfo",reason:Qt,args:{name:wt}})).then(mn=>mn).catch(mn=>{throw mn})});je.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},je.propTypes={name:T().string};const Ge=(0,pe.A)("Renames the custom emoji with the new name",function(ht,Bt){let{oldName:wt,newName:Qt,reason:mn="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ht((0,_e.apiCall)({method:"emoji.rename",reason:mn,args:{name:wt,new_name:Qt}})).then(On=>On).then(()=>{ht(be()),ht((0,ae.S9)(wt))}).catch(On=>{throw On})});Ge.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},Ge.propTypes={oldName:T().string,newName:T().string};var Qe=e(3456937405),Xe=e(6247499644),et=e(4244379358),rt=e(4675837085);const it=new p.Ay("custom_emoji_list"),lt={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let ot=i(class extends t.PureComponent{componentDidMount(){const{clogger:Bt}=this.props;Bt.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:Bt,uploadedImage:wt,nameErrorText:Qt}=this.state,{emojiUrl:mn}=this.props,On=Bt.length>100;return!Bt||On||!!Qt||!mn&&!wt}onDragOver(Bt){Bt.preventDefault(),Bt.dataTransfer.dropEffect="copy"}onDrop(Bt){Bt.preventDefault();const wt=Bt.dataTransfer.files[0];if(wt){const Qt=wt.name,mn=URL.createObjectURL(wt);this.updateAfterUpload({uploadedImage:wt,fileName:Qt,previewImageUrl:mn})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(Bt){const{standardEmojiData:wt}=this.props;let Qt="";this.setState(()=>({newEmojiName:Bt})),/[A-Z]/.test(Bt)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(Bt)?Qt=it.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):Bt in wt?Qt=it.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):(0,Xe.q)(Bt)?this.checkIfEmojiNameAlreadyExists(Bt):Qt=it.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:Qt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(Bt){Bt&&Bt.preventDefault();const{newEmojiName:wt,uploadedImage:Qt}=this.state,{emojiUrl:mn}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const zt={...{reason:"add-custom-emoji-dialog-content",name:wt},...mn?{mode:"url",url:mn}:{mode:"data",searchArgs:this.props.searchArgs,...Qt?{image:Qt}:{}}};this.props.addCustomEmoji(zt).then(()=>{this.props.closeModal();const nt=this.renderToastMessage();this.props.enqueueToast({element:nt}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:mn?"import_custom_emoji":"add_custom_emoji",action:mn?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(nt=>{let mt;const Ct=(0,he.A)(nt,"data.error");(Ct===Qe.W.NoUrlProvided||Ct===Qe.W.NoUrlImage)&&(mt=it.t("Something happened that prevented the image from being imported. Try again?")),Ct==="error_bad_upload"?mt=it.t("Something happened that prevented your file from being uploaded. Try again?"):Ct==="error_bad_format"?mt=it.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):Ct==="resized_but_still_too_large"||Ct==="too_many_frames"?mt=it.t("This image is a bit too big, even after resizing. A smaller file might help?"):Ct==="error_too_big"?mt=it.t("Please choose an image smaller than 64KB."):Ct==="error_name_taken_i18n"?mt=it.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:wt}):Ct==="error_name_taken"?mt=it.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:wt}):(Ct==="error_bad_name"||Ct==="error_bad_name_i18n")&&(mt=it.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:mt,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var Bt,wt;const Qt=!((Bt=this.fileInput)===null||Bt===void 0||(wt=Bt.current)===null||wt===void 0)&&wt.files?this.fileInput.current.files[0]:null;if(Qt){const mn=Qt.name,On=URL.createObjectURL(Qt);this.updateAfterUpload({uploadedImage:Qt,fileName:mn,previewImageUrl:On})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:Bt}=this.props;Bt&&this.setState(()=>({previewImageUrl:Bt,imagePreviewError:!1}))}convertFileNameToEmojiName(Bt){if(!Bt)return null;const wt=Bt.lastIndexOf("."),Qt=wt>0?Bt.substring(0,wt):Bt;return Qt?Qt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(Bt){let{uploadedImage:wt,fileName:Qt,previewImageUrl:mn}=Bt;const{newEmojiName:On,fileName:zt}=this.state;let nt=On;(!On||On===this.convertFileNameToEmojiName(zt))&&(nt=this.convertFileNameToEmojiName(Qt)||nt),this.setState(()=>({uploadedImage:wt,fileName:Qt,previewImageUrl:mn,imagePreviewError:!1}),()=>this.onEmojiNameChange(nt))}fileUpload(){var Bt;const wt=(Bt=this.props.windowRef.deref())===null||Bt===void 0?void 0:Bt.document.getElementById("emojiimg");wt==null||wt.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:Bt,nameErrorText:wt}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",it.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},it.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement(N.A,{id:"emojiname",name:"name",value:Bt,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:wt,"data-qa":lt.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:Bt,nameErrorText:wt}=this.state,Qt=it.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return wt===Qt?t.createElement("div",{className:"inline_flex full_width","data-qa":lt.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(K.Ay,{text:Bt,alt:Bt,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,it.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",Bt,":"))):null}renderDialogMessage(){const{orgName:Bt}=this.props;let wt;return Bt?wt=it.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:Bt}):wt=it.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":lt.ADD_DIALOG_MESSAGE},t.createElement("div",null,wt),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:Bt}=this.state;return Bt?t.createElement(b.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":lt.ADD_DIALOG_ERROR},t.createElement("span",null," ",Bt," ")):null}renderImagePreview(){const{previewImageUrl:Bt}=this.state,wt=t.createElement("img",{src:Bt,alt:it.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:Qt}=this.state;return Qt?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":lt.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement($.Ay,{tip:it.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(B.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":lt.ADD_DIALOG_IMAGE_PREVIEW},wt)}renderPlaceholderText(){const{placeholder:Bt}=this.state;let wt;return Bt?wt=it.t("avocado"):wt="",wt}renderToastMessage(){const{newEmojiName:Bt,previewImageUrl:wt}=this.state,Qt=t.createElement(K.Ay,{text:Bt,url:wt,emojiSize:K.lw.MEDIUM}),mn=it.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:Qt,newEmojiName:Bt});return t.createElement(x.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,mn))}renderUploadImagePrompt(){const{emojiUrl:Bt}=this.props,wt=it.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),Qt=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),mn=Bt?it.t("Import external emoji"):it.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":lt.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",mn," "),!Bt&&t.createElement("div",{className:"normal sk_foreground_max"},wt),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},Qt,!Bt&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":lt.ADD_DIALOG_FILE_INPUT}),t.createElement(z.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":lt.ADD_DIALOG_UPLOAD}," ",it.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:Bt}=this.state,{emojiUrl:wt}=this.props;let Qt;return Bt||wt?Qt=this.renderImagePreview():Qt=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":lt.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(B.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),Qt}renderUploadedFileText(){const{fileName:Bt}=this.state;let wt;return Bt?wt=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",Bt," "):wt=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",it.t("Select an image")," "),wt}render(){const{goButtonIsPending:Bt}=this.state,wt=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(d.$m,null,t.createElement(d.qf,{"data-qa":`${lt.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(d.jl,null,t.createElement(d.ox,null,t.createElement(d.s_,{type:"outline"},it.t("Cancel")),t.createElement(z.lV,{type:"primary",onClick:this.onSubmit,loading:Bt,disabled:wt,"data-qa":`${lt.ADD_DIALOG}_go`},it.t("Save")))))}constructor(Bt){super(Bt),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=wt=>{this.props.getEmojiInfo({name:wt}).then(()=>{this.state.newEmojiName===wt&&this.setState(()=>({nameErrorText:it.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(fe.A)},this.checkIfEmojiNameAlreadyExists=(0,ve.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=Bt.clientApp?se.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:se.EventId.PAGE_CUSTOMIZE_EMOJI,(0,me.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");ot.displayName="AddCustomEmojiDialogContent",ot.defaultProps={standardEmojiData:{},addCustomEmoji:fe.A,enqueueToast:fe.A,clientApp:!1,closeModal:fe.A,getEmojiInfo:fe.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,rt.O)(window)};const Et=i(ht=>({addCustomEmoji:Bt=>ht((0,Qe.l)(Bt)),enqueueToast:function(){for(var Bt=arguments.length,wt=new Array(Bt),Qt=0;Qt<Bt;Qt++)wt[Qt]=arguments[Qt];return ht((0,U.M)(...wt))},closeModal:()=>ht((0,r.O)()),getEmojiInfo:function(){for(var Bt=arguments.length,wt=new Array(Bt),Qt=0;Qt<Bt;Qt++)wt[Qt]=arguments[Qt];return ht(je(...wt))}}),"mapDispatchToProps"),At=i(ht=>({standardEmojiData:(0,ee.O)(ht),clientApp:(0,Z.TZ)(ht),clogger:(0,oe.e)({state:ht})}),"mapStateToProps"),Ot=(0,le.N)(At,Et)((0,et.A)(ot));var Rt=e(1194535350),yt=e(4318855015),Mt=e(5510392579),en=e(9236644324),Tt=e(6105929840),xt=e(5305906809);const bt=new p.Ay("custom_emoji_list"),nn=i(ht=>{let{adding:Bt,name:wt}=ht;const Qt=(0,n.wA)();return t.createElement(x.Ay,{onCloseComplete:()=>{Bt&&Qt((0,yt.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},Bt&&bt.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,wt)}),!Bt&&bt.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,wt)})))},"InstallToast");nn.displayName="InstallToast";const dn=i(ht=>{let{name:Bt,url:wt,index:Qt,copyToClipboard:mn,onClose:On}=ht;const zt=(0,n.wA)(),nt=t.createElement(V.Ay,{showTooltip:!0,text:Bt,url:wt,emojiSize:V.lw.LARGE});function mt(){(0,en.x3)(Bt),On&&On(),zt((0,r.O)()),zt((0,U.M)({element:t.createElement(x.Ay,null,t.createElement("span",null,bt.rt("Emoji copied to clipboard",{name:Bt})))}))}return i(mt,"onClick"),mt.displayName="onClick",mn&&(0,en.tD)()?t.createElement(L.A,{className:"p-emoji_pack_details__button","data-color-index":Qt%xt.dX,onClick:mt},nt):nt},"EmojiButton");dn.displayName="EmojiButton";const Xt=i(ht=>{let{collectionId:Bt,name:wt,author:Qt,installed:mn,emoji:On,onCancelClick:zt,onClose:nt}=ht;const mt=(0,n.wA)(),Ct=(0,u.d4)(Mt.h3),[Zt,Ft]=(0,t.useState)(!1),Jt=(0,t.useCallback)(()=>{Ft(!0),mt((0,Rt._J)({collectionId:Bt,reason:"emojiPack:dialog"})).then(()=>{Ft(!1),nt&&nt(),mt((0,r.O)()),mt((0,U.M)({element:t.createElement(nn,{adding:!0,name:wt})}))})},[mt,Bt,wt,nt]),[rn,gn]=(0,t.useState)(!1),Fe=(0,t.useCallback)(()=>{gn(!0),mt((0,Rt.zx)({collectionId:Bt,reason:"emojiPack:dialog"})).then(()=>{gn(!1),nt&&nt(),mt((0,r.O)()),mt((0,U.M)({element:t.createElement(nn,{adding:!1,name:wt})}))})},[mt,Bt,wt,nt]);if(!On)return null;const Ke=(0,R.A)(On,(St,cn)=>({name:cn,url:St})).map((St,cn)=>({...St,index:cn})),Ne=(0,g.A)(Ke,5),He=bt.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,f.A)(On)}),Je=bt.t("by {author}",{author:Qt}),ft=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},Je),He),Kt=t.createElement(Tt.A,{"aria-label":bt.t("Go back"),icon:"chevron-large-left",onClick:()=>zt()});return t.createElement(t.Fragment,null,t.createElement(d.rQ,null,t.createElement(d.Rc,{icon:Kt,title:wt,subtitle:ft})),t.createElement(d.$m,null,t.createElement(d.qf,null,Ne.map(St=>t.createElement("div",{key:St.map(cn=>cn.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},St.map(cn=>t.createElement(dn,{key:`emoji-pack-details-${cn.name}`,name:`:${cn.name}:`,url:cn.url,index:cn.index,copyToClipboard:mn,onClose:nt})),[...new Array(5-St.length)].map((cn,An)=>`emoji-pack-details-spacer-${An}`).map(cn=>t.createElement("div",{key:cn,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(d.jl,null,mn&&(0,en.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},bt.t("Click an emoji to copy to clipboard")),t.createElement(d.ox,null,mn&&Ct&&t.createElement(z.lV,{autoFocus:!0,type:"danger",loading:rn,onClick:Fe},bt.t("Remove pack")),!mn&&t.createElement(z.lV,{autoFocus:!0,loading:Zt,onClick:Jt},bt.t("Add pack")))))},"EmojiPackDetails");Xt.displayName="EmojiPackDetails";const jt=Xt;var _n=e(1655938719);const ze=new p.Ay("custom_emoji_list"),Dt={CUSTOM:"custom",PACKS:"packs"},hn=i(ht=>{let{orgName:Bt="",searchArgs:wt={},showEmojiPacks:Qt,initialTab:mn=Dt.CUSTOM,emojiNameSuggestion:On="",emojiUrl:zt,megaphoneEventOnClose:nt}=ht;const mt=(0,n.wA)(),[Ct,Zt]=(0,t.useState)(mn),[Ft,Jt]=(0,t.useState)(!1),[rn,gn]=(0,t.useState)(null),Fe=zt?ze.t("Add emoji to your organization"):void 0,Ke=Qt?ze.t("Add emoji"):ze.t("Add custom emoji"),Ne=Fe??Ke,He=ze.t("Emoji packs"),Je=ze.t("Custom emoji"),ft=(0,t.useMemo)(()=>[{title:Je,id:Dt.CUSTOM,onClick:()=>Zt(Dt.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:He,id:Dt.PACKS,onClick:()=>Zt(Dt.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[Je,He]),Kt=(0,t.useCallback)(()=>{nt&&mt((0,_n.iR)({event:{type:nt}}))},[mt,nt]),St=(0,t.useCallback)(()=>{Kt(),mt((0,r.O)())},[mt,Kt]),cn=Qt&&Ct===Dt.PACKS,An=Qt?t.createElement(o.A,{tabs:ft,currentTabId:Ct,className:"p-add_custom_emoji_dialog__tabs"}):null,Ln=(0,s.A)("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!Qt});return Qt&&rn?t.createElement(d.dW,{closeModal:St,isOpen:!0,className:Ln},t.createElement(jt,{collectionId:a(rn),name:(0,l.M)(rn),author:m(rn),emoji:Ft?_(rn):(0,c.H)(rn),installed:Ft,onCancelClick:()=>{gn(null)},onClose:Kt})):t.createElement(d.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:St,isOpen:!0,className:Ln},t.createElement(d.rQ,null,t.createElement(d.Rc,{title:Ne,className:"no_min_height padding_bottom_50"}),An),cn&&t.createElement(te,{orgName:Bt,onPackClick:(It,qe)=>{let{installed:ct}=qe;Jt(ct),gn(It)}}),!cn&&t.createElement(Ot,{orgName:Bt,searchArgs:wt,emojiNameSuggestion:On,emojiUrl:zt}))},"AddEmojiDialog");hn.displayName="AddEmojiDialog";const yn=hn},720935990:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>U});var t=e(6422693406),n=e(3297051565),s=e.n(n),r=e(3134334389),d=e(6258289677),o=e(5255740490),a=e(7715417323),l=e(3078252698),m=e(2322735331),c=e(8359728598),_=e(9391594207),p=e(1641606663),u=e(4518410378),h=e(9506727031),E=e(9003400431),A=e(8210487023),v=e(6084388622),f=e(1610251172),g=e(8683010724),y=e(5946832122),T=e(796111729),M=e(735940183),O=e(4675837085),I=e(9969946699),D=e(8739505998),P=e(6882609392),k=e(4275792068),R=e(2527782504),V=e(2758847468),B=e(1563996154),W=e(5731054235),L=e(5617110048),S=e(6244014364),H=e(3688641936);function w(ee){const se=ee.tagName;if(["BUTTON","INPUT","SELECT","TEXTAREA"].includes(se))return!0;const de=ee.getAttribute("role");return!!(de&&["button","checkbox","radio","radiogroup","textbox"].includes(de))}i(w,"focusOnFormFilter");var F=e(56548687),j=e(3199988258),J=e(5889731107);const X=new M.Ay("generic_dialog"),q={titleText:s().oneOfType([s().string,s().array]),bodyText:s().string,cancelButtonText:s().string,continueButtonText:s().string,continueButtonType:s().string,onCancel:s().func,onContinue:s().func},G={titleText:void 0,bodyText:void 0,cancelButtonText:void 0,continueButtonText:void 0,continueButtonType:"danger",onCancel:a.A,onContinue:a.A};let ne=i(class extends r.PureComponent{componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState(()=>({isHidden:!1}))})})}onCancel(){this.setState(()=>({isHidden:!0}),()=>{(0,J.A)(this.speedBump,"transform").then(this.props.onCancel)})}render(){const se=X.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"}),de=X.t("Keep Editing"),ue=X.t("Close"),{titleText:_e=se,cancelButtonText:pe=de,continueButtonText:ae=ue,bodyText:Ee,continueButtonType:Le,onContinue:ye}=this.props,{isHidden:Te}=this.state,Ae=(0,o.A)("c-dialog_speed_bump_overlay",{"c-dialog_speed_bump_overlay--hidden":Te}),Ie=(0,o.A)("c-dialog_speed_bump",{"c-dialog_speed_bump--hidden":Te});return r.createElement(r.Fragment,null,r.createElement("div",{className:Ae}),r.createElement("div",{className:"c-dialog_speed_bump_wrapper"},r.createElement("div",{className:Ie,ref:Ue=>{this.speedBump=Ue}},r.createElement("h3",{className:"c-dialog_speed_bump__body_text"},_e),Ee&&r.createElement(j.A,{text:Ee}),r.createElement("div",{className:"c-dialog_speed_bump__button_row"},r.createElement(v.Ay,{autoFocus:!0,className:"c-dialog_speed_bump__button",onClick:this.onCancel,"data-qa":"dialog_speed_bump_cancel",type:"outline"},pe),r.createElement(v.Ay,{className:"c-dialog_speed_bump__button",onClick:ye,"data-qa":"dialog_speed_bump_continue",type:Le},ae)))))}constructor(se){super(se),this.onCancel=this.onCancel.bind(this),this.state={isHidden:!0},this.speedBump=null}},"DialogSpeedBump");ne.displayName="DialogSpeedBump",ne.propTypes=q,ne.defaultProps=G;const te=(0,h.A)(ne);function le(){return le=Object.assign||function(ee){for(var se=1;se<arguments.length;se++){var de=arguments[se];for(var ue in de)Object.prototype.hasOwnProperty.call(de,ue)&&(ee[ue]=de[ue])}return ee},le.apply(this,arguments)}i(le,"_extends");const he=new M.Ay("generic_dialog"),fe={onRequestClose:{action:S.UiAction.CLOSE}},ve={ariaContent:s().object,children:s().any.isRequired,cancelButtonType:s().string,cancelText:s().string,className:s().string,overlayClassName:s().string,bodyClassName:s().string,modalBodyOpenClassName:s().string,contentHeight:s().number,contentLabel:s().string,"data-qa":s().string,footerIcon:s().string,footerLink:s().string,footerText:s().node,focusOnPrimaryButton:s().bool,onFooterLinkClick:s().func,goButtonType:s().string,goButtonText:s().string,goButtonTooltip:s().node,goButtonIsDisabled:s().bool,goButtonIsPending:s().bool,goOnEnterPressed:s().bool,onCancel:s().func,onClose:s().func,onGo:s().func,onPopOut:s().func,onScroll:s().func,role:s().string,showCancelButton:s().bool,showCloseButton:s().bool,showPopoutButton:s().bool,showGoButton:s().bool,showHeader:s().bool,showFooter:s().bool,showTooltipOnCloseButton:s().bool,title:s().node,titleAria:s().string,useSlackScrollbar:s().bool,useSlackScrollbarWithPadding:s().bool,titleImage:s().string,truncateTitle:s().bool,closeModal:s().func,appPopoutsEnabled:s().bool,shouldCloseOnOverlayClick:s().bool,shouldCloseOnGo:s().bool,shouldCloseOnCancel:s().bool,getShouldShowSpeedBump:s().func,speedBumpBodyText:s().oneOfType([s().string,s().array]),speedBumpTitleText:s().oneOfType([s().string,s().array]),speedBumpCancelButtonText:s().string,speedBumpContinueButtonText:s().string,speedBumpContinueButtonType:s().string,isSpeedBumpEnabled:s().bool,reverseButtons:s().bool,customFooterContent:s().oneOfType([s().node,s().func]),invertCloseButton:s().bool,onRequestClose:s().func,onEscape:s().func,autoClogProps:s().object,windowRef:s().object,clogger:s().object},me={ariaContent:void 0,cancelButtonType:"outline",cancelText:void 0,overlayClassName:void 0,bodyClassName:void 0,modalBodyOpenClassName:void 0,className:void 0,contentHeight:void 0,contentLabel:void 0,"data-qa":"dialog",footerIcon:void 0,footerLink:void 0,footerText:void 0,focusOnPrimaryButton:void 0,onFooterLinkClick:void 0,goButtonType:"primary",goButtonText:void 0,goButtonTooltip:void 0,goButtonIsDisabled:!1,goButtonIsPending:!1,goOnEnterPressed:!0,onCancel:a.A,onClose:a.A,onGo:a.A,onPopOut:a.A,onScroll:a.A,role:"dialog",showCancelButton:!0,showCloseButton:!0,showPopoutButton:!1,showGoButton:!0,showHeader:!0,showFooter:!0,showTooltipOnCloseButton:!1,title:void 0,titleAria:null,useSlackScrollbar:!0,useSlackScrollbarWithPadding:!1,titleImage:void 0,truncateTitle:!0,closeModal:a.A,appPopoutsEnabled:!1,shouldCloseOnOverlayClick:!0,shouldCloseOnGo:!0,shouldCloseOnCancel:!0,getShouldShowSpeedBump:a.A,speedBumpBodyText:void 0,speedBumpTitleText:void 0,speedBumpCancelButtonText:void 0,speedBumpContinueButtonType:"danger",speedBumpContinueButtonText:void 0,isSpeedBumpEnabled:!0,reverseButtons:!1,customFooterContent:void 0,invertCloseButton:!1,onRequestClose:a.A,onEscape:a.A,autoClogProps:void 0,windowRef:(0,O.O)(u.J),clogger:void 0};let oe=0;function N(){return oe>0}i(N,"isDialogVisible");let K=i(class extends r.PureComponent{static getDerivedStateFromProps(se){const{isSpeedBumpEnabled:de}=se;return de?null:{isShowingSpeedBump:!1,speedBumpButton:""}}componentDidMount(){var se;const{goOnEnterPressed:de}=this.props;(se=this.props.windowRef.deref())===null||se===void 0||se.addEventListener("scroll",this.onScroll);let ue;this.modal&&this.modal.node&&(ue=this.modal.node),this.keyCommands=new P.A(ue);const _e=[];if(de&&_e.push({keys:["enter"],handler:this.onEnter}),_e.push({keys:["escape"],handler:this.onEscape}),this.keyCommands.bindAll(_e),this.props.appPopoutsEnabled||(0,W.A)()){var pe;(pe=this.props.windowRef.deref())===null||pe===void 0||pe.addEventListener("beforeunload",this.onBeforeUnload)}(0,W.A)()&&this.updateTitle(),oe+=1}componentDidUpdate(){requestAnimationFrame(this.updateScrollState),(0,W.A)()&&this.updateTitle()}componentWillUnmount(){var se;if((se=this.props.windowRef.deref())===null||se===void 0||se.removeEventListener("scroll",this.onScroll),this.keyCommands&&this.keyCommands.reset(),this.props.appPopoutsEnabled||(0,W.A)()){var de;(de=this.props.windowRef.deref())===null||de===void 0||de.removeEventListener("beforeunload",this.onBeforeUnload)}oe-=1}onBeforeUnload(se){const{getShouldShowSpeedBump:de,isSpeedBumpEnabled:ue,appPopoutsEnabled:_e}=this.props;if(!de||!ue||!_e&&!(0,W.A)())return null;if(de("close")){se.preventDefault();const pe=he.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"});return se.returnValue=pe,pe}return null}onCancel(){const{onClose:se,onCancel:de,shouldCloseOnCancel:ue}=this.props;de()!==!1&&ue&&(se(),this.props.closeModal())}onEnter(se){var de;const ue=se&&se.target&&se.target.tagName,_e=!!(!(se==null||(de=se.target)===null||de===void 0)&&de.contentEditable);ue==="BUTTON"||ue==="A"||ue==="INPUT"||ue==="TEXTAREA"||_e||this.onRequestGo(se)}onEscape(se){se.defaultPrevented||(se.stopPropagation(),this.onRequestClose(),this.props.onEscape())}onFocusedElementRemoved(){var se;(se=this.modalContent)===null||se===void 0||se.focus()}onGo(se){const{onGo:de,onClose:ue,shouldCloseOnGo:_e}=this.props;se.defaultPrevented||t.K.resolve(de(se)).then(pe=>{pe!==!1&&_e&&(ue(),this.props.closeModal())})}onPopOut(){var se,de,ue;const{role:_e}=this.props,pe=((ue=(se=this.modal)===null||se===void 0||(de=se.node)===null||de===void 0?void 0:de.querySelector(`[role="${_e}"]`))===null||ue===void 0?void 0:ue.getBoundingClientRect())||{},{height:ae,width:Ee}=pe;this.props.onPopOut({height:ae,width:Ee})}onRequestCancel(){const{getShouldShowSpeedBump:se,isSpeedBumpEnabled:de}=this.props;if(se("cancel")&&de){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"cancel"}));return}this.onCancel()}onRequestClose(se){const{getShouldShowSpeedBump:de,isSpeedBumpEnabled:ue,onClose:_e}=this.props;if(de("close")&&ue){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"close"}));return}_e(se)!==!1&&(this.props.closeModal(),this.props.onRequestClose())}onRequestGo(se){const{getShouldShowSpeedBump:de,isSpeedBumpEnabled:ue}=this.props;if(de("go")&&ue){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"go"}));return}this.onGo(se)}onScroll(se){this.scroller&&(requestAnimationFrame(this.updateScrollState),this.props.onScroll({scrollTop:this.scroller.scrollTop},se))}onFocusTransition(){const{clogger:se,autoClogProps:de}=this.props;if(this.focusOnFormElements(),!se||!de||!de.context)return;const{eventId:ue,appId:_e,type:pe,viewId:ae}=de.context;se.track(ue,{contexts:{platform:{app_id:_e},block_kit:{view_id:ae,type:pe,app_id:_e}}})}getFocusTransitionListeners(se,de,ue){return{[R.Ay.MODAL_ACTIVE_FORM]:()=>{if(!se||de==null||ue==null)return!1;const _e=this.props.windowRef.deref().document.elementFromPoint(de+10,ue+10);return se.contains(_e)?(this.onFocusTransition(),!0):!1}}}getScrollHeight(){const{contentHeight:se}=this.props;return se!==me.contentHeight?se:this.scroller.scrollHeight}getTitleAria(){const{contentLabel:se,title:de,titleAria:ue}=this.props;let _e="";return se?_e=se:(0,l.A)(de)?_e=de:ue?_e=ue:(0,T.Wo)().warn('You should pass the "titleAria" prop when passing a non-string "title" prop if there is no "contentLabel".'),_e}setBodyRef(se){this.scroller=se}setModalRef(se){this.modal=se}setModalContentRef(se){this.modalContent=se,typeof this.props.customFooterContent=="function"&&this.focusOnFormElements()}focusOnFormElements(){var se;const de=(0,H.Fp)(this.scroller,w);if(de!=null&&de.focus){de.focus();return}if(this.goButtonRef.current){this.goButtonRef.current.focus();return}if(this.cancelButtonRef.current){this.cancelButtonRef.current.focus();return}(se=this.modalContent)===null||se===void 0||se.focus()}updateScrollState(){if(!this.scroller)return;const se=this.scroller.scrollTop,de=this.getScrollHeight(),ue=this.scroller.offsetHeight,_e=se===de-ue,pe=se===0,ae=de>ue;this.setState(()=>({hasOverflow:ae,scrolledToBottom:_e,scrolledToTop:pe}))}updateTitle(){const se=he.t("Slack",{fallbackHash:"430b38bf6daa7f9164b164b2ffd540b5a3afe2fd",fallbackHashNs:"view"}),de=this.getTitleAria();de&&(this.props.windowRef.deref().document.title=`${se} | ${de}`)}renderCancelButton(){const{cancelText:se,cancelButtonType:de,autoClogProps:ue,"data-qa":_e}=this.props,pe=se||he.t("Cancel"),ae=ue!=null&&ue.cancelButton?{onClick:{enableClogAction:!0},...ue.cancelButton}:void 0;return r.createElement(v.Ay,{ref:this.cancelButtonRef,type:de,className:"c-dialog__cancel",onClick:this.onRequestCancel,"data-qa":`${_e}_cancel`,autoClogProps:ae},pe)}renderCloseButton(){const{showTooltipOnCloseButton:se,invertCloseButton:de,autoClogProps:ue,"data-qa":_e}=this.props,pe=he.t("Close"),ae=ue!=null&&ue.closeButton?{onClick:{enableClogAction:!0},...ue.closeButton}:void 0,Ee=r.createElement(y.A,{backgroundStyle:de?"dark":void 0,"aria-label":pe,className:"c-dialog__close",onClick:this.onRequestClose,"data-qa":`${_e}_close`,autoClogProps:ae},r.createElement(g.A,{name:"close",size:"20"}));return se?r.createElement(B.Ay,{tip:pe,zIndex:"above_fs"},Ee):Ee}renderCustomFooterMaybe(){const{customFooterContent:se}=this.props;return typeof se=="function"?se({goButtonRef:this.goButtonRef,cancelButtonRef:this.cancelButtonRef}):se||null}renderFooterTextMaybe(){const{footerIcon:se,footerLink:de,footerText:ue,"data-qa":_e}=this.props;return ue?de?r.createElement("div",{className:"c-dialog__footer_text","data-qa":"dialog_footer_text"},r.createElement(D.A,{href:de,className:"c-dialog__footer_link",onClick:this.props.onFooterLinkClick,"data-qa":`${_e}_footer_link`},se&&r.createElement(f.A,{legacy:!0,inherit:!0,type:se,align:"baseline","data-qa":"dialog_footer_icon",className:"c-dialog__footer_icon"}),ue)):r.createElement("div",{className:"c-dialog__footer_text","data-qa":"dialog_footer_text"},se&&r.createElement(f.A,{legacy:!0,inherit:!0,type:se,align:"baseline","data-qa":"dialog_footer_icon",className:"c-dialog__footer_icon"}),ue):null}renderGoButton(){const{"data-qa":se,goButtonIsDisabled:de,goButtonIsPending:ue,goButtonText:_e,goButtonType:pe,goButtonTooltip:ae,focusOnPrimaryButton:Ee,autoClogProps:Le}=this.props,ye=_e||he.t("Confirm"),Te=Le!=null&&Le.goButton?{onClick:{enableClogAction:!0},...Le.goButton}:void 0,Ae=r.createElement(v.lV,{ref:this.goButtonRef,type:pe,className:"c-dialog__go",onClick:this.onRequestGo,loading:ue,disabled:de,"data-qa":`${se}_go`,autoFocus:Ee,autoClogProps:Te},ye);return ae?r.createElement(B.Ay,{tip:ae,zIndex:"above_fs"},de?r.createElement("div",null,Ae):Ae):Ae}renderOverflowPaddingMaybe(){const{showFooter:se}=this.props,{hasOverflow:de,scrolledToBottom:ue}=this.state;if(!se&&de){const _e=(0,o.A)("c-dialog__overflow_padding",{"c-dialog__overflow_padding--scroll_border":de&&!ue});return r.createElement("div",{className:_e})}return null}renderPopoutButton(){const{appPopoutsEnabled:se,"data-qa":de,autoClogProps:ue}=this.props;if(!se)return null;const _e=he.t("Open in new window"),pe=ue!=null&&ue.popOutButton?{onClick:{enableClogAction:!0},...ue.popOutButton}:void 0;return r.createElement(B.Ay,{tip:_e,zIndex:"above_fs"},r.createElement(y.A,{"aria-label":_e,className:"c-dialog__popout",onClick:this.onPopOut,"data-qa":`${de}_popout`,icon:"new-window",autoClogProps:pe}))}renderSpeedBumpMaybe(){if(!this.state.isShowingSpeedBump)return null;const{speedBumpTitleText:se,speedBumpCancelButtonText:de,speedBumpContinueButtonText:ue,speedBumpContinueButtonType:_e,speedBumpBodyText:pe}=this.props;return r.createElement(te,{titleText:se,bodyText:pe,cancelButtonText:de,continueButtonText:ue,continueButtonType:_e,onCancel:()=>{this.setState(()=>({isShowingSpeedBump:!1}))},onContinue:this.state.speedBumpButton==="go"?this.onGo:this.onCancel})}renderTitle(){const{title:se,titleImage:de,truncateTitle:ue}=this.props;let _e;return de?_e=r.createElement("div",{className:"display_flex"},r.createElement("img",{className:"c-dialog__title_image",src:de,alt:se}),r.createElement("div",{className:(0,o.A)({overflow_ellipsis:ue})},se)):_e=se,r.createElement("h1",{className:(0,o.A)("c-dialog__title",{overflow_ellipsis:ue&&!de})},_e)}render(){const{ariaContent:se,children:de,className:ue,overlayClassName:_e,bodyClassName:pe,footerText:ae,showCancelButton:Ee,showCloseButton:Le,showPopoutButton:ye,showGoButton:Te,role:Ae,showHeader:Ie,showFooter:Ue,useSlackScrollbar:Be,useSlackScrollbarWithPadding:we,"data-qa":re,shouldCloseOnOverlayClick:ge,reverseButtons:De,modalBodyOpenClassName:be,autoClogProps:xe}=this.props,Re=(0,o.A)("c-dialog",_e,{"c-dialog--custom-titlebar":(0,I.H2)()}),je=(0,o.A)("c-dialog__content",ue,{"c-dialog__content--custom-titlebar":(0,I.H2)(),"c-dialog__content--frameless":(0,I.Hc)()}),Ge=(0,o.A)("c-dialog__header",{"c-dialog__header--overflow":this.state.hasOverflow&&!this.state.scrolledToTop}),Qe=(0,o.A)("c-dialog__body",pe,{"c-dialog__body--slack_scrollbar":Be&&!we,"c-dialog__body--slack_scrollbar_with_padding":Be&&we}),Xe=(0,o.A)("c-dialog__footer",{"c-dialog__footer--overflow":this.state.hasOverflow&&!this.state.scrolledToBottom,"c-dialog__footer--has_text":ae&&!(Ee||Te),"c-dialog__footer--has_buttons":!ae&&(Ee||Te),"c-dialog__footer--has_both":ae&&(Ee||Te)}),et=this.getTitleAria(),rt={...se,label:Ie&&et};let it,lt;return this.modalContent&&({left:it,top:lt}=this.modalContent.getBoundingClientRect()),r.createElement(L.A,{elementType:S.ElementType.MODAL,actionProps:fe,autoClogProps:xe},r.createElement(d.A,{className:je,bodyOpenClassName:be,contentLabel:et,isOpen:!0,onRequestClose:this.onRequestClose,overlayClassName:Re,role:Ae,aria:rt,shouldCloseOnOverlayClick:ge,shouldCloseOnEsc:!1,ref:this.setModalRef,contentRef:this.setModalContentRef,data:{qa:re},shouldReturnFocusAfterClose:!1},r.createElement(k.A,{listeners:this.getFocusTransitionListeners(this.modalContent,it,lt)},Ie&&r.createElement("div",{className:Ge,"data-qa":`${re}_header`},this.renderTitle(),ye&&!(0,W.A)()&&this.renderPopoutButton(),Le&&!(0,W.A)()&&this.renderCloseButton()),r.createElement(V.A,{onFocusedElementRemoved:this.onFocusedElementRemoved},r.createElement("div",{className:Qe,onScroll:this.onScroll,ref:this.setBodyRef,"data-qa":`${re}_body`},de)),Ue&&r.createElement("div",{className:Xe,"data-qa":`${re}_footer`},this.renderCustomFooterMaybe(),this.renderFooterTextMaybe(),r.createElement("div",{className:"c-dialog__footer_buttons","data-qa":"dialog_footer_buttons"},De&&Te&&this.renderGoButton(),Ee&&this.renderCancelButton(),!De&&Te&&this.renderGoButton())),this.renderSpeedBumpMaybe(),this.renderOverflowPaddingMaybe())))}constructor(se){super(se),(0,m.v)(this,["onScroll","setBodyRef","updateScrollState","onBeforeUnload","onRequestGo","onGo","onEnter","onFocusedElementRemoved","onPopOut","onRequestClose","onRequestCancel","onCancel","onEscape","setModalRef","setModalContentRef","onFocusTransition","getFocusTransitionListeners"]),this.keyCommands=null,this.scroller=null,this.cancelButtonRef=r.createRef(),this.goButtonRef=r.createRef(),this.getFocusTransitionListeners=(0,c.A)(this.getFocusTransitionListeners),this.state={hasOverflow:null,scrolledToBottom:null,scrolledToTop:null}}},"DeprecatedBaseDialog");K.displayName="DeprecatedBaseDialog",K.propTypes=ve,K.defaultProps=me;const x=i(ee=>({appPopoutsEnabled:(0,A.HM)(ee),clogger:(0,F.e)({state:ee})}),"mapStateToProps"),b=i(ee=>({closeModal:se=>ee((0,E.O)(se))}),"mapDispatchToProps"),z=i((ee,se,de)=>({...de,...se,...ee}),"mergeProps"),$=(0,_.N)(x,b,z,{forwardRef:!0})((0,h.A)(K)),U=r.forwardRef((ee,se)=>r.createElement(p.M.Consumer,null,de=>{let{windowRef:ue}=de;return r.createElement($,le({ref:se},ee,{windowRef:ue}))}))},5331686899:(Q,C,e)=>{"use strict";e.d(C,{lw:()=>V,Ay:()=>H});var t=e(7752974446),n=e.n(t),s=e(3134334389),r=e(2562405183),d=e(9391594207),o=e(5255740490),a=e(2047021170),l=e(8525228540),m=e(8847766420),c=e(3829348308),_=e(3043682041),p=e(9599231336),u=e(735940183),h=e(8556787853),E=e(5799716058),A=e(4921059838),v=e(6795568989),f=e(3695531806),g=e(1563996154),y=e(1610251172),T=e(796111729);function M(){return M=Object.assign||function(w){for(var F=1;F<arguments.length;F++){var j=arguments[F];for(var J in j)Object.prototype.hasOwnProperty.call(j,J)&&(w[J]=j[J])}return w},M.apply(this,arguments)}i(M,"_extends");function O(w){return class extends s.PureComponent{componentDidCatch(F,j){this.setState(()=>({hasError:!0})),(0,T.Wo)().error({label:"Error rendering emoji component",error:F,message:j})}render(){return this.state.hasError?s.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},s.createElement("img",{src:n()})):s.createElement(w,M({},this.props))}constructor(F){super(F),this.state={hasError:!1}}}}i(O,"withEmojiErrorBoundary"),O.displayName="withEmojiErrorBoundary";const I=O;var D=e(9580887194),P=e(8021873188),k=e(9936232041);function R(){return R=Object.assign||function(w){for(var F=1;F<arguments.length;F++){var j=arguments[F];for(var J in j)Object.prototype.hasOwnProperty.call(j,J)&&(w[J]=j[J])}return w},R.apply(this,arguments)}i(R,"emoji_extends");const V={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},B=i(w=>{const F=(0,r.d4)(j=>{if(!w.isStandard)return w.url;var J;const X=(J=w.sourceTeamId)!==null&&J!==void 0?J:(0,m.ZT)(j);return w.isStandard?(0,c.Ez)(j,{text:w.text||"",teamId:X,emojiMode:(0,_.w)(j,{forceDisplay:!!w.forceDisplay}),emojiSize:V.XLARGE}):w.url});return s.createElement(W,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:V.LARGER,text:w.text,displayText:w.displayText,url:F||"",sourceTeamId:w.sourceTeamId,ariaLabel:w.ariaLabel,alt:w.alt,unicode:w.unicode,emojiNameFromText:w.emojiNameFromText,dispatch:w.dispatch,stopAnimations:w.stopAnimations,fallbackUrl:w.fallbackUrl,isStandard:w.isStandard})},"EmojiTooltipEmoji");B.displayName="EmojiTooltipEmoji";let W=i(class extends s.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return s.createElement(y.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:F}=this.state,{isImportAllowed:j,isStandard:J}=this.props;return j&&!J&&!F}renderEmojiElement(){const{text:F,displayText:j,url:J,emojiSize:X,isEmojiInlineWithText:q,className:G,shouldFallbackOnLoadError:ne,fallbackUrl:te,ariaLabel:le,alt:he}=this.props,{isLoadError:fe}=this.state,ve=(0,o.A)("c-emoji",`c-emoji__${X}`,G,{"c-emoji--inline":q}),me=le??(j&&(0,E.A)(j)),oe={"data-stringify-type":"emoji","data-stringify-emoji":F},N=this.isImportable()?this.handleEmojiImport:void 0;return q?s.createElement("span",{className:ve,"data-qa":(fe||!J)&&ne?"emoji-fallback":"emoji"},s.createElement("img",R({src:(fe||!J)&&ne?te:J,onError:this.onLoadError,onContextMenu:N,"aria-label":me,alt:j},oe))):s.createElement("img",R({src:(fe||!J)&&ne?te:J,onError:this.onLoadError,"aria-label":me,alt:he??j,className:ve,onContextMenu:N,"data-qa":(fe||!J)&&ne?"emoji-fallback":"emoji"},oe))}renderUnicodeAsEmoji(F){if(F&&(0,v.d)(F)){const{emojiSize:j}=this.props,J=(0,f.z)({codePointLikeString:F});return s.createElement("span",{className:(0,o.A)("c-emoji__unicode",{"c-emoji__unicode--large":j===V.LARGE})},J)}}renderTooltip(){const{renderAsText:F,displayText:j,text:J,isStandard:X,url:q,unicode:G,sourceTeamId:ne,ariaLabel:te,alt:le,emojiNameFromText:he,stopAnimations:fe,fallbackUrl:ve,forceDisplay:me}=this.props;if(F)return j;const oe=X?void 0:q;return s.createElement(s.Fragment,null,s.createElement("div",{className:"c-emoji__emoji-tooltip"},s.createElement(B,{text:J,displayText:j,url:oe,sourceTeamId:ne,ariaLabel:te,alt:le,unicode:G,emojiNameFromText:he,dispatch:this.props.dispatch,stopAnimations:fe,fallbackUrl:ve,isStandard:X,forceDisplay:me})),j,this.isImportable()&&s.createElement(P.K,{emojiName:j,emojiUrl:q}))}render(){const{displayText:F,url:j,renderAsText:J,showTooltip:X,iconInTextMode:q,renderEmojiFallback:G,unicode:ne,emojiNameFromText:te}=this.props;if(!j&&!F&&!ne)return null;if((J||!j)&&!G&&!ne)return q?this.renderIconFallback():F;if(ne&&!te){var le;return(le=this.renderUnicodeAsEmoji(ne))!==null&&le!==void 0?le:F}return X?s.createElement(g.Ay,{tip:this.renderTooltip,delay:g.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(F){super(F),this.handleEmojiImport=j=>{if(j!=null&&j.altKey)return;const{url:J,dispatch:X,displayText:q}=this.props;X((0,D.a)({emojiName:q,emojiUrl:J,event:j}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");W.displayName="Emoji",W.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:V.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0};const L=i((w,F)=>{const{stopAnimations:j,forceDisplay:J,emojiSize:X=V.MEDIUM,url:q,unicode:G}=F;let{text:ne}=F,te=(0,c.qJ)(w,G??"");te&&te.charAt(te.length-1)!==":"&&te.charAt(0)!==":"&&(te=`:${te}:`),ne=te||ne||"";let le=q;const he=(0,m.ZT)(w)||"",fe=!(0,a.ty)(w,"a11y_animations"),ve=j||fe,me=(0,u.Yp)({teamOrEnterpriseId:he,recalc:!1}),oe=(0,l.bR)({state:w,locale:me,name:ne}),N=!J&&(0,p.P)(w),K=(0,k.A)(ne),x=(0,A.R)(w,K);if(!N&&!le){const $=(0,_.w)(w,{forceDisplay:!!J});var b;const Z=(b=F.sourceTeamId)!==null&&b!==void 0?b:he;le=(0,c.Ez)(w,{text:ne,parsedEmoji:K,teamId:Z,emojiMode:$,emojiSize:X===V.LARGER?V.XLARGE:X})||void 0}if(ve&&!x){var z;le=(z=(0,h.Ay)(w,{url:le,stopAnimations:ve,isEmoji:!0}))!==null&&z!==void 0?z:void 0}return{text:ne,url:le,renderAsText:N,emojiSize:X,displayText:oe||"",stopAnimations:ve,fallbackUrl:n(),isStandard:x,emojiNameFromText:te}},"mapStateToProps"),S={mapStateToProps:L},H=I((0,d.N)(L)(W))},1030162945:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>n,lw:()=>t.lw});var t=e(5331686899);const n=t.Ay},4899054948:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3134334389),n=e(9391594207),s=e(5255740490),r=e(3879245650),d=e(3202757386),o=e(4724591729),a=e(735940183),l=e(6084388622),m=e(8739505998),c=e(796111729),_=e(2786906754),p=e(9190452268),u=e(6968387112),h=e(7545496485);const A=i(I=>!!(0,h.w)(I).isWorkspace,"looksLikeWorkspaceState");var v=e(2229064554),f=e(8022922400),g=e(6338445630);const y=new a.Ay("error_boundary"),T="REB";let M=i(class extends t.Component{componentDidUpdate(D){this.state.hasError&&D.id!==this.props.id&&this.resetHasError()}componentDidCatch(D,P){let k=null;try{k=`${T}${(0,r.B)((0,f.A)(D.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:k}),()=>{var R,V;return(V=(R=this.props).onError)===null||V===void 0?void 0:V.call(R,D)}),!(0,o.Cu)()){const R=P.componentStack.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",D,k,R,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(D){D.preventDefault();let P=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,d.A)()?(P=(0,_.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${P} after hitting ErrorBoundary`),(0,g.Lz)().finally(()=>{window.location.href=P})):(this.props.logger.info("LEGACY",`Reloading at ${P} after hitting ErrorBoundary`),window.location.href=P)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const D=i(P=>{let{text:k,key:R}=P;return t.createElement(m.A,{href:`https://${(0,u.qF)()}/help/contact`,rel:"noopener noreferrer",key:R},k)},"renderLink");return this.state.errCode==="REBD7A8C1099"?y.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},D):y.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,D)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const D=(0,s.A)("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:D},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,y.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":y.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(v.A,{errCode:this.state.errCode}),t.createElement(l.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},y.t("Reload"))))}return this.props.children}constructor(D){super(D),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");M.displayName="ErrorBoundary";const O=(0,n.N)(I=>({logger:A(I)?(0,c.Ay)({state:I}):(0,c.Wo)(),telemeter:A(I)?(0,p.Cy)({state:I}):(0,p.rh)()}))(M)},2229064554:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(735940183);const s=new n.Ay("error_boundary");function r(d){let{errCode:o}=d;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},s.t("Error: "),o))}i(r,"ErrorCode")},3837503631:(Q,C,e)=>{"use strict";e.d(C,{H:()=>o,A:()=>a});var t=e(4899054948),n=e(3134334389);function s(){return s=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(l[_]=c[_])}return l},s.apply(this,arguments)}i(s,"_extends");const r=i(()=>null,"renderError"),o=i(l=>n.createElement(t.A,s({renderError:r},l)),"QuietErrorBoundary"),a=t.A},8022922400:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});const t=/\bA[A-Z0-9]{8,}\b/g,n=/\bB[A-Z0-9]{8,}\b/g,s=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,d=/\b(U|W)[A-Z0-9]{8,}\b/g,o=/\b[\d]{10}\.[\d]{6}\b/g,a=/\bS[A-Z0-9]{8,}\b/g,l=/\bT[A-Z0-9]{8,}\b/g;function m(c){return String(c).replace(t,"[APP_ID]").replace(n,"[BOT_ID]").replace(s,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(d,"[MEMBER_ID]").replace(o,"[MESSAGE_TS]").replace(a,"[USER_GROUP_ID]").replace(l,"[TEAM_ID]")}i(m,"normalizeError")},3216205233:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(2375333597),s=e(1031947056),r=e(8300007136),d=e(9003400431),o=e(980293773),a=e(735940183);const l=new a.Ay("request_access_done"),m=i(()=>{const u=(0,r.wA)(),h=(0,t.useCallback)(()=>{u((0,d.O)())},[u]),E=l.t("Request sent"),A=l.t("You\u2019ll be notified once it\u2019s been shared with you"),v=l.t("Done");return t.createElement(o.dW,{closeModal:h,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(o.rQ,null,t.createElement(o.Rc,null,t.createElement("h2",null,E))),t.createElement(o.$m,null,t.createElement(o.qf,null,A)),t.createElement(o.jl,null,t.createElement(o.ox,null,t.createElement(o.s_,{type:"primary",onClick:h},v))))},"RequestAccessDoneModal");m.displayName="RequestAccessDoneModal";const c=m,_=(0,s.Ay)("Opens the Request Access Done confirmation modal in client",(u,h)=>{u((0,n.q)({element:t.createElement(c,null)}))});_.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};const p=_},4492997969:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(2375333597),s=e(1031947056),r=e(8300007136),d=e(9003400431),o=e(8739505998),a=e(735940183),l=e(6968387112),m=e(980293773);const c=new a.Ay("request_access_error"),_=i(()=>{const E=(0,r.wA)(),A=(0,t.useCallback)(()=>{E((0,d.O)())},[E]),v=c.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,f=>{let{tag:g,text:y}=f;return t.createElement(o.A,{key:g,target:"_blank",href:`https://${(0,l.qF)()}/help/requests/new`},y)});return t.createElement(m.dW,{closeModal:A,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(m.rQ,null,t.createElement(m.Rc,null,t.createElement("h2",null,c.t("Error")))),t.createElement(m.$m,null,t.createElement(m.qf,null,v)),t.createElement(m.jl,null,t.createElement(m.ox,null,t.createElement(m.s_,{type:"danger",onClick:A},c.t("Close")))))},"RequestAccessErrorModal");_.displayName="RequestAccessErrorModal";const p=_,u=(0,s.Ay)("Opens the Request Access Done confirmation modal in client",(E,A)=>{E((0,n.q)({element:t.createElement(p,null)}))});u.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};const h=u},5604079762:(Q,C,e)=>{"use strict";e.d(C,{A:()=>D});var t=e(9706240641),n=e(1031947056),s=e(6801073238),r=e(9899967630),d=e(3134334389),o=e(2375333597),a=e(8300007136),l=e(9003400431),m=e(980293773),c=e(4481313819),_=e(6244014364),p=e(735940183),u=e(6084388622),h=e(3216205233),E=e(4492997969);const A=new p.Ay("request_access_done"),v={uiComponentName:_.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},f={uiComponentName:_.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},g=i(P=>{let{fileId:k}=P;const[R,V]=(0,d.useState)(!1),[B,W]=(0,d.useState)(!1),L=(0,a.wA)(),S=(0,d.useCallback)(()=>(L((0,l.O)()),!1),[L]),H=(0,d.useCallback)(()=>{W(!1),L((0,s.x)({fileId:k,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>L((0,h.A)())).catch(()=>{L((0,E.A)())}),V(!0)},[L,k]),w=A.t("You don\u2019t have access"),F=A.t("Collaborators can grant you access"),j=A.t("Cancel"),J=A.t("Request access");return d.createElement(c.A,{eventId:_.EventId.QUIP_PERMISSIONS_REQUEST,elementType:_.ElementType.MODAL},d.createElement(m.dW,{closeModal:S,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},d.createElement(m.rQ,null,d.createElement(m.Rc,null,d.createElement("h2",null,w))),d.createElement(m.$m,null,d.createElement(m.qf,null,F)),d.createElement(m.jl,null,d.createElement(m.ox,null,d.createElement(m.s_,{type:"outline",onClick:S,"data-qa":"canvas_request_cancel_button",autoClogProps:v},j),d.createElement(u.lV,{type:"primary",onClick:H,loading:B,"data-qa":"canvas_request_access_button",disabled:R,autoClogProps:f},J)))))},"CustomizedRequestAccessModal");g.displayName="CustomizedRequestAccessModal";const y=g,T=(0,n.Ay)("Opens the Request Access Done confirmation modal in client",(P,k,R)=>{let{fileId:V}=R;P((0,o.q)({element:d.createElement(y,{fileId:V})}))});T.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"};const M=T;var O=e(8257102208);const I=(0,n.Ay)('Opens the "Request Access" modal',function(){var P=(0,t.coroutine)(function*(k,R,V){let{fileId:B,url:W,skipConfirmation:L,skipDoneDialog:S}=V,H;if(!B&&W){const w=(0,r.cR)(R(),W),F=(0,O.$q)(R(),W);w!==null&&(H=w),F!==null&&(H=F)}else B&&(H=B);H&&(L?k((0,s.x)({fileId:H,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{S||k((0,h.A)())}).catch(()=>{k((0,E.A)())}):k(M({fileId:H})))});return function(k,R,V){return P.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};const D=I},5141066605:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(735940183),n=e(5549390246),s=e(4761125736);const r=new t.Ay("files");function d(o,a){if(!o.is_external)return null;if((0,s._Z)(a,"file_consistency")==="treatment"){let m="File";switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":m=r.t("Google Sheet");break;case"gdoc":m=r.t("Google Doc");break;case"gpres":m=r.t("Google Slide");break;case"gdraw":m=r.t("Google Drawing");break;default:m=r.t("Google {fileType}",{fileType:o.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":m=r.t("{fileType}",{fileType:o.pretty_type});break;default:m=r.t("File")}return m}switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:o.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:o.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:o.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:o.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:o.pretty_type,appName:(0,n.Y)(a,o)||""});default:return r.t("File")}}i(d,"getExternalFiletypeDescription")},8642919232:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(8950789382),d=e(8677230210);const o=(0,s.Ay)("Opens a member profile in a tile",function(){var l=(0,t.coroutine)(function*(m,c,_){(0,d.wC)(c(),_)&&m((0,r.s)({viewId:"rimeto_profile",params:{memberId:_}}))});return function(m,c,_){return l.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkopenProfileInWindow",description:"Opens a member profile in a tile"};const a=o},6565762531:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&n!=="-")}i(t,"isValidFieldValue")},7969928607:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5734673180),s=e(647040695),r=e(1030162945),d=e(6818330210);function o(l){let{text:m="",inputIsEscaped:c=!1,emojiSize:_=r.lw.SMALL,showTooltips:p=!0,stopAnimations:u=!1,emojiDisplayInfo:h={}}=l;const E=[];let A=0;const v=c?(0,n.A)(m??""):m??"";if(v.replace((0,s.A)(),(f,g,y)=>{if(y>A){const O=v.slice(A,y);E.push(t.createElement(t.Fragment,{key:`${y}-${O}`},O))}const{name:T=f,url:M=void 0}=(0,d.H)(f,h);return E.push(t.createElement(r.Ay,{text:T,emojiSize:_,key:`${y}-${T}`,showTooltip:p,stopAnimations:u,isEmojiInlineWithText:!0,url:M})),A=y+f.length,""}),!E.length)return t.createElement(t.Fragment,null,v);if(A<v.length){const f=v.substr(A);E.push(t.createElement(t.Fragment,{key:`last-${f}`},f))}return t.createElement(t.Fragment,null,E)}i(o,"FormatTextWithEmoji"),o.displayName="FormatTextWithEmoji";const a=t.memo(o)},6159136815:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5734673180),s=e(7969928607);const r=/\ue000([^\ue001]*)\ue001/g;function d(a){let{text:l="",inputIsEscaped:m=!1,showTooltips:c=!0,stopAnimations:_=!1}=a;const p=[];let u=0;const h=m?(0,n.A)(l??""):l??"";if(h.replace(r,(E,A,v)=>{if(v>u){const f=h.slice(u,v);p.push(t.createElement(s.A,{key:`${v}-${f}`,text:f,showTooltips:c,inputIsEscaped:m,stopAnimations:_}))}p.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${v}-${A}`},t.createElement(s.A,{text:A,showTooltips:c,inputIsEscaped:m,stopAnimations:_}))),u=v+E.length}),!p.length&&l)return t.createElement(t.Fragment,null,t.createElement(s.A,{text:l,showTooltips:c,inputIsEscaped:m,stopAnimations:_}));if(l&&u<l.length){const E=h.substr(u);p.push(t.createElement(s.A,{key:`last-${E}`,text:E,showTooltips:c,inputIsEscaped:m,stopAnimations:_}))}return t.createElement(t.Fragment,null,p)}i(d,"FormatTextWithHighlightMarkers"),d.displayName="FormatTextWithHighlightMarkers";const o=t.memo(d)},1743656885:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8951118047);const n=t.A},8481467080:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u,U:()=>E});var t=e(9552526132),n=e(2927826522),s=e(796111729),r=e(3398586081);const d=i(A=>{const{functionTriggerId:v,workflowId:f,title:g,description:y,isWorkflowApp:T,salesHomeWorkflowAppType:M,owningTeamId:O,developerTraceId:I,botUserId:D,appCollaborators:P,appId:k,shareUrl:R}=(0,n.t)(A);return{triggerId:v,workflowId:f,title:g,description:y,isWorkflowApp:T,salesHomeWorkflowAppType:M,owningTeamId:O,developerTraceId:I,botUserId:D,appCollaborators:P,appId:k,shareUrl:R}},"getCommonMetadataFromBlock"),o=i(A=>A.url?{...d(A),triggerType:t.M.Shortcut,url:A.url}:{...d(A),triggerType:t.M.Shortcut,url:""},"createLinkShortcutFromBlock"),a=i(A=>({...d(A),triggerType:t.M.Webhook}),"createWebhookShortcutFromBlock"),l=i(A=>({...d(A),triggerType:t.M.External}),"createExternalShortcutFromBlock"),m=i(A=>({...d(A),triggerType:t.M.Service,serviceName:A.serviceName}),"createServiceShortcutFromBlock"),c=i(A=>{const{triggerSubtype:v}=A,f={eventType:v||""};return{...d(A),triggerType:t.M.Event,event:f}},"createEventShortcutFromBlock"),_=i(A=>d(A),"createUnknownShortcutFromBlock"),p=i(A=>{const v={startTime:""};return{...d(A),triggerType:t.M.Scheduled,schedule:v}},"createScheduledShortcutFromBlock"),u=i(A=>{switch(A.triggerType){case t.M.Event:return c(A);case t.M.Scheduled:return p(A);case t.M.Shortcut:return o(A);case t.M.Webhook:return a(A);case t.M.External:return l(A);case t.M.Service:return m(A);case void 0:return o(A);default:return _(A)}},"createShortcutFromBlock"),h=i(A=>{try{return JSON.stringify(A)}catch(v){throw(0,s.Wo)().error("stringify failed for workflow/trigger obj shortcut info"),v}},"memoizeCacheKeyResolver"),E=(0,r.A)(u,h)},3799600789:(Q,C,e)=>{"use strict";e.d(C,{V:()=>v,j:()=>E});var t=e(3398586081),n=e(3126601217),s=e(9552526132),r=e(2927826522),d=e(796111729),o=e(3906734293);const a=i((f,g,y)=>{var T,M,O,I;return{triggerId:(f==null?void 0:f.id)||"",workflowId:(f==null?void 0:f.workflow.workflow_id)||(g==null?void 0:g.id),isWorkflowPublished:(f==null||(T=f.workflow_details)===null||T===void 0?void 0:T.is_published)||(g==null?void 0:g.is_published),appId:(f==null?void 0:f.workflow.app_id)||((M=f==null?void 0:f.workflow.app)===null||M===void 0?void 0:M.id),app:f==null?void 0:f.workflow.app,inputs:f==null?void 0:f.inputs,owningTeamId:f==null?void 0:f.owning_team_id,isWorkflowApp:(O=f==null?void 0:f.workflow.app)===null||O===void 0?void 0:O.is_workflow_app,salesHomeWorkflowAppType:(I=f==null?void 0:f.workflow.app)===null||I===void 0?void 0:I.sales_home_workflow_app_type,title:(f==null?void 0:f.name)||(f==null?void 0:f.workflow.title)||(g==null?void 0:g.title)||(y==null?void 0:y.title),workflowDetails:f==null?void 0:f.workflow_details,description:(f==null?void 0:f.description)||(f==null?void 0:f.workflow.description)||(g==null?void 0:g.description)||(y==null?void 0:y.description),appCollaborators:(g==null?void 0:g.collaborators)||(y==null?void 0:y.appCollaborators),shareUrl:(f==null?void 0:f.share_url)||(y==null?void 0:y.shareUrl)}},"getCommonMetadataFromTriggerAndWorkflow"),l=i((f,g,y)=>({...a(f,g,y),triggerType:s.M.Shortcut,url:f.shortcut_url}),"createLinkShortcut"),m=i((f,g,y)=>({...a(f,g,y),triggerType:s.M.Webhook}),"createWebhookShortcut"),c=i((f,g,y)=>({...a(f,g,y),triggerType:s.M.External,subtype:f.subtype}),"createExternalShortcut"),_=i((f,g,y)=>{const{eventType:T,channelIds:M,teamIds:O,filter:I}=(0,r.t)(f),D={eventType:T,channelIds:M,teamIds:O,filter:I};return{...a(f,g,y),triggerType:s.M.Event,event:D}},"createEventShortcut"),p=i((f,g,y)=>{const T=(0,r.t)(f.schedule);return{...a(f,g,y),triggerType:s.M.Scheduled,schedule:T}},"createScheduledShortcut"),u=i((f,g,y)=>{var T,M,O;return{...a(f,g,y),triggerType:s.M.Service,serviceName:(O=(M=f==null||(T=f.service_config)===null||T===void 0?void 0:T.function.app)===null||M===void 0?void 0:M.name)!==null&&O!==void 0?O:""}},"createServiceShortcut"),h=i((f,g,y)=>a(f,g,y),"createUnknownShortcut"),E=i(f=>{let{passedShortcutInfo:g,trigger:y,workflow:T}=f;return(0,o.G)(y)?(0,n.BI)(y)?l(y,T,g):(0,n.QW)(y)?_(y,T,g):(0,n.uS)(y)?p(y,T,g):(0,n.A4)(y)?c(y,T,g):(0,n.cS)(y)?m(y,T,g):(0,n.O4)(y)?u(y,T,g):h(y,T,g):h(void 0,T,g)},"createShortcutFromTriggerAndWorkflow"),A=i(f=>{try{return JSON.stringify(f)}catch(g){throw(0,d.Wo)().error("stringify failed for workflow/trigger obj shortcut info"),g}},"memoizeCacheKeyResolver"),v=(0,t.A)(E,A)},8808892924:(Q,C,e)=>{"use strict";e.d(C,{i:()=>P});var t=e(3134334389),n=e(8212623464),s=e(5255740490),r=e(7715417323),d=e(3391133100),o=e(2562405183),a=e(8847766420),l=e(3288846409),m=e(6533394955),c=e(6470070112),_=e(4775127335),p=e(1563996154),u=e(5286203919),h=e(1766818988),E=e(9548972574),A=e(8683010724),v=e(543174729);const f=t.memo(k=>{let{id:R}=k;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:R,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var g=e(1407713935),y=e(9101533895),T=e(796111729);function M(){return M=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var V=arguments[R];for(var B in V)Object.prototype.hasOwnProperty.call(V,B)&&(k[B]=V[B])}return k},M.apply(this,arguments)}i(M,"_extends");const O=2;function I(k){let{channelId:R,withTooltip:V,className:B,excludeIcon:W,excludeMemberOverflowCount:L,maxMembers:S=O,avatarSize:H=_.RG.verySmall,includeChannelNameInTooltip:w=!1,excludeSelf:F=!1}=k;const j=(0,t.useMemo)(()=>`huddles-mask-${(0,d.r9)()}`,[]),J=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${j})`,"--huddles-avatar-size":`${H}px`}),[j,H]),X=(0,o.d4)(b=>(0,c.pt)(b)||(0,h.s)(b)),q=(0,o.d4)(b=>(0,y.OL)(b,R)),G=(0,l.cw)(u.hc),ne=(0,l.cw)(u.vO),le=G===R&&(0,c.pZ)(ne),he=(0,o.Z2)(b=>(0,E.A7)(b,R,F)),fe=he.length,ve=fe>S,me=ve?fe-2:0,oe=ve?he.slice(0,S):he,N=(0,t.useMemo)(()=>{const b=w&&!(0,g.PC)(q),z=t.createElement(v.A,{channelId:R,includeChannelName:b});return z||(0,T.Wo)().info("HUDDLE-FACEPILE",`channelId: ${R}, includeChannelName: ${b}`),z},[R,w,q]);if(!X||!fe)return null;const K=t.createElement("div",{className:(0,s.A)("p-huddle_avatar_stack",B),"data-qa":"huddle_avatar_stack__avatars_container",style:J},t.createElement(f,{id:j}),!W&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(A.A,{name:"headphones",size:"18"})),oe.map((b,z)=>t.createElement(_.Ay,{key:b,"data-qa":"huddle_avatar_stack__member",className:(0,s.A)("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":z===0}),userId:b,size:H,renderCustomBadge:r.A,isInteractive:!1})),!L&&ve&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${me}`)),x=V&&N?t.createElement(p.Ay,{tip:N},K):K;return le?null:x}i(I,"HuddleAvatarStackContent"),I.displayName="HuddleAvatarStackContent";const D=t.memo(I),P=t.memo(k=>{const{channelId:R}=k,V=(0,o.d4)(S=>(0,E.LY)(S,R)),B=(0,l.cw)(u.l4),W=(0,l.cw)(u.hc),L=(0,o.d4)(a.ZT);if(!V)return null;if(W===R){const S=(0,m.getStoreInstanceByTeamId)(B||L);return t.createElement(n.Kq,{store:S},t.createElement(D,M({},k)))}return t.createElement(D,M({},k))})},3496486794:(Q,C,e)=>{"use strict";e.d(C,{A:()=>F,g:()=>H});var t=e(3134334389),n=e(735940183),s=e(9679390338),r=e.n(s),d=e(4553218033),o=e.n(d),a=e(5475210953),l=e.n(a),m=e(7485089530),c=e.n(m),_=e(3342291988),p=e.n(_),u=e(9631995895),h=e.n(u),E=e(5908540923),A=e.n(E),v=e(553949882),f=e.n(v),g=e(7000154057),y=e.n(g),T=e(1672115571),M=e.n(T),O=e(7234375712),I=e.n(O),D=e(4136357865),P=e.n(D),k=e(8514307482),R=e.n(k),V=e(5738074488),B=e.n(V),W=e(3607863955),L=e.n(W);const S=new n.Ay("huddles"),H=[{key:"NONE",preview:A()},{key:"BLUR",preview:A()},{key:"LIVING_ROOM",url:B(),preview:L()},{key:"REMOTE_WORK",url:P(),preview:R()},{key:"TOKYO_SIGHT",url:M(),preview:I()},{key:"GYM",url:f(),preview:y()},{key:"HOME",url:p(),preview:h()},{key:"OFFICE",url:l(),preview:c()},{key:"BEACH",url:r(),preview:o()}],F=i(()=>(0,t.useMemo)(()=>H.map(J=>{let X,q;switch(J.key){case"NONE":X=S.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":X=S.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":X=S.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),q=S.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":X=S.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),q=S.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":X=S.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),q=S.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":X=S.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),q=S.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":X=S.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":X=S.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":X=S.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:X="NO_NAME",q="NO_DESCRIPTION"}return{...J,name:X,description:q}}),[]),"useGetVideoBackgrounds")},9680914051:(Q,C,e)=>{"use strict";e.d(C,{$s:()=>te,Bq:()=>O,CY:()=>I,Cu:()=>q,K7:()=>g,Nh:()=>p,OC:()=>h,Pg:()=>X,Qp:()=>P,Rv:()=>G,VD:()=>o,W_:()=>u,XG:()=>he,aN:()=>v,aW:()=>r,bQ:()=>V,bW:()=>d,bv:()=>D,cJ:()=>S,cP:()=>E,ck:()=>_,dP:()=>m,dk:()=>c,iE:()=>a,ir:()=>T,ne:()=>B,oI:()=>ne,pz:()=>f,qK:()=>l,qb:()=>A,qr:()=>s,sQ:()=>M,xA:()=>k,xN:()=>W,xl:()=>R,xx:()=>L,yL:()=>le});var t=e(735940183);const n=new t.Ay("huddles"),s="huddle_start_mark",r="huddle_rooms_join_start_mark",d="huddle_rooms_join_end_mark",o="huddle_render_player_tti",a="huddle_time_rooms_join",l="huddle_time_audio_session_started",m="huddle_time_first_presence_received",c="huddle_time_chime_session_started_connecting",_="huddle_time_chime_session_started",p="huddle_time_audio_video_observer_start",u="huddle_time_meeting_session_initialized",h="huddle_time_you_joined_sound",E="huddle_time_free_willy_sdk_init",A="huddle_time_voice_focus_loaded",v="huddle_time_voice_focus_start_loading",f="huddle_time_voice_focus_loading_time",g="huddle_quick_join",y="huddle_quick_join_failure",T="huddle_quick_join_credentials_received",M="huddle_quick_join_credentials_cleared",O="huddle_chime_credentials_received_mark",I="huddle_chime_sdk_bootstrap_time",D="huddle_chime_voice_focus_init_time",P=150,k="connect_to_media_service",R="fetch_credentials",V="huddles:time_to_interactive",B="huddles_metrics",W="reconnect_count",L="reconnect_count:success",S="reconnect_count:failure",H="start_attempt",w="huddles:start_attempt",F="start_huddle",j="huddles:no_audio_input",J="no_audio_input",X="A01",q="prog_disc_huddles_explainer_tip_text",G=i(fe=>{let{experimentHuddlesLoungeMusicPlayerGroupOn:ve}=fe;return[{label:ve?n.t("Right when I join"):"",value:1,key:"when_joining"},{label:ve?n.t("After 30 seconds"):"",value:30,key:"after_30_secs"},{label:ve?n.t("After 1 minute"):"",value:60,key:"after_1_min"}]},"getMusicTimeoutPickerOptions"),ne=i(fe=>{let{experimentIsStandaloneHuddlesZChannelGroupOn:ve}=fe;return[{label:ve?n.t("Only people in your org"):"",value:"org_access",key:"org_access",subtext:ve?n.t("Within your org, people in your workspace can join automatically. Other workspaces must request."):""},{label:ve?n.t("By request only"):"",value:"knock_access",key:"knock_access",subtext:ve?n.t("Everyone must knock, including people who are invited."):""}]},"getCalendarHuddleInvitePreferences"),te=50,le=250,he=50},5203103513:(Q,C,e)=>{"use strict";e.d(C,{Mz:()=>s,NY:()=>r,VW:()=>n,_q:()=>t});const t="huddles_play_music_when_last",n="huddles_play_music_timeout",s="huddles_music_player_song_key",r="calendar_huddles_default_access_policy"},3622858354:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(7969928607),s=e(1030162945);const r=i(o=>{let{text:a,emojiSize:l=s.lw.SMALL}=o;return t.createElement(t.Fragment,null,t.createElement(n.A,{text:a,emojiSize:l}))},"FormattedHuddleTopic");r.displayName="FormattedHuddleTopic";const d=r},7723800688:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_,Hi:()=>m,uV:()=>c});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(3288846409),d=e(6251210828),o=e(8239363237),a=e(5286203919),l=e(6470070112),m;(function(p){p.CANVAS_OPEN="canvas_open",p.CANVAS_JOIN="canvas_join",p.CANVAS_LEAVE="canvas_leave",p.CANVAS_TOOLBAR="canvas_toolbar",p.EMOJI_PICKER_OPEN="emoji_picker_open",p.EMOJI_SENT="emoji_sent",p.LINK_OPEN="link_open",p.FOCUS_OPEN="focus_open",p.FOCUS_CLOSE="focus_close",p.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",p.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",p.MINI_PLAYER_VIEW_START="mini_player_view_start",p.MINI_PLAYER_VIEW_END="mini_player_view_end",p.SCREENSHARE_START="screenshare_start",p.SCREENSHARE_END="screenshare_end",p.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",p.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",p.THREAD_WINDOW_VIEW_START="thread_window_view_start",p.THREAD_WINDOW_VIEW_END="thread_window_view_end",p.THREAD_OPEN="thread_open",p.THREAD_CLOSE="thread_close",p.SELF_VIDEO="self_video",p.WINDOW_COMPACT_VIEW_START="window_compact_view_start",p.WINDOW_COMPACT_VIEW_END="window_compact_view_end",p.WINDOW_FULL_VIEW_START="window_full_view_start",p.WINDOW_FULL_VIEW_END="window_full_view_end",p.WINDOW_RESIZE_BUTTON="window_resize_button",p.BACKGROUND_CHANGED="background_changed",p.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",p.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",p.CAPTIONS_START="huddles_captions_start",p.CAPTIONS_STOP="huddles_captions_stop",p.INVITATION_SENT="invitation_sent",p.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",p.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",p.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",p.NOTES_OPEN="notes_open",p.NOTES_CLOSE="notes_close",p.CHANNEL_SPACE_OPEN="channel_space_open",p.CHANNEL_SPACE_CLOSE="channel_space_close",p.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(m||(m={}));var c;(function(p){p.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",p.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",p.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",p.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",p.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",p.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",p.CANVAS_WINDOW="canvas_window",p.LEAVE_CALL="leave_call",p.CLOSE_MODAL="close_modal",p.EMOJI_PICKER="emoji_picker",p.JUKEBOX_MENU="jukebox_menu",p.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",p.REACTION_BUBBLE="reaction_bubble",p.CHANGE_BACKGROUND_DIALOG="change_background_dialog",p.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",p.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",p.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(c||(c={}));function _(){const p=(0,r.cw)(a.E9),u=(0,s.Z2)(g=>(0,l.$t)(g,{huddleId:p})),h=(0,r.cw)(l.kn,n.bN),E=(0,r.cw)(l.UE,n.bN),A=(0,s.d4)(g=>(0,d.Ec)(g,{huddleId:p})),v=(0,s.d4)(o.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:u.canvas_thread_channel_id,canvasThreadId:u.canvas_thread_id,canvasHuddleSessionId:h.canvas_huddle_session_id,callsRoomId:E.room_id,callsChannelId:E.channel_id,uiPage:A?A.toString():null,fileId:v}),[u.canvas_thread_channel_id,u.canvas_thread_id,h.canvas_huddle_session_id,E.room_id,E.channel_id,A,v])}i(_,"useHuddleClogContext")},4233000497:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d,H:()=>r});var t=e(3134334389),n=e(2562405183),s=e(6470070112),r;(function(o){o.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",o.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",o.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(r||(r={}));function d(o){const a=(0,n.Z2)(l=>o?(0,s.w1)(l,o):{});return(0,t.useMemo)(()=>({callsChannelId:a.channel_id,callsChannelType:a.channel_type,callsNumParticipants:a.num_participants,callsRoomId:a.room_id}),[a.channel_id,a.channel_type,a.num_participants,a.room_id])}i(d,"useHuddlesClogContext")},4385664584:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(8212623464),s=e(5950652755);const r=i(o=>{let{store:a,children:l}=o;const m=(0,t.useMemo)(()=>({...a,subscribe:c=>a.subscribeImmediate((0,s.A)(c,16))}),[a]);return t.createElement(n.Kq,{store:m}," ",l," ")},"BackgroundableProvider");r.displayName="BackgroundableProvider";const d=r},543174729:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T,z:()=>y});var t=e(3134334389),n=e(2562405183),s=e(4394722864),r=e(9548972574),d=e(1766818988),o=e(4742719639),a=e(5795074931),l=e(4775127335),m=e(3622858354),c=e(6470070112),_=e(3534324375),p=e(8701485242),u=e(735940183),h=e(9101533895),E=e(9884588328),A=e(796111729);const v=new u.Ay("huddles"),f=5,g=8,y=i(M=>{let{channelId:O}=M;const I=(0,n.Z2)(R=>(0,r.A7)(R,O,!1)),D=I.length,P=D>f,k=P?I.slice(0,f):I;return D===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},k.map((R,V)=>{const B=V===k.length-1;return t.createElement("div",{key:R,className:"p-huddle_channel_tooltip__avatar_container",style:{width:B?"auto":l.RG.medium-g}},t.createElement(l.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:R,size:l.RG.medium,renderCustomBadge:s.Q,isInteractive:!1,additionalOverlay:P&&B?D-k.length+1:void 0}))}))},"HuddleTooltipAvatarStack");y.displayName="HuddleTooltipAvatarStack";function T(M){let{channelId:O,includeChannelName:I=!1}=M;const D=(0,n.d4)(J=>(0,h.OL)(J,O)),P=(0,n.d4)(J=>{const X=(0,c.Bn)(J,D),q=(0,d.s)(J),G=X||q;return G||(0,A.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${G}, doesChannelSupportHuddles: ${X}, isHuddlesEnabledForSponsoredTeam: ${q}`),G}),k=(0,n.d4)(a.WR),R=(0,n.Z2)(J=>(0,r.ft)(J,O)),V=(0,n.d4)(c.df),B=(0,E.Mn)(D),W=R.length,S=W>f?R.slice(0,f):R,H=(0,n.Z2)(J=>S.map(X=>({id:X.id,name:X.id===k?v.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"a11y"}):(0,_.sE)(J,X)})).sort((X,q)=>X.id===k?1:q.id===k?-1:(0,p.Ay)(X.name,q.name)).map(X=>{let{name:q}=X;return q})),w=(0,n.d4)(J=>(0,o.o)(J,O)),F=(0,t.useMemo)(()=>I?H.length===1?R[0].id===k?v.rt("Just you in the huddle #{channelName}",{fallbackHash:"9c06151657f5f165820e8137ffe359a9f128d6a4",channelName:B}):v.rt("{name} is in the huddle #{channelName}",{name:H[0],fallbackHash:"296abf823386caa202e6d84323121c5454a50ff0",channelName:B}):v.rt("{memberCount} people in the huddle #{channelName}",{memberCount:W,fallbackHash:"d8a4c5ef1bc88840241821fced733296db51cc36",channelName:B}):H.length===1?R[0].id===k?v.rt("Just you in the huddle"):v.rt("{name} is in the huddle",{name:H[0]}):v.rt("{memberCount} people in the huddle",{memberCount:W}),[I,H,W,B,R,k]);let j=w!=null&&w.trim()?t.createElement(m.A,{text:w}):null;return R.length>=V&&(j=v.t("Only {maxParticipants} people can join a huddle",{maxParticipants:V})),P?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(y,{channelId:O}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},j),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},F)):null}i(T,"HuddleChannelTooltip")},9477894139:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,g:()=>l});var t=e(3134334389),n=e(8300007136),s=e(5253428843),r=e(9712681361),d=e(3837503631),o=e(2825968873);const a=(0,o.tZ)("HUDDLE-ERROR");var l;(function(c){c.Huddles="huddles",c.Sidebar="huddles_pro_max-sidebar",c.Flexpane="huddles_pro_max-flexpane",c.CompactWindow="huddles_pro_max-compact_window",c.LargeWindow="huddles_pro_max-large_window",c.WindowFooter="huddles_pro_max-window_footer",c.AlertBanner="huddles_pro_max-alert_banner",c.InviteWindow="huddles_invite_window",c.ControlStripButton="huddles_control_strip_button",c.ChannelHeader="huddles_channel_header",c.Composer="huddles_composer",c.HuddleSpecialReactions="huddle_special_reactions"})(l||(l={}));function m(c){let{children:_,onError:p,isQuiet:u=!0,shouldStopHuddle:h=!1,subtype:E=l.Huddles}=c;const A=(0,n.wA)(),v=(0,t.useCallback)(()=>{h&&A((0,s.A)({terminalState:r.M6.ClientUIError}))},[A,h]),f=(0,t.useCallback)(y=>{a.error(`${E} ${y}`),p?p():v()},[v,p,E]),g=u?d.H:d.A;return t.createElement(g,{subtype:E,onError:f},_)}i(m,"HuddleErrorBoundary")},4695727674:(Q,C,e)=>{"use strict";e.d(C,{A:()=>J});var t=e(3134334389),n=e(8300007136),s=e(462591818),r=e(2562405183),d=e(825587348),o=e(8739505998),a=e(6470070112),l=e(9712681361),m=e(735940183),c=e(5363983309),_=e(9101533895),p=e(9884588328),u=e(5881236351),h=e(5286203919),E=e(3037015781),A=e(2350349607),v=e(3288846409),f=e(5332875232),g=e(3677514771),y=e(6839188756),T=e(6323355797),M=e(7914553163),O=e(4096483543),I=e(6533394955),D=e(3810478625),P=e(2279207117),k=e(8193414630),R=e(3245843483);function V(X,q,G){const ne=(0,I.getStoreInstanceByTeamId)(G);if(!ne)return null;const te=(0,O.A)(),le=(0,D.g)(ne.getState());if(!X||X===M.MX.TrialFetching)return null;const he=(0,P.FK)(X,le);switch(X){case M.MX.TrialIneligible:return{text:he,onClick:()=>{(0,R.Pxz)((0,T.m6)(ne.getState()))}};case M.MX.TrialEligible:return{text:he,onClick:(0,P.w9)(ne.dispatch,q,X)};case M.MX.TrialIneligibleUserCannotUpgrade:return{text:he,onClick:()=>{(0,R.Pxz)((0,P.aD)(X))}};case M.MX.TrialTeam:return{text:he,onClick:()=>{if(te){(0,P.uY)(ne.dispatch)();return}(0,R.Pxz)((0,P.aD)(X))}};case M.MX.TrialExpiry:return{text:he,onClick:()=>{(0,R.Pxz)((0,T.m6)(ne.getState(),{action:T.um.CHECKOUT}))}};default:(0,k.Kh)(X)}}i(V,"freemiumPrimaryCtaAttributes");var B=e(8847766420);const W=new m.Ay("huddles");function L(X){let{closeModal:q}=X;const G=T.zG.Vhq,ne=(0,M.Ay)({promoSubtype:G}),te=(0,r.d4)(B.ZT)||"",le=(0,t.useMemo)(()=>V(ne,G,te),[ne,G,te]),he=(0,t.useCallback)(()=>{le==null||le.onClick(),q==null||q()},[le,q]);return!le||ne!==M.MX.TrialEligible&&ne!==M.MX.TrialIneligible&&ne!==M.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(d.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:q,onCancel:q,onSubmit:he,showCancelButton:!0,cancelButtonText:W.t("Dismiss"),showSubmitButton:!0,title:W.t("Your huddle has ended"),submitButtonText:le.text},W.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}i(L,"HuddleTimeLimitReachedModal"),L.displayName="HuddleTimeLimitReachedModal";const S=new m.Ay("huddles");function H(X){let{errorCode:q,isJoinError:G,closeModal:ne}=X;var te;const le=(0,n.wA)(),he=(te=(0,v.cw)(h.Qn))===null||te===void 0?void 0:te.channelId,fe=(0,r.d4)(f.TM),ve=(0,r.d4)(de=>(0,_.OL)(de,he)),me=(0,r.d4)(de=>(0,E.uz)(ve)?(0,p.SB)(de,ve,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),oe=(0,r.d4)(a.df),N=S.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:oe}),K=(0,t.useCallback)(()=>{le((0,u.RX)())},[le]),x=(0,t.useCallback)(()=>{le((0,u.e$)())},[le]),b=(0,A.V)(ve),z=(0,r.d4)(g.H7),$=i(de=>t.createElement(o.A,{target:"_blank",href:`${(0,y.Zl)(z)}help/requests/new`},de),"renderContactUsLink");if(!(0,r.d4)(a.pl)&&!fe)return null;if(q===l.M6.FreemiumMaxParticipants)return K(),null;const U=(()=>{switch(q){case l.M6.MaxParticipants:return N;case l.M6.AudioJoinedFromAnotherDevice:return S.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case l.M6.ChimeMeetingEnded:return G?S.rt("The Huddle has ended."):b?S.rt("We ended the huddle since you were the only one there for a bit."):S.rt("We ended your huddle since you were the only one there for a bit.");case l.M6.PermissionDenied:return fe?S.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case s.uZ.CallEnded:return S.rt("The Huddle has ended.");case l.M6.DeviceLocked:return S.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,de=>{let{text:ue,tag:_e}=de;return _e==="a"?t.createElement(o.A,{onClick:x},ue):null});case l.M6.FailedStartingRecording:case l.M6.FailedResumingRecording:return S.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case l.M6.FailedStartingRecordingUser:case l.M6.FailedResumingRecordingUser:return S.rt("It looks like not everyone on this huddle has access to this feature just yet.");case l.M6.FailedPausingRecording:return S.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,de=>{let{text:ue,tag:_e}=de;return _e==="a"?$(ue):null});case l.M6.FailedDeletingRecording:return S.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,de=>{let{text:ue,tag:_e}=de;return _e==="a"?$(ue):null});default:return S.rt("You\u2019ll have to go back and give it another try.")}})(),ee=(()=>G?S.t("Can\u2019t join the huddle"):q===l.M6.AudioJoinedFromAnotherDevice?S.t("You\u2019ve joined the huddle on a different device"):q===l.M6.ChimeMeetingEnded&&!G?b?S.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:me}):S.t("You\u2019re no longer in a huddle"):q===l.M6.DeviceLocked?S.t("You\u2019re no longer in a huddle"):q===l.M6.FailedStartingRecording||q===l.M6.FailedStartingRecordingUser?S.rt("Couldn\u2019t start Slack AI notes"):q===l.M6.FailedResumingRecording||q===l.M6.FailedResumingRecordingUser?S.rt("Couldn\u2019t resume Slack AI notes"):q===l.M6.FailedPausingRecording?S.rt("Couldn\u2019t stop Slack AI notes"):q===l.M6.FailedDeletingRecording?S.rt("Couldn\u2019t delete Slack AI notes"):S.t("Something went wrong with your huddle"))(),se=(()=>q===l.M6.AudioInputStreamEnded||q===l.M6.MaxParticipants||q===l.M6.ChimeMeetingEnded&&!G?S.t("Got It"):S.t("OK"))();return t.createElement(d.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:ne,onSubmit:ne,showCancelButton:!1,showSubmitButton:!0,title:ee,submitButtonText:se},U)}i(H,"HuddleErrorModal"),H.displayName="HuddleErrorModal";const w={HuddleErrorModal:H},F="huddle_error_modal";function j(X){switch(X.errorCode){case l.M6.ChimeMeetingEndedFromTimeLimit:return L(X);default:return H(X)}}i(j,"HuddleErrorModalManager");const J=(0,c.A)(j,{modalName:F,allowMultiple:!1,isStackable:!0})},5933621899:(Q,C,e)=>{"use strict";e.d(C,{Wx:()=>w,YM:()=>B});var t=e(2003990933),n=e(3134334389),s=e(8300007136),r=e(735940183),d=e(2562405183),o=e(825587348),a=e(5363983309),l=e(1407713935),m=e(9101533895),c=e(8661826718),_=e(8286248123),p=e(1779488764),u=e.n(p),h=e(7268021173),E=e(3677514771),A=e(6839188756),v=e(8871937520),f=e(6244014364),g=e(4481313819),y=e(7003004874),T=e(6259241484),M=e(4902318931),O=e(2938177083),I=e(1273480023),D=e(3810478625);function P(){return P=Object.assign||function(F){for(var j=1;j<arguments.length;j++){var J=arguments[j];for(var X in J)Object.prototype.hasOwnProperty.call(J,X)&&(F[X]=J[X])}return F},P.apply(this,arguments)}i(P,"_extends");const k=new r.Ay("huddles"),R={elementName:"cancel",onClick:{enableClogAction:!0}},V={elementName:"start-huddle",onClick:{enableClogAction:!0}},B=i(F=>{let{channelId:j,channelType:J,channelMembersCount:X,isTeamOnTrial:q,isFreeTeam:G,trialExpirationTS:ne,handleOnSubmit:te,closeModal:le,UNSAFE_parentSelector:he,isCurrentTeamSponsoredInSlackConnectChannel:fe=!1}=F;const ve=(0,d.d4)(D.g),me=k.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),oe=n.createElement(c.A,{channelId:j});let N,K;switch(q&&!fe?K=f.UiComponentVariant.TRIAL_TEAM:G&&!fe?K=f.UiComponentVariant.FREE_TEAM:K=f.UiComponentVariant.PAID_TEAM,J){case l.Cu.mpim:{const x=i(()=>k.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:X}),"genericCopy");ve?N=x():q?N=k.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,v.Pd)(ne),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):G?N=k.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):N=x();break}case l.Cu.im:N=k.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const x=i(()=>k.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:X,channelName:oe}),"genericCopy");ve||fe?N=x():q?N=k.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:oe,trialEndDate:(0,v.Pd)(ne)}):G?N=k.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:oe}):N=x()}}return n.createElement(g.A,{uiComponentName:f.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:f.EventId.CANVAS_EVENT,uiComponentVariant:K},n.createElement(o.A,{onClose:le,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:k.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:me,onSubmit:te,submitAutoClogProps:V,onCancel:le,cancelAutoClogProps:R,headerImageSrc:u(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:k.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:he},n.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},N)))},"BaseHuddleInThreadSpeedBumpModalBase");B.displayName="BaseHuddleInThreadSpeedBumpModalBase";const W=i(F=>{let{channelId:j,onConfirm:J,closeModal:X}=F;const q=(0,s.wA)(),G=(0,d.d4)(N=>(0,m.OL)(N,j)),ne=(0,l.mz)(G),te=(0,d.d4)(N=>(0,_.q8)(N,j)),le=(0,t.A)(te,"counts.member_count")||0,he=(0,A.tc)((0,d.d4)(E.H7)),fe=(0,d.d4)(h.iH),ve=(0,d.d4)(h.Sk),me=(0,d.d4)(N=>(0,I.u)(N,G));(0,n.useEffect)(()=>(q((0,y.A)({notificationName:T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:T.hw.IMPRESSION})),()=>{q((0,O.A)({spaceName:T.xu.LAUNCH_MODAL,action:T.hw.DISMISS}))}),[q]);const oe=(0,n.useCallback)(()=>{J(),X==null||X()},[X,J]);return n.createElement(B,{channelType:ne,channelMembersCount:le,isFreeTeam:he,isTeamOnTrial:fe,trialExpirationTS:ve,handleOnSubmit:oe,channelId:j,onConfirm:J,closeModal:X,isCurrentTeamSponsoredInSlackConnectChannel:me})},"HuddleInThreadSpeedBumpModalBase");W.displayName="HuddleInThreadSpeedBumpModalBase";const L={spaceName:T.xu.LAUNCH_MODAL,notifications:{[T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:W}}},S=i(F=>{let{channelId:j,onConfirm:J,closeModal:X}=F;return n.createElement(M.Ay,P({},L,{channelId:j,onConfirm:J,closeModal:X}))},"HuddleInThreadSpeedBumpModal");S.displayName="HuddleInThreadSpeedBumpModal";var H=null;const w=(0,a.A)(S)},7843142872:(Q,C,e)=>{"use strict";e.d(C,{D7:()=>_,Lk:()=>h,Vp:()=>E,g6:()=>u});var t=e(3134334389),n=e(1031947056),s=e(6533394955),r=e(4423055085),d=e(8300007136),o=e(2562405183),a=e(5492559860),l=e(9719951405),m=e(2832209848);let c=1;const _=i((A,v)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:f=!1,component:g=m.G7.HuddleCallNudgesBanner}=v;if(!f||!(0,l.kI)(A,g,m.X8.Click)&&!(0,l.kI)(A,g,m.X8.Dismiss))return!1;var y;const T=(y=(0,l.ky)(A,g,m.X8.Click))!==null&&y!==void 0?y:0;var M;const O=(M=(0,l.ky)(A,g,m.X8.Dismiss))!==null&&M!==void 0?M:0;return!(T>=c||O>=c)},"shouldShowHuddleDiscoveryBanner"),p=i(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:A=!1,component:v=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const f=useDispatch();useEffect(()=>{A&&f(loadUserInteractions({interactions:[{component:v,type:InteractionType.Click},{component:v,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[f,A,v])},"useHuddleDiscoveryCallsUserInteractions"),u=(0,n.Ay)("Send interaction to dismiss nudge",(A,v,f)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:g,interactionType:y}=f;if(!g)return;const T=v();(0,l.ky)(T,m.G7.HuddleCallNudgesBanner,y)>c||A((0,a.z)({component:m.G7.HuddleCallNudgesBanner,type:y,reason:"huddle-discovery-calls"}))});u.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const h=i(A=>{let{component:v,type:f}=A;const g=(0,d.wA)();return(0,t.useEffect)(()=>{g((0,a.b)({interactions:[{component:v,type:f}],reason:v}))},[g,v,f]),(0,o.d4)(y=>(0,l.kI)(y,v,f)?(0,l.PU)(y,v):null)},"useTrialProBannerInteraction"),E=(0,n.Ay)("Record trial pro banner interaction",(A,v,f)=>{let{component:g,type:y}=f;return A((0,a.z)({component:g,type:y,reason:g}))});E.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,r.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:A=>{const v=(0,s.getStateByTeamId)(A);c=(0,l.ky)(v,m.G7.HuddleCallNudgesBanner,m.X8.Click)+1},addOneMoreThanDismissCount:A=>{const v=(0,s.getStateByTeamId)(A);c=(0,l.ky)(v,m.G7.HuddleCallNudgesBanner,m.X8.Dismiss)+1}})},8330768070:(Q,C,e)=>{"use strict";e.d(C,{G$:()=>P,Oe:()=>B,Y6:()=>R});var t=e(3134334389),n=e(8300007136),s=e(3037015781),r=e(2562405183),d=e(8661826718),o=e(6496493732),a=e(7138682671),l=e(3989454579),m=e(4481313819),c=e(1407713935),_=e(5363983309),p=e(5795074931),u=e(9101533895),h=e(8286248123),E=e(9884588328),A=e(8798294025),v=e(8921478798),f=e(6244014364),g=e(735940183),y=e(387484329),T=e(2047021170);function M(){return M=Object.assign||function(W){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var H in S)Object.prototype.hasOwnProperty.call(S,H)&&(W[H]=S[H])}return W},M.apply(this,arguments)}i(M,"_extends");const O=new g.Ay("huddles"),I={elementName:"huddles_confirmation_dialog_ok",eventId:f.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},D={elementName:"huddles_confirmation_dialog_cancel",eventId:f.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},P=i(W=>{let{children:L,closeModal:S,onConfirm:H,uiComponentName:w,...F}=W;const j=(0,t.useCallback)(()=>{H(),S==null||S()},[S,H]);return t.createElement(m.A,{uiComponentName:w,eventId:f.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(o.A,M({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:S,onClose:S,onSubmit:j,submitButtonText:O.t("OK"),submitAutoClogProps:I,cancelAutoClogProps:D},F),L))},"HuddleJoinModal");P.displayName="HuddleJoinModal";const k=i(W=>{let{prevChannelId:L,nextChannelId:S,onConfirm:H,closeModal:w}=W;const F=(0,r.d4)(ne=>(0,u.OL)(ne,L)),j=(0,r.Z2)(ne=>{if(!F)return[];let te=[];if((0,c.LI)(F))te=[(0,A.e)(F)];else if((0,c.yz)(F)){const le=(0,E.Ug)(F);if(le&&le.length){const he=(0,p.WR)(ne);te=le.filter(fe=>fe!==he)}}return te.map(le=>(0,v.I)(ne,le))}),J=(0,r.d4)(ne=>(0,u.OL)(ne,S)),X=(0,r.Z2)(ne=>{if(!J)return[];let te=[];if((0,c.LI)(J))te=[(0,A.e)(J)];else if((0,c.yz)(J)){const le=(0,E.Ug)(J);if(le&&le.length){const he=(0,p.WR)(ne);te=le.filter(fe=>fe!==he)}}return te.map(le=>(0,v.I)(ne,le))});let q=O.rt("You\u2019re already in a huddle.");j.length?q=O.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,g.jd)(j).join("")}):F&&(0,s.uz)(F)&&(q=O.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(d.A,{channel:F,channelId:L})}));let G=O.rt("Would you like to leave it and join this one instead?");return X.length?G=O.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,g.jd)(X).join(""))}):J&&(0,s.uz)(J)&&(G=O.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(d.A,{channel:J,channelId:S}))})),t.createElement(P,{uiComponentName:f.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:O.t("Switch to this huddle?"),onConfirm:H,closeModal:w},t.createElement("p",null,q," ",G))},"HuddleSwitchModal");k.displayName="HuddleSwitchModal";const R=(0,_.A)(k),V=i(W=>{let{channelId:L,onConfirm:S,closeModal:H}=W;const w=(0,r.d4)(he=>(0,u.OL)(he,L));var F;const j=(0,r.d4)(he=>{var fe,ve;return(F=(fe=(0,h.q8)(he,L))===null||fe===void 0||(ve=fe.counts)===null||ve===void 0?void 0:ve.member_count)!==null&&F!==void 0?F:0}),J=(0,r.d4)(he=>(0,T.ty)(he,"huddles_show_shouty_rooster")),[X,q]=(0,t.useState)(J),G=(0,n.wA)(),ne=w&&(0,s.uz)(w)&&t.createElement("strong",null,t.createElement(d.A,{channelId:L,channel:w})),te=j>1?O.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,j),channel:ne}):O.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:ne}),le=(0,t.useCallback)(()=>{const he=!X;q(he),G((0,y.AZ)({pref:"huddles_show_shouty_rooster",value:he}))},[X,G]);return t.createElement(P,{uiComponentName:f.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:O.t("Start a huddle in this channel?"),onConfirm:S,closeModal:H},t.createElement("p",null,te),t.createElement(a.A,{text:O.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(l.A,{name:"ns",checked:!X,onChange:le,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");V.displayName="HuddleShoutyRoosterModal";const B=(0,_.A)(V)},3143500799:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490);const s=t.memo(a=>{let{className:l,iconClassName:m,allowMuteAnimation:c,wasMicEverEnabled:_,isMicStrikethroughRed:p}=a;return t.createElement("div",{className:(0,n.A)("p-huddle_mic_icon p-huddle_mic_icon__container",l),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:m,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:(0,n.A)({"p-huddle_mic_icon__microphone--slash_animated":c&&_,"p-huddle_mic_icon__microphone--slash":p}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),r=t.memo(a=>{let{volumeLevel:l=0,className:m,iconClassName:c}=a;const[_,p]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(l!=="auto"){p(Math.min(1,l||0));return}const u=setInterval(()=>{const h=(Math.floor(Math.random()*100)+1)/100;p(h)},100);return()=>{clearInterval(u)}},[l]),t.createElement("div",{className:(0,n.A)("p-huddle_mic_icon p-huddle_mic_icon__container",m),"data-qa":"huddle_mic_icon_mute"},t.createElement("svg",{className:c,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${_})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),d=i(a=>{let{type:l,volumeLevel:m,className:c,iconClassName:_,allowMuteAnimation:p=!1,isMicStrikethroughRed:u=!1}=a;const[h,E]=(0,t.useState)(l==="unmuted");return(0,t.useEffect)(()=>{l==="unmuted"&&E(!0)},[l]),l==="unmuted"?t.createElement(r,{className:c,iconClassName:_,volumeLevel:m}):t.createElement(s,{className:c,iconClassName:_,allowMuteAnimation:p,wasMicEverEnabled:h,isMicStrikethroughRed:u})},"HuddleMicIcon");d.displayName="HuddleMicIcon";const o=t.memo(d)},5043394918:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(7715417323),s=e(1829947126),r=e(1337358413),d=e(3143500799);function o(a){let{peerId:l,isMicrophoneEnabled:m,className:c,allowMuteIconAnimation:_=!1,isMicStrikethroughRed:p=!1}=a;const[u,h]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!m)return n.A;const E=i(A=>{const v=(0,r.Ft)(A);h(v)},"onLevelUpdated");return s.A.subscribe(l,E),()=>{s.A.unsubscribe(l,E)}},[l,m]),t.createElement(d.A,{type:m?"unmuted":"muted",volumeLevel:u,className:c||"",allowMuteAnimation:_,isMicStrikethroughRed:p})}i(o,"HuddleMicVolumeIndicator")},438845125:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(444524526);function s(d){let{slackId:o,displayName:a}=d;return!o&&!a?null:o?t.createElement(n.A,{isBold:!1,id:o}):t.createElement("span",null,a)}i(s,"HuddleMsgTextUser"),s.displayName="HuddleMsgTextUser";const r=s},1051015021:(Q,C,e)=>{"use strict";e.d(C,{V:()=>E});var t=e(3134334389),n=e(7433432223),s=e(9548972574),r=e(2562405183),d=e(735940183),o=e(5255740490),a=e(7914553163),l=e(6005700845),m=e(6323355797),c=e(7949425452),_=e(3810478625),p=e(7573583373),u=e.n(p);const h=new d.Ay("huddles");function E(A){let{showProBadge:v,className:f}=A;const g=(0,r.d4)(s.qr),y=(0,r.d4)(_.g),T=m.zG.Vhq,M=(0,a.Ay)({promoSubtype:T}),O=(0,t.useMemo)(()=>t.createElement(l.A,{useLink:!0,variant:M,promoSubtype:m.zG.Vhq,ctaClassName:u().cta}),[M]);return!g||!y||M!==a.MX.TrialEligible&&M!==a.MX.TrialIneligible&&M!==a.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:(0,o.A)(u().container,f)},t.createElement(n.A,null,t.createElement("div",{className:u().alertBanner},v&&t.createElement(c.Ay,{size:c.vj.Medium,className:u().proBadge}),t.createElement("span",null,h.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",O))))}i(E,"HuddleTimeLimitUpgradeAlert"),E.displayName="HuddleTimeLimitUpgradeAlert"},8320929653:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>b,e3:()=>oe,lc:()=>N});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(5255740490),d=e(8300007136),o=e(2562405183),a=e(3288846409),l=e(1149563359),m=e(3037015781),c=e(9012396182),_=e(1289024643),p=e(5795074931),u=e(9101533895),h=e(5286203919),E=e(8746998952),A=e(9712681361),v=e(4742719639),f=e(5332875232),g=e(6251210828),y=e(2802517438),T=e(4481313819),M=e(3622858354),O=e(4233000497),I=e(6749400491),D=e(9373230523),P=e(1407713935),k=e(8798294025),R=e(9884588328),V=e(6470070112),B=e(8683010724),W=e(3708320478),L=e(4775127335),S=e(2683115972),H=e(3165300465),w=e(8661826718),F=e(2527782504),j=e(4275787242),J=e(735940183),X=e(6244014364),q=e(8869383561),G=e(5519146941),ne=e(3193155968),te=e(7429662208);function le(){return le=Object.assign||function(z){for(var $=1;$<arguments.length;$++){var Z=arguments[$];for(var U in Z)Object.prototype.hasOwnProperty.call(Z,U)&&(z[U]=Z[U])}return z},le.apply(this,arguments)}i(le,"_extends");const he=new J.Ay("huddles"),fe={elementName:"huddles_invite_decline",eventId:X.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ve={elementName:"huddles_invite_joining_soon",eventId:X.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},me={elementName:"huddles_invite_join",eventId:X.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},oe=i(z=>{let{topic:$,formattedTopic:Z,channel:U,channelName:ee,otherMemberNamesString:se,imMemberName:de,experimentHuddlesLaterGroupOn:ue}=z;if(!ue)return s.createElement(s.Fragment,null);let _e=$?he.rt("Join the scheduled huddle about {topic}",{topic:Z}):he.rt("Join the scheduled huddle");return(0,P.LI)(U)&&de?_e=$?he.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:Z,imMemberName:de}):he.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:de}):(0,P.yz)(U)?_e=$?he.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:Z,otherMemberNamesString:se}):he.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:se}):(0,m.uz)(U)&&!(0,P.LI)(U)&&(_e=$?he.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:Z,channelName:ee}):he.rt("Join the scheduled huddle in {channelName}",{channelName:ee})),_e},"getScheduledHuddleInviteCopy");function N(z){let{channelId:$,senderUserId:Z,callId:U,teamId:ee,isInviter:se}=z;const de=(0,d.wA)(),{shouldUseNavigate:ue,activeTab:_e}=(0,s.useContext)(G.A),pe=(0,o.d4)(f.MJ),ae=(0,o.d4)(p.WR),Ee=(0,o.d4)(Rt=>(0,D.A)(Rt,Z)),Le=(0,o.d4)(Rt=>(0,u.OL)(Rt,$)),ye=(0,o.d4)(Rt=>{if(!Le||!pe||!(0,P.LI)(Le))return;const yt=(0,k.e)(Le);if(yt)return(0,D.A)(Rt,yt)}),Te=(0,o.Z2)(Rt=>(0,P.yz)(Le)?((0,R.Ug)(Le)||[]).filter(Mt=>Mt!==Z&&Mt!==ae).map(Mt=>(0,D.A)(Rt,Mt)).filter(Mt=>Mt):[]),Ae=(0,a.cw)(h.vO),Ie=(0,V.eu)(Ae),Be=(0,o.d4)(Rt=>(0,_.Ck)(Rt,U,ae))==="joining_soon",we=(0,o.d4)(Rt=>(0,_.H6)(Rt,U));var re;const ge=(re=we==null?void 0:we.isScheduled)!==null&&re!==void 0?re:!1,De=(0,o.d4)(y.A),be=(0,o.d4)(Rt=>{if(ue){var yt;return(yt=(0,te.F8)(Rt,{tab:_e,container:ne.mq.Primary}))===null||yt===void 0?void 0:yt.id}return De}),xe=(0,a.cw)(c.getFocusedWorkspace),Re=$===be&&xe&&ee&&xe===ee,je=(0,s.useCallback)(()=>{de((0,I.A)({callId:U,channelId:$,inviteResponse:I.J.DECLINE}))},[U,$,de]),[Ge,Qe]=(0,s.useState)(!1),[Xe,et]=(0,s.useState)(!1),rt=(0,s.useCallback)(()=>{(function(){var yt=(0,t.coroutine)(function*(){et(!0),Qe(!1);const Mt=de((0,I.A)({callId:U,channelId:$,inviteResponse:I.J.JOINING_SOON}));if(Mt)try{yield Mt}catch{Qe(!0)}finally{et(!1)}else et(!1)});return i(function(){return yt.apply(this,arguments)},"respondToInvite")})()()},[U,$,de]),it=(0,s.useCallback)(()=>{de((0,E.A)({channelId:$,callId:U,entryPoint:A.su.SIDEBAR_HUDDLE_INVITE}))},[$,U,de]),lt=(0,o.d4)(Rt=>$&&(0,v.o)(Rt,$))||"",ot=lt?s.createElement("span",{className:"p-huddle_invite__topic"},s.createElement(M.A,{text:lt})):null,Et=s.createElement("span",{className:"p-huddle_invite__sender_name"},Ee);let At;if(ge){const Rt=s.createElement(w.A,{channelId:$,boldIcon:!0});At=oe({topic:lt,formattedTopic:ot,channel:Le,channelName:Rt,experimentHuddlesLaterGroupOn:!0})}else if((0,P.LI)(Le))se?At=oe({topic:lt,formattedTopic:ot,channel:Le,imMemberName:ye,experimentHuddlesLaterGroupOn:pe}):At=he.rt("Join huddle with {senderName}",{senderName:Et});else if((0,P.yz)(Le)){const Rt=(0,q.A)(Te,{react:!0}).join("");if(se)At=oe({topic:lt,formattedTopic:ot,channel:Le,otherMemberNamesString:Rt,experimentHuddlesLaterGroupOn:pe});else{const yt=(0,q.A)([Ee].concat(Te),{react:!0}).join(""),Mt=s.createElement("span",{className:"p-huddle_invite__all_member_names"},yt);At=he.rt("Join huddle with {allMemberNames}",{allMemberNames:Mt})}}else{const Rt=s.createElement(w.A,{channelId:$,boldIcon:!0});se?At=oe({topic:lt,formattedTopic:ot,channel:Le,channelName:Rt,experimentHuddlesLaterGroupOn:pe}):Re?At=he.rt("{senderName} is inviting you to a huddle in this channel",{senderName:Et}):At=he.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:Et,channelName:Rt})}return{avatarOverflowBadgeCount:(0,P.yz)(Le)?Te.length+1:0,didRespondingToInviteFail:Ge,formattedTopic:ot,handleDecline:je,handleJoiningSoon:rt,handleJoin:it,inviteText:At,isCurrentUserJoiningSoon:Be,isJoiningSoonResponsePending:Xe,isLoading:Ie}}i(N,"useHuddleInviteProps"),N.displayName="useHuddleInviteProps";const K={name:"warning"},x=i(z=>{let{channelId:$,senderUserId:Z,callId:U,teamId:ee}=z;const se=(0,o.d4)(f.MJ),de=(0,o.d4)(p.WR),ue=se&&de===Z,_e=(0,O.A)($),{avatarOverflowBadgeCount:pe,didRespondingToInviteFail:ae,formattedTopic:Ee,handleDecline:Le,handleJoiningSoon:ye,handleJoin:Te,inviteText:Ae,isCurrentUserJoiningSoon:Ie,isJoiningSoonResponsePending:Ue,isLoading:Be}=N({channelId:$,senderUserId:Z,callId:U,teamId:ee,isInviter:ue}),we=(0,s.useRef)(null),re=(0,s.useCallback)(()=>{var et;(et=we.current)===null||et===void 0||et.focus()},[]);(0,l.A)(F.Ay.HUDDLE_INVITE_JOIN,re);const ge="huddle-invite-text",De=s.createElement(S.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:Le,"data-qa":"huddle_invite_declined",disabled:Be,autoClogProps:fe},s.createElement("span",{className:"p-huddle_invite__label"},he.t("Decline"))),be=s.createElement(H.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Ue,onClick:ye,disabled:Be,autoClogProps:ve},s.createElement("span",{className:"p-huddle_invite__label"},he.t("Be there soon"))),[xe,Re]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let et=0;return Ie&&(Re(!0),et=window.setTimeout(()=>{Re(!1)},6e3)),()=>{et&&clearTimeout(et)}},[Ie]);const je=xe?s.createElement("div",{className:"p-huddle_invite__header_notif"},s.createElement("div",{className:"p-huddle_invite__header_notif_content"},s.createElement(B.A,{name:"clock",size:"20"}),s.createElement("span",{className:"margin_left_50"},he.t("Join when you\u2019re ready!")))):null,Ge=s.createElement(H.A,{ref:we,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:Be,onClick:Te,"data-qa":"huddle_invite_join",autoClogProps:me},s.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},he.t("Join"))),Qe=(0,o.d4)(g.jI),Xe=Qe?{width:Qe}:null;return s.createElement(T.A,le({eventId:X.EventId.CANVAS_EVENT,uiComponentName:X.UiComponentName.HUDDLES_INVITE,clogImpression:!0},_e),s.createElement("div",le({className:(0,r.A)("p-huddle_invite",{"p-huddle_invite--with_header":!!Ee})},Xe&&{style:Xe}),s.createElement("div",{className:"p-huddle_invite__content"},je,Ee&&s.createElement("div",{className:"p-huddle_invite__message_header"},Ee),s.createElement("div",{className:"p-huddle_invite__message"},!ue&&s.createElement("div",{className:(0,r.A)("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!pe})},s.createElement(L.Ay,{key:Z,className:"p-huddle_invite__avatar",size:pe?14:20,userId:Z,isInteractive:!1}),!!pe&&s.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},pe)),s.createElement(W.z,null,s.createElement("div",{className:"p-huddle_invite__text",id:ge},Ae,s.createElement("span",{className:"offscreen"},he.rt("Press {key} to join",{key:(0,V.$z)(),fallbackHash:"bd062cb22cea3388535c0f834ebf6df702757691",fallbackHashNs:"keyboard_keys"}))))),s.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":ge},Ge,!Ie&&be,De)),ae&&s.createElement(j.A,{svgIconProps:K},he.t("Something went wrong responding to the invite."))))},"HuddleInvite");x.displayName="HuddleInvite";const b=x},6749400491:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,J:()=>a});var t=e(1031947056),n=e(6533394955),s=e(4250409994),r=e(1070786785),d=e(5319025363),o=e(5170073955),a;(function(c){c.ACCEPT="accept",c.DECLINE="decline",c.JOINING_SOON="joining_soon"})(a||(a={}));const l=(0,t.Ay)("Respond to an invitation to a huddle",(c,_,p)=>{let{channelId:u,inviteResponse:h,callId:E}=p;c((0,d.z)());let A;return h!==a.ACCEPT&&(A=c((0,o.Q)({response:h,channelId:u,roomId:E,reason:"respond-to-huddle-invite"}))),h===a.DECLINE&&((0,n.dispatchForClientStore)((0,s.u8)(u)),c((0,r.V3)(u))),A});l.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const m=l},4983989341:(Q,C,e)=>{"use strict";e.d(C,{x:()=>a});var t=e(6422693406),n=e(1031947056),s=e(1070786785),r=e(1452921056),d=e(9712681361),o=e(7631186994);const a=(0,n.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(l,m,c)=>{let{channelId:_,memberIds:p}=c;return l((0,o.r)({memberIds:p})).then(u=>{l((0,s.Ay)(_)),l((0,r.A)({channelId:u.id,entryPoint:d.su.CREATE_NEW_MPIM}))}).catch(u=>t.S.reject(u))});a.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},5907086961:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(3134334389),n=e(6084388622),s=e(8300007136),r=e(9003400431),d=e(2562405183),o=e(2527994834),a=e(4761125736),l=e(3288846409),m=e(7076189804),c=e(581167618),_=e(980293773),p=e(9101533895),u=e(5286203919),h=e(735940183),E=e(4446301238),A=e(8661826718),v=e(5363983309),f=e(7868634217),g=e(4061200313),y=e(9183417278),T=e(1612857492),M=e(9892470785),O=e(8847766420);const I=new h.Ay("huddles"),D=i(W=>{let{numOfExternalMembers:L,members:S}=W;const H=(0,d.d4)(O.Kc),w=(0,l.cw)(u.hc)||"",F=(0,d.d4)(b=>(0,p.OL)(b,w)),j=(0,d.d4)(b=>(0,a._Z)(b,"invite_to_channel_permission")==="on"),J=(0,d.d4)(b=>(0,y.Q)(b,F)),X=(0,d.d4)(b=>(0,T.q)(b,F)),q=L===S.length,G=L>0,ne=!L,te=S.length-L>0,le=!(S.length-L),he=I.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),fe=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:H}),channelName:t.createElement(A.A,{className:"bold",channel:F})})),t.createElement("p",null,I.t("You don\u2019t have permission to add external people to this channel."))),ve=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:H}),channelName:t.createElement(A.A,{className:"bold",channel:F})}))),me=I.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(M.A,{id:H})}),oe=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:H}),channelName:t.createElement(A.A,{className:"bold",channel:F})})),t.createElement("p",null,I.t("You don\u2019t have permission to add internal people to this channel."))),N=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:H}),channelName:t.createElement(A.A,{className:"bold",channel:F})}))),K=I.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),x=I.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(A.A,{className:"bold",channel:F})});switch(!0){case(!j&&!X&&q):return he;case(!j&&!X&&G):return fe;case(!j&&!X&&ne):return ve;case(!j&&X):return x;case(j&&J&&!X&&q):return he;case(j&&J&&!X&&G):return fe;case(j&&J&&!X&&ne):return ve;case(j&&!J&&X&&ne):return me;case(j&&!J&&X&&te):return oe;case(j&&!J&&X&&le):return N;case(j&&!J&&!X):return K;default:return x}},"DisallowedHuddleInviteSubtitle");D.displayName="DisallowedHuddleInviteSubtitle";const P=D,k=new h.Ay("huddles");function R(W){let{members:L}=W;const S=(0,s.wA)(),[H,w]=(0,t.useState)(null),[F,j]=(0,t.useState)([]),[J,X]=(0,t.useState)(!1),q=(0,l.cw)(u.hc)||"",G=(0,d.d4)(ue=>(0,p.OL)(ue,q)),ne=(0,t.useCallback)(()=>S((0,r.O)()),[S]),te=(0,t.useCallback)(()=>S((0,r.O)({closeAll:!0})),[S]),le=(0,t.useCallback)(ue=>{w(ue),S((0,E.Cw)({channelId:q,users:ue})).then(()=>{F.push(ue),j(F),w(null)}).catch(()=>{w(null),X(!0)})},[q,S,F]),he=(0,d.d4)(ue=>(0,a._Z)(ue,"invite_to_channel_permission")==="on"),fe=(0,d.d4)(ue=>(0,a._Z)(ue,"shared_channel_invite_requested_event_ga")==="on"),ve=(0,d.d4)(ue=>(0,o.Q)(ue,"shared_channel_invite_requested",G.id)&&fe),me=(0,d.d4)(ue=>(0,f.Z)(ue,L)),oe=(0,t.useMemo)(()=>({addedToChannel:k.t("Added to channel"),notInChannel:k.t("Not in channel"),inviteRequestPending:fe?k.t("Invitation request pending approval"):"",added:k.t("Added"),pending:fe?k.t("Pending"):"",inviteToChannel:k.t("Invite to channel"),cantBeInvitedToChannel:k.t("Can\u2019t be invited to channel")}),[fe]),N=(0,d.d4)(ue=>(0,y.Q)(ue,G)),K=(0,d.d4)(ue=>(0,T.q)(ue,G)),x=(0,d.Z2)(ue=>L.filter(_e=>(0,g.i)(ue,_e))),b=x.length,z=!he&&!K,$=he&&N&&!K,Z=b===L.length,U=!b,ee=(0,t.useMemo)(()=>k.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:L.length,channelName:t.createElement(A.A,{channel:G})}),[G,L]),se=(0,t.useCallback)(ue=>ue&&ve?oe.inviteRequestPending:ue?oe.addedToChannel:oe.notInChannel,[ve,oe.addedToChannel,oe.inviteRequestPending,oe.notInChannel]),de=(0,t.useCallback)((ue,_e)=>{let pe;switch(_e&&ve?pe=oe.pending:pe=_e?oe.added:oe.inviteToChannel,!0){case((z||$)&&Z):return null;case((z||$)&&x.includes(ue)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},oe.cantBeInvitedToChannel);case(he&&!N&&K&&U):return null;case(he&&!N&&K&&!x.includes(ue)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},oe.cantBeInvitedToChannel);case(he&&!N&&!K):return null;default:return t.createElement(n.lV,{type:"outline",size:"small",disabled:_e,loading:H===ue,onClick:()=>le(ue)},pe)}},[ve,oe.pending,oe.added,oe.inviteToChannel,oe.cantBeInvitedToChannel,z,$,Z,x,he,N,K,U,H,le]);return t.createElement(_.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:ne,contentLabel:ee,shouldReturnFocusAfterClose:!0},t.createElement(_.rQ,null,t.createElement(_.Rc,{title:ee}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(P,{numOfExternalMembers:b,members:L}))),t.createElement(_.$m,null,t.createElement(_.qf,null,J&&t.createElement(c.Ay,{className:"margin_bottom_150",level:c.A_.error,type:c.QE.inline},k.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),me.map(ue=>{const _e=F.includes(ue);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:ue},t.createElement(m.Ay,{id:ue,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},se(_e))}),de(ue,_e))}))),t.createElement(_.jl,null,t.createElement(_.ox,null,t.createElement(n.Ay,{onClick:te,type:"primary"},he&&!N||!K?k.t("OK"):k.t("Done")))))}i(R,"HuddleInviteAddToChannel"),R.displayName="HuddleInviteAddToChannel";const V={HuddleInviteAddToChannel:R},B=(0,v.A)(R,{isStackable:!0})},5911067953:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ge});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(235108050),d=e(4775127335),o=e(6084388622),a=e(581167618),l=e(444524526),m=e(1563996154),c=e(2562405183),_=e(7937864072),p=e(2689960678),u=e(980293773),h=e(3339229351),E=e(5795074931),A=e(5332875232),v=e(6470070112),f=e(7631186994),g=e(735940183),y=e(3730613858),T=e(666760496),M=e(1407713935),O=e(8746998952),I=e(9712681361),D=e(4481313819),P=e(6244014364),k=e(7268021173),R=e(3677514771),V=e(6839188756),B=e(9548972574),W=e(716227588),L=e(1743656885),S=e(6259241484),H=e(9953252450),w=e(3288846409),F=e(9101533895),j=e(5286203919),J=e(8661826718),X=e(3534324375),q=e(8276911661),G=e(7576317051),ne=e(2823938397);function te(Qe){let{memberId:Xe}=Qe;const et=(0,c.d4)(it=>(0,q.nv)(it,Xe)),rt=(0,c.d4)(it=>(0,X.sE)(it,et,!1,!1));return(0,ne.mX)(et)?n.createElement(G.A,{type:"unknown"}):(0,ne.lv)(et)?n.createElement(G.A,{type:"non-existent"}):n.createElement("span",null,rt)}i(te,"DeprecatedHuddleName"),te.displayName="DeprecatedHuddleName";const le=new g.Ay("huddles");function he(Qe){let{unknownMemberIds:Xe}=Qe;const et=(0,w.cw)(j.hc),rt=(0,c.d4)(ot=>(0,F.OL)(ot,et)),it=(0,n.useMemo)(()=>et?Xe:[],[et,Xe]);let lt;if(it.length===1)lt=le.rt("{name1} is not a member of {channel}.",{name1:n.createElement(te,{memberId:it[0]}),channel:n.createElement(J.A,{channel:rt})});else if(it.length===2)lt=le.rt("{name1} and {name2} are not a member of {channel}.",{name1:n.createElement(te,{memberId:it[0]}),name2:n.createElement(te,{memberId:it[1]}),channel:n.createElement(J.A,{channel:rt})});else if(it.length===3)lt=le.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:n.createElement(te,{memberId:it[0]}),name2:n.createElement(te,{memberId:it[1]}),name3:n.createElement(te,{memberId:it[2]}),channel:n.createElement(J.A,{channel:rt})});else if(it.length>3){const[ot,Et,At,...Ot]=it,Rt=Ot.map(yt=>n.createElement(te,{key:yt,memberId:yt}));lt=le.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:n.createElement(te,{memberId:ot}),name2:n.createElement(te,{memberId:Et}),name3:n.createElement(te,{memberId:At}),channel:n.createElement(J.A,{channel:rt}),numOthers:it.length-3},yt=>{let{text:Mt}=yt;return n.createElement(m.Ay,{tip:(0,g.jd)(Rt,{noEscape:!0})},n.createElement("span",null,Mt))})}return n.createElement("small",null,lt)}i(he,"HuddleInviteNotAMember"),he.displayName="HuddleInviteNotAMember";const fe=he;var ve=e(5907086961),me=e(7396657731),oe=e(9236164662),N=e(9645800439),K=e(6011052675),x=e(3109955471),b=e(5103024697),z=e(4822627003),$=e(5103164797),Z=e(3214129289),U=e(9163492386),ee=e(6007206761),se=e(8170643398),de=e(4562579337),ue=e(8040098042),_e=e(181849556);const pe=new g.Ay("huddles");var ae;(function(Qe){Qe.CHANNEL="channel",Qe.PEOPLE="people"})(ae||(ae={}));const Ee=i(Qe=>{let{isFreeTeam:Xe,onSuggestedChannelSelected:et,onSuggestedUserSelected:rt,selectedChannelId:it,selectedMemberIds:lt}=Qe;const ot=(0,c.d4)(E.WR),Et=(0,c.wz)(_e.b5),At=(0,c.wz)(_e.mc),Ot=(0,c.wz)(Dt=>{if(!Et)return[];if(lt.length)return[];const hn=[];return Et.forEach(yn=>{if(yn.id===it)return;const ht=(0,F.OL)(Dt,yn.id);(0,ee.F)(ht)||hn.push(yn)}),hn}),Rt=(0,n.useMemo)(()=>Ot.map(Dt=>Dt.id),[Ot]),yt=(0,c.wz)(Dt=>{if(!At)return[];if(it)return[];const hn=[];return At.forEach(yn=>{if(yn.id===ot||lt.includes(yn.id))return;const ht=(0,q.nv)(Dt,yn.id);(0,de.A)(ht)||(0,se.oy)(ht)||hn.push(yn)}),hn}),Mt=(0,n.useMemo)(()=>yt.map(Dt=>Dt.id),[yt]),en=(0,n.useMemo)(()=>{const yn=Mt.length*60,ht=32,Bt=Rt.length*ht;return Math.min(Math.max(yn,Bt),240)},[Rt,Mt]),Tt=(0,n.useCallback)(Dt=>{if(!Dt.id)return;(0,ue.A)(Dt.id)?et(Dt.id):rt(Dt.id)},[et,rt]),xt=(0,n.useCallback)(Dt=>{const hn=Ot[Dt];if(hn)return n.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},n.createElement($.A,{channelId:hn.id}))},[Ot]),bt=(0,n.useCallback)(()=>n.createElement(b.A,{disableHeight:!0},Dt=>{let{width:hn}=Dt;return n.createElement(U.A,{"aria-label":pe.t("Channel"),keys:Rt,rowRenderer:xt,onItemClick:Tt,width:hn,height:en})}),[Tt,xt,Rt,en]),nn=(0,n.useCallback)(Dt=>{const hn=yt[Dt];if(hn)return n.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},n.createElement(z.A,{id:hn.id}))},[yt]),dn=(0,n.useCallback)(()=>n.createElement(b.A,{disableHeight:!0},Dt=>{let{width:hn}=Dt;return n.createElement(U.A,{"aria-label":pe.t("People"),keys:Mt,rowRenderer:nn,onItemClick:Tt,width:hn,height:en})}),[Tt,nn,Mt,en]),[Xt,jt]=(0,n.useState)(ae.PEOPLE),_n=(0,n.useCallback)(Dt=>{jt(Dt)},[]);(0,n.useEffect)(()=>{Xt===ae.PEOPLE&&it?jt(ae.CHANNEL):Xt===ae.CHANNEL&&lt.length&&jt(ae.PEOPLE)},[Xt,it,lt]);const ze=(0,n.useMemo)(()=>{const Dt=[];return Mt.length&&Dt.push({title:pe.t("People"),id:ae.PEOPLE,content:dn()}),Rt.length&&Dt.push({title:pe.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:ae.CHANNEL,content:bt()}),Dt},[Rt,Mt,bt,dn]);return Xe?null:n.createElement("div",{className:"p-huddle_start_suggestion_tabs"},n.createElement(Z.A,{fullHeight:!0,tabs:ze,currentTabId:Xt,onTabChange:_n,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");Ee.displayName="HuddleStartSuggestionTabs";const Le=n.memo(Ee);var ye=e(8808892924),Te=e(1794107122),Ae=e(5142752606);const Ie=new g.Ay("huddles"),Ue=n.memo(Qe=>{let{error:Xe}=Qe;const et=(0,c.d4)(ot=>(0,q.nv)(ot,Xe.invitedMemberId)),rt=(0,c.d4)(ot=>(0,X.sE)(ot,et));if(!(0,c.d4)(A.TM))return null;let lt=Ie.t("{userName} could not be invited to the Huddle.",{userName:rt});return Xe.inviteRejectionReason===Ae.g.RecipientHuddlesDisabled&&(lt=Ie.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:rt})),n.createElement(a.Ay,{level:"error"},lt)});var Be=e(3810478625),we=e(5255740490),re=e(1051015021),ge=e(952756744);function De(){return De=Object.assign||function(Qe){for(var Xe=1;Xe<arguments.length;Xe++){var et=arguments[Xe];for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(Qe[rt]=et[rt])}return Qe},De.apply(this,arguments)}i(De,"_extends");var be;(function(Qe){Qe.COMPOSER="composer",Qe.PUBLIC_CHANNEL="public_channel",Qe.PRIVATE_CHANNEL="private_channel"})(be||(be={}));function xe(Qe){let{channel:Xe}=Qe;return Xe?Xe&&(0,M.Zp)(Xe)?be.PRIVATE_CHANNEL:be.PUBLIC_CHANNEL:be.COMPOSER}i(xe,"getModalContext");const Re=new g.Ay("huddles");function je(Qe){let{closeModal:Xe,callId:et,channel:rt,channelSuggestion:it,memberSuggestionId:lt,selectedMemberIds:ot=p.Ml}=Qe;const Et=(0,s.wA)(),At=(0,_.A)(),Ot=xe({channel:rt}),Rt=Ot===be.PRIVATE_CHANNEL&&!(0,M.PC)(rt),yt=Ot===be.COMPOSER,[Mt,en]=(0,n.useState)(ot),[Tt,xt]=(0,n.useState)(),[bt,nn]=(0,n.useState)(!1),[dn,Xt]=(0,n.useState)(!1),jt=(0,c.d4)(A.TM),[_n,ze]=(0,n.useState)(void 0),Dt=(0,c.d4)(E.WR),hn=(0,c.d4)(R.H7),yn=(0,V.tc)(hn),ht=(0,c.d4)(k.iH),Bt=(0,c.d4)(Y=>(0,Te.$)(Y,(rt==null?void 0:rt.id)||"")),wt=(0,c.d4)(A.Si),Qt=(0,c.d4)(B.qr),mn=(0,c.d4)(Be.g),zt=(0,c.d4)(Y=>(0,W.Hp)(Y,S.xu.HUDDLE_INVITE_MODAL))===S.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,nt=(0,c.Z2)(Y=>(0,B.ft)(Y,rt==null?void 0:rt.id).filter(ce=>ce.id!==Dt).map(ce=>ce.id)),mt=(0,c.d4)(v.pl),Ct=(0,c.Z2)(Y=>Rt?Mt.filter(ce=>{const Ce=rt&&(0,y.Sv)(Y,rt.id,ce);return Ce&&Ce.isKnown&&!(Ce!=null&&Ce.isMember)}):[]);(0,n.useEffect)(()=>{it&&xt({id:it.id,isCurrentSuggestedChannel:!0})},[it]),(0,n.useEffect)(()=>{lt&&en([lt])},[lt]);const Zt=(0,n.useCallback)(Y=>en(Y),[]),Ft=(0,n.useCallback)(Y=>{if(Y===(Tt==null?void 0:Tt.id)&&(Tt!=null&&Tt.isCurrentSuggestedChannel)){xt({id:Y,isCurrentSuggestedChannel:!0});return}xt({id:Y,isCurrentSuggestedChannel:!1})},[Tt==null?void 0:Tt.id,Tt==null?void 0:Tt.isCurrentSuggestedChannel]),Jt=(0,n.useCallback)(Y=>{en(Mt.concat(Y))},[Mt]),rn=(0,n.useCallback)(()=>{xt({id:rt==null?void 0:rt.id,isCurrentSuggestedChannel:!0})},[rt==null?void 0:rt.id]),gn=(0,n.useCallback)(()=>{Tt!=null&&Tt.id&&(Et((0,O.A)({channelId:Tt.id,entryPoint:I.su.COMPOSER_HUDDLE_START})),Xe())},[Tt,Et,Xe]),Fe=(0,n.useCallback)((0,t.coroutine)(function*(){nn(!0),yield Et((0,f.r)({memberIds:Mt})).then(Y=>{Et((0,O.A)({channelId:Y.id,entryPoint:I.su.COMPOSER_HUDDLE_START})),Xe(),nn(!1),Xt(!1)}).catch(Y=>{At.error(Y),nn(!1);const{message:ce}=Y;(ce==null?void 0:ce.indexOf(h.O3.INVALID_USER_COMBINATION))!==-1&&Xt(!0)})}),[Mt,Et,At,Xe]),Ke=(0,n.useCallback)((0,t.coroutine)(function*(){if(!rt)return;nn(!0);let Y=Mt;(Tt==null?void 0:Tt.id)===rt.id&&(Tt!=null&&Tt.isCurrentSuggestedChannel)&&(Y=(0,r.A)([...Mt,...Bt])),yield Et((0,T.A)({channelId:rt.id,userIds:Y})).then(()=>{nn(!1),Ct&&Ct.length>0&&Rt?Et((0,ve.A)({members:Ct})):Xe()}).catch(ce=>{At.error(ce),nn(!1),jt&&ze(ce)})}),[rt,Bt,Xe,Et,jt,Rt,At,Tt==null?void 0:Tt.id,Tt==null?void 0:Tt.isCurrentSuggestedChannel,Mt,Ct]),Ne=(0,n.useMemo)(()=>Ot===be.COMPOSER?Tt!=null&&Tt.id?gn:Fe:Ke,[Ke,Fe,Ot,Tt,gn]),He={[be.COMPOSER]:{eventId:P.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:P.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[be.PUBLIC_CHANNEL]:{eventId:P.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[be.PRIVATE_CHANNEL]:{eventId:P.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},Je=i(()=>yn&&!wt&&!Qt?n.createElement(me.A,null):mn&&!yt?null:ht&&!zt?n.createElement(H.A,{v2ClassName:(0,we.A)({"p-huddle_invite_modal_banner":mn})}):null,"maybeRenderBanner");Je.displayName="maybeRenderBanner";const ft=He[Ot],Kt=(0,n.useMemo)(()=>yt?Re.t("Start a Huddle"):Mt.length>1?Re.t("Send Invites"):Re.t("Send Invite"),[yt,Mt]);if(!mt)return null;const St=Re.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),cn=i(Y=>n.createElement(L.A,{articleId:4402059015315,ariaLabel:Re.t("Learn more about Huddles"),forceOpenInBrowser:!0},Y),"renderLearnMoreLink");let An,Ln,It,qe;const ct=i(Y=>{const ce=Y.map(Ce=>n.createElement(l.A,{key:Ce,isBold:!1,id:Ce}));return ce&&(0,g.jd)(ce)},"listifiedOverflowMembers");if(ct.displayName="listifiedOverflowMembers",yn&&wt&&!Qt)Ln=Re.t("Invite someone to your huddle"),An=Rt?Re.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:n.createElement(J.A,{channel:rt}),"<a>":Y=>{let{text:ce}=Y;return cn(ce)}}):Re.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":Y=>{let{text:ce}=Y;return cn(ce)}});else if(yt?(Ln=Re.t("Start a Huddle"),It=mn?Re.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):Re.t("Find a person or channel to huddle with")):(Ln=Re.t("Invite people to your huddle"),It=Rt?St:Re.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),rt!=null&&rt.id&&nt.length){const Y=Re.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:nt.length-1,firstParticipant:n.createElement(l.A,{isBold:!0,id:nt[0]}),secondParticipant:n.createElement(l.A,{isBold:!0,id:nt[1]}),"<a>":ce=>{let{text:Ce}=ce;return n.createElement(m.Ay,{zIndex:"above_fs",tip:ct(nt.slice(2))},n.createElement("span",null,Ce))}});qe=n.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},n.createElement(ye.i,{channelId:rt.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:d.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),n.createElement("div",null,Y))}const vt=jt&&_n!==void 0,Oe="huddle-invite-description";return n.createElement(u.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Xe,contentLabel:Ln,describedby:Oe,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},n.createElement(u.rQ,null,n.createElement(u.Rc,{title:Ln,subtitle:It})),n.createElement(u.$m,null,n.createElement(u.qf,null,qe,An&&n.createElement("p",{id:Oe},An),n.createElement(N.A,{isFreeTeam:yn&&!Qt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:wt,channel:rt,otherMembersInHuddle:nt,onSelectedMembersChange:Zt,onSelectedChannelChange:Ft,selectedMemberIds:Mt,selectedChannel:Tt}),Rt&&Ct&&Ct.length>0&&n.createElement(fe,{unknownMemberIds:Ct}),dn&&n.createElement(a.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},Re.t("All external people must already be in at least one channel together to send this invitation.")),vt&&n.createElement(Ue,{error:_n})),Je(),n.createElement(ge.s,null),Qt&&yn&&!zt&&n.createElement(re.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),et&&n.createElement(x.A,{activeHuddleCallId:et,channel:rt,isFreeTeam:yn&&!Qt,onSuggestedUserSelected:Jt,otherMembersInHuddle:nt,selectedMemberIds:Mt,onChannelSelected:rn,channelSuggestionOptionSelected:Tt==null?void 0:Tt.isCurrentSuggestedChannel}),!et&&n.createElement(Le,{isFreeTeam:yn&&!Qt,onSuggestedChannelSelected:Ft,onSuggestedUserSelected:Jt,selectedChannelId:Tt==null?void 0:Tt.id,selectedMemberIds:Mt})),n.createElement(u.jl,null,n.createElement(u.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},n.createElement(K.A,{channelId:rt==null?void 0:rt.id}),n.createElement(u.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close"},Re.t("Cancel")),n.createElement(D.A,De({},ft,{clogImpression:!0}),n.createElement(o.lV,{"data-qa":"send_invite_button",loading:bt,onClick:Ne,type:"primary",disabled:!Mt.length&&!(Tt!=null&&Tt.id)},Kt)))),wt&&yn&&!Qt&&n.createElement(oe.A,{selectedMemberIds:Mt}))}i(je,"HuddleInviteChannelOrStart"),je.displayName="HuddleInviteChannelOrStart";const Ge=je},6011052675:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(8300007136),s=e(735940183),r=e(6084388622),d=e(5904726069);const o=new s.Ay("huddles"),a=i(m=>{let{channelId:c}=m;const _=(0,n.wA)(),p=(0,t.useCallback)(()=>{_((0,d.r)({channelId:c}))},[_,c]);return c?t.createElement(r.Ay,{onClick:p,type:"outline",className:"p-huddle_invite_link_button__copy_link"},o.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");a.displayName="HuddleInviteLinkButton";const l=a},9236164662:(Q,C,e)=>{"use strict";e.d(C,{A:()=>D});var t=e(4481313819),n=e(6244014364),s=e(2689960678),r=e(735940183),d=e(3134334389),o=e(2562405183),a=e(8739505998),l=e(6323355797),m=e(8300007136),c=e(1267040415),_=e(236241007),p=e(5641442783),u=e(3994181705),h=e(5332875232),E=e(5881236351),A=e(7268021173),v=e(1384076438),f=e(2607644860),g=e(8112788848),y=e(8214116048);const T=new r.Ay("trials_highlight_paid_features"),M={onClick:{enableClogAction:!0},elementName:"start_trial"},O={elementName:"upgrade_link",onClick:{enableClogAction:!0}},I=i(P=>{let{selectedMemberIds:k=s.Ml}=P;const R=(0,m.wA)(),V=l.ZO.PaidFeatureTrial,B=l.zG.Vhq,W=(0,o.d4)(j=>(0,A.hq)(j,V,B)),L=(0,o.d4)(j=>(0,A.bp)(j,V,B)),S=(0,o.d4)(h.Si),H=(0,d.useCallback)(()=>{R((0,E.Ov)(k))},[R,k]),w=(0,d.useCallback)(()=>{R((0,_.A)({uiComponentVariant:n.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:H}))},[R,H]);if((0,d.useEffect)(()=>{R((0,v.A)({campaignType:V,campaignSubType:B,reason:"huddle_invite_modal",context:f.y.huddleInviteModal}))},[R,V,B]),!S||L)return null;const F=W?T.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":j=>{let{text:J}=j;return d.createElement(a.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:w,autoClogProps:M},J)}}):T.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":j=>{let{text:J}=j;return d.createElement(c.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:O,useLink:!0},J)}});return d.createElement(t.A,{eventId:n.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:n.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},d.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},d.createElement(p.A,{variant:u.G.HuddlesFreemiumDeprecated,promoType:V,promoSubtype:B,uiComponentVariant:n.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:g.m.AboveFullScreen,toolTipPosition:y.yX.Bottom}),d.createElement("span",{className:"margin_left_50"},F)))},"HuddleInviteModalFooterBanner");I.displayName="HuddleInviteModalFooterBanner";const D=I},7396657731:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(735940183),s=e(6244014364),r=e(4481313819),d=e(1743656885),o=e(3328083357),a=e(5712872315);const l=new n.Ay("trials_highlight_paid_features"),m=i(p=>{let{text:u}=p;return t.createElement(d.A,{articleId:4402059015315,ariaLabel:l.t("Learn more about Huddles")},u)},"AlertBannerHelpLink"),_=i(()=>t.createElement(r.A,{eventId:s.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:s.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(o.A,{theme:a.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},l.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":m})))),"HuddleInviteModalFreeBanner")},9645800439:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3134334389),n=e(2562405183),s=e(735940183),r=e(5103164797),d=e(8300576667),o=e(1407713935),a=e(3730613858),l=e(1289024643),m=e(8040098042),c=e(4327331459);const _=new s.Ay("huddles");var p;(function(I){I.CHANNEL="channel",I.MEMBER="member"})(p||(p={}));function u(I){let{id:D,entity:P,channel:k,huddleId:R}=I,V;(0,m.A)(D)?V=p.CHANNEL:(0,c.A)(D)&&(V=p.MEMBER);const B=(0,n.d4)(j=>k&&(0,a.Sv)(j,k.id,D)),W=B&&B.isKnown&&(B==null?void 0:B.isMember),L=k&&(0,o.JM)(k),S=(0,n.d4)(j=>(0,l.Ck)(j,R,D)),H=!!S&&S==="joining_soon";let w=null;if(S?w=H?_.t("Joining soon"):_.t("Invited"):k&&L&&!W?w=_.t("Not in conversation"):k&&!L&&!W&&(w=_.t("Not in channel")),!V)return null;let F;return V===p.CHANNEL?F=t.createElement(r.A,{channelId:D,channel:P}):V===p.MEMBER&&(F=t.createElement(d.A,{id:D,member:P,showPresence:!0,secondaryContent:w})),t.createElement("div",{className:"display_flex"},F)}i(u,"HuddleInviteMultiSelectRenderOption"),u.displayName="HuddleInviteMultiSelectRenderOption";const h=(0,t.memo)(u);var E=e(7090824688),A=e(630868093),v=e(3288846409),f=e(5286203919),g=e(2689960678);function y(){return y=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var k in P)Object.prototype.hasOwnProperty.call(P,k)&&(I[k]=P[k])}return I},y.apply(this,arguments)}i(y,"_extends");const T=new s.Ay("huddles"),M=i(I=>{let{isFreeTeam:D,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:P,channel:k,otherMembersInHuddle:R,onSelectedMembersChange:V,onSelectedChannelChange:B,selectedMemberIds:W=g.Ml,selectedChannel:L}=I;const S=(0,v.cw)(f.E9),H=(0,t.useMemo)(()=>B&&!k&&!D&&!(W!=null&&W.length),[k,D,B,W]),w=(0,t.useMemo)(()=>L!=null&&L.id&&L.isCurrentSuggestedChannel?!0:!(L!=null&&L.id),[L]),F=(0,t.useMemo)(()=>({entities:{...H&&{channels:{canPost:!0,includeArchived:!1}},...w&&{members:{includeSelf:!1,includeSlackbot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:k},allowEmptyQuery:!0,filter:te=>!R.includes(te.id)}),[H,w,k,R]),j=(0,t.useCallback)(te=>{B&&(0,m.A)(te.value)?B(te.value):V([te.value])},[B,V]),J=(0,t.useCallback)(te=>{const le=[];let he;te.forEach(fe=>{(0,m.A)(fe.value)?(!he||fe.value!==(L==null?void 0:L.id))&&(he=fe.value):le.push(fe.value)}),B==null||B(he),V(le)},[B,V,L]),X=(0,t.useCallback)(te=>{let{value:le,entity:he}=te;return t.createElement(h,{channel:k,id:le,entity:he,huddleId:S})},[k,S]),q=(0,t.useCallback)(te=>{let{value:le}=te;return(0,m.A)(le)?t.createElement(r.A,{channelId:le}):t.createElement(d.A,{id:le,showAvatar:!0})},[]),G=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:F,renderOption:X,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:D,focusOnMount:!0}),[F,X,D]),ne=(0,t.useMemo)(()=>{const te=W.map(le=>({value:le}));return L!=null&&L.id&&te.push({value:L.id}),te},[L,W]);return D&&P?t.createElement(A.uR,y({},G,{onOptionSelected:j,placeholderText:T.t("Find someone to invite\u2026"),renderSelectedOption:q,selectedOption:ne[0]})):t.createElement(E.h7,y({},G,{onSelectedItemsChange:J,selectedOptions:ne,placeholderText:T.t("Search by name")}))},"HuddleInviteModalSelect");M.displayName="HuddleInviteModalSelect";const O=M},605594140:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ee});var t=e(3134334389),n=e(2562405183),s=e(3288846409),r=e(7715417323),d=e(2689960678),o=e(5363983309),a=e(9101533895),l=e(5286203919),m=e(6470070112),c=e(1407713935),_=e(5911067953),p=e(9706240641),u=e(4075246222),h=e(8300007136),E=e(6084388622),A=e(7937864072),v=e(3730613858),f=e(666760496),g=e(1563996154),y=e(444524526),T=e(980293773),M=e(9548972574),O=e(5795074931),I=e(5332875232),D=e(735940183),P=e(9884588328),k=e(581167618),R=e(3534324375),V=e(8276911661),B=e(8739505998),W=e(438845125);const L=new D.Ay("huddles");function S(se){let{members:de,createNewMpim:ue}=se;var _e,pe,ae;const Ee=(0,n.Z2)(Te=>de.map(Ae=>(0,R.sE)(Te,(0,V.nv)(Te,Ae.slackId))));if(!de)return null;const Le=Ee&&Ee.slice(3),ye=L.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:de.length,name1:t.createElement(W.A,{slackId:(_e=de[0])===null||_e===void 0?void 0:_e.slackId}),name2:t.createElement(W.A,{slackId:(pe=de[1])===null||pe===void 0?void 0:pe.slackId}),name3:t.createElement(W.A,{slackId:(ae=de[2])===null||ae===void 0?void 0:ae.slackId}),numOthers:t.createElement(g.Ay,{zIndex:"above_fs",position:"top",tip:(0,D.jd)(Le)},t.createElement("span",null,de.length-3))},Te=>{let{text:Ae,tag:Ie}=Te;return Ie==="a"?t.createElement(B.A,{onClick:ue},Ae):null});return t.createElement(k.Ay,{level:k.A_.info,type:k.QE.custom},ye)}i(S,"HuddleInviteMpimAlert"),S.displayName="HuddleInviteMpimAlert";const H=S;var w=e(7268021173),F=e(3677514771),j=e(6839188756),J=e(4983989341),X=e(4481313819),q=e(6244014364),G=e(1743656885),ne=e(9953252450),te=e(7396657731),le=e(9236164662),he=e(9645800439),fe=e(6011052675),ve=e(3109955471),me=e(3810478625),oe=e(1051015021),N=e(952756744),K=e(716227588),x=e(6259241484);const b=new D.Ay("huddles"),z={elementName:"learn_more",onClick:{enableClogAction:!0}};function $(se){let{closeModal:de,callId:ue,channelId:_e,selectedMemberIds:pe=d.Ml}=se;const ae=(0,h.wA)(),Ee=(0,A.A)(),Le=(0,n.d4)(O.WR),ye=(0,n.d4)(m.pl),Te=(0,n.d4)(Tt=>(0,a.OL)(Tt,_e)),Ae=(0,n.d4)(M.qr),Ie=(0,n.d4)(I.Si),Ue=(0,n.d4)(me.g),Be=(0,n.Z2)(Tt=>(0,M.ft)(Tt,_e).filter(xt=>xt.id!==Le).map(xt=>xt.id)),re=(0,n.d4)(Tt=>(0,K.Hp)(Tt,x.xu.HUDDLE_INVITE_MODAL))===x.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,[ge,De]=(0,t.useState)(pe),[be,xe]=(0,t.useState)(!1),Re=(0,n.Z2)(Tt=>!_e||!(ge!=null&&ge.length)?[]:ge.filter(bt=>{const nn=(0,v.Sv)(Tt,_e,bt);return nn&&nn.isKnown&&!(nn!=null&&nn.isMember)?bt:!1})),je=(0,n.d4)(F.H7),Ge=(0,j.tc)(je),Qe=(0,n.d4)(w.iH),Xe=(0,t.useCallback)(Tt=>{De(Tt)},[]),et=(0,t.useCallback)(Tt=>{De(ge.concat(Tt))},[ge]),rt=(0,t.useMemo)(()=>{const Tt=(0,P.Hd)(Te);return Array.isArray(Tt)?Tt:[]},[Te]),it=rt.filter(Tt=>Tt!==Le),lt=(0,t.useCallback)((0,p.coroutine)(function*(){if(!_e)return;let Tt=ge.concat(Be);return rt&&(Tt=(0,u.A)(Tt,rt)),ae((0,J.x)({channelId:_e,memberIds:Tt})).then(()=>{de()}).catch(xt=>{Ee.error(xt),xe(!1)})}),[_e,ge,Be,rt,ae,de,Ee]),ot=(0,t.useCallback)((0,p.coroutine)(function*(){if(!_e)return;xe(!0);const Tt=ge.concat(Be);return ae((0,f.A)({channelId:_e,userIds:Tt})).then(()=>{de()}).catch(xt=>{Ee.error(xt),xe(!1)})}),[_e,de,ae,Ee,Be,ge]),Et=i(()=>Ge&&!Ie&&!Ae?t.createElement(te.A,null):Qe&&!Ae&&!Ue?t.createElement(ne.A,null):null,"maybeRenderBanner");Et.displayName="maybeRenderBanner";let At,Ot,Rt,yt;const Mt=i(Tt=>{const xt=Tt.map(bt=>t.createElement(y.A,{key:bt,isBold:!1,id:bt}));return xt&&(0,D.jd)(xt)},"listifiedOverflowMembers");Mt.displayName="listifiedOverflowMembers",Ge&&Ie&&!Ae?(At=b.t("Invite someone else to your huddle"),Rt=b.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(it==null?void 0:it.length)-1,firstParticipant:t.createElement(y.A,{isBold:!1,id:it[0]}),secondParticipant:t.createElement(y.A,{isBold:!1,id:it[1]}),"<a>":Tt=>{let{text:xt}=Tt;return t.createElement(g.Ay,{zIndex:"above_fs",tip:Mt(it==null?void 0:it.slice(1))},t.createElement("span",null,xt))},"<b>":Tt=>{let{text:xt}=Tt;return t.createElement("b",null,xt)}}),yt=b.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":Tt=>{let{text:xt}=Tt;return t.createElement(G.A,{articleId:4402059015315,ariaLabel:b.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:z},xt)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(At=b.t("Invite people to your huddle"),Ot=b.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const en=(0,t.useMemo)(()=>ge.length>1?b.t("Send Invites"):b.t("Send Invite"),[ge]);return!ye||!_e?null:t.createElement(T.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:de,contentLabel:At,shouldReturnFocusAfterClose:!0},t.createElement(T.rQ,null,t.createElement(T.Rc,{title:At,subtitle:Ot})),t.createElement(T.$m,null,t.createElement(T.qf,null,(Rt||yt)&&t.createElement("p",null,Rt,yt),t.createElement(he.A,{isFreeTeam:Ge&&!Ae,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Ie,channel:Te,otherMembersInHuddle:Be,onSelectedMembersChange:Xe,selectedMemberIds:ge}),(Re==null?void 0:Re.length)>0&&t.createElement(H,{members:Re.map(Tt=>({slackId:Tt})),createNewMpim:lt})),Et(),Ue&&t.createElement(N.s,null),Ae&&Ge&&!re&&t.createElement(oe.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(ve.A,{activeHuddleCallId:ue,channel:Te,isFreeTeam:Ge&&!Ae,onSuggestedUserSelected:et,otherMembersInHuddle:Be,selectedMemberIds:ge})),t.createElement(T.jl,null,t.createElement(fe.A,{channelId:_e}),t.createElement(T.ox,null,t.createElement(T.s_,{type:"outline"},b.t("Cancel")),t.createElement(X.A,{clogImpression:!0,eventId:q.EventId.HUDDLES_MPIM_INVITE},t.createElement(E.lV,{loading:be,onClick:ot,type:"primary",disabled:!ge.length},en)))),Ie&&Ge&&!Ae&&t.createElement(le.A,{selectedMemberIds:ge}))}i($,"HuddleInviteMpim"),$.displayName="HuddleInviteMpim";const Z=$;function U(se){let{closeModal:de=r.A,selectedMemberIds:ue=d.Ml}=se;const _e=(0,n.d4)(m.pl),pe=(0,s.cw)(l.E9),ae=(0,s.cw)(l.hc),Ee=(0,n.d4)(Le=>(0,a.OL)(Le,ae));return _e?(0,c.JM)(Ee)?t.createElement(Z,{callId:pe,channelId:ae,closeModal:de,selectedMemberIds:ue}):t.createElement(_.A,{callId:pe,channel:Ee,closeModal:de,selectedMemberIds:ue}):null}i(U,"HuddleInviteOrStartModal"),U.displayName="HuddleInviteOrStartModal";const ee=(0,o.A)(U,{isStackable:!0})},3109955471:(Q,C,e)=>{"use strict";e.d(C,{A:()=>X});var t=e(3134334389),n=e(2003990933),s=e(7156798807),r=e(5103024697),d=e(2562405183),o=e(5795074931),a=e(3730613858),l=e(8276911661),m=e(1289024643),c=e(4822627003),_=e(3214129289),p=e(9163492386),u=e(8683010724),h=e(9884588328),E=e(1407713935),A=e(8798294025),v=e(4562579337),f=e(8170643398),g=e(863407566),y=e(181849556),T=e(735940183),M=e(2828836153),O=e(3877384923);const I=new T.Ay("huddles");var D;(function(q){q[q.Channel=0]="Channel",q[q.Here=1]="Here"})(D||(D={}));const P=i(q=>{let{variation:G}=q;const ne=(0,t.useMemo)(()=>{const te=G===D.Channel?I.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):I.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),le=G===D.Channel?I.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):I.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(u.A,{name:"mentions",size:"24",variation:"large"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},te),t.createElement("span",{className:"c-base_entity__subtext"},le)))},[G]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(M.A,{size:O.ny.medium,padding:O.FK.normal,primaryContent:ne}))},"HuddleInviteChannelListEntity");P.displayName="HuddleInviteChannelListEntity";const k=P;var R=e(8286248123),V=e(9548972574),B=e(2689960678),W=e(9680914051),L=e(6470070112);const S=new T.Ay("huddles");var H;(function(q){q.SUGGESTIONS="suggestions",q.INVITED="invited"})(H||(H={}));function w(q,G,ne,te,le,he,fe){return!(!q||G||ne||q===te||le.includes(q)||he.includes(q)||fe.includes(q))}i(w,"shouldSuggestMember");const F="channelEntityId",j="channelHereEntityId",J=i(q=>{let{activeHuddleCallId:G,channel:ne,isFreeTeam:te,onSuggestedUserSelected:le,onChannelSelected:he,onChannelHereSelected:fe,otherMembersInHuddle:ve,selectedMemberIds:me,channelSuggestionOptionSelected:oe=!1}=q;const N=(0,d.d4)(o.WR),K=(0,d.d4)(je=>(0,R.q8)(je,ne==null?void 0:ne.id)),x=(0,d.d4)(L.df),b=(0,n.A)(K,"counts.member_count")||void 0,z=(0,E.JM)(ne),$=(0,d.d4)(V.Sx),Z=(0,d.d4)(je=>(0,m.k9)(je,G)),U=(0,d.d4)(je=>(0,m.I1)(je,G)),se=$+1+Z+U,de=(0,d.Z2)(je=>(0,m.Kx)(je,G)),ue=(0,t.useMemo)(()=>de?Object.keys(de):[],[de]),_e=ue.length,pe=25,ae=(0,d.Z2)(je=>(0,g.A)(je,(ne==null?void 0:ne.id)||"",pe,pe,!0).map(Qe=>Qe.id));let Ee=[];if((0,E.LI)(ne)){const je=(0,A.e)(ne);je&&Ee.push(je)}else if((0,E.yz)(ne)){const je=(0,h.Ug)(ne);je&&je.length&&(Ee=[...je])}else Ee=ae;const Le=(0,d.wz)(je=>{if(oe||!Ee||!Ee.length)return B.Ml;const Ge=[];return Ee.forEach(Qe=>{const Xe=(0,l.nv)(je,Qe);w(Qe,(0,v.A)(Xe),(0,f.oy)(Xe),N,ve,ue,me)&&Ge.push({id:Qe,isMemberOfChannel:!0})}),Ge}),ye=(0,d.wz)(y.mc),Te=(0,d.wz)(je=>{if(!ye||!ye.length)return B.Ml;const Ge=[];return ye.forEach(Qe=>{const Xe=(0,l.nv)(je,Qe.id);if(!w(Qe.id,(0,v.A)(Xe),(0,f.oy)(Xe),N,ve,ue,me)||Ee.includes(Qe.id))return;const et=ne&&(0,a.Sv)(je,ne.id,Qe.id),rt=et&&et.isKnown&&et.isMember;Ge.push({id:Qe.id,isMemberOfChannel:rt})}),Ge}),Ae=(0,t.useMemo)(()=>!he||(0,E.PC)(ne)?!1:b<=W.XG&&se+b<=x&&!oe,[b,oe,se,x,he,ne]),Ie=(0,t.useMemo)(()=>Le.length>=pe?Le.slice(0,pe):[...Le,...Te].slice(0,pe),[Le,Te]),Ue=(0,t.useMemo)(()=>Ie.map(je=>je.id),[Ie]),Be=(0,t.useMemo)(()=>(0,s.A)(Ie,"id"),[Ie]),we=(0,t.useMemo)(()=>Math.min(60*Math.max(_e,Ue.length),240),[Ue,_e]),re=(0,t.useCallback)((je,Ge)=>{if(Ge.key===F)return t.createElement(k,{variation:D.Channel});if(Ge.key===j)return t.createElement(k,{variation:D.Here});const Qe=Be[Ge.key];if(!Qe)return;let Xe=null;return Qe.isMemberOfChannel===!1&&(z||(0,E.PC)(ne)?Xe=S.t("Not in conversation"):Xe=S.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(c.A,{id:Qe.id,secondaryContent:Xe}))},[z,Be,ne]),ge=(0,t.useCallback)(je=>{if(je.id){if(je.id===F){he&&he();return}if(je.id===j){fe&&fe();return}le(je.id)}},[fe,he,le]),De=(0,t.useCallback)(()=>{let je=Ue;return Ae&&(je=[F,...Ue]),t.createElement(r.A,{disableHeight:!0},Ge=>{let{width:Qe}=Ge;return t.createElement(p.A,{"aria-label":S.t("Suggested"),keys:je,rowRenderer:re,onItemClick:ge,width:Qe,height:we})})},[Ae,re,Ue,ge,we]),be=(0,t.useCallback)(je=>{const Ge=ue[je],Qe=de==null?void 0:de[Ge];if(!Qe)return null;const Xe=Qe==="joining_soon",et=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(u.A,{name:Xe?"clock":"paper-plane",size:"20"}),t.createElement("span",null,Xe?S.t("Joining soon"):S.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(c.A,{id:Ge,secondaryContent:et}))},[ue,de]),xe=(0,t.useCallback)(()=>t.createElement(r.A,{disableHeight:!0},je=>{let{width:Ge}=je;return t.createElement(p.A,{"aria-label":S.t("Invited"),keys:ue,rowRenderer:be,width:Ge,height:we})}),[ue,be,we]),Re=(0,t.useMemo)(()=>{const je=[];return Ue.length&&je.push({title:S.t("Suggested"),id:H.SUGGESTIONS,content:De()}),je.push({title:S.t("Invited"),id:H.INVITED,titleCount:_e,content:xe()}),je},[Ue,_e,xe,De]);return!G||te?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(_.A,{fullHeight:!0,tabs:Re,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");J.displayName="HuddleInviteSuggestionTabs";const X=t.memo(J)},4869203191:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>f,Gr:()=>v,Lv:()=>_,jc:()=>E,z2:()=>A});var t=e(9706240641),n=e.n(t),s=e(735940183),r=e(2778217221),d=e(8664881451),o=e(2854284421),a=e(2047021170),l=e(5203103513),m=e(6673728906);const c=new s.Ay("huddles"),_="LOUNGE_MUSIC_PLAYER",p=[o.N3,o._4,o.j1,o._V,o.PM,o.tn,o.uu,o.jc];var u;(function(g){g.WaitingRoom="waiting",g.Subway="subway",g.Whistle="whistle",g.Jazz="jazz",g.Focus="focus",g.DiscoParty="disco",g.Zen="zen",g.Nature="nature"})(u||(u={}));const h=u.Jazz,E=i(g=>g?!!Object.values(u).includes(g):!1,"isValidSongKey"),A=i(g=>(0,a.ty)(g,l.Mz)||h,"getSongKeyFromUserPref"),v=i(()=>({[u.WaitingRoom]:{key:u.WaitingRoom,urlName:"waitingRoom",url:o.tn,displayName:c.t("Waiting Room")},[u.Subway]:{key:u.Subway,urlName:"subwayMusic",url:o.PM,displayName:c.t("Subway Music")},[u.Whistle]:{key:u.Whistle,urlName:"whistleTune",url:o.jc,displayName:c.t("Whistle Tune")},[u.Jazz]:{key:u.Jazz,urlName:"waitingMuzak",url:o.uu,displayName:c.t("Smooth Jazz")},[u.Focus]:{key:u.Focus,urlName:"focusBeats",url:o._4,displayName:c.t("Focus Beats")},[u.DiscoParty]:{key:u.DiscoParty,urlName:"discoParty",url:o.N3,displayName:c.t("Happy Bass")},[u.Zen]:{key:u.Zen,urlName:"momentOfZen",url:o.j1,displayName:c.t("Sound Bath")},[u.Nature]:{key:u.Nature,urlName:"natureMeditation",url:o._V,displayName:c.t("Nature Meditation")}}),"getSongsMetadata");let f=i(class _o{static getInstance(y){let{experimentHuddlesLoungeMusicPlayerGroupOn:T}=y;return _o.instance||(_o.instance=new _o({experimentHuddlesLoungeMusicPlayerGroupOn:T})),_o.instance}constructor({experimentHuddlesLoungeMusicPlayerGroupOn:y}){this.getCurrentTrackDisplayName=()=>{const M=p[this.activeTrackIndex],O=v(),I=Object.values(O).find(D=>D.url===M);return I==null?void 0:I.displayName};var T=this;this.playMusic=(0,t.coroutine)(function*(){let{songKey:M,registerOnEndedCallback:O,logger:I,fromFirstTrack:D,loopSong:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};D&&(T.activeTrackIndex=0),O&&p.forEach(W=>{(0,d.TQ)(W,{ended:T.playNextTrack})});let k=p[T.activeTrackIndex];const R=(0,d.Dd)(k);if(M){var V;R&&(0,d.ds)(k);const L=(V=v()[M])===null||V===void 0?void 0:V.url,S=L?p.findIndex(H=>H===L):-1;S>-1&&(k=L,T.activeTrackIndex=S)}const B=(0,m._o)();if(B&&R)try{yield R.setSinkId(B),I==null||I.info(r.o7,`setSinkId success for lounge music on deviceID: ${B}`)}catch{I==null||I.info(r.o7,`setSinkId failed for lounge music on deviceID: ${B}`)}(0,d.ZH)(k,{loop:!!P})}),this.stopMusic=M=>{let{clearOnEndedCallback:O,logger:I,logContext:D}=M;O&&p.forEach(P=>{(0,d.Rj)(P,"ended",this.playNextTrack)}),(0,d.ds)(p[this.activeTrackIndex],{logFailure:!1}),I.info(r.o7,`stopped lounge music [${D}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<p.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,d.ds)(p[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,d.ZH)(p[this.activeTrackIndex],{loop:!1})},this.activeTrackIndex=0,this.experimentHuddlesLoungeMusicPlayerGroupOn=y}},"HuddleLoungeMusicManager")},5152651193:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(5918772940),s=e.n(n),r=e(4121690455),d=e.n(r),o=e(2440739180),a=e.n(o),l=e(1894681178);const m=i(_=>{let{headerInfo:p,isUnlinked:u=!1}=_;const h=(0,l.A)(p,56);return t.createElement("div",{className:"p-identity_transfer_modal__logo"},t.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:s()})),t.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.createElement("img",{alt:"",src:u?a():d()})),t.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:h})))},"IdentityTransferModalLogo");m.displayName="IdentityTransferModalLogo";const c=m},8031326843:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ae});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(2562405183),d=e(5255740490),o=e(4481313819),a=e(1269227002),l=e(5257368278),m=e(2927826522),c=e(4433296946);const _=(0,l.A)("Get SIWS interstital blocks",(Ie,Ue,Be)=>{let{appId:we,url:re,channelId:ge}=Be;return Ie((0,a.apiCall)({args:{app_id:we,uri:re,channel_id:ge},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(De=>({...(0,m.t)(De,1)})).catch(De=>{var be;throw((be=De.data)===null||be===void 0?void 0:be.error)==="invalid_client_cache"&&Ie((0,c._)()),De})});_.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};const p=_;var u=e(97319433),h=e(7937864072),E=e(8369079536),A=e(9003400431),v=e(1031947056),f=e(387484329),g=e(796111729),y=e(2239896522),T=e(7763971809);const M=(0,v.Ay)("Set completed transfer pref of identity links prefs",(Ie,Ue,Be)=>{let{appId:we,completedTransfer:re}=Be;const ge=(0,y.IC)(Ue());let De="{}";try{De=JSON.stringify({...ge,[we]:{completed_transfer:re,date_completed_transfer:Number(Date.now())}})}catch(be){(0,g.Ay)({getState:Ue}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",be)}return Ie((0,f.AZ)({pref:T.V,value:De}))});M.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var O=e(5973312896),I=e(980293773),D=e(6244014364);const P=(0,l.A)("Send confirmation email",(Ie,Ue,Be)=>{let{confirmationType:we,email:re,intent:ge,locale:De}=Be;return Ie((0,a.apiCall)({args:{confirmation_type:we,email:re,intent:ge,locale:De},method:"signup.confirmEmail",reason:"send-confirm-email"}))});P.meta={name:"createFetcher",key:"createFetchersendConfirmEmail",description:"Send confirmation email"};const k=P,R=(0,l.A)("Verify email confirmation code",(Ie,Ue,Be)=>{let{code:we,email:re,intent:ge}=Be;return Ie((0,a.apiCall)({args:{code:we,email:re,intent:ge},method:"signin.confirmCode",reason:"verify-confirm-code"}))});R.meta={name:"createFetcher",key:"createFetcherverifyConfirmCode",description:"Verify email confirmation code"};const V=R;var B=e(9490291234),W=e(4645337865),L=e(2683115972),S=e(3165300465),H=e(7138682671),w=e(735940183),F=e(9907843289),j=e(7968796288),J=e(5152651193);const X=new w.Ay("app-config"),q=i(Ie=>{let{url:Ue}=Ie;return Ue?n.createElement("div",{className:"p-identity_transfer_modal__redirect"},n.createElement("span",{className:"overflow_ellipsis"},X.t("Link to: "),Ue)):null},"IdentityTransferModalLink");q.displayName="IdentityTransferModalLink";const G=q,ne=new w.Ay("app-config"),te=i(Ie=>{let{appId:Ue,domain:Be,email:we,headerInfo:re,logger:ge,setIdentityTransferStep:De,setLinkClickedPrefs:be,url:xe,hideLink:Re=!1,reverifyEmail:je=!1,autoClogProps:Ge}=Ie;const Qe=(0,s.wA)(),Xe=(0,E.A)(),et=(0,j.A)(),[rt,it]=(0,n.useState)(B.lS.Empty),[lt,ot]=(0,n.useState)(!1),[Et,At]=(0,n.useState)(!1),Ot=(0,n.useCallback)((0,t.coroutine)(function*(){try{yield Qe(k({confirmationType:"code",email:we,intent:"identity_links",locale:(0,F.Yp)()}))}catch(xt){ge.error("error in sending confirm email",xt)}}),[Qe,we,ge]);(0,n.useEffect)(()=>{Xe.current&&Ot()},[Xe,Ot]);const Rt=i(()=>{De(je?"reverifyEmail":"permissions")},"handleBackClicked"),yt=i(()=>{it(B.lS.Empty),At(!1)},"handleChangeCode"),Mt=i(()=>{Ot()},"handleResendEmail"),en=function(){var xt=(0,t.coroutine)(function*(bt){try{it(B.lS.Processing),ot(!0),yield Qe(V({code:bt,email:we,intent:"identity_links"})),yield be(!0),Xe.current&&(it(B.lS.Success),ot(!1),At(!1))}catch(nn){if(Xe.current){switch(nn.name){case"expired":it(B.lS.Expired),At(!1),Ot();break;case"failed":it(B.lS.Error),At(!1);break;case"ratelimited":it(B.lS.Ratelimited),At(!1);break;default:it(B.lS.Unknown),At(!0);break}ot(!1)}}});return i(function(nn){return xt.apply(this,arguments)},"handleFillCode")}(),Tt=rt===B.lS.Expired||rt===B.lS.Error||rt===B.lS.Unknown;return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:re}),n.createElement("h1",{className:"p-identity_transfer_modal__title"},ne.t("Please verify your email address")),n.createElement(I.qf,null,n.createElement("p",null,ne.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:we})),n.createElement("div",{className:"margin_bottom_50"},n.createElement("strong",null,ne.t("Enter the code below:"))),n.createElement("form",{onSubmit:xt=>xt.preventDefault()},n.createElement("fieldset",{className:"no_margin no_padding no_border"},n.createElement("legend",{className:"offscreen"},ne.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:Be,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),n.createElement(W.A,{isCheckError:!1,isNumbersOnly:!1,onChange:yt,onFillCode:en,isInvalid:Tt,ariaDescribedBy:et}))),n.createElement(B.UU,{status:rt,id:et}),Et&&n.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},n.createElement(H.A,{htmlFor:"resend_verification_email",text:ne.t("Get a new verification code.")}),n.createElement(L.Ay,{id:"resend_verification_email",onClick:Mt},ne.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),n.createElement(I.jl,null,!Re&&n.createElement(G,{url:xe}),n.createElement(I.ox,null,n.createElement(S.A,{"aria-label":ne.t("Back"),autoClogProps:{eventId:D.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:Ue,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...Ge},"data-qa":"siws_email_verification_back",loading:lt,onClick:Rt,type:"outline"},ne.t("Back")))))},"IdentityTransferModalEmailVerification");te.displayName="IdentityTransferModalEmailVerification";const le=te;var he=e(4775127335),fe=e(1610251172),ve=e(6084388622);const me=new w.Ay("app-config"),oe=i(Ie=>{let{email:Ue,name:Be,userId:we,workspaceDomain:re}=Ie;const ge=(0,j.A)(),[De,be]=(0,n.useState)(!1);return n.createElement("div",{className:"p-identity_transfer_modal__member_card"},n.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:ge},n.createElement(he.Ay,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:we}),n.createElement("div",null,n.createElement("p",{className:"bold"},Be),n.createElement("p",null,Ue),n.createElement(ve.Nm,{"data-qa":"expand_to_see_user_details","aria-controls":ge,"aria-expanded":De,"aria-label":De?me.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):me.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>be(!De)},n.createElement(fe.A,{type:De?"chevron-large-up":"chevron-large-down"})),De&&n.createElement(n.Fragment,null,n.createElement("p",null,me.t("Workspace ID: {workspaceDomain}",{workspaceDomain:re})),n.createElement("p",null,me.t("User ID: { userId }",{userId:we}))))))},"IdentityTransferModalMemberCard");oe.displayName="IdentityTransferModalMemberCard";const N=oe,K=new w.Ay("app-config"),x=i(Ie=>{let{icon:Ue,text:Be}=Ie;return n.createElement("div",{className:"p-identity_transfer_modal__description_item"},n.createElement(fe.A,{"aria-label":K.t("{icon} icon",{icon:Ue}),className:"p-identity_transfer_modal__description_icon",type:Ue}),n.createElement("p",null,Be))},"IdentityTransferModalDescriptionItem");x.displayName="IdentityTransferModalDescriptionItem";const b=x;var z=e(8739505998),$=e(1251564078);const Z=new w.Ay("app-config"),U=i(Ie=>{let{appName:Ue,privacyPolicyUrl:Be,tosUrl:we}=Ie;return n.createElement("div",{className:"p-identity_transfer_modal__legal"},Z.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:Ue,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},re=>{let{tag:ge,text:De}=re;switch(ge){case"a1":return n.createElement(z.A,{href:we},De);case"a2":return n.createElement(z.A,{href:Be},De);case"a3":return n.createElement(z.A,{href:(0,$.v)("/privacy-policy")},De);default:return null}}))},"IdentityTransferModalLegal");U.displayName="IdentityTransferModalLegal";const ee=U,se=new w.Ay("app-config"),de=i(Ie=>{let{appId:Ue,domain:Be,isUnskippable:we=!1,hideLink:re=!1,headerInfo:ge,isLoading:De,legalInfo:be,setIdentityTransferStep:xe,setLinkClickedPrefs:Re,url:je,userInfo:Ge,autoClogProps:Qe}=Ie;const Xe=(0,E.A)(),[et,rt]=(0,n.useState)(!0),[it,lt]=(0,n.useState)(!1),[ot,Et]=(0,n.useState)(!0),[At,Ot]=(0,n.useState)(!1);(0,n.useEffect)(()=>{rt(De),Et(De)},[De]);const Rt=function(){var xt=(0,t.coroutine)(function*(bt){bt?(lt(!0),Et(!0)):(rt(!0),Ot(!0)),yield Re(bt),Xe.current&&(bt?(lt(!1),Et(!1)):(rt(!1),Ot(!1)))});return i(function(nn){return xt.apply(this,arguments)},"setLoadingAndLinkClickedPrefs")}(),yt=i(()=>{Ge.isEmailVerified?Rt(!0):xe("emailVerification")},"handleAcceptClicked"),Mt=i(()=>{Rt(!1)},"handleSkipClicked"),en=i(()=>{Rt(!1)},"handleCancelClicked"),{appName:Tt}=ge;return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:ge}),n.createElement("h1",{className:"p-identity_transfer_modal__title"},we?se.t("Connect {appName} with Slack",{appName:Tt}):se.t("Continue to {appName} with Slack",{appName:Tt})),n.createElement(I.qf,{className:"p-identity_transfer_modal__member_section"},n.createElement(N,{email:Ge.email,name:Ge.name,userId:Ge.userId,workspaceDomain:Ge.workspaceDomain})),n.createElement(I.qf,null,n.createElement("div",{className:"p-identity_transfer_modal__info_box"},n.createElement("b",null,n.createElement("p",null,se.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),n.createElement(b,{icon:"plug",text:se.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:Tt})}),n.createElement(b,{icon:"user",text:se.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:Tt})}),n.createElement(b,{icon:"sparkles",text:se.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:Tt})})),n.createElement(ee,{appName:Tt,privacyPolicyUrl:be.privacyPolicyUrl,tosUrl:be.tosUrl}))),n.createElement(I.jl,null,!re&&n.createElement(G,{url:je}),n.createElement(I.ox,null,!we&&n.createElement(S.A,{autoClogProps:{eventId:D.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:Ue,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:ot,loading:At,onClick:Mt,type:"outline"},se.t("Skip")),we&&n.createElement(L.Ay,{type:"outline",onClick:en,autoClogProps:{eventId:D.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:Ue,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...Qe}},se.t("Cancel")),n.createElement(S.A,{autoClogProps:{eventId:D.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:Ue,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...Qe},"data-qa":"siws_auth_modal_accept",disabled:et,loading:it,onClick:yt,type:"primary"},se.t("Accept")))))},"SiwsIdentityTransfer");de.displayName="SiwsIdentityTransfer";const ue=de,_e=new w.Ay("app-config"),pe=i(Ie=>{let{appId:Ue,domain:Be,headerInfo:we,url:re,setIdentityTransferStep:ge}=Ie;const De=(0,s.wA)(),be=(0,r.d4)(je=>(0,y.LG)(je,Ue)),xe=i(()=>{ge("permissions")},"handleBackClicked"),Re=i(()=>{De((0,O.J)({appId:Ue,dateOptedOut:Date.now(),numSkipped:be+1})),window.open(re,"_blank","noopener,noreferrer"),De((0,A.O)())},"handleProceedClicked");return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:we}),n.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},_e.t("You\u2019ve skipped a few times and we hear you")),n.createElement(I.qf,null,n.createElement("div",null,_e.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:we.appName,link:n.createElement(z.A,{href:re},re)})))),n.createElement(I.jl,null,n.createElement(I.ox,null,n.createElement(ve.Ay,{"aria-label":_e.t("Back"),autoClogProps:{idlAppId:Ue,idlDomain:Be,eventId:D.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:xe,type:"outline"},_e.t("Back")),n.createElement(ve.Ay,{"aria-label":_e.t("Proceed"),autoClogProps:{idlAppId:Ue,idlDomain:Be,eventId:D.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:Re},_e.t("Proceed")))))},"IdentityTransferModalSkip");pe.displayName="IdentityTransferModalSkip";const ae=pe,Ee=new w.Ay("app-config"),Le=i(Ie=>{let{email:Ue,headerInfo:Be,setIdentityTransferStep:we}=Ie;const re=(0,s.wA)(),ge=i(()=>{we("emailVerification")},"handleVerifyClicked"),De=(0,n.useCallback)(()=>{re((0,A.O)())},[re]);return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:Be}),n.createElement("h1",{className:"p-identity_transfer_modal__title"},Ee.t("Verify your account to continue with {appName}",{appName:Be==null?void 0:Be.appName})),n.createElement(I.qf,null,n.createElement("div",{className:"p-identity_transfer_modal__info_box"},n.createElement("b",null,n.createElement("p",null,Ee.t("Verification Required"))),n.createElement("ul",null,n.createElement("li",null,Ee.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:Be==null?void 0:Be.appName})),n.createElement("li",null,Ee.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:n.createElement("b",null,n.createElement("span",null,Ue))}))),n.createElement("p",null,Ee.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),n.createElement(I.jl,null,n.createElement(I.ox,null,n.createElement(L.Ay,{type:"outline",onClick:De},Ee.t("Cancel")),n.createElement(L.Ay,{onClick:ge},Ee.t("Verify")))))},"IdentityTransferReverificationModal");Le.displayName="IdentityTransferReverificationModal";const ye=Le,Te=i(Ie=>{let{appId:Ue,domain:Be,clientMsgId:we,isUnfurl:re=!1,isUserPrefs:ge=!1,url:De,channelId:be,reverifyEmail:xe=!1}=Ie;const Re=(0,s.wA)(),je=(0,h.A)(),Ge=(0,E.A)(),[Qe,Xe]=(0,n.useState)(null),[et,rt]=(0,n.useState)({appName:"",icons:{}}),[it,lt]=(0,n.useState)({tosUrl:"",privacyPolicyUrl:""}),[ot,Et]=(0,n.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[At,Ot]=(0,n.useState)(!0),[Rt,yt]=(0,n.useState)(xe?"reverifyEmail":"permissions"),Mt=(0,r.d4)(dn=>re?0:(0,y.LG)(dn,Ue));(0,n.useEffect)(()=>{(function(){var Xt=(0,t.coroutine)(function*(){try{const{header:jt,legal:_n,user:ze}=yield Re(p({appId:Ue,url:De,channelId:!ge&&!re?be:void 0}));Ge.current&&(rt(jt),lt(_n),Et(ze),Ot(!1))}catch(jt){!re&&!ge&&window.open(De,"_blank","noopener,noreferrer"),Re((0,A.O)()),je.error(`app-id - ${Ue}`,"error in getting interstitial blocks for link with given appid",jt)}});return i(function(){return Xt.apply(this,arguments)},"getAuthModalData")})()()},[Ue,Re,je,Ge,De,re,ge,be]);const en=(0,n.useCallback)(function(){var dn=(0,t.coroutine)(function*(Xt){try{Xt?(!ge&&De&&(yield Re((0,u.Ap)({appId:Ue,url:De,clientMsgId:we,domain:Be,shouldCloseWindowOnCompletion:re}))),Re(M({appId:Ue,completedTransfer:!0})),Re((0,A.O)())):!re&&!ge&&Mt<2?(Re((0,O.J)({appId:Ue,dateLastSkipped:Date.now(),numSkipped:Mt+1})),Re((0,A.O)()),window.open(De,"_blank","noopener,noreferrer")):!re&&!ge&&Mt===2?yt("skip"):(Re((0,A.O)()),!re&&!ge&&window.open(De,"_blank","noopener,noreferrer"))}catch(jt){je.error(`app-id - ${Ue}`,"error in setting prefs with given appid",jt)}});return function(Xt){return dn.apply(this,arguments)}}(),[Ue,Re,Be,we,je,Mt,De,re,ge]),Tt=(0,n.useCallback)(()=>{const dn={permissions:D.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:D.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:D.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:D.EventId.IDL_EMAIL_VERIFICATION_CLOSED},Xt=dn==null?void 0:dn[Rt];if(Qe==null||Qe.track({eventId:Xt,entryPoint:"USER_PREFS",idlAppId:Ue,idlDomain:Be,idlEventId:D.EventId[Xt].toLowerCase()}),re||ge||xe){Re((0,A.O)());return}Rt==="skip"?(Re((0,O.J)({appId:Ue,dateOptedOut:Date.now(),numSkipped:Mt+1})),window.open(De,"_blank","noopener,noreferrer")):Mt<2?(Re((0,O.J)({appId:Ue,dateLastSkipped:Date.now(),numSkipped:Mt+1})),window.open(De,"_blank","noopener,noreferrer")):Mt===2&&yt("skip"),Rt!=="skip"&&Mt===2||Re((0,A.O)())},[Ue,Qe,Re,Be,Rt,Mt,De,re,ge,xe]);let xt;const bt={entryPoint:ge?"USER_PREFS":void 0};switch(Rt){case"reverifyEmail":xt=n.createElement(ye,{email:ot.email,headerInfo:et,setIdentityTransferStep:yt});break;case"emailVerification":xt=n.createElement(le,{hideLink:ge||re,appId:Ue,domain:Be,email:ot.email,headerInfo:et,logger:je,setIdentityTransferStep:yt,setLinkClickedPrefs:en,url:De,reverifyEmail:xe,autoClogProps:bt});break;case"skip":xt=n.createElement(ae,{appId:Ue,domain:Be,headerInfo:et,setIdentityTransferStep:yt,url:De});break;default:xt=n.createElement(ue,{isUnskippable:re||ge,hideLink:re||ge,appId:Ue,domain:Be,headerInfo:et,isLoading:At,legalInfo:it,setIdentityTransferStep:yt,setLinkClickedPrefs:en,userInfo:ot,url:De,autoClogProps:bt})}const nn=(0,d.A)("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":Rt==="skip"});return n.createElement(o.A,{trackClogRef:dn=>{Xe({track:dn})}},n.createElement(I.dW,{className:nn,closeModal:Tt,shouldCloseOnOverlayClick:!1},xt))},"IdentityTransferModal");Te.displayName="IdentityTransferModal";const Ae=Te},1650415028:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(8170244779),d=e(6244014364),o=e(1469799399),a=e(8262898118),l=e(4481313819),m=e(2239896522);const c=i(p=>{let{children:u,url:h}=p;const E=(0,n.wA)(),A=(0,t.useContext)(r.A).channelId,v=(0,s.d4)(M=>(0,a.ND)(M,h)),f=(0,s.d4)(M=>(0,a.pF)(M,h)),g=(0,s.d4)(M=>(0,m.Xe)(M,v??"")!==null),y=(0,t.useCallback)(M=>{M.shiftKey||M.metaKey||M.ctrlKey||(M.preventDefault(),E((0,o.C)({url:h,channelId:A})))},[E,h,A]),T=(0,t.useMemo)(()=>({onClick:{enableClogAction:!g}}),[g]);return t.createElement(l.A,{eventId:d.EventId.IDL_CLICKED,idlAppId:v,idlDomain:f,idlEventId:d.EventId[d.EventId.IDL_CLICKED].toLowerCase()},typeof u=="function"?u(y,T):u)},"IdentityTransferTrigger");c.displayName="IdentityTransferTrigger";const _=c},124213367:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(9391594207),s=e(3297051565),r=e.n(s),d=e(4979382452),o=e(4636370173),a=e(2465132699),l=e(6308822),m=e(9003400431);const c={className:r().string,closeModal:r().func.isRequired},_={className:void 0};function p(h){return t.createElement(d.A,{className:h.className,closeModal:h.closeModal},t.createElement(o.A,null,t.createElement(a.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(l.A,null)))))}i(p,"LoadingModal"),p.displayName="LoadingModal",p.propTypes=c,p.defaultProps=_;const u=(0,n.N)(null,h=>({closeModal:function(){for(var E=arguments.length,A=new Array(E),v=0;v<E;v++)A[v]=arguments[v];return h((0,m.O)(...A))}}))(p)},79199995:(Q,C,e)=>{"use strict";e.d(C,{WJ:()=>m,eW:()=>l,fJ:()=>u,g2:()=>p,kY:()=>c,oE:()=>a});var t=e(4418517660),n=e.n(t),s=e(583204418),r=e(735940183),d=e(6471801899);const o=new r.Ay("lists");var a;(function(h){h.Today="today",h.Yesterday="yesterday",h.Tomorrow="tomorrow",h.ThisWeek="this_week",h.NextWeek="next_week",h.LastWeek="last_week",h.SinceILastViewed="since_i_last_viewed"})(a||(a={}));const l=i(h=>!h.options||h.options.dateFormat===s.cf.Default?d.Wl:h.options.dateFormat,"getDateFormat"),m=i(h=>Object.values(a).includes(h),"isDateFilterOption"),c=i(h=>{switch(h){case a.Today:return o.t("Today");case a.Yesterday:return o.t("Yesterday");case a.Tomorrow:return o.t("Tomorrow");case a.ThisWeek:return o.t("This week");case a.NextWeek:return o.t("Next week");case a.LastWeek:return o.t("Last week");case a.SinceILastViewed:return o.t("Since last time you viewed");default:return h}},"formatDateForMenu"),_=i(h=>{const E=n()(h).startOf("isoWeek"),A=n()(h).endOf("isoWeek"),v=[];let f=E;for(;f<=A;)v.push(f),f=f.clone().add(1,"days");return v},"getWeekdays"),p=i(h=>{let E;switch(h){case a.Today:E=n()().format(d.DX);break;case a.Yesterday:E=n()().subtract(1,"days").format(d.DX);break;case a.Tomorrow:E=n()().add(1,"days").format(d.DX);break;case a.ThisWeek:E=_(n()()).map(A=>A.format(d.DX));break;case a.NextWeek:E=_(n()().add(1,"weeks")).map(A=>A.format(d.DX));break;case a.LastWeek:E=_(n()().subtract(1,"weeks")).map(A=>A.format(d.DX));break;case a.SinceILastViewed:E=n()().format(d.DX);break;default:E=h}return E},"getStaticDateValue"),u=n()().format(d.DX)},3001769570:(Q,C,e)=>{"use strict";e.d(C,{OQ:()=>A,PL:()=>l,R8:()=>y,UE:()=>h,Ui:()=>E,aI:()=>u,aN:()=>v,bV:()=>p,bw:()=>_,lx:()=>f,nM:()=>g,rD:()=>c});var t=e(1649982175),n=e(166097325),s=e(7682358855),r=e(8191156954),d=e(4097827290),o=e(735940183);const a=new o.Ay("lists"),l=i((T,M)=>T.indexOf(M)===-1?[...T,M]:T.filter(I=>I!==M),"toggleValueInFilterValues"),m=i(T=>{if(!T.length)return T;const M=T==null?void 0:T.flatMap(I=>I.split("|"));return[...new Set(M)]},"parseUserIdsAndRemoveDupes"),c=i((T,M)=>{const O=[];return Object.values(T??{}).forEach(D=>{if(D.fields&&D.fields[M]){const P=D.fields[M];O.push(P.trim())}}),[s._4,...m(O)]},"getUserIdsInUserColumns"),_=i((T,M,O)=>{const I=T.map(P=>(0,t.A)(P,[O])),D=M.map(P=>(0,t.A)(P,[O]));return(0,n.A)(I,D)},"isLocalAndServerFilterSortsEqual"),p=i((T,M)=>{var O;const I=M.get((O=T.key)!==null&&O!==void 0?O:"");return I?!(0,n.A)(I.operator,T.operator)||!(0,n.A)(new Set(I.values),new Set(T.values)):!0},"isFilterUnsavedOrModified"),u=i(T=>{let M=T;return Boolean(M.find(I=>I.type===r.$.CreatedTime))||(M=[...M,{id:r.$.CreatedTime,name:"Created time",key:r.$.CreatedTime,type:r.$.CreatedTime,isPrimaryColumn:!1}]),M},"appendCreatedTimeDataColumn"),h=i(T=>{switch(T.type){case r.$.Checkbox:case r.$.Completed:case r.$.Message:case r.$.TodoCompleted:return[d.t.IsEmpty,d.t.IsNotEmpty];case r.$.Assignee:case r.$.CreatedBy:case r.$.LastEditedBy:case r.$.Rating:case r.$.Select:case r.$.User:case r.$.Text:case r.$.TodoAssignee:return[d.t.Contains,d.t.DoesNotContain,d.t.IsEmpty,d.t.IsNotEmpty];case r.$.Currency:case r.$.Number:case r.$.Date:case r.$.TodoDueDate:return[d.t.Equal,d.t.NotEqual,d.t.LessThan,d.t.GreaterThan,d.t.IsEmpty,d.t.IsNotEmpty];default:return[d.t.Equal,d.t.NotEqual,d.t.IsEmpty,d.t.IsNotEmpty]}},"getOperatorsFromColumn"),E=i(T=>T.type===r.$.Checkbox,"isCheckboxFilter"),A=i(T=>T.type===r.$.Completed||T.type===r.$.TodoCompleted,"isCompletedFilter"),v=i(T=>T===d.t.IsEmpty||T===d.t.IsNotEmpty,"isEmptyOperator"),f=i(T=>T===d.t.IsMe||T===d.t.IsNotMe,"isMeOperator"),g=i(T=>T.type===r.$.Date||T.type===r.$.DueDate||T.type===r.$.CreatedTime||T.type===r.$.LastEditedTime||T.type===r.$.TodoDueDate,"isDateFilter"),y=i((T,M)=>{switch(T){case d.t.IsEmpty:return E(M)?a.t("is not checked"):A(M)?a.t("Not completed"):a.t("is empty");case d.t.IsNotEmpty:return E(M)?a.t("is checked"):A(M)?a.t("Completed"):a.t("is not empty");case d.t.Equal:return g(M)?a.t("is"):a.t("is equal to");case d.t.NotEqual:return g(M)?a.t("is not"):a.t("is not equal to");case d.t.GreaterThan:return g(M)?a.t("is after"):a.t("is greater than");case d.t.LessThan:return g(M)?a.t("is before"):a.t("is less than");case d.t.GreaterThanOrEqual:return a.t("is greater than or equal to");case d.t.LessThanOrEqual:return a.t("is less than or equal to");case d.t.Contains:return a.t("includes");case d.t.DoesNotContain:return a.t("does not include");case d.t.IsMe:return a.t("is me");case d.t.IsNotMe:return a.t("is not me");default:return""}},"getFilterOperatorLabel")},9216332371:(Q,C,e)=>{"use strict";e.d(C,{AO:()=>te,Hs:()=>N,Jn:()=>T,M1:()=>fe,Nh:()=>ne,Po:()=>W,Q6:()=>S,Rw:()=>K,Sb:()=>he,c$:()=>me,g2:()=>oe,iT:()=>ve,kv:()=>w,u1:()=>le,us:()=>q});var t=e(3783723764),n=e(1703559452),s=e(2240330919),r=e(2101927269),d=e(4418517660),o=e.n(d),a=e(7682358855),l=e(79199995),m=e(8191156954),c=e(4097827290),_=e(2188787324),p=e(7334104107),u=e(4919145213),h=e(583204418),E=e(5045557812),A=e(3342113153),v=e(3802883493),f=e(8088280230),g=e(6471801899),y=e(7606781622);const T=i(x=>{let{record:b,colKey:z}=x;var $,Z,U,ee,se;if(!(b==null||($=b.fallback)===null||$===void 0)&&$[z])return b.fallback[z];if(!(b==null||(Z=b.fields)===null||Z===void 0||(U=Z.fallback)===null||U===void 0)&&U[z])return b==null||(ee=b.fields)===null||ee===void 0||(se=ee.fallback)===null||se===void 0?void 0:se[z];if(b[z]){if((0,E.A)(b[z])){var de,ue,_e,pe,ae;return(ae=(pe=(_e=(de=b[z])===null||de===void 0||(ue=de[0])===null||ue===void 0?void 0:ue.elements[0])===null||_e===void 0?void 0:_e.elements[0])===null||pe===void 0?void 0:pe.text)!==null&&ae!==void 0?ae:""}return b[z].toString()}return""},"getStringValue"),M=i(x=>{const b=o()(x).startOf("isoWeek"),z=o()(x).endOf("isoWeek"),$=[];let Z=b;for(;Z<=z;)$.push(Z),Z=Z.clone().add(1,"days");return $},"getWeekdays"),O=i((x,b)=>{const z="YYYY-MM-DD";let $;switch(x){case l.oE.Today:$=o()().format(z);break;case l.oE.Yesterday:$=o()().subtract(1,"days").format(z);break;case l.oE.Tomorrow:$=o()().add(1,"days").format(z);break;case l.oE.ThisWeek:$=M(o()()).map(U=>U.format(z));break;case l.oE.NextWeek:$=M(o()().add(1,"weeks")).map(U=>U.format(z));break;case l.oE.LastWeek:$=M(o()().subtract(1,"weeks")).map(U=>U.format(z));break;case l.oE.SinceILastViewed:return $=o().unix(b),$;default:$=o()(x,z).format(z)}return Array.isArray($)?$.map(U=>o()(U,z)):o()($,z)},"convertDynamicDateToStatic"),I=i(function(x,b,z){let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const Z=$?b:b==null?void 0:b.clone().startOf("day"),U=$?z:z==null?void 0:z.clone().startOf("day");switch(x){case c.t.NotEqual:return!(Z!=null&&Z.isSame(U));case c.t.GreaterThan:return Z==null?void 0:Z.isBefore(U);case c.t.GreaterThanOrEqual:return Z==null?void 0:Z.isSameOrBefore(U);case c.t.LessThan:return Z==null?void 0:Z.isAfter(U);case c.t.LessThanOrEqual:return Z==null?void 0:Z.isSameOrAfter(U);case c.t.Equal:default:return Z==null?void 0:Z.isSame(U)}},"multiDateOperatorFilterValueCheck"),D=i((x,b,z,$,Z)=>{if(!b.values[0])return x;let U=z;const ee=b.values[0]===l.oE.SinceILastViewed;return ee&&(U=c.t.GreaterThan),x.filter(se=>{if(Z!=null&&Z.has(se.id))return!0;const de=se[b.key];let ue=de?o()(de).startOf("day"):void 0;return isNaN(de)||(ue=o().unix(de)),b.values.some(_e=>{if(!_e)return!1;const pe=O(_e.toString(),$);return Array.isArray(pe)?U===c.t.NotEqual?!pe.some(ae=>ae&&ue?ae.clone().startOf("day").isSame(ue):!1):pe.some(ae=>ae&&ue?I(U,ae,ue):!1):pe&&ue?I(U,pe,ue,ee):!1})})},"multiDateFilter"),P=i((x,b,z,$)=>{const Z=b.values[0]||"";return x.filter(U=>{if($!=null&&$.has(U.id))return!0;const ee=U[b.key]||"";switch(z){case c.t.DoesNotContain:return!ee.toLowerCase().includes(Z.toString().toLowerCase());case c.t.Contains:default:return ee.toLowerCase().includes(Z.toString().toLowerCase())}})},"textFilter"),k=i((x,b,z,$)=>{const Z=b.values[0]||"";return x.filter(U=>{if($!=null&&$.has(U.id))return!0;const ee=T({record:U,colKey:b.key});switch(z){case c.t.DoesNotContain:return!ee.toLowerCase().includes(Z.toString().toLowerCase());case c.t.Contains:default:return ee.toLowerCase().includes(Z.toString().toLowerCase())}})},"richTextFilter"),R=i((x,b,z,$)=>{if(!b.values.length)return x;var Z;const U=Number((Z=b.values[0])!==null&&Z!==void 0?Z:"");return x.filter(ee=>{if($!=null&&$.has(ee.id))return!0;var se;const de=Number((se=ee[b.key])!==null&&se!==void 0?se:"");if(!(U&&!de))switch(z){case c.t.NotEqual:return de!==U;case c.t.GreaterThan:return de>U;case c.t.GreaterThanOrEqual:return de>=U;case c.t.LessThan:return de<U;case c.t.LessThanOrEqual:return de<=U;case c.t.Equal:default:return de===U}})},"numberFilter"),V=i((x,b,z,$)=>{const Z=new Set(b.values);return Z.size?x.filter(U=>{if($!=null&&$.has(U.id))return!0;var ee;const se=String((ee=U[b.key])!==null&&ee!==void 0?ee:"");switch(z){case c.t.Contains:return Z.has(se);case c.t.DoesNotContain:return!Z.has(se);case c.t.IsEmpty:return se===null;case c.t.IsNotEmpty:return se!==null;default:return!0}}):x},"multiRatingFilter"),B=i((x,b,z,$,Z,U)=>{const ee=b.values.map(de=>de===a._4&&U?U:de),se=new Set(ee);return se.size?x.filter(de=>{if(Z!=null&&Z.has(de.id))return!0;const ue=de[b.key],_e=(ue??"").split(a.eY).filter(Boolean);let pe=!1;for(const ae of _e){if(se.has(ae)){pe=!0;break}if(!$)break}return z===c.t.Equal?pe:z===c.t.NotEqual?!pe:z===c.t.Contains?pe:z===c.t.DoesNotContain?!pe:!0}):x},"multiOptionFilter");function W(x){return x===0?!1:!x||Array.isArray(x)&&x.length===0}i(W,"isEmptyValue");const L=i((x,b,z,$,Z,U)=>{let ee=x;return b.forEach(se=>{const de=z.find(ae=>ae.key===se.key);if(!de)return;const ue=se.operator;if(ue===c.t.IsEmpty){ee=ee.filter(ae=>U!=null&&U.has(ae.id)?!0:W(ae[se.key]));return}if(ue===c.t.IsNotEmpty){ee=ee.filter(ae=>U!=null&&U.has(ae.id)?!0:!W(ae[se.key]));return}switch(de.type){case m.$.Text:ee=k(ee,se,ue,U);break;case m.$.Email:case m.$.Phone:ee=P(ee,se,ue,U);break;case m.$.Number:case m.$.Currency:ee=R(ee,se,ue,U);break;case m.$.Rating:ee=V(ee,se,ue,U);break;case m.$.Date:case m.$.DueDate:case m.$.TodoDueDate:case m.$.CreatedTime:case m.$.LastEditedTime:ee=D(ee,se,ue,Z,U);break;case m.$.Checkbox:case m.$.Completed:case m.$.TodoCompleted:return;case m.$.Select:var _e;ee=B(ee,se,ue,((_e=de.options)===null||_e===void 0?void 0:_e.format)===h.YP.MultiSelect,U);break;case m.$.Channel:case m.$.Canvas:case m.$.User:case m.$.Assignee:case m.$.TodoAssignee:case m.$.CreatedBy:case m.$.LastEditedBy:switch(ue){case c.t.IsMe:ee=ee.filter(ae=>{var Ee;return U!=null&&U.has(ae.id)?!0:(Ee=ae[se.key])===null||Ee===void 0?void 0:Ee.includes($)});break;case c.t.IsNotMe:ee=ee.filter(ae=>{var Ee;return U!=null&&U.has(ae.id)?!0:!(!((Ee=ae[se.key])===null||Ee===void 0)&&Ee.includes($))});break;default:var pe;ee=B(ee,se,ue,((pe=de.options)===null||pe===void 0?void 0:pe.format)===h.hx.MultiEntity,U,$)}break;default:ee=P(ee,se,ue,U);break}}),ee},"applyFiltersToRecords"),S=new Map([[m.$.Text,""],[m.$.Email,""],[m.$.Date,""],[m.$.TodoDueDate,""],[m.$.Checkbox,!1],[m.$.Completed,!1],[m.$.TodoCompleted,!1],[m.$.Number,0],[m.$.Rating,0],[m.$.CreatedTime,0],[m.$.LastEditedTime,0],[m.$.Channel,""],[m.$.User,""],[m.$.TodoAssignee,""],[m.$.CreatedBy,""],[m.$.LastEditedBy,""]]);function H(x){if(!Array.isArray(x)||x.length===0)return"";const b=i(z=>{for(const $ of z){if($.type==="text"&&$.text)return $.text;if($.elements&&Array.isArray($.elements)){const Z=b($.elements);if(Z)return Z}}return""},"findTextRecursively");for(const z of x)if(z.elements&&Array.isArray(z.elements)){const $=b(z.elements);if($)return $}return""}i(H,"extractFirstTextElement");const w=i((x,b,z,$)=>{const Z=b.map(de=>de.ascending?"asc":"desc"),U=new Map;for(const de of z)if(de.type===m.$.Select){var ee;const ue=((ee=de.options)===null||ee===void 0?void 0:ee.choices)||[];for(let _e=0;_e<ue.length;_e++){const pe=ue[_e],ae=`${de.key}:${pe.value}`;U.set(ae,_e)}}const se=b.map(de=>ue=>{const _e=z.find(Te=>Te.key===de.key),pe=de.ascending;if(!_e)return"";const ae=ue[de.key];let Ee=ae??S.get(_e.type||m.$.Text);if(Ee==null&&(Ee=pe?Number.MAX_SAFE_INTEGER:-1/0),_e.type===m.$.Select){var Le;const Te=(((Le=_e.options)===null||Le===void 0?void 0:Le.choices)||[]).length,Ae=(ae??"").split(a.eY).filter(Boolean);if(Te===0||Ae.length===0)Ee=pe?Number.MAX_SAFE_INTEGER:-1/0;else{let Ie=Te;for(const Ue of Ae){const Be=`${_e.key}:${Ue}`;var ye;const we=(ye=U.get(Be))!==null&&ye!==void 0?ye:Te;Ie=Math.min(Ie,we)}Ie<Te?Ee=Ie:Ee=pe?Number.MAX_SAFE_INTEGER:-1/0}}if((_e.type===m.$.User||_e.type===m.$.TodoAssignee)&&$&&(ae==null||ae===""?Ee=pe?"zzzzzzzz":"":$[ae]?Ee=$[ae].toLowerCase():Ee=pe?"zzzzzzzz":""),_e.type===m.$.Text&&(ae==null||ae===""||Array.isArray(ae)&&ae.length===0?Ee=pe?"zzzzzzzz":"":typeof ae=="string"?Ee=ae.toLowerCase():Ee=H(ae).toLowerCase()),_e.type===m.$.Vote){const Te=(ae??"").split(a.eY).filter(Boolean);Te.length>0?Ee=Te.length:pe?Ee=Number.MAX_SAFE_INTEGER:Ee=-1/0}if((_e.type===m.$.Number||_e.type===m.$.Currency||_e.type===m.$.Rating)&&(ae==null||ae===""?Ee=pe?Number.MAX_SAFE_INTEGER:-1/0:Ee=Number(ae)),_e.type===m.$.Date||_e.type===m.$.DueDate||_e.type===m.$.TodoDueDate||_e.type===m.$.CreatedTime||_e.type===m.$.LastEditedTime){const Te=new Date(ae);ae==null||ae===""?Ee=pe?Number.MAX_SAFE_INTEGER:-1/0:isNaN(Te.getTime())||(Ee=Te.getTime())}return Ee});return(0,t.A)(x,se,Z)},"applySortToRecords"),F=new Set([m.$.Text,m.$.Email,m.$.Phone,m.$.Number,m.$.Rating,m.$.Select,m.$.User]),j=i((x,b,z,$)=>{const Z=b.filter(ue=>F.has(ue.type)),U=new Map;for(const ue of Z)if(ue.type===m.$.Select){var ee,se;const _e=(se=(ee=ue.options)===null||ee===void 0?void 0:ee.choices)!==null&&se!==void 0?se:[];for(const{value:pe,label:ae}of _e){const Ee=`${ue.key}:${pe}`;U.set(Ee,ae)}}const de=z.toLowerCase();return x.filter(ue=>(0,n.A)(Z,_e=>{const pe=T({record:ue,colKey:_e.key});if(_e.type===m.$.Select){var ae;let ye=pe.split(a.eY).filter(Boolean);((ae=_e.options)===null||ae===void 0?void 0:ae.format)===h.YP.MultiSelect||(ye=ye.slice(0,1));for(const Ae of ye){const Ie=`${_e.key}:${Ae}`;var Ee;if(((Ee=U.get(Ie))!==null&&Ee!==void 0?Ee:pe).toLowerCase().includes(de))return!0}}if(_e.type===m.$.User&&$){var Le;const ye=(Le=$[pe])!==null&&Le!==void 0?Le:"";return ye&&ye.toLowerCase().includes(de)}return pe.toLowerCase().includes(de)}))},"applySearchStringToRecords"),J=i(x=>{let{listRecords:b,records:z}=x;return z.map($=>{const Z=b==null?void 0:b[$.id];return{...$,highlightAsNew:Z==null?void 0:Z.highlightAsNew}})},"applyHighlightAsNew"),X=i(x=>{let{listRecords:b,records:z}=x;return z.map($=>{const Z=b==null?void 0:b[$.id];return{...$,isOpenInFlexpane:Z==null?void 0:Z.isOpenInFlexpane}})},"applyIsOpenInFlexpane"),q=i(x=>{let{listRecords:b,records:z,schema:$,filterObj:Z,sorts:U,searchString:ee,lastReadTimestamp:se,bottomRecordIds:de,userNames:ue}=x,_e=z;if(Z){const{filters:pe,currentUserId:ae}=Z;_e=L(_e,pe,$,ae,se,de)}return U&&(_e=w(_e,U,$,ue)),ee&&(_e=j(_e,$,ee,ue)),_e=J({listRecords:b,records:_e}),_e=X({listRecords:b,records:_e}),_e},"applyModifiersToRecords");function G(x,b,z){const $=(0,y.Ld)(x,b,z);return $&&!(0,u.A)($)&&!(0,p.aw)($)&&!(0,p.aH)($)}i(G,"isValidMarkedMessageForListThread");function ne(x,b,z){return(0,s.A)((0,r.A)(z,$=>G(x,b,$)))}i(ne,"maxRealTsForListThread");function te(x,b,z,$){const Z=(0,g.Dv)($,Object.values(z)),U=Z.get(x==null?void 0:x.id),ee=Z.get(b==null?void 0:b.id);let se=null,de=null;if(x&&b){if(U)se=U;else{var ue,_e;se=!((ue=z[x.id])===null||ue===void 0)&&ue.position?`${(_e=z[x.id])===null||_e===void 0?void 0:_e.position}`:null}if(ee)de=ee;else{var pe,ae;de=!((pe=z[b.id])===null||pe===void 0)&&pe.position?`${(ae=z[b.id])===null||ae===void 0?void 0:ae.position}`:null}}else if(x)if(U)se=U;else{var Ee,Le;se=!((Ee=z[x.id])===null||Ee===void 0)&&Ee.position?`${(Le=z[x.id])===null||Le===void 0?void 0:Le.position}`:null}else if(b)if(ee)de=ee;else{var ye,Te;de=!((ye=z[b.id])===null||ye===void 0)&&ye.position?`${(Te=z[b.id])===null||Te===void 0?void 0:Te.position}`:null}return(0,v.TU)(se,de)}i(te,"calculateFractionalRecordPosition");const le=i(x=>{var b;const z=(0,f.A)({input:x});return z&&z[0]&&z[0].offset===0&&((b=z[0].url)===null||b===void 0?void 0:b.length)===(x==null?void 0:x.length)?[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"link",url:z[0].url||""}]}]}]:[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:x||""}]}]}]},"convertStringToBlocks"),he=i(x=>{if(x instanceof HTMLElement){if(x instanceof HTMLInputElement&&["checkbox","radio"].includes(x.type))return!0;if(["input","textarea","select"].includes(x.tagName.toLowerCase())||x.isContentEditable)return!1}return!0},"shouldHandleUndoFrom"),fe=i((x,b)=>{const z=[];var $;const Z=($=(0,_.Df)(x))!==null&&$!==void 0?$:[],U=(0,_.Jq)(x).length||(0,_.Si)(x);return b.forEach((ee,se)=>{const de=Z.some(Le=>(Le==null?void 0:Le.user_id)===(ee==null?void 0:ee.id));var ue;const _e=(ue=ee==null?void 0:ee.is_profile_only_user)!==null&&ue!==void 0?ue:!1;var pe;const ae=(pe=ee==null?void 0:ee.is_self)!==null&&pe!==void 0?pe:!1;!_e&&!ae&&!de&&!U&&z.push(se)}),z},"getRestrictedSelectedTokenIndexes"),ve=i(x=>["created_time","created_by","last_edited_time","last_edited_by"].includes(x.type),"isMetaColumn"),me=i((x,b)=>{if(!x)return"";const z=T({record:x,colKey:"name"});if(!z)return"";let $=(0,A.Kx)(z==null?void 0:z.toLowerCase().split(/[ :/-]/).filter(Boolean).join("-"));return $=$.split("-").filter(Boolean).join("-"),b&&!$.startsWith(b)&&($=`${b}${$}`),$.slice(0,(0,A.zU)())},"generateChannelNameFromRecordName"),oe=i((x,b)=>((b==null?void 0:b.editors)||[]).filter(z=>z!==x),"getListRecordChannelInitialInvitedMemberIds"),N=i((x,b)=>{var z,$;return x?b&&(b.type===m.$.MultiSelect||b.type===m.$.Select&&(b==null||(z=b.options)===null||z===void 0?void 0:z.format)===h.YP.MultiSelect||(b.type===m.$.User||b.type===m.$.Channel||b.type===m.$.Canvas)&&(b==null||($=b.options)===null||$===void 0?void 0:$.format)===h.hx.MultiEntity)?new Set(x.split(a.eY).filter(Boolean)):new Set([x]):new Set},"splitMultiValueField"),K=i(x=>x==null?void 0:x.includes("/lists/"),"isListLink")},2670882607:(Q,C,e)=>{"use strict";e.d(C,{e:()=>o});var t=e(3134334389),n=e(5255740490),s=e(2562405183),r=e(6422693406),d=e(2047021170);const o=t.memo(t.forwardRef((a,l)=>{let{getAnimationImport:m,className:c,height:_,svgClassName:p,loadingClassName:u,errorClassName:h,description:E,loop:A=!1,autoplay:v=!1,renderLoading:f,renderError:g,preserveAspectRatio:y}=a;const T=(0,s.d4)(B=>(0,d.ty)(B,"a11y_animations")),[M,O]=(0,t.useState)(!0),[I,D]=(0,t.useState)(!1),P=(0,t.useRef)(null),k=(0,t.useRef)(null),R=(0,t.useRef)(null);R.current||(R.current=r.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),m()]).then(B=>{let[W,L]=B;if(!P.current)throw new Error("Lottie animation missing container");return O(!1),k.current=W.loadAnimation({container:P.current,renderer:"svg",loop:A,autoplay:!!(T&&v),animationData:L,rendererSettings:{className:(0,n.A)("p-lottie__svg",p),description:E,preserveAspectRatio:y}}),r.S.resolve(k.current)}).catch(B=>(D(!0),r.S.reject(B)))),(0,t.useEffect)(()=>()=>{R.current&&R.current.cancel(),k.current&&k.current.destroy()},[R,k]),(0,t.useImperativeHandle)(l,()=>R.current,[R]);const V=(0,t.useMemo)(()=>M&&f?f():I&&g?g():null,[f,g,M,I]);return t.createElement("div",{ref:P,style:_!==void 0?{height:_}:void 0,className:(0,n.A)("p-lottie",c,M&&u,I&&h)},V)}))},5460331959:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(7715417323),s=e(4978843660),r=e(166097325),d=e(6696292586),o=e(6650208157);const a=4;function l(c){let{children:_,fallbackWidth:p=void 0,onResize:u=n.A}=c;const[h,E]=(0,t.useState)({width:0,height:0}),[A,v]=(0,t.useState)(!1),f=(0,t.useRef)([]);function g(T){let{width:M}=T;if(f.current.unshift(M),f.current.length<a)return!1;f.current.length>a&&(f.current.length=a);const O=(0,s.A)(f.current,2);return O.slice(1).every(I=>(0,r.A)(I,O[0]))}i(g,"looksLikeResizeLoop");const y=(0,t.useCallback)(T=>{u(T),E(T.bounds),(0,d.A)(p)&&!A&&v(g(T.bounds))},[p,u,A]);return t.createElement(o.A,{bounds:!0,onResize:y},T=>{let{measureRef:M}=T;return _({...h,width:A&&p?p:h.width,measureRef:M})})}i(l,"Measure"),l.displayName="Measure";const m=l},9446966957:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(1641606663),s=e(4505564445),r=e(7592430824),d=e(5244168417);const a=i(l=>{let{value:m,max:c,tick:_,jump:p,onChange:u,renderContainer:h,renderTrack:E,renderInner:A,onMouseDown:v,onMouseUp:f,"aria-label":g,"aria-valuetext":y,vertical:T,autoFocus:M}=l;const O=(0,t.useRef)(null),{embeddedUiData:I}=(0,t.useContext)(r.N),{windowRef:D}=(0,t.useContext)(n.M),P=(0,t.useCallback)(w=>{let{pageX:F,pageY:j}=w;const J=O.current;if(!J)return;const X=J.getBoundingClientRect(),q=T?X.y:X.x,G=Math.max(0,(T?j:F)-q),ne=T?X.height:X.width,le=(T?1-Math.min(1,G/ne):Math.min(1,G/ne))*c;u(le)},[c,u,T]),k=(0,t.useCallback)(w=>{P(w)},[P]),R=(0,t.useCallback)(w=>{var F,j;(F=D.deref())===null||F===void 0||F.document.removeEventListener("mousemove",k),(j=D.deref())===null||j===void 0||j.document.removeEventListener("mouseup",R),f==null||f(w)},[k,f,D]),V=(0,t.useCallback)(w=>{var F,j;w.button!==0||w.ctrlKey||(P(w),w.preventDefault(),(F=D.deref())===null||F===void 0||F.document.addEventListener("mousemove",k),(j=D.deref())===null||j===void 0||j.document.addEventListener("mouseup",R),v==null||v(w))},[k,R,P,v,D]),B=(0,t.useCallback)(w=>{switch(w.which){case s.LE:case s.i7:u(m+(_??1));break;case s.UQ:case s.n6:u(m-(_??1));break;case s.w_:u(m+(p??c*.1));break;case s.dB:u(m-(p??c*.1));break;case s.yZ:u(0);break;case s.Kp:u(c);break;default:return}w.preventDefault()},[m,c,_,p,u]);(0,t.useEffect)(()=>{var w;return O==null||(w=O.current)===null||w===void 0||w.toggleAttribute(d.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!I),()=>{var F,j;(F=D.deref())===null||F===void 0||F.document.removeEventListener("mousemove",k),(j=D.deref())===null||j===void 0||j.document.removeEventListener("mouseup",R)}},[I,k,R,D]),(0,t.useEffect)(()=>{M&&O.current&&O.current.focus()},[M]);const W=`${((c>0?m/c:0)*100).toFixed(2)}%`,L=A({style:T?{height:W}:{width:W}}),S=E({children:L,tabIndex:0,role:"slider","aria-label":g,"aria-valuemin":0,"aria-valuemax":c,"aria-valuenow":Math.floor(m),"aria-valuetext":y,onKeyDown:B,ref:O});return h({children:S,onMouseDown:V})},"CustomizableSlider")},3118200703:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(735940183),s=e(2312625946),r=e(6105929840),d=e(7592430824),o=e(6244014364);const a=new n.Ay("stories_av"),l={eventId:o.EventId.BK_USER_INTERACTION,interactionElement:o.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:o.Interaction.EXPAND}};function m(_){let{onClick:p,size:u,classPrefix:h}=_;const{embeddedUiData:E}=(0,t.useContext)(d.N),v=!!E?a.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):a.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(s.Ay,{tip:v,position:"top"},t.createElement(r.A,{className:`${h}__controls_overlay_fullscreen`,onClick:p,"aria-label":v,icon:"expand",backgroundStyle:"dark",size:u,autoClogProps:l}))}i(m,"FullscreenButton"),m.displayName="FullscreenButton";const c=m},1942976385:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(2664504268),d=e(735940183),o=e(2602118042),a=e(3391133100),l=e(2562405183),m=e(2047021170),c=e(387484329),_=e(5204962244),p=e(3207321841),u=e(7592430824);const h=new d.Ay("stories_av"),E=i(v=>{let{onSpeedChange:f,isInlinePlayer:g,onMouseEnter:y,onMouseLeave:T,className:M}=v;const O=(0,n.wA)(),[I]=(0,t.useState)({}),D=(0,l.d4)(S=>(0,m.ty)(S,"media_playback_speed")),[P,k]=(0,t.useState)(D||1),{embeddedUiData:R}=(0,t.useContext)(u.N),V=(0,_.d)(()=>`playback-speed-${(0,a.r9)()}`);(0,t.useEffect)(()=>{D&&Object.keys(I).length===0&&D!==P&&k(D)},[I,D,P]);const B=(0,t.useCallback)(S=>{const H=S.value,w=P;k(H);const F=(0,r.A)();I[F]=!0,O((0,c.AZ)({pref:"media_playback_speed",value:H})).finally(()=>{delete I[F]}),f==null||f(H,w)},[O,I,P,f]),W=(0,t.useMemo)(()=>[{label:h.t("Playback speed"),options:p.Cv.map(S=>({label:h.t("{speed}x",{speed:S,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:S}))}],[]),L=(0,t.useMemo)(()=>{var S;if(!((S=W[0])===null||S===void 0)&&S.options){for(const H of W[0].options)if(H.value===P)return H}return null},[P,W]);return t.createElement(o.A,{options:W,className:(0,s.A)("p-media_controls__control--playback-speed",M,{"p-video_controls_overlay__controls__speed":g}),size:"small",minOptionsListWidth:140,selectedOption:L,onOptionSelected:B,ariaLabel:h.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:P}),onMouseEnter:y,onMouseLeave:T,selectId:V,preventScroll:!!R})},"MediaPlaybackSpeedControl");E.displayName="MediaPlaybackSpeedControl";const A=E},8371678613:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(2562405183),s=e(5602423845),r=e(6244014364),d=e(735940183),o=e(2047021170),a=e(1942976385),l=e(2312625946);const m=new d.Ay("stories_av");function c(p){let{isInlinePlayer:u,videoRef:h,sharedClogProps:E={},className:A}=p;const v=(0,s.A)(),f=(0,n.d4)(y=>(0,o.ty)(y,"media_playback_speed"));(0,t.useEffect)(()=>{var y;h==null||(y=h.current)===null||y===void 0||y.setPlaybackRate(f)},[f,h]);const g=(0,t.useCallback)((y,T)=>{v.track(r.EventId.MEDIA_PLAYER,{...E,contexts:{...E.contexts,ui_context:{ui_step:u?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${T??1}x`,to:`${y??1}x`})},[v,E,u]);return t.createElement(l.Ay,{tip:m.t("Playback speed"),position:"top",delay:l.n1},t.createElement(a.A,{onSpeedChange:g,isInlinePlayer:u,className:A}))}i(c,"PlaybackSpeedButton"),c.displayName="PlaybackSpeedButton";const _=c},3242899446:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(2047021170),d=e(387484329),o=e(735940183),a=e(5946832122),l=e(2036354333),m=e(1610251172),c=e(2312625946),_=e(9194155027),p=e(5255740490),u=e(3749524846),h=e(9446966957);function E(){return E=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(O[P]=D[P])}return O},E.apply(this,arguments)}i(E,"_extends");const A=new o.Ay("stories_av");var v;(function(O){O.Normal="normal",O.Popover="popover",O.Vertical="vertical"})(v||(v={}));const f=i(O=>{let{children:I,volume:D,onChange:P,onMouseDown:k,onMouseUp:R,mode:V=v.Normal,setIsVerticalVolumeActive:B}=O;const W=(0,t.useContext)(u.A),L=(0,t.useCallback)(q=>{P(Math.round(q)/100)},[P]),S=(0,t.useCallback)(()=>{B==null||B(!0)},[B]),H=(0,t.useCallback)(()=>{B==null||B(!1)},[B]),w=Math.floor(D*100),F=(0,t.useCallback)(q=>t.createElement("div",E({className:"p-media_volume_slider__slider"},q)),[]),j=(0,t.useCallback)(q=>t.createElement("div",E({className:"p-media_volume_slider__track"},q)),[]),J=(0,t.useCallback)(q=>t.createElement("div",E({className:"p-media_volume_slider__fill"},q)),[]),X=t.createElement(h.A,{value:w,max:100,onChange:L,renderContainer:F,renderTrack:j,renderInner:J,onMouseDown:k,onMouseUp:R,"aria-label":A.t("Volume"),"aria-valuetext":`${w}%`,vertical:V===v.Vertical});return t.createElement("div",{className:(0,p.A)("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":W,[`p-media_volume_slider--${V}`]:V}),onMouseEnter:V===v.Vertical?S:void 0,onMouseLeave:V===v.Vertical?H:void 0,onFocus:V===v.Vertical?S:void 0,onBlur:V===v.Vertical?H:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},I),t.createElement("div",{className:"p-media_volume_slider__slider_container"},X))},"MediaVolumeSlider");f.displayName="MediaVolumeSlider";const g=f,y=new o.Ay("stories_av");function T(O){let{isInlinePlayer:I,useVerticalVolume:D,videoRef:P,className:k,backgroundStyle:R,setIsVerticalVolumeActive:V}=O;const B=(0,n.wA)(),W=(0,s.d4)(me=>(0,r.ty)(me,"media_muted"));var L;const S=(L=(0,s.d4)(me=>(0,r.ty)(me,"media_volume")))!==null&&L!==void 0?L:1,[H,w]=(0,t.useState)(S),F=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var me;P==null||(me=P.current)===null||me===void 0||me.setMuted(W)},[W,P]),(0,t.useEffect)(()=>{var me;P==null||(me=P.current)===null||me===void 0||me.setVolume(H)},[P,H]);const j=(0,t.useCallback)(()=>{B((0,d.AZ)({pref:"media_muted",value:!W})),W&&w(S)},[B,W,S]),J=(0,t.useCallback)(function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;me===0?W||B((0,d.AZ)({pref:"media_muted",value:!0})):(W&&B((0,d.AZ)({pref:"media_muted",value:!1})),!F.current&&me!==S&&B((0,d.AZ)({pref:"media_volume",value:me})))},[B,H,W,S]),X=(0,t.useRef)(J);X.current=J;const q=(0,t.useCallback)(me=>{w(me),X.current(me)},[]),G=(0,t.useCallback)(()=>{F.current=!0},[]),ne=(0,t.useCallback)(()=>{F.current=!1,X.current()},[]);(0,t.useEffect)(()=>{F.current||w(S)},[S]);const te=W?y.t("Unmute"):y.t("Mute"),le=y.t("Mute");let he="volume-off-alt";W||(H>=.6?he="volume-up":H>=.3?he="volume-medium":he="volume-down");const fe=(0,t.useMemo)(()=>t.createElement(_.A,{title:te,mainKey:y.t("M")}),[te]);if(I){const me=t.createElement(c.Ay,{tip:te,position:D?"bottom":"top",delay:c.n1,hideFromScreenReader:!0},t.createElement(l.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":le,"aria-pressed":W,onClick:j},t.createElement(m.A,{type:he,size:"inherit"})));return t.createElement(g,{volume:W?0:H,onChange:q,onMouseDown:G,onMouseUp:ne,setIsVerticalVolumeActive:V,mode:D?v.Vertical:v.Popover},me)}const ve=t.createElement(c.Ay,{tip:fe,position:"top",delay:c.PK,hideFromScreenReader:!0},t.createElement(a.A,{onClick:j,"aria-label":le,"aria-pressed":W,icon:he,size:"medium",className:k,backgroundStyle:R||"light"}));return t.createElement(g,{volume:W?0:H,onChange:q,onMouseDown:G,onMouseUp:ne},ve)}i(T,"ToggleMute"),T.displayName="ToggleMute";const M=T},4250078557:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(735940183),s=e(6422693406),r=e(7937864072);const d="MEDIA-PLAYER";function o(_){const p=(0,r.A)(),[u,h]=(0,t.useState)(!0),[E,A]=(0,t.useState)(),[v,f]=(0,t.useState)();return(0,t.useEffect)(()=>{if(A(void 0),f(void 0),!_){h(!1);return}h(!0);let g;const y=new s.S((T,M,O)=>{const I=new XMLHttpRequest;let D=!1;I.addEventListener("load",()=>{p.info(d,"vtt loaded"),h(!1);const P=I.response;g=URL.createObjectURL(P),A(g),T(I.response),P.text().then(k=>{D||f(k)})}),I.addEventListener("error",()=>{p.warn(d,"error fetching vtt"),h(!1),M(new Error(`VTT load request failed with status ${I.status}`))}),O&&O(()=>{I.abort(),D=!0}),I.responseType="blob",I.withCredentials=!0,I.open("GET",_),I.send(),p.info(d,"fetching vtt")});return()=>{y.isPending()&&y.cancel(),g&&URL.revokeObjectURL(g)}},[p,_]),{vttLoading:u,vttSrc:E,vttText:v}}i(o,"useVtt");const a=o,l=new n.Ay("stories_av");function m(_){let{vtt:p,enableMediaCaptions:u}=_;const{vttSrc:h}=a(p);return!p||!h?null:t.createElement("track",{label:l.t("Captions"),kind:"captions",src:h,default:u})}i(m,"TextTrack"),m.displayName="TextTrack";const c=m},4916948857:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(8800777280);function s(){const[d,o]=(0,t.useState)(!1),a=(0,t.useRef)(),l=(0,t.useRef)(!1),m=(0,t.useRef)(!1),c=(0,t.useCallback)(()=>{clearTimeout(a.current),a.current=setTimeout(()=>{l.current||o(!1)},1300)},[]),_=(0,t.useCallback)(()=>{o(!1),m.current=!1},[]),p=(0,t.useCallback)(()=>{o(!0),m.current=!0,c()},[c]),u=(0,t.useCallback)(()=>{m.current&&(o(!0),c())},[c]),h=(0,t.useCallback)(E=>{const A=(0,n.A)(E.target,v=>(v==null?void 0:v.dataset.preventFade)==="true");l.current=A},[]);return(0,t.useEffect)(()=>()=>clearTimeout(a.current),[]),{mouseIsOverElement:d,onMouseLeave:_,onMouseEnter:p,onMouseMove:u,onMouseOver:h}}i(s,"useDetectMouseOverElement");const r=s},9758574739:(Q,C,e)=>{"use strict";e.d(C,{e:()=>T});var t=e(3134334389),n=e(2683115972),s=e(7138682671),r=e(5375115868),d=e(4967176632),o=e(7811786890),a=e(6259241484),l=e(8300007136),m=e(3603672985),c=e(8452232783),_=e(2432967967),p=e(581167618),u=e(8739505998),h=e(6244014364),E=e(4481313819),A=e(3416652175),v=e.n(A);const f={elementName:"dispatch",onClick:{enableClogAction:!0}},g=(0,o.Wz)({notificationName:[o.mw]}),y={picked:"",notificationName:""},T=i(M=>{let{initialValues:O=y,validate:I=g,onCloseModal:D,megaphoneSpaceName:P,notificationList:k}=M;const[R,V]=(0,t.useState)(""),[B,W]=(0,t.useState)(!1),[L,S]=(0,t.useState)(!1),H=(0,l.wA)(),[w,F]=(0,t.useState)(""),j=(0,t.useCallback)(q=>F(q),[]),J=(0,t.useCallback)(()=>{if(!R){W(!0);return}let q={};if(w.length)try{q=JSON.parse(w)}catch{S(!0);return}D==null||D(),H((0,m.G0)({spaceName:P,notificationName:R,notificationData:q})),P===a.xu.LAUNCH_MODAL&&H((0,_.A)())},[R,w,H,P,D]),X=(0,t.useCallback)((q,G)=>{V(q),G("picked",q),W(!1),S(!1)},[]);return t.createElement(E.A,{eventId:h.EventId.ANALYTICS_EVENT,uiComponentName:h.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:P,clogImpression:!0},t.createElement(d.A,{initialValues:O,validate:I,onSubmit:J},q=>{let{isSubmitting:G,values:ne,setFieldValue:te}=q;return t.createElement(t.Fragment,null,t.createElement("h2",null,"\u{1F4E3} Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:v().spaceNameContainer},"Space Name",t.createElement("div",{className:v().spaceName},P)),t.createElement("div",{className:v().notificationName},"Notification Name"),t.createElement("div",{className:v().notificationList},Object.keys(k).sort().map((le,he)=>t.createElement(s.A,{text:le,htmlFor:`field-radio-${he}`,type:"inline",cursor:"pointer",key:le},t.createElement(r.A,{id:`field-radio-${he}`,name:"picked",value:le,checked:ne.picked===le,onChange:()=>X(le,te)})))),t.createElement(s.A,{text:"Notification Data",optional:!0},t.createElement(c.A,{name:"notification_data",id:"notification_data",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',onChange:j,value:w,className:v().textArea})),t.createElement("div",{className:v().alert},t.createElement(p.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:v().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(u.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),B&&t.createElement("div",{className:v().formError},"Please select a notification."),L&&t.createElement("div",{className:v().formError},"There was an error parsing Notification Data, please try again."),t.createElement(n.Ay,{autoClogProps:f,onClick:J,disabled:G},"Dispatch"))}))},"DispatcherForm");T.displayName="DispatcherForm"},4445888975:(Q,C,e)=>{"use strict";e.d(C,{R:()=>a,h:()=>l});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(3603672985),d=e(716227588),o=e(4724591729);const a=i(()=>{const m=!(0,o.KV)()||(0,o.b3)(),c=(0,n.wA)(),_=(0,s.d4)(d.y$);return(0,t.useEffect)(()=>{const p=i(u=>{m&&u.ctrlKey&&u.shiftKey&&u.key==="M"&&c((0,r.cv)(!_))},"handleKeydown");return window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}},[m,c,_]),{shouldShowDispatcherViewer:_}},"useDispatcherToggleShortcut"),l=i(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[c,_]=(0,t.useState)(m),p=(0,t.useCallback)(u=>{_(u)},[]);return{isModalOpen:c,toggleModal:p}},"useModal")},5062503310:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},4902318931:(Q,C,e)=>{"use strict";e.d(C,{$W:()=>L,sl:()=>H,Ay:()=>w});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(716227588),d=e(6259241484),o=e(7487228876),a=e(7003004874),l=e(1655938719),m=e(2938177083),c=e(101973425),_=e(4481313819),p=e(2567914105),u=e(3603672985),h=e(9881565722),E=e(4761125736),A=e(4798756512),v=e(4003148341),f=e(4244379358),g=e(6258289677),y=e(9758574739),T=e(2312625946),M=e(4445888975),O=e(5062503310),I=e(397939223),D=e.n(I);const P=i(F=>{let{megaphoneSpaceName:j,notificationList:J}=F;const{isModalOpen:X,toggleModal:q}=(0,M.h)(!1);return t.createElement("div",{className:D().container},t.createElement(T.Ay,{tip:j,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:D().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>q(!0)})),t.createElement(g.A,{isOpen:X,onRequestClose:()=>q(!1),style:O.A},t.createElement("div",{className:D().dispatcherViewerDetails},t.createElement(y.e,{megaphoneSpaceName:j,notificationList:J,onCloseModal:()=>q(!1)}))))},"DispatcherViewer");P.displayName="DispatcherViewer";const k=(0,f.A)(P),R=i(F=>{let{children:j,megaphoneSpaceName:J,notificationList:X}=F;const{shouldShowDispatcherViewer:q}=(0,M.R)();return t.createElement(t.Fragment,null,q&&t.createElement("div",{className:D().dispatcherViewer},t.createElement(k,{megaphoneSpaceName:J,notificationList:X})),j)},"DispatcherToggle");R.displayName="DispatcherToggle";const V=(0,f.A)(R),B={isInMegaphoneContainerContext:!0},W={isInMegaphoneContainerContext:!1},L=(0,t.createContext)(W),S=i(F=>{let{fetchDataOnMount:j,notifications:J,spaceName:X,children:q,shouldAlwaysRenderChildren:G,shouldPassPropsToChildren:ne,channelScopedId:te,componentClassName:le,...he}=F;var fe;const ve=(0,n.wA)(),me=(0,v.x)(),oe=(0,s.d4)(p.oY),N=(0,s.d4)(r.up),K=(0,s.d4)(ue=>(0,E._Z)(ue,"megaphone_coachmark_suppression")==="on"),{isInsideModal:x}=(0,h.k)(),b=(0,s.d4)(ue=>(0,r.Hp)(ue,X,te)),z=(0,s.d4)(ue=>(0,r.OL)(ue,X,te)),$=(0,t.useCallback)(()=>{ve((0,a.A)({notificationName:b,action:d.hw.IMPRESSION}))},[ve,b]),Z=(0,t.useCallback)(ue=>{ve((0,m.A)({spaceName:X,action:ue}))},[ve,X]),U=(0,t.useCallback)(()=>{ve((0,l.iR)({event:{type:d.jo.REQUEST_SPACES,spaces:[X]}}))},[ve,X]),ee=i(()=>G?ne&&t.isValidElement(q)?t.cloneElement(q,{...he}):t.createElement(V,{megaphoneSpaceName:X,notificationList:J},q):t.createElement(V,{megaphoneSpaceName:X,notificationList:J},null),"maybeRenderChildren");ee.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{X&&j&&U()},[j,X,U]);const se=J==null||(fe=J[b])===null||fe===void 0?void 0:fe.component,de=K&&se&&!x&&oe&&X===d.xu.IN_PRODUCT_COACHMARK;if(de&&!N){ve((0,u.co)(!0));const ue=me.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:A.tS.SESSION,sampleRate:.1}}),_e=ue.count({name:"megaphone_coachmark_suppress"});_e.addTags({notification:b}),_e.close(),me.reportTrace(ue)}return!X||!b||K&&X===d.xu.IN_PRODUCT_COACHMARK&&N||de?ee():se?t.createElement(_.A,{megaphoneSpaceName:X,megaphoneNotificationName:b},t.createElement(L.Provider,{value:B},t.createElement(V,{megaphoneSpaceName:X,notificationList:J},null),t.createElement(t.Suspense,{fallback:null},t.createElement(se,{...z,recordNotificationEventImpression:$,recordAndClearNotificationEvent:Z,notificationName:b,className:le,channelScopedId:te,...he},q)))):(J||(0,o.h)({spaceName:X,notificationName:b}),ee())},"MegaphoneContainer");S.displayName="MegaphoneContainer";const H=(0,c.Ay)(S),w=S},1466003359:(Q,C,e)=>{"use strict";e.d(C,{b:()=>d,r:()=>r});var t=e(4724591729),n=e(1658558415),s=e(796111729),r;(function(o){o.Coachmark="coachmark",o.DeprecatedCoachmark="deprecated_coachmark"})(r||(r={}));const d=i(o=>{if((0,t.Cu)()&&!(0,n.A)()){let a="Coachmark";o===r.DeprecatedCoachmark&&(a="DeprecatedCoachmark"),(0,s.Wo)().warn(`\u{1F4E3} [MEGAPHONE FRAMEWORK]: \u{1F44B} Hi! Adding a new '${a}' component? Have you considered taking advantage of our Megaphone framework? If you already did and Megaphone does not apply to your use case, that is great! you can turn off this warning by setting the 'isMegaphoneCoachmark' prop to 'false' in your '${a}' component instance.

Now, if you want to learn more about Megaphone and how it can help your use case, you can take a look at our docs (https://docs.tinyspeck.com/megaphone/) or you can find us over #devel-megaphone and we will be happy to assist you \u{1F64C}\u{1F600}
`)}},"logMegaphoneDevAwarenessWarning")},3656161791:(Q,C,e)=>{"use strict";e.d(C,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},8170244779:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389);const n=t.createContext({});n.displayName="MessageContext";const s=n},6658490498:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8677230210),n=e(3534324375);function s(r){let{userId:d,botId:o,username:a,botProfile:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:m,bot:c}=(0,t.Od)(r,{userId:d,botId:o,botProfile:l});return m?(0,n.sE)(r,m):o&&a?a:c?c.name||"":!o&&!c&&a?a:""}i(s,"getMessageSenderNameFromState")},1293324111:(Q,C,e)=>{"use strict";e.d(C,{V:()=>n});var t=e(3134334389);class n extends t.PureComponent{render(){return t.createElement(t.Fragment,null,this.props.children)}}i(n,"PassThrough"),n.displayName="PassThrough"},8950789382:(Q,C,e)=>{"use strict";e.d(C,{s:()=>f});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(352142497),d=e(82287009),o=e(8999545852),a=e(3193155968),l=e(7573598208),m=e(3110884894),c=e(6514066170),_=e(755982243),p=e(796111729),u=e(485355941),h=e(6695353875),E=e(9932860381),A=e(7176966205),v=e(9629572172);const f=(0,s.Ay)("Opens a view in a new child window",function(){var g=(0,t.coroutine)(function*(y,T,M,O){let{viewId:I,params:D,clogParams:P}=M;if(!(0,u.M2)())return;const k=T(),{isMainWindow:R}=O(v.U);if((0,h.yZ)(k)&&R&&(0,E.Xy)(I)){y((0,A.$)({viewId:I,params:D}));return}let V=!1;if((0,c.A)(k,I)){let B,W={[a.mq.Primary]:{id:I,params:D,viewType:(0,l.A)(I)}};W=y((0,o.VO)({viewSet:W,windowId:a.N2}));const L=(0,_.w)(I),S=L;if(I==="thread"&&(D!=null&&D.threadId)){const H=(0,m.Sb)(D==null?void 0:D.threadId).channelId;V=!0,W={[a.mq.Primary]:{id:H||(D==null?void 0:D.entityId),params:void 0,viewType:r.D.Channel},[a.mq.Secondary]:{id:I,params:D,viewType:r.D.Thread}},B=a.mq.Secondary}I==="channel_canvas"&&(W={[a.mq.Primary]:{id:D==null?void 0:D.channelId,params:void 0,viewType:r.D.Channel},[a.mq.Secondary]:{id:"channel_canvas",params:D,viewType:r.D.ChannelCanvas}}),y((0,d.Bb)({viewSet:W,shouldNavigateInContext:L,shouldShowSearch:S,...B&&{containerOrigin:B},clogParams:P??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:V}))}else(0,p.Ay)({getState:T}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",I)});return function(y,T,M,O){return g.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},3652828077:(Q,C,e)=>{"use strict";e.d(C,{O:()=>m});var t=e(3134334389),n=e(2844658640),s=e.n(n),r=e(1641606663),d=e(2233780559);function o(){return o=Object.assign||function(c){for(var _=1;_<arguments.length;_++){var p=arguments[_];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(c[u]=p[u])}return c},o.apply(this,arguments)}i(o,"_extends");const a=(0,d.eF)(d.vt.REACT_VIRTUALIZED,c=>s()(c));function l(c){let{refToForward:_,...p}=c;const{windowRef:u}=(0,t.useContext)(r.M),h=a(u.deref()).List;return t.createElement(h,o({ref:_},p))}i(l,"PortableReactVirtualizedList"),l.displayName="PortableReactVirtualizedList";const m=t.forwardRef((c,_)=>t.createElement(l,o({refToForward:_},c)))},4116177835:(Q,C,e)=>{"use strict";e.d(C,{A:()=>S});var t=e(3134334389),n=e(3297051565),s=e.n(n),r=e(9391594207),d=e(3514831633),o=e(2562405183),a=e(4980558152),l=e(4910963364),m=e(5795074931),c=e(613926746),_=e(1002129445),p=e(9236644324),u=e(4776067035),h=e(3170230049),E=e(6244014364),A=e(3667436146),v=e(735940183),f;(function(H){H.GO_TO_APP="go_to_app",H.VIEW_DIRECTORY="view_directory",H.COPY_APP_NAME="copy_app_name",H.COPY_APP_LINK="copy_app_link"})(f||(f={}));const g=new v.Ay("menu"),y=i(H=>{var w;const{memberId:F,serviceId:j,homeWorkspaceId:J,children:X}=H,q=(0,o.d4)(A.o),G=(0,o.d4)(U=>(0,l.G2)(U,{serviceId:j,homeWorkspaceId:J,memberId:F})),ne=F||(G==null||(w=G.app_user)===null||w===void 0?void 0:w.id),te=(0,_.fj)(G),le=(0,o.d4)(U=>(0,_.vu)(U,G)),he=(0,o.d4)(U=>(0,_.FN)(U,G)),fe=(0,o.d4)(U=>(0,_.i1)(U,G)),ve=le&&he||fe,me=(0,o.d4)(U=>(0,_.iV)(U,G)),oe=(0,o.d4)(m.TZ),N=(0,o.d4)(h.e),K=(0,t.useCallback)(U=>{N.track(E.EventId.CONTEXT_MENU_ACTION,{label:U,is_iap1:!0})},[N]),x=(0,t.useCallback)(()=>{K(f.VIEW_DIRECTORY)},[K]),b=(0,t.useCallback)(()=>{K(f.GO_TO_APP),(0,c.Z)({memberId:ne})},[K,ne]),z=(0,t.useCallback)(()=>{K(f.COPY_APP_NAME),(0,p.x3)(te)},[K,te]),$=(0,t.useCallback)(()=>{K(f.COPY_APP_LINK),(0,p.x3)(ve)},[K,ve]),Z=(0,t.useCallback)(()=>{const U=[];return ve&&(U.push({label:q?g.t("View in Slack Marketplace"):g.t("View in App Directory"),href:ve,click:x,dataQa:"bot_context_menu_app_directory"}),U.push({type:"separator"})),ne&&me&&(U.push({label:g.t("Go to app"),click:b}),U.push({type:"separator"})),U.push({label:g.t("Copy name"),click:z}),ve&&U.push({label:g.t("Copy link"),click:$}),U},[ve,ne,$,z,b,me,x,q]);return!oe||!j?(0,u.A)(X):t.createElement(a.A,{getTemplate:Z,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},X)},"BotContextMenu");y.displayName="BotContextMenu";const T=y;var M=e(8595150554),O=e(8677230210),I=e(8847766420),D=e(3244118357),P=e(82287009);function k(){return k=Object.assign||function(H){for(var w=1;w<arguments.length;w++){var F=arguments[w];for(var j in F)Object.prototype.hasOwnProperty.call(F,j)&&(H[j]=F[j])}return H},k.apply(this,arguments)}i(k,"_extends");const R={children:s().oneOfType([s().element.isRequired,s().func.isRequired]).isRequired,menuProps:s().object,serviceId:s().string,memberId:s().string,homeWorkspaceId:s().string,memberIsHuman:s().bool,includeRemoveFromChannelAction:s().bool,profileCardProps:s().object},V={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,includeRemoveFromChannelAction:!1,profileCardProps:void 0};let B=i(class extends t.Component{render(){const{serviceId:w,memberId:F,homeWorkspaceId:j,memberIsHuman:J}=this.props;return F&&J?t.createElement(M.A,{id:F},X=>this.renderTrigger(X)):w&&!J?t.createElement(T,{serviceId:w,memberId:F,homeWorkspaceId:j},X=>this.renderTrigger(X)):this.renderTrigger()}constructor(...w){var F;super(...w),F=this,this.renderProfileCard=j=>{const{serviceId:J,memberId:X,homeWorkspaceId:q,memberIsHuman:G,includeRemoveFromChannelAction:ne}=this.props;return(0,P.E9)({menuProps:j,serviceId:J,memberId:X,homeWorkspaceId:q,memberIsHuman:G,includeRemoveFromChannelAction:ne})},this.renderTrigger=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:J,serviceId:X,memberId:q,homeWorkspaceId:G,memberIsHuman:ne,includeRemoveFromChannelAction:te,...le}=F.props;return t.createElement(d.cQ,k({renderMenu:F.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},le),he=>(0,u.A)(J,he,j))}}},"ProfileCardTrigger");B.displayName="ProfileCardTrigger",B.propTypes=R,B.defaultProps=V;const W=i((H,w)=>{const{userId:F,botId:j,botProfile:J,serviceId:X}=w,{member:q,bot:G,memberIsHuman:ne}=(0,O.Od)(H,{userId:F,botId:j,botProfile:J});let te=null;if(!ne||X){const le=(0,I.ZT)(H);te=(0,D.AW)({member:q,bot:G,botProfile:J,currentTeamId:le})}return{serviceId:G&&G.id||X,memberId:q&&q.id,homeWorkspaceId:te,memberIsHuman:ne}},"mapStateToProps"),S=(0,r.N)(W)(B)},4173072539:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(6839188756),s=e(9892470785),r=e(2312625946),d=e(6968387112);const o=i(l=>{let{invitingTeam:m}=l;const c=m.domain&&`${(0,n.k7)(m.id,m.domain)}.${(0,d.Xk)()}`,_=t.createElement(s.A,{id:m.id,team:m,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:c?0:void 0});return c?t.createElement(r.Ay,{tip:c},t.createElement("span",null,_)):_},"InvitingTeamName");o.displayName="InvitingTeamName";const a=o},3694049677:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(9574544148),s=e(2312625946);const r=i(o=>{let{invitingUser:a,showEmailTooltip:l=!0}=o;var m;const c=a==null||(m=a.profile)===null||m===void 0?void 0:m.email,_=l&&c,p=t.createElement(n.A,{member:a,skipPrefCompliance:!0,tabIndex:_?0:void 0});return _?t.createElement(s.Ay,{tip:c},p):p},"InvitingUserName");r.displayName="InvitingUserName";const d=r},2408732225:(Q,C,e)=>{"use strict";e.d(C,{n:()=>m});var t=e(3134334389),n=e(3656161791),s=e(4775127335),r=e(698013937),d=e(6415587347);let o=null;const l=i(()=>(o===null&&(o=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),o),"isPrimer");class m extends t.PureComponent{render(){var _,p;const{className:u,team:h,user:E,size:A,allowDefaultProfileImage:v,fallbackUserIcon:f,fallbackUserIcon2x:g,isInteractive:y,hideUserIcon:T}=this.props,M=!!(!((_=E.profile)===null||_===void 0)&&_.is_custom_image),O=!!f||!!g,I=!(!((p=h.icon)===null||p===void 0)&&p.image_default),{imageUrl:D,imageUrl2x:P}=this.getProfileImages();if((M||v||O)&&!T){const k=E.profile.real_name;return t.createElement(s.f1,{className:u,imageUrl:M||v?D:f,imageUrl2x:M||v?P:g,memberOrBotName:k,size:A,teamId:h.id,team:h,isInteractive:y&&!l()&&!!E.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:E.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...n.C}})}return I?t.createElement(r.U,{teamName:h.name,icon:h.icon,size:A,className:u}):null}constructor(_){super(_),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var A;const{team:v,user:f,size:g}=this.props,y=(0,d.Ay)({size:g,teamOrEnterpriseId:v.id,memberId:f.id,avatarHash:(A=f.profile)===null||A===void 0?void 0:A.avatar_hash}),T=(y==null?void 0:y.imageUrl)||"",M=y!=null&&y.imageUrl2x?`${y.imageUrl2x} 2x`:"";return{imageUrl:T,imageUrl2x:M}};const{team:p,allowTeamInitials:u,shouldRenderTeamBadge:h,teamIconSize:E}=_;h&&(this.renderTeamBadge=(0,s.fp)({isExternal:!0,team:p,teamId:p.id,allowTeamInitials:u,teamIconSize:E}))}}i(m,"UserIcon"),m.displayName="UserIcon",m.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1}},7599421656:(Q,C,e)=>{"use strict";e.d(C,{B:()=>s});var t=e(2384831516),n=e(4761125736);const s=(0,t.Mz)(r=>(0,n._Z)(r,"shortcuts_workspace_picker")==="on");s.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:r=>(0,n._Z)(r,"shortcuts_workspace_picker")==="on"}},9874616273:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(8214116048);const s=i(d=>{let{width:o=20,height:a=20,className:l="",theme:m}=d;const c=m===n.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:l,src:c,alt:"Slack",width:o,height:a}))},"SlackLogo");s.displayName="SlackLogo";const r=s},5177671990:(Q,C,e)=>{"use strict";e.d(C,{An:()=>s,E:()=>n,P:()=>a,hN:()=>d,lw:()=>o});var t=e(8571983633);const n="chat_input_tab_ui";function s(l){return`tab_complete_ui_item_${l}`}i(s,"htmlIdForResultAtIndex");const r={"aria-activedescendant":void 0,"aria-controls":n,"aria-haspopup":"listbox"};function d(l){Object.entries(r).forEach(m=>{let[c,_=""]=m;return l.setAttribute(c,_.toString())})}i(d,"initAttributesOnAutocompleteInputElement");function o(l){Object.keys(r).forEach(m=>l.removeAttribute(m))}i(o,"removeAttributesOnAutocompleteInputElement");function a(l,m){l.setAttribute("aria-activedescendant",(0,t.A)(m)?"":s(m))}i(a,"updateAutocompleteInputElementWithSelectedIndex")},7841516218:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(4711108074),n=e.n(t),s=e(56548687),r=e(7136729150),d=e(6244014364);function o(a,l,m){let c=0;const _=new(n()),p=(0,s.e)();return a.forEach(u=>{const h=u.globalIndex-c;if(h>0&&_.retain(h),m&&u.type==="emoji"){_.retain(u.length),c=u.globalIndex+u.length;return}if(_.delete(u.length),u.type==="emoji"){const E={slackemoji:{text:u.label}};_.insert(E,{...u.formats})}else{const E=(0,r.A)(u.id,u.label,l);u.id==="UNVERIFIED"?p.track(d.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):p.track(d.EventId.MSG_AUTO_MENTION_CREATED,{}),_.insert(u.label,{...u.formats,slackmention:E})}c=u.globalIndex+u.length}),_}i(o,"buildPotentialMentionsDelta")},9410394460:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(796111729),n=e(3890290905);function s(r){let{globalIndex:d,results:o,matchLength:a,formats:l}=r;const m=o[0];return(0,t.Wo)().info("AUTOSLUG",`Creating emoji (${m.id})`),{id:m.id,label:`:${(0,n.Y)({name:m.name||""})}:`,globalIndex:d,length:a,formats:l,type:"emoji"}}i(s,"createPotentialEmojiObject")},6102481218:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(8086952004),n=e(8289365785),s=e(796111729),r=e(9884588328);function d(o){let{globalIndex:a,results:l,matchLength:m,formats:c}=o;const _=(0,t.A)(l,h=>!(0,r.lo)(h)),p=(0,n.A)(l);if(!_&&!p)return null;const u=_||p;return(0,s.Wo)().info("AUTOSLUG",`Creating channel mention (${u==null?void 0:u.id})`),{id:(u==null?void 0:u.id)||"",label:`#${(0,r.mG)(u)}`,globalIndex:a,length:m,formats:c,type:"mention"}}i(d,"createPotentialMentionChannelObject")},6292063345:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(8840779375),n=e(362134992),s=e(235108050),r=e(3078252698),d=e(8086952004),o=e(796111729),a=e(9762304444);const l=(0,a.Ay)("TS.ui.frecency.query",()=>[]);var m=e(4291335534),c=e(7035389884);function _(p){let{text:u,label:h,globalIndex:E,localIndex:A,results:v,matchLength:f,formats:g}=p,y,T;const M={id:"UNVERIFIED",label:h,globalIndex:E,length:h.length,formats:g,type:"mention"};if(v.length===1&&v[0].is_broadcast_keyword)return(0,o.Wo)().info("AUTOSLUG",`Creating broadcast keyword mention (${v[0].id})`),y=(0,c.KX)(v[0]),{id:v[0].id,label:y,globalIndex:E,length:f,formats:g,type:"mention"};let O=(0,t.A)(v,I=>(0,m.Pc)((0,c.KX)(I)));O=O.concat((0,t.A)(v,I=>(0,m.Pc)((0,c.KP)(I)))),O=(0,n.A)((0,s.A)(O)),O.sort((I,D)=>((0,r.A)(D)?D.length:0)-((0,r.A)(I)?I.length:0));for(let I=0;I<O.length&&(T=O[I]||"",!(h.length>T.length));I+=1){const D=(0,m.Og)(T,u,A);if(D||v.length<=1){const P=v.filter((0,c.jE)(T));if((0,m.fN)(T,h)&&P.length===1&&(D||!P[0].is_usergroup))return(0,o.Wo)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${P[0].id}). ${v.length} total results`),y=(0,c.KX)(P[0]),{id:P[0].id,label:y,globalIndex:E,length:v.length===1&&!D?M.length:T.length,formats:g,type:"mention"};if((0,m.fN)(T,h)&&P.length>1){(0,o.Wo)().info("AUTOSLUG",`${P.length} matching results, trying to break tie using frecency`);const k=l(P,h,null,{normalize:!0});if(k&&k.length>1&&k[0].score-k[1].score>=30){const R=(0,d.A)(P,{id:k[0].id});return y=R?(0,c.KX)(R):"",(0,o.Wo)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${k[0].id}=${k[0].score};${k[1].id}=${k[1].score})`),{id:(R==null?void 0:R.id)||"",label:y,globalIndex:E,length:v.length===1&&!D?M.length:T.length,formats:g,type:"mention"}}}if(D)return(0,o.Wo)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${v.length} total results)`),M.label=u.substr(A,T.length),M.length=T.length,M}}return(0,o.Wo)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${v.length} total results)`),M}i(_,"createPotentialMentionObject")},2453977996:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3078252698),n=e(4547907890),s=e(308057085),r=e(3183335528),d=e(9017940688),o=e(8405695339),a=e(647040695),l=e(3726677001),m=e(512148710);const c=m.Nb.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),_=c.filter(f=>f!==".").map(f=>`\\${f}`).join("|"),p=c.filter(f=>f!=="."&&f!=="_").map(f=>`\\${f}`).join("|"),u=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${_}|$)`,"g"),h=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${p}|$)`,"g"),E=new RegExp(`[\\.|\\s|${_}]+$`),A=new RegExp(`(${(0,a.A)().source})`,"g");function v(f){let{useChannelTagging:g=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!f)return[];let y=0;const T=[],M=g?h:u;return(0,o.A)(f,(O,I)=>{if((0,d.A)(I)||!(0,n.A)(O)||(0,r.A)(O)||(0,s.Ay)(O)){y+=(0,l.A)(O);return}(0,t.A)(O.insert)&&O.insert.replace(M,(P,k,R)=>{let V=R,B=k;const W=P.indexOf("@");W>0&&(V+=W);const L=P.indexOf("\uFF20");if(L>0&&(V+=L),g){const w=P.indexOf("#");w>0&&(V+=w);const F=P.indexOf("\uFF03");F>0&&(V+=F)}const S=k.length;B=k.replace(E,"");const H=g?B.replace(/^[@\uFF20#\uFF03]/,""):B.replace(/^[@\uFF20]/,"");H.length&&T.push({type:g&&["#","\uFF03"].includes(k.charAt(0))?"channel":"member",text:(0,t.A)(O.insert)?O.insert:"",matchLength:S,label:B,labelWithoutPrefix:H,localIndex:V,globalIndex:V+y})}),(0,t.A)(O.insert)&&O.insert.replace(A,(P,k,R,V)=>{let B=V;const W=P.indexOf(":");W>0&&(B+=W);const L=k.length,S=k.replace(/:/g,"");if(!S.length)return;const H=/^:[0-9]+:$/.test(P),w=(0,t.A)(O.insert)?O.insert.substring(0,V):"",F=/(^|\s)[0-9]+$/.test(w);H&&F||T.push({type:"emoji",text:(0,t.A)(O.insert)?O.insert:"",matchLength:L,label:k,labelWithoutPrefix:S,localIndex:B,globalIndex:B+y})}),y+=(0,l.A)(O)}),T}i(v,"getPotentialMentionMatches")},8383907204:(Q,C,e)=>{"use strict";e.d(C,{A:()=>$});var t=e(7715417323),n=e(9113979368),s=e(8571983633),r=e(9686962598),d=e(3078252698),o=e(3961021150),a=e(6696292586),l=e(4404059078),m=e(3571452446),c=e(8703681551),_=e(3051657319),p=e(506684971),u=e.n(p),h=e(4711108074),E=e.n(h),A=e(4332857818),v=e(3202757386),f=e(6564475562),g=e(3514889545),y=e(8786006583),T=e(3339229351),M=e(5591756507),O=e(6717607339);const I=T.Az-1;function D(Z,U,ee){let se=0;Z==null||Z.forEach(pe=>{(0,M.A)(pe)&&(se+=1)});const de=(U==null?void 0:U.indent)||0,ue=(ee==null?void 0:ee.indent)||0;let _e=Math.min(de+ue,I);return se===2&&(_e=ue>=de?0:de),_e}i(D,"getRelativeIndent");function P(){let{delta:Z,format:U,omitFinalBlockFormattingLine:ee=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{delta:void 0,format:void 0,omitFinalBlockFormattingLine:!1},se=new(E());Z==null||Z.eachLine((pe,ae)=>{if(se=se.concat(pe),U!=null&&U.list&&(ae!=null&&ae.list)){const Ee=D(Z,U,ae);se=se.concat(new(E())().insert(`
`,{...ae,indent:Ee}))}else if(U!=null&&U.blockquote&&(ae!=null&&ae.list)){const Ee=D(Z,U,ae);se=se.concat(new(E())().insert(`
`,{blockquote:!1,border:1,list:ae.list,indent:Ee}))}else U!=null&&U.blockquote&&(ae!=null&&ae["code-block"])?se=se.concat(new(E())().insert(`
`,{blockquote:!1,border:1,"code-block":!0})):se=se.concat(new(E())().insert(`
`,U))}),U&&U["code-block"]&&(se=se.compose((0,O.A)(se)));let ue=!0;if(U!=null&&U.list||U!=null&&U.blockquote){const pe=se.length()!==0&&se.slice(se.length()-1)||new(E()),ae=(0,y.A)(pe==null?void 0:pe.ops),Ee=ae==null?void 0:ae.attributes,{list:Le,indent:ye,border:Te}=Ee||{},Ae=Ee==null?void 0:Ee["code-block"],Ie=(U==null?void 0:U.indent)||0,Ue=Le&&(0,a.A)(Te)&&Te>0,Be=Ae&&(0,a.A)(Te)&&Te>0;ue=!(Le&&(0,a.A)(ye)&&ye>0&&ye>Ie)&&!Ue&&!Be}if(ee&&ue||!U){const pe=se.length();se=se.slice(0,pe-1)}return se}i(P,"convertDeltaToBlockFormat");var k=e(8232660909);function R(Z,U){let{formats:ee}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se="@",de=Z.index;return U==="@"?de-=1:U&&U!==" "&&(se=` ${se}`),new(E())().retain(de).delete(Z.index-de).delete(Z.length).insert(se,ee)}i(R,"get_mention_insert_delta");var V=e(4200148118),B=e(3436445810),W=e(7898936269),L=e(6958543140),S=e(9848699167),H=e(6859521351),w=e(8841789548),F=e(571104883);const j={attributes:{},logger:{error:t.A,info:t.A,warn:t.A},modules:{},onEnter:t.A},J=50,X="TEXTY",q=["code-block","blockquote","list","indent","border","header"],G=i((Z,U)=>{!Z||(0,n.A)(U)||Object.keys(U).forEach(ee=>{const se=U[ee];!(0,s.A)(se)&&!(0,r.A)(se)&&Z.setAttribute(ee,se)})},"addAttributes"),ne=i(Z=>{G(Z,{"aria-hidden":!0,tabindex:-1})},"hideElFromScreenReaders"),te=i((Z,U,ee,se)=>{Z.element.addEventListener("click",Z.onInputClick),U.root.addEventListener("focus",Z.onRootFocus),U.root.addEventListener("blur",Z.onRootBlur),U.root.addEventListener("compositionstart",Z.onCompositionStart),U.root.addEventListener("compositionend",Z.onCompositionEnd),u().msie&&U.root.addEventListener("focusout",Z.onRootFocusOut),U.on("selection-change",de=>{de&&Z.setLastSelection(de),Z.hasFocus()?Z.onFocus():Z.onBlur(),ee.onSelectionChange&&ee.onSelectionChange(de)}),(Z.useWysiwyg||ee.usePlainTextMode)&&se.addEventListener("resize",Z.onResize),U.on("text-change",(de,ue,_e)=>{Z.setLastSelection();const pe=U.getLength()>1&&ue.length()<=1;if(pe&&Z.enforceEmptyStateConsistency(),ee.onTextChange){const ae=Z.nextTextChangeCallbackSource||_e;Z.nextTextChangeCallbackSource=null,ee.onTextChange(ae,pe,Z.isInComposition)}}),U.on((0,L.A)(se).events.SCROLL_OPTIMIZE,Z.onScrollOptimize)},"configUserEvents"),le=i((Z,U)=>{const{id:ee,getTeamId:se,singleLineInput:de,tabIndex:ue,role:_e,ariaLabel:pe,ariaLabelledBy:ae,ariaDescribedBy:Ee,ariaControls:Le,ariaExpanded:ye,ariaAutocomplete:Te,ariaActiveDescendant:Ae,inputMetricBoundary:Ie}=U,Ue={id:ee,dir:"auto",role:_e||"textbox",tabindex:ue,"data-team-id":se?se():"","data-input-metric-boundary":Ie,"aria-label":pe,"aria-labelledby":ae,"aria-describedby":Ee,"aria-multiline":!de},Be=(0,F.cX)()&&(0,F.X5)()===F.h5.SAFARI,we=_e==="combobox",re=Be?"aria-owns":"aria-controls";(Be||we)&&(Ue[re]=Le),we&&(Ue["aria-expanded"]=ye),Ue["aria-autocomplete"]=Te;const ge=(0,d.A)(Ae)&&Ae.length?Ae:void 0;Ue["aria-activedescendant"]=ge,G(Z.root,Ue)},"configAttributes"),he=i((Z,U)=>!U||!U.modules||!U.modules.clipboard?{}:(0,o.A)({onPasted:Z.setLastSelection.bind(Z),logger:U.logger,getUserHighlightWords:U.getUserHighlightWords,useWysiwyg:Z.useWysiwyg,usePlainTextMode:U.usePlainTextMode,supportsAnchorText:!U.disableAnchorText,texty:Z,teamId:U.getTeamId?U.getTeamId():"",useChannelTagging:U.useChannelTagging},U.modules.clipboard),"buildClipboardOptions"),fe=i((Z,U,ee)=>Z.useWysiwyg?{convertImages:ee.includes("slackdocimage"),linkifyOnSpace:Z.useWysiwyg&&!U.disableAnchorText,supportsAnchorText:!U.disableAnchorText,teamId:U.getTeamId?U.getTeamId():""}:null,"buildSlackLinkOptions"),ve=i((Z,U,ee)=>Z.useWysiwyg&&!U.usePlainTextMode?{convertHeaders:ee.includes("header"),convertHorizontalRule:ee.includes("slackhorizontalrule"),teamId:U.getTeamId?U.getTeamId():""}:null,"buildSlackMarkdownOptions"),me=i((Z,U)=>!U||!U.modules||!U.modules.tabcomplete?!1:(0,o.A)({logger:U.logger,tooltipIsShowing:U.modules.tabcomplete.tooltipIsShowing||t.A,tooltipShow:U.modules.tabcomplete.tooltipShow||t.A,tooltipHide:U.modules.tabcomplete.tooltipHide||t.A,useWysiwyg:Z.useWysiwyg&&!U.usePlainTextMode,teamId:U.getTeamId?U.getTeamId():""},U.modules.tabcomplete),"buildTabCompleteOptions"),oe=i(Z=>!Z||!Z.modules||!Z.modules.slackmention?!1:Z.modules.slackmention,"buildSlackMentionOptions"),N=i((Z,U)=>!U||!U.modules||!U.modules.textsubstitutions?!1:((0,k.Ay)(),{useWysiwyg:Z.useWysiwyg,usePlainTextMode:U.usePlainTextMode,isInComposition:()=>Z.isInComposition,...U.modules.textsubstitutions}),"buildTextSubstitutionsOptions"),K=i((Z,U)=>!U.forceAutoslugginEnabled&&U.singleLineInput||!U||!U.modules||!U.modules.tabcomplete?!1:{getTeamId:U.getTeamId||t.A,getChannelId:U.getChannelId||t.A,enableBroadcastKeywords:U.enableBroadcastKeywords,isAutocompleteOpen:U.isAutocompleteOpen,includeAllBroadcastKeywords:U.includeAllBroadcastKeywords,getUserHighlightWords:U.getUserHighlightWords,promiseToSearchMembers:U.promiseToSearchMembers,promiseToSearchChannels:U.promiseToSearchChannels,promiseToSearchEmoji:U.promiseToSearchEmoji,onMentionReplace:U.onMentionReplace||t.A,useWysiwyg:Z.useWysiwyg,usePlainTextMode:U.usePlainTextMode,useChannelTagging:U.useChannelTagging,inlineEmojiIsEnabled:U.inlineEmojiIsEnabled},"buildAutoSlugOptions"),x=i((Z,U)=>U?{isJumbomojiEnabled:U.isJumbomojiEnabled,inlineEmojiIsEnabled:U.inlineEmojiIsEnabled,convertEmoticonsIsEnabled:U.convertEmoticonsIsEnabled,getEmojiNames:U.getEmojiNames,getLocale:U.getLocale,replaceNativeEmoji:U.replaceNativeEmoji,updateJumbomojiClass:ee=>{const se=Z.element.classList.contains("texty_emoji_only");ee&&!se&&Z.element.classList.add("texty_emoji_only"),!ee&&se&&Z.element.classList.remove("texty_emoji_only")},safeToReplaceEmoji:()=>{const ee=Z.quill.getModule("tabcomplete");return ee?!ee.isShowing():!0},teamId:U.getTeamId?U.getTeamId():"",useWysiwyg:Z.useWysiwyg,usePlainTextMode:U.usePlainTextMode}:!1,"buildSlackEmojiOptions"),b=i((Z,U)=>U?{useWysiwyg:Z.useWysiwyg,usePlainTextMode:U.usePlainTextMode,getTextChangeModules:()=>{const ee=[];return Z.quill&&(Z.quill.options.modules.textsanitization&&ee.push(Z.quill.getModule("textsanitization")),Z.useWysiwyg&&ee.push(Z.quill.getModule("slacklink")),Z.quill.options.modules.slackmention&&ee.push(Z.quill.getModule("slackmention")),K(Z,U)&&ee.push(Z.quill.getModule("autoslug")),Z.quill.options.modules.slackemoji&&ee.push(Z.quill.getModule("slackemoji")),Z.useWysiwyg&&!U.usePlainTextMode&&ee.push(Z.quill.getModule("slackmarkdown")),Z.quill.options.modules.textsubstitutions&&ee.push(Z.quill.getModule("textsubstitutions")),Z.quill.options.modules.cleanembedsincode&&ee.push(Z.quill.getModule("cleanembedsincode")),Z.quill.options.modules.cleanemptyinput&&ee.push(Z.quill.getModule("cleanemptyinput")),Z.quill.options.modules.cleanworkflowtokens&&ee.push(Z.quill.getModule("cleanworkflowtokens"))),ee},teamId:U.getTeamId?U.getTeamId():""}:!1,"buildTextChangeQueueOptions"),z=i((Z,U)=>{if(delete Z.__quill,delete Z.__blot,delete Z["__ql-matcher"],delete Z["__ql-computed-style"],!(!(Z instanceof U.HTMLElement)||A.unmountComponentAtNode(Z)))for(;Z.lastChild;){const se=Z.lastChild;Z.removeChild(se),z(se,U)}},"detachNode");let $=i(class{unload(){this.getModules().forEach(U=>{U.unload&&U.unload()}),this.element.removeEventListener("click",this.onInputClick),this.quill.root.removeEventListener("focus",this.onRootFocus),this.quill.root.removeEventListener("blur",this.onRootBlur),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.window.removeEventListener("resize",this.onResize),u().msie&&this.quill.root.removeEventListener("focusout",this.onRootFocusOut),this.quill.off(this.Quill.events.SCROLL_OPTIMIZE,this.onScrollOptimize),this.quill.rootListeners&&(this.quill.rootListeners.forEach(U=>{let[ee,se,de]=U;this.quill.root.removeEventListener(ee,se,de)}),delete this.quill.rootListeners,delete this.quill.root.addEventListener),this.quill.scroll.detach(),z(this.element,this.window)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1,this.options.onCompositionEnd&&this.options.onCompositionEnd()}onScrollOptimize(){this.options.onScrollOptimize&&this.options.onScrollOptimize()}onResize(){this.options.onResize&&this.options.onResize()}openPlusMenuShortcut(){this.options.onPlusMenuShortcut&&this.options.onPlusMenuShortcut()}onInputClick(U){this.maybeHandleLinkClick(U),!this.quill.hasFocus()&&!(0,f.A)()&&this.quill.focus()}onRootFocus(){this.onFocus()}onRootBlur(){if(this.quill.hasFocus()||(0,f.A)()&&(u().safari||u().firefox))return;const U=this.quill.getModule("tabcomplete");U&&U.hideAndReset(),this.onBlur()}onRootFocusOut(U){let{relatedTarget:ee}=U;ee&&(ee===this.window.document.body||ee===this.window.document||setTimeout(()=>{this.window.document.activeElement!==ee&&ee.focus()},0))}onFocus(){this.element.classList.contains("focus")||(this.element.classList.add("focus"),this.options.onFocus&&this.options.onFocus())}onBlur(){this.element.classList.contains("focus")&&(this.element.classList.remove("focus"),this.options.onBlur&&this.options.onBlur())}maybeHandleLinkClick(U){if(!this.options.onLinkClick)return;const ee=U.target.closest("a");if(!ee||!this.quill.root.contains(ee))return;const se=ee.getBoundingClientRect(),de=U.x-se.left,ue=se.right-U.x;if(se.width>=20&&de<5||se.width>=20&&ue<5)return;const pe=this.Parchment.find(U.target).offset(this.quill.scroll),ae=this.quill.getContents(pe,1);if(ae.ops.length===1&&(0,V.A)(ae.ops[0]))return;const Ee=(0,B.A)(this.quill.getContents(),{index:pe+1,length:0},this.quill.getFormat(pe+1,0)),Le=this.quill.getFormat(Ee),ye=this.quill.getContents(Ee.index,Ee.length);this.options.onLinkClick(U.target,Le.link,ye,Ee)}enable(){this.quill.enable(),this.element.querySelector(".ql-editor").setAttribute("tabindex",0)}disable(){this.quill.disable(),this.blur(),this.element.querySelector(".ql-editor").setAttribute("tabindex",-1)}isEnabled(){return this.quill.isEnabled()}focus(){this.isEnabled()&&this.quill.focus()}selectAll(){this.setSelection(0,this.getLength())}blur(){this.quill.blur()}hasFocus(){return this.quill&&this.quill.hasFocus()}getContents(){return this.quill?{contents:this.quill.getContents().ops}:{contents:[]}}getDelta(){var U;return((U=this.quill)===null||U===void 0?void 0:U.getContents())||new(E())}setContents(U){let{source:ee="api"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.nextTextChangeCallbackSource=ee,this.quill.setContents(U.contents,ee),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0);const se=this.quill.getModule("autoslug");se&&se.clearSearchCache()}prependContents(U){const ee=new(E())(U.contents).concat(new(E())(this.quill.getContents()));return this.setContents({contents:ee.ops})}maybeTriggerSlashCommandsAutocomplete(){if(this.quill.focus(),!this.quill.getSelection())return;const ee=this.getBlockFormat();if(!this.isEmpty()||!(0,n.A)(ee))return;const se=new(E())().insert("/");this.quill.updateContents(se,"user"),setTimeout(()=>{this.quill.setSelection(1,0,"user"),this.setSelectionAtEnd()},0)}maybeTriggerMentionAutocomplete(){this.quill.focus();const U=this.quill.getSelection();if(!U){this.options.logger.warn(X,"trying to trigger mention autocomplete but there is no range");return}const ee=this.quill.getFormat(U.index-1,1),se=this.quill.getFormat(U.index,1),de=this.quill.getLength()-1;if(U&&U.index<de&&ee.slackmention&&se.slackmention)return;const ue=this.getFormats()||{},_e=this.quill.getText(U.index-1,1),pe=R(U,_e,{formats:ue});this.quill.updateContents(pe,"user");const Ee=this.quill.getLength()-1-de;this.quill.setSelection(U.index+Ee,0,"user");const Le=this.quill.getModule("tabcomplete");Le&&Le.maybeCompleteAtCursor("user")}getTextForRange(U,ee){return this.quill.getText(U,ee)}getContentsForRange(U,ee){return this.quill.getContents(U,ee)}getLineAtCursor(){const U=this.quill.getContents(),ee=this.getSelection();if(!U||!ee)return null;const se=ee.index||0;let de,ue=0;return U.eachLine(_e=>{if(de)return;const pe=_e&&_e.ops,ae=(0,w.A)(pe,{replaceLinks:!0,replaceCode:!0,embedReplacement:"a"}),Ee=ue+(ae?ae.length:0)+1;se>=ue&&se<Ee&&(de=_e),ue=Ee}),de}getText(){return this.quill.getText().replace(/\n$/,"")}setText(U){if(!U){this.clear();return}this.nextTextChangeCallbackSource="api",this.quill.setText(U),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0)}insertText(U,ee){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,de=U;if(!(0,a.A)(de)){this.options.logger.warn(X,"no specified index");return}const ue=this.quill.getLength()-1;de=(0,l.A)(de,0,ue),ee&&this.quill.insertText(de,ee,"user"),this.setLastSelection({index:de+ee.length,length:0}),this.hasFocus()?this.quill.setSelection(this.lastSelection):se&&this.quill.setSelection(this.lastSelection,0,"silent")}insertTextAtCursor(U){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if((0,v.A)()){this.options.logger.warn(X,"do not call insertTextAtCursor from modern. use insertContentsAtCursor");return}this.lastSelection.length&&this.quill.deleteText(this.lastSelection),this.insertText(this.lastSelection.index,U,ee)}insertContentsAtCursor(U){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user",{matchBlockFormat:de=!1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ue=new(E())(U.contents);if(de){const ae=this.getBlockFormat();ae&&(ue=P({delta:ue,format:ae,omitFinalBlockFormattingLine:!0}))}const _e=new(E())().retain(this.lastSelection.index).delete(this.lastSelection.length).concat(ue),pe=this.lastSelection.index+ue.length();this.setLastSelection({index:pe,length:0}),this.quill.updateContents(_e,se),this.hasFocus()?this.quill.setSelection(pe,0,se):ee&&this.quill.setSelection(pe,0,se)}updateContents(U){const ee=new(E())(U.contents);this.quill.updateContents(ee,"api")}getFormats(U){let ee=U;return(0,a.A)(ee)||(ee=this.lastSelection.index),this.quill.getFormat(ee,0)}getBlockFormat(U){const ee=this.getFormats(U);if(!ee)return null;const se=(0,m.A)(ee,q);return(0,n.A)(se)?null:se}clear(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setLastSelection({index:0,length:0});const ee=U.is_silent?"silent":"api";this.setContents({contents:new(E())().insert(`
`)},{source:ee});const se=this.quill.getModule("autoslug");se&&se.clearSearchCache()}refreshJumbomoji(){this.quill.getModule("slackemoji").toggleJumbomoji(this.quill.getContents())}refreshContents(U){this.quill.setContents(U.contents,"silent")}getPlaceholder(){return this.placeholder?this.placeholder.innerHTML:""}setPlaceholder(U){this.placeholder||(this.placeholder=this.quill.addContainer("ql-placeholder"),ne(this.placeholder)),U?this.placeholder.innerHTML=U:this.placeholder.innerHTML=""}setAriaLabel(U){const ee=this.quill.root;if(!U){ee.removeAttribute("aria-label");return}ee.setAttribute("aria-label",U)}setAriaDescribedBy(U){const ee=this.quill.root;if(!U){ee.removeAttribute("aria-describedby");return}ee.setAttribute("aria-describedby",U)}setActiveDescendant(U){const ee=this.quill.root;if(!U){ee.removeAttribute("aria-activedescendant");return}ee.setAttribute("aria-activedescendant",U)}getSelection(){return!this.hasFocus()&&this.lastSelection?this.lastSelection:this.quill.getSelection()}getBounds(U,ee){return this.quill.getBounds(U,ee)}getFormat(U){return U?this.quill.getFormat(U):this.quill.getFormat(this.lastSelection)}setSelection(U){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.isEnabled())return!1;let se=U,de=ee;if(!(0,a.A)(se)&&!(0,a.A)(de))return!1;const ue=this.quill.getLength()-1;se=(0,l.A)(se,0,ue),de=(0,l.A)(de,0,ue-se);try{return this.quill.setSelection(se,de),!0}catch(_e){return this.options.logger.error(X,`Failed to set selection (${_e})`),_e.stack&&this.options.logger.error(X,_e.stack),!1}}setSelectionAtEnd(){const U=this.getLength();this.setSelection(U,0)&&(this.element.querySelector(".ql-editor").scrollLeft=1e4)}isEmpty(){return this.quill.getLength()<=1}getLength(){return this.quill.getLength()-1}isCursorInPreBlock(){const U=this.quill.getSelection();if(!U)return!1;if(this.useWysiwyg&&!this.options.usePlainTextMode){const se=this.quill.getFormat(U);return!!(se&&se["code-block"])}const ee=this.quill.getText(0,U.index+U.length);return(0,S.A)(ee)}isIndexInCode(U){const ee=this.quill.getText(0,U);return(0,H.A)(ee)}deleteSelection(){const U=this.quill.getSelection();U&&U.length&&(this.quill.deleteText(U.index,U.length),this.quill.setSelection(U.index))}deleteText(U,ee){this.quill.deleteText(U,ee)}clearHistory(){this.quill.history.clear()}setLastSelection(U){U?this.lastSelection=U:this.isEmpty()?this.lastSelection={index:0,length:0}:this.lastSelection=this.quill.getSelection()||this.lastSelection}getModules(){const U=[];return Object.keys(this.quill.options.modules).forEach(ee=>{const se=this.quill.getModule(ee);se&&U.push(se)}),U}enforceEmptyStateConsistency(){this.placeholder&&(this.placeholder.offsetHeight,this.placeholder.style.transform="translateZ(0)",this.placeholder.style.transform="")}constructor(U,ee,se){if(!U||U.tagName!=="DIV")throw new Error('Texty: param "element" must be <div> element');this.options=(0,o.A)({},j,(0,c.A)(ee,s.A));const de=this.options.isMultiverseQuillEnabled&&this.options.window?this.options.window:window;this.Quill=se(de),this.Parchment=this.Quill.import("parchment"),this.onInputClick=this.onInputClick.bind(this),this.onRootFocus=this.onRootFocus.bind(this),this.onRootBlur=this.onRootBlur.bind(this),this.onRootFocusOut=this.onRootFocusOut.bind(this),this.onResize=(0,g.A)(this.onResize.bind(this),J),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onScrollOptimize=this.onScrollOptimize.bind(this),this.window=de,this.element=U,this.placeholder=null,this.setLastSelection({index:0,length:0}),this.nextTextChangeCallbackSource=null,this.isInComposition=!1,this.useWysiwyg=this.options.useWysiwyg,this.options.singleLineInput&&U.classList.add("texty_single_line_input"),this.options.showTextyTooltips||U.classList.add("texty_hide_tooltips"),this.options.className&&this.options.className.split(" ").forEach(pe=>{U.classList.add(pe)});const ue=["slackemoji","unlink"];if(this.options.modules.slacksearch&&(ue.push("slacksearchtokenmodifier"),ue.push("slacksearchtokenvalue")),this.options.modules.slackmention&&ue.push("slackmention"),this.options.modules.slackhorizontalrule&&ue.push("slackhorizontalrule"),this.options.modules.slackdocimage&&ue.push("slackdocimage"),this.options.useWorkflowTokens&&ue.push("workflowtoken"),this.options.modules.canvasvariable&&ue.push("canvasvariable"),this.useWysiwyg&&!this.options.usePlainTextMode){const{formats:pe}=(0,W.A)({overrideDefaultFormats:ee.overrideDefaultFormats,overridesDefaultComposerButtons:ee.overridesDefaultComposerButtons,useWorkflowTokens:ee.useWorkflowTokens,useExpandedRichText:ee.useExpandedRichText});if(pe.forEach(ae=>{["h1","h2","h3"].includes(ae)?ue.includes("header")||ue.push("header"):["bullet-list","ordered-list","check-list"].includes(ae)?ue.includes("list")||ue.push("list"):ue.push(ae)}),ue.push("indent"),!this.options.modules.slackdocslist&&this.options.nestedListDepth){const ae=this.options.nestedListDepth;if(ae){const Ee=this.Quill.import("formats/indent"),Le=(0,_.A)(1,ae);Ee.whitelist=Le}}}const _e=this.options.useQuillClass||this.Quill;this.quill=new _e(U,{formats:ue,scrollingContainer:this.options.scrollingContainerSelector,modules:{clipboard:he(this,this.options),keyboard:{...this.options.modules.keyboard,onEnterExternal:this.options.onEnter,onBackspaceExternal:this.options.onBackspace,onEscapeExternal:this.options.onEscape,onTabExternal:this.options.onTab,texty:this,singleLineInput:this.options.singleLineInput,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled,teamId:ee.getTeamId?ee.getTeamId():"",useWysiwyg:this.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,showLinkForm:this.options.showLinkForm,useExpandedRichText:this.options.useExpandedRichText},tabcomplete:me(this,this.options),textsubstitutions:N(this,this.options),slackmention:oe(this.options),slackemoji:x(this,this.options),slacklink:fe(this,this.options,ue),slackdocimage:this.options.modules.slackdocimage,slackdocslist:this.options.modules.slackdocslist,slackmarkdown:ve(this,this.options,ue),slackhorizontalrule:this.options.modules.slackhorizontalrule,textchangequeue:b(this,this.options),textsanitization:{stripNewlines:this.options.singleLineInput},autoslug:K(this,this.options),workflowtoken:this.options.useWorkflowTokens?{onClick:this.options.workflowTokenClick}:null,cleanembedsincode:this.options.modules.cleanembedsincode,cleanemptyinput:this.options.modules.cleanemptyinput,cleanworkflowtokens:this.options.modules.cleanworkflowtokens,canvasvariable:this.options.modules.canvasvariable}}),te(this,this.quill,this.options,this.window),le(this.quill,this.options),this.setPlaceholder(this.options.placeholder),ne(this.quill.clipboard.container)}},"BaseTextyClass")},6260303329:(Q,C,e)=>{"use strict";e.d(C,{A:()=>j});var t=e(8383907204),n=e(6958543140),s=e(3344982765),r=e(1296559413),d=e(9608867179),o=e(8239411787),a=e(4657029696),l=e(2884895025),m=e(9475882758),c=e(2024448144),_=e(9899103555),p=e(1957236872),u=e(6202619371),h=e(3409151135),E=e(8653415088),A=e(5998917644),v=e(6299559191),f=e(2557000613),g=e(7363468123),y=e(8112654178),T=e(7254545653),M=e(1306263562),O=e(1316182475),I=e(7991260153),D=e(3225969796),P=e(679304348),k=e(7293800748),R=e(5960264416),V=e(3695531135),B=e(3448755266),W=e(9973095253),L=e(4587547882);const S=new WeakMap,H=i(J=>!!S.get(J),"isQuillInitialized"),w=i(J=>{S.set(J,!0)},"setQuillInitialized");function F(J){const X=(0,n.A)(J);if(H(X))return X;X.register({"modules/tabcomplete":(0,r.A)(J),"modules/textsubstitutions":(0,a.A)(J),"modules/cleanembedsincode":(0,y.A)(J),"modules/cleanemptyinput":(0,T.A)(J),"modules/clipboard":(0,d.A)(J),"modules/keyboard":(0,o.Ay)(J),"modules/slackmention":(0,_.A)(J),"modules/slackemoji":(0,h.A)(J),"modules/textchangequeue":(0,f.A)(J),"modules/textsanitization":(0,g.A)(J),"modules/autoslug":(0,s.A)(J),"modules/slacklink":(0,l.Ay)(J),"modules/slackmarkdown":(0,M.Ay)(J),"modules/slackhorizontalrule":(0,v.A)(J),"modules/workflowtoken":(0,O.A)(J),"modules/cleanworkflowtokens":(0,I.Ay)(J),"modules/slackdocslist":B.A,"modules/canvasvariable":(0,W.A)(J),"formats/slacksearchtokenmodifier":(0,m.A)(J),"formats/slacksearchtokenvalue":(0,c.A)(J),"formats/slackmention":(0,p.A)(J),"formats/slackemoji":(0,E.A)(J),"formats/unlink":(0,u.A)(J),"formats/slackhorizontalrule":(0,A.A)(J),"formats/workflowtoken":(0,D.Gs)(J),"formats/strike":(0,P.A)(J),"formats/border":(0,R.Ay)(J),"formats/list":V.A,"formats/list/item":V.D,"formats/canvasvariable":(0,L.Ay)(J)},!0);const{CodeBlock:q}=(0,k.Ay)(J),G=X.import("blots/inline"),ne=X.import("formats/bold"),te=X.import("formats/italic"),le=X.import("formats/strike"),he=X.import("formats/code"),fe=X.import("formats/link"),ve=X.import("formats/unlink"),me=X.import("formats/slackemoji"),oe=X.import("formats/slackmention"),N=X.import("formats/workflowtoken");return q.allowedChildren.push(G),q.allowedChildren.push(ne),q.allowedChildren.push(te),q.allowedChildren.push(le),q.allowedChildren.push(he),q.allowedChildren.push(fe),q.allowedChildren.push(ve),q.allowedChildren.push(me),q.allowedChildren.push(oe),q.allowedChildren.push(N),X.register({"formats/code":q},!0),w(X),X}i(F,"initQuill");let j=i(class extends t.A{constructor(X,q){super(X,q,F)}},"CanvasTextyClass")},7394828365:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3134334389);const n=t.createContext({})},4206015041:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(4711108074),n=e.n(t),s=e(3078252698),r=e(6217320234),d=e(3339229351),o=e(647040695),a=e(9936232041),l=e(6317044431),m=e(3982736577),c=e(3829348308),_=e(9907843289),p=e(4547907890),u=e(308057085),h=e(3183335528),E=e(2827252833),A=e(9017940688),v=e(8405695339),f=e(6533394955),g=e(3726677001),y=e(1089076149),T=e(6859521351),M=e(1632207548),O=e(8581994840),I=e(2056853624),D=e(8792003313);const P=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),k=i(V=>P.test(V),"isUnicodeChar");function R(V){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const W=new(n());let L=0,S=0;if(!B.inlineEmojiIsEnabled)return W;let H=null;return(0,v.A)(V,(w,F)=>{const j=!(0,A.A)(F),J=(0,g.A)(w);if(!j||!(0,p.A)(w)||(0,u.Ay)(w)||(0,h.A)(w)){L+=J,H=w;return}const X=w.attributes;let q=[];const G=B.useWysiwyg&&!B.usePlainTextMode;let ne="";(0,_.DU)()&&(0,s.A)(w.insert)?ne=w.insert.replace(/\uFF1A/g,":"):ne=(0,s.A)(w.insert)?w.insert:"";const te=G?[]:(0,M.A)(ne);ne.replace((0,o.A)(),(he,fe,ve)=>{if(!G&&(0,O.A)(ve,te)||!G&&(0,T.A)((0,y.A)(V,0,L+ve)))return;let me=(0,I.A)(he,{emojiNames:B.emojiNames,locale:B.locale||"",teamId:B.teamId||""});if(me){const oe=/^:[0-9]+:$/.test(me),N=ne.substring(0,ve),K=/(^|\s)[0-9]+$/.test(N);oe&&K&&(me="")}me&&q.push({match:me,index:ve,matchLength:he.length,attributes:X})});const le=B.teamId&&(0,f.getStateByTeamId)(B.teamId);if(B.replaceNativeEmoji){const he=(0,l.A)(B.teamId);ne.replace(he,(fe,ve,me,oe)=>{if(oe>0){const b=ne.charAt(oe-1);if(b===d._x||k(b)&&l.p.includes(fe))return}const N=(0,m.A)(fe)||"",K=(0,c.qJ)(le,N),x=K?`:${K}:`:null;x&&q.push({match:x,index:oe,matchLength:fe.length,nativeEmojiReplacement:!0,attributes:X})})}if(q=(0,r.A)(q,"index"),q.length){let he=0,fe=0;q.forEach((ve,me)=>{let oe=!1,N=ve.match,K=0,x=ve.matchLength;me===0?K=L+ve.index-S:K=ve.index-he-fe;const b=N.match(D.x);let z=null,$=null;if(b&&($=parseInt(b[2],10)||null,z=parseInt(b[3],10)||null),!ve.nativeEmojiReplacement&&me===0&&ve.index===0&&b&&H&&(0,E.Ay)(H)){const Z=(0,a.A)((0,E.Um)(H));(!z&&(0,c.Fm)(le,{text:(Z==null?void 0:Z.name)||"",teamId:B.teamId||""})||z&&$!==z&&(0,c.pA)(le,{text:(Z==null?void 0:Z.name)||"",teamId:B.teamId||""}))&&(K-=1,x+=1,N=`:${Z==null?void 0:Z.name}:${N}`,oe=!0)}he=ve.index,fe=ve.matchLength,S=L+he+fe,(oe||!z)&&(K&&W.retain(K),W.delete(x).insert({slackemoji:{text:N}},ve.attributes))})}L+=J,H=w}),W}i(R,"buildEmojiReplacementDelta")},7898936269:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,E:()=>t});var t;(function(s){s.NONE="NONE",s.START="START",s.OPEN="OPEN"})(t||(t={}));function n(s){let{overrideDefaultFormats:r,overridesDefaultComposerButtons:d,useWorkflowTokens:o,useQuipTokens:a=!1,useVariables:l=!1,useExpandedRichText:m=!1,useChannelCanvasShareSelection:c=!1,quipThreadButtonType:_=t.NONE,reachMaxVariables:p=!1,useAddReaction:u=!1}=s;if(m)return{formats:["h1","h2","h3","bold","italic","strike","link","code","bullet-list","check-list","ordered-list","check-list","code-block","blockquote"],buttons:[["menu"],["bold","italic","strike","code","link"],["ordered-list","bullet-list","check-list","blockquote","code-block","slackhorizontalrule"]],menuItems:["h1","h2","h3","paragraph"],menuPosition:"top-left"};if(o)return{formats:["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],buttons:[["bold","italic","strike","code","link"],["ordered-list","bullet-list","blockquote","code-block"]]};if(a){const A=[["menu"],["bold","italic","strike"],["code"]],v=l?["link",p?"variable-limit-reached":"insert-variable"]:["link"];A.push(v);const f=[];switch(_){case t.START:u&&f.push("add-reaction"),f.push("start-thread");break;case t.OPEN:f.push("open-thread");break;default:break}return A.push(f),c&&A.push(["channel-canvas-share"]),{formats:["bold","italic","strike"],buttons:A,menuItems:["paragraph","h1","h2","h3","option-list-divider","check-list","ordered-list","bullet-list","option-list-divider","code-block","blockquote"]}}let h=["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],E=[["bold","italic","strike"],["link"],["ordered-list","bullet-list"],["blockquote"],["code","code-block"]];return h.includes("border")||h.push("border"),r&&(h=r),d&&(E=d),{formats:h,buttons:E}}i(n,"getButtonsAndFormats")},6958543140:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(2233780559),n=e(6087439017),s=e(7010795574),r=e.n(s);const o=(0,t.eF)(t.vt.QUILL,a=>a===window?(0,n.A)():r()(a))},8354595181:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_,Ru:()=>n.a});var t=e(4711108074),n=e.n(t),s=e(6087439017),r=e(8659028801),d=e(5924356270),o=e(6260303329),a=e(1296559413),l=e(9608867179),m=e(8239411787);const c=(0,s.A)(),_=r.A},4587547882:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d});var t=e(6958543140);const n="c-texty_canvas_variable__content",s="c-texty_canvas_variable__wand_icon",r="c-texty_canvas_variable__variable_icon";function d(o){const l=(0,t.A)(o).import("blots/embed"),m=o||window;let c=i(class Yr extends l{static create(p){const u=super.create(p.name);return u.setAttribute("data-name",p.name),u.setAttribute("data-template-type",p.templateType),u}static value(p){return{name:p.getAttribute("data-name"),templateType:p.getAttribute("data-template-type")}}constructor(...p){super(...p);const[u]=p,{name:h}=Yr.value(u);this.contentNode.classList.add(n);const E=m.document.createElement("i");E.classList.add(r,"c-icon"),this.contentNode.appendChild(E);const A=m.document.createElement("span");A.textContent=h,this.contentNode.appendChild(A)}},"CanvasVariable");return c.blotName="canvasvariable",c.tagName="button",c.className="c-texty_canvas_variable",c}i(d,"getCanvasVariableFormat")},7293800748:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>s});var t=e(6958543140),n=e(8207536819);function s(a){const l=(0,t.A)(a),m=l.import("blots/container"),c=l.import("blots/block"),_=l.import("blots/inline"),p=l.import("blots/text"),u=l.import("blots/break"),h=l.import("blots/cursor");let E=i(class extends m{static create(g){const y=super.create(g);return y.setAttribute("spellcheck",!1),y}html(g,y){const T=this.children.map(M=>M.domNode.innerText).join(`
`).slice(g,g+y);return`<pre>${(0,n.A)(T)}</pre>`}},"CodeBlockContainer"),A=i(class extends c{static register(){l.register(E)}},"CodeBlock"),v=i(class extends _{},"Code");return v.blotName="code",v.tagName="CODE",A.blotName="code-block",A.className="ql-code-block",A.tagName="DIV",E.blotName="code-block-container",E.className="ql-code-block-container",E.tagName="DIV",E.allowedChildren=[A],A.allowedChildren=[p,u,h],A.requiredContainer=E,A.TAB="  ",{Code:v,CodeBlockContainer:E,CodeBlock:A}}i(s,"getCodeBlockFormat");const{Code:r,CodeBlockContainer:d,CodeBlock:o}=s(window)},5960264416:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>n});var t=e(6958543140);function n(r){const o=(0,t.A)(r).import("parchment");let a=i(class extends o.Attributor.Class{add(c,_){let p=_;if(p==="+1"||p==="-1"){const h=this.value(c)||0;p=(p==="+1"?h+1:h-1).toString()}if(parseInt(p,10)===0)return this.remove(c,p),!0;const u=c==null?void 0:c.parentNode;return c.tagName==="LI"&&u&&parseInt(p,10)>0?(super.add(u,p),u.querySelectorAll("li").forEach(h=>{super.add(h,p)}),!0):(super.add(c,p),this.cleanup(),!0)}remove(c,_){const p=c==null?void 0:c.parentNode;parseInt(_,10)===0&&(p&&(p.tagName==="OL"||p.tagName==="UL")&&(super.remove(p),p.querySelectorAll("li").forEach(u=>{super.remove(u)})),c.tagName==="DIV"&&c.classList.contains("ql-border-1")&&c.classList.contains("ql-code-block")&&super.remove(c),c.tagName==="BLOCKQUOTE"&&c.classList.contains("ql-border-1")&&super.remove(c))}canAdd(c,_){return c&&super.canAdd(c,_)||c&&super.canAdd(c,parseInt(_,10))||(c==null?void 0:c.parentNode)&&super.canAdd(c.parentNode,_)}value(c){return c&&parseInt(super.value(c),10)||(c==null?void 0:c.parentNode)&&parseInt(super.value(c.parentNode),10)||void 0}cleanup(){setTimeout(()=>{document.querySelectorAll("p[class*='ql-border-']").forEach(c=>{super.remove(c)})},0)}},"BorderAttributor");return new a("border","ql-border",{scope:o.Scope.BLOCK,whitelist:[1,2]})}i(n,"getSlackBorderFormat");const s=n(window)},3695531135:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c,D:()=>m});var t=e(6087439017),n=e(4505564445);const s=(0,t.A)(),r=s.import("parchment"),d=s.import("blots/block"),o=s.import("blots/inline"),a=s.import("blots/container");let l=i(class extends o{checkUncheck(p,u){p.preventDefault(),p.stopPropagation(),s.find(u.closest(".ql-editor").parentNode).isEnabled()&&(p.target.focus(),document.activeElement.click())}moveCursorLeft(p,u){const h=s.find(u.closest(".ql-editor").parentNode),E=h.getSelection();h.isEnabled()&&E&&E.index>0&&setTimeout(()=>{h.setSelection(E.index-1,E.length)},0)}moveCursorRight(p,u){const h=s.find(u.closest(".ql-editor").parentNode),E=h.getSelection();h.isEnabled()&&E&&E.index>=0&&setTimeout(()=>{h.setSelection(E.index,E.length)},0)}moveCursorDown(p,u){const h=s.find(u.closest(".ql-editor").parentNode),E=h.getSelection();if(h.isEnabled()){const v=h.getLine(E.index)[0];if(v&&v.domNode){const f=v.next,g=v.parent;if(f){const y=f.domNode.querySelector(".slack-docs-list-item-checkbox");if(y){const T=h.getIndex(f);return setTimeout(()=>{h.setSelection(T,0),y.focus()},0),!1}}else{let y;if(g&&g.next&&g.next.children&&g.next.children.head&&g.next.children.head.domNode&&g.next.children.head.domNode.querySelector&&(y=g.next.children.head.domNode.querySelector(".slack-docs-list-item-checkbox")),y){const M=h.getIndex(g.next);return setTimeout(()=>{h.setSelection(M,0),y.focus()},0),!1}const T=h.getSelection();T&&h.setSelection(T.index,T.length)}}}return!0}moveCursorUp(p,u){const h=s.find(u.closest(".ql-editor").parentNode),E=h.getSelection();if(h.isEnabled()){const v=h.getLine(E.index)[0];if(v&&v.domNode){const f=v.prev,g=v.parent;if(f){const y=f.domNode.querySelector(".slack-docs-list-item-checkbox");if(y){const T=h.getIndex(f);return setTimeout(()=>{h.setSelection(T,0),y.focus()},0),!1}}else{let y;if(g&&g.prev&&g.prev.children&&g.prev.children.tail&&g.prev.children.tail.domNode&&g.prev.children.tail.domNode.querySelector&&(y=g.prev.children.tail.domNode.querySelector(".slack-docs-list-item-checkbox")),y){const M=h.getIndex(g.prev.children.tail);return setTimeout(()=>{h.setSelection(M,0),y.focus()},0),!1}const T=h.getSelection();T&&T.index&&T.index-1>=0&&h.setSelection(T.index-1,T.length)}}}return!0}onTab(p,u){const h=document.activeElement;if(h.classList.contains("slack-docs-list-item-checkbox")){const E=s.find(u.closest(".ql-editor").parentNode);if(E.isEnabled()){const A=E.getSelection(),v=E.getFormat(A),f=parseInt(v.indent||0,10);let y=(p.shiftKey?"-1":"+1")==="+1"?1:-1;return v.direction==="rtl"&&(y*=-1),E.format("indent",f+y,"user"),h.focus(),!1}}return!0}constructor(p){super(p),p.addEventListener("keydown",u=>{u&&u.keyCode===n.UQ&&this.moveCursorLeft(u,p),u&&u.keyCode===n.LE&&this.moveCursorRight(u,p),u&&u.keyCode===n.n6&&this.moveCursorDown(u,p),u&&u.keyCode===n.i7&&this.moveCursorUp(u,p),u&&u.keyCode===n.I6&&this.checkUncheck(u,p),u&&u.keyCode===n.wn&&this.onTab(u,p),u.preventDefault()})}},"SlackDocsListItemCheckbox");l.blotName="slack-docs-list-item-checkbox",l.tagName="SLACKDOCSLISTITEMCHECKBOX",s.register(l,!0);let m=i(class extends d{static formats(p){return p.tagName===this.tagName?void 0:super.formats(p)}format(p,u){p===c.blotName&&!u?this.replaceWith(r.create(this.statics.scope)):super.format(p,u)}remove(){this.prev===null&&this.next===null?this.parent.remove():super.remove()}replaceWith(p,u){return this.parent.isolate(this.offset(this.parent),this.length()),p===this.parent.statics.blotName?(this.parent.replaceWith(p,u),this):(this.parent.unwrap(),super.replaceWith(p,u))}},"SlackDocsListItem");m.blotName="list-item",m.tagName="LI";let c=i(class extends a{static create(p){const u=p==="ordered"?"OL":"UL",h=super.create(u);return(p==="checked"||p==="unchecked")&&h.setAttribute("data-checked",p==="checked"),h}static formats(p){if(p.tagName==="OL")return"ordered";if(p.tagName==="UL")return p.hasAttribute("data-checked")?p.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}checkUncheck(p,u){if(p&&p.target&&p.target.tagName&&p.target.tagName!=="SLACKDOCSLISTITEMCHECKBOX")return;p.preventDefault(),p.stopPropagation();const h=s.find(u.closest(".ql-editor").parentNode);if(h.isEnabled()){const E=p.target.parentNode.parentNode,A=p.target.parentNode;if(E!==u)return;const v=this.statics.formats(u),f=r.find(A);v==="checked"?(f.format("list","unchecked"),p.target.setAttribute("aria-checked","false")):v==="unchecked"&&(f.format("list","checked"),p.target.setAttribute("aria-checked","true"));const g=h.getIndex(f);h.setSelection(g,0),setTimeout(()=>{p.target.focus()})}}format(p,u){this.children.length>0&&this.children.tail.format(p,u)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(p,u){p instanceof m&&super.insertBefore(p,u);let h;p&&p.parent&&p.parent.domNode&&p.parent.domNode.dataset&&p.parent.domNode.dataset.checked&&(p.parent.domNode.dataset.checked==="true"||p.parent.domNode.dataset.checked==="false")&&(p.domNode.querySelectorAll(".slack-docs-list-item-checkbox").length||(h=r.create("slack-docs-list-item-checkbox"),h.domNode.setAttribute("role","checkbox"),p.parent.domNode.dataset.checked==="true"?h.domNode.setAttribute("aria-checked","true"):h.domNode.setAttribute("aria-checked","false"),h.domNode.setAttribute("tabindex","-1"),h.domNode.classList.add("slack-docs-list-item-checkbox"),p.domNode.prepend(h.domNode)))}optimize(){super.optimize();const p=this.next;p!=null&&p.prev===this&&p.statics.blotName===this.statics.blotName&&p.domNode.tagName===this.domNode.tagName&&p.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(p.moveChildren(this),p.remove())}replace(p){if(p.statics.blotName!==this.statics.blotName){const u=r.create(this.statics.defaultChild);p.moveChildren(u),this.appendChild(u)}super.replace(p)}constructor(p){super(p),p.addEventListener("click",u=>this.checkUncheck(u,p))}},"SlackDocsList");c.blotName="list",c.scope=r.Scope.BLOCK_BLOT,c.tagName=["OL","UL"],c.defaultChild="list-item",c.allowedChildren=[m]},8653415088:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(7752974446),n=e.n(t),s=e(3078252698),r=e(8086952004),d=e(8525228540),o=e(3043682041),a=e(9936232041),l=e(8556787853),m=e(6533394955),c=e(796111729),_=e(3829348308),p=e(2047021170),u=e(9052502926),h=e(488107601),E=e(9293534148),A=e(5799716058),v=e(6958543140),f=e(9421999304);function g(T,M){let O=M;return(0,p.ty)(T,"a11y_animations")||(O=(0,l.Ay)(T,{url:M,stopAnimations:!0,isEmoji:!0})),O}i(g,"getActualEmojiUrl");function y(T){const M=(0,v.A)(T),O=T||window,I=M.import("blots/embed");let D=i(class extends I{static create(k){let R;(0,s.A)(k)?((0,c.Wo)().error("slackemoji_bad_input"),R=k):R=k.text;const V=super.create(R);V.setAttribute("data-id",R),V.setAttribute("data-title",R),V.setAttribute("data-stringify-text",R),V.setAttribute("class","emoji"),V.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),V.setAttribute("alt",(0,A.A)(R));const B=(0,a.A)(R),W=B?B.name:"";return V.addEventListener("load",L=>{const S=L.target;let H=null;if(S.closest)H=S.closest(".ql-editor");else if(O.document.documentElement.contains(S)){let j=S;do{if(j.classList.contains("ql-editor")){H=j;break}j=j.parentElement||j.parentNode}while(j!==null&&j.nodeType===1)}if(!H)return;const w=H.getAttribute("data-team-id");let F=`background-image: url(${n()});`;if(w){const j=(0,m.getStateByTeamId)(w),J=(0,f.JK)({teamOrEnterpriseId:w}),X=(0,d.bR)({state:j,locale:J,name:R})||R;X&&X!==R&&(V.setAttribute("data-title",X),V.setAttribute("alt",(0,A.A)(X)));const q=(0,_.Ez)(j,{...k,teamId:w,emojiMode:(0,o.w)(j,{forceDisplay:!0}),emojiSize:h.lw.LARGE});q?(F=`background-image: url(${g(j,q)});`,B&&(0,_.Fm)(j,{text:W,teamId:w})&&S.setAttribute("data-has-skin-tone","")):(F="background-image: none;",S.classList.add("sk_foreground_low_solid_bg","rounded"),(0,u.eW)(w,[W]).then(G=>{var ne;const te=(ne=(0,r.A)(G,["name",W]))===null||ne===void 0?void 0:ne.value;S.classList.remove("sk_foreground_low_solid_bg","rounded"),te?(F=`background-image: url(${g(j,te)});`,S.setAttribute("style",F)):S.setAttribute("style",`background-image: url(${n()});`)}))}S.setAttribute("style",F),(0,E.sJ)(W)}),V}static value(k){return{text:k.getAttribute("data-id")}}},"SlackEmoji");return D.blotName="slackemoji",D.tagName="img",D}i(y,"getSlackEmojiFormat")},5998917644:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/block/embed");let o=i(class extends d{static formats(){return{slackhorizontalrule:!0}}},"SlackHorizontalRule");return o.blotName="slackhorizontalrule",o.tagName="hr",o}i(n,"getSlackHorizontalRuleFormat")},1957236872:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(5255740490),n=e(735940183),s=e(9293534148),r=e(6958543140);const d=new n.Ay("texty");function o(a){const m=(0,r.A)(a).import("blots/inline");let c=i(class extends m{static create(p){const u=super.create(p);u.setAttribute("data-id",p.id),u.setAttribute("data-label",p.label),u.setAttribute("spellcheck","false"),p.unverified&&u.setAttribute("data-title",d.t("Several matches for {name}",{name:p.label}));const h=(0,t.A)("c-member_slug","c-member_slug--link","ts_tip_texty",{"c-member_slug--mention":p.mention,"c-member_slug--unverified":p.unverified});return u.setAttribute("class",h),u.setAttribute("dir","ltr"),(0,s.AH)(p==null?void 0:p.id),u}static formats(p){return{id:p.getAttribute("data-id"),label:p.getAttribute("data-label"),mention:p.classList.contains("c-member_slug--mention"),unverified:p.classList.contains("c-member_slug--unverified")}}},"SlackMention");return c.blotName="slackmention",c.tagName="ts-mention",c}i(o,"getSlackMentionFormat")},9475882758:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/inline");let o=i(class extends d{static create(l){const m=super.create(l);return m.setAttribute("data-name",l.name),m}static formats(l){return{name:l.getAttribute("data-name")}}},"SlackSearchTokenModifier");return o.blotName="slacksearchtokenmodifier",o.tagName="ts-searchtoken-modifier",o}i(n,"getSlackSearchTokenModifierFormat")},2024448144:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/inline");let o=i(class extends d{static create(l){const m=super.create(l);return m.setAttribute("data-text",l.text),m.setAttribute("data-ghost",l.ghost),m}static formats(l){return{text:l.getAttribute("data-text"),ghost:l.getAttribute("data-ghost")}}},"SlackSearchTokenValue");return o.blotName="slacksearchtokenvalue",o.tagName="ts-searchtoken-value",o}i(n,"getSlackSearchTokenValueFormat")},679304348:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("formats/bold");let o=i(class extends d{},"Strike");return o.blotName="strike",o.tagName=["S","STRIKE"],o}i(n,"getSlackStrikeFormat")},3225969796:(Q,C,e)=>{"use strict";e.d(C,{Dc:()=>p,Gs:()=>I,dc:()=>u,li:()=>y,tF:()=>A,x7:()=>g});var t=e(9524650809),n=e(3783303734),s=e(6958543140),r=e(735940183),d=e(6013332081),o=e(1993167390),a=e(2772407197),l=e(4737389068),m=e(9678184769),c=e(2508519639);const _=new r.Ay("workflow_builder"),p="c-texty_workflow_token__content",u="c-texty_workflow_token__label",h="c-texty_workflow_token__property",E="c-texty_workflow_token__customize_dropdown",A="c-texty_workflow_token__variable_icon";function v(P){let{isClickable:k,variableData:R,baseDomNode:V,showErrorState:B,...W}=P;const L=R&&(0,a.Ei)(R)?R.source_type:R==null?void 0:R.sourceType;V.setAttribute("data-id",W.id),V.setAttribute("data-type",W.type),V.setAttribute("data-label",W.label);var S;V.setAttribute("data-property",(S=W.property)!==null&&S!==void 0?S:"");var H;return V.setAttribute("data-property-label",(H=W.propertyLabel)!==null&&H!==void 0?H:""),V.setAttribute("data-is-available",W.isAvailable?"true":""),V.setAttribute("data-is-clickable",k?"true":""),L&&V.setAttribute("data-source-type",String(L)),R&&!(0,a.Ei)(R)&&V.setAttribute("data-name",R.name),V.setAttribute("title",W.sourceLabel),k||V.classList.add("is-not-clickable"),B&&V.classList.add("has-error"),V}i(v,"convertFromTokenDataToDomNode");function f(P){const k=P.getAttribute("data-type"),R=(0,o.X)(a.JD,k);var V;const B=(V=P.getAttribute("title"))!==null&&V!==void 0?V:"",W=P.getAttribute("data-is-available")==="true",L=P.getAttribute("data-source-type");if(R){var S,H;const N={id:(S=P.getAttribute("data-id"))!==null&&S!==void 0?S:"",type:R?k:"text",label:(H=P.getAttribute("data-label"))!==null&&H!==void 0?H:"",sourceLabel:B,isAvailable:W,source_type:L&&(0,o.X)(a.wr,L)?L:"message"};var w,F,j,J,X;return{id:(w=P.getAttribute("data-id"))!==null&&w!==void 0?w:"",type:(F=N.type)!==null&&F!==void 0?F:"",label:(j=P.getAttribute("data-label"))!==null&&j!==void 0?j:"",property:(J=P.getAttribute("data-property"))!==null&&J!==void 0?J:"",propertyLabel:(X=P.getAttribute("data-property-label"))!==null&&X!==void 0?X:"",sourceLabel:B,isAvailable:W,isClickable:P.getAttribute("data-is-clickable")==="true",variableData:N}}var q,G,ne,te;const le={id:(q=P.getAttribute("data-id"))!==null&&q!==void 0?q:"",type:(0,o.X)(c.EF,k)?k:"string",label:(G=P.getAttribute("data-label"))!==null&&G!==void 0?G:"",sourceLabel:(ne=P.getAttribute("title"))!==null&&ne!==void 0?ne:"",isAvailable:P.getAttribute("data-is-available")==="true",name:(te=P.getAttribute("data-name"))!==null&&te!==void 0?te:"",sourceType:L&&(0,o.X)(a.Do,L)?L:"function"};var he,fe,ve,me,oe;return{id:(he=P.getAttribute("data-id"))!==null&&he!==void 0?he:"",type:(fe=le.type)!==null&&fe!==void 0?fe:"",label:(ve=P.getAttribute("data-label"))!==null&&ve!==void 0?ve:"",property:(me=P.getAttribute("data-property"))!==null&&me!==void 0?me:"",propertyLabel:(oe=P.getAttribute("data-property-label"))!==null&&oe!==void 0?oe:"",sourceLabel:B,isAvailable:W,isClickable:P.getAttribute("data-is-clickable")==="true",variableData:le}}i(f,"convertFromDomNodeToTokenData");function g(P,k){const R=_.t("Missing Data");return{id:(0,t.A)(P),name:R,source_id:"",source_type:"function",sourceLabel:"",type:k,label:R,defaultLabel:R,isTombstone:!0,isAvailable:!1,canCustomizeLabel:!1}}i(g,"createHermesTombstoneToken");const y="c-texty_workflow_token",T={id:"",type:"string",label:"",sourceLabel:"",propertyLabel:"",isAvailable:!1},M={id:"",type:"text",label:"",sourceLabel:"",source_type:"message",isAvailable:!1},O={id:"",type:"string",label:"",sourceLabel:"",sourceType:"function",name:"",isAvailable:!1};function I(P){const k=(0,s.A)(P),R=P||window,V=k.import("blots/embed");let B=i(class Xr extends V{static create(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;const{variableData:S=(0,o.X)(a.JD,L.type)?M:O,...H}=L,w=(0,a.L4)(S),F=(0,a.Ei)(S),j=H.id,J=H.type,X=H.property,q=S.label,G=S.sourceLabel,ne=S.isAvailable;let te=!ne,le=H.propertyLabel,he=!1,fe;if(F&&(fe=S.properties,he=!!S.canCustomizeLabel,X&&!H.propertyLabel&&(fe!=null&&fe.length))){const K=fe.find(x=>x.name===X);K&&(le=K.label)}let ve=!1;if(w){var me;ve=(0,d.ND)(H.id)&&!(0,m.Jx)(H.id)||(0,d.R$)({type:S.type,arrayItemType:(me=S.items)===null||me===void 0?void 0:me.type,id:S.id}),te=te||!(0,l.z)(H,S),ve=ve||te}const oe=ne&&(!!he||(0,n.A)(fe)>1||ve);return v({id:j,label:q,type:J,property:X,propertyLabel:le||"",isAvailable:ne,isClickable:oe,sourceLabel:G,baseDomNode:super.create(q),variableData:S})}static value(L){return f(L)}static formats(L){return f(L)}constructor(...L){super(...L);const[S]=L,{label:H,propertyLabel:w}=Xr.value(S);this.contentNode.classList.add(p);const F=R.document.createElement("i");F.classList.add(A,"c-icon"),this.contentNode.appendChild(F);const j=R.document.createElement("span");if(j.textContent=H!=null&&H.length?H:_.t("Missing Data"),j.classList.add(u),this.contentNode.appendChild(j),w){const X=R.document.createElement("span");X.textContent=w,X.classList.add(h),this.contentNode.appendChild(X)}const J=R.document.createElement("i");J.classList.add(E,"c-icon","c-icon--chevron-down"),this.contentNode.appendChild(J)}},"WorkflowToken");return B.blotName="workflowtoken",B.tagName="button",B.className=y,B}i(I,"getWorkflowTokenFormat");const D={convertFromTokenDataToDomNode:v,convertFromDomNodeToTokenData:f}},6202619371:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/inline");let o=i(class extends d{static create(l){return super.create(l)}static formats(l){return l.tagName==="TS-UNLINKED"}},"SlackUnlinked");return o.blotName="unlink",o.tagName=["ts-unlinked"],o}i(n,"getSlackUnlinkedFormat")},3344982765:(Q,C,e)=>{"use strict";e.d(C,{A:()=>D});var t=e(6626377467),n=e(1112336375),s=e(362134992),r=e(6027162153),d=e(9268023148),o=e(6958543140),a=e(4291335534),l=e(9884588328),m=e(6533394955),c=e(2229186),_=e(411655882),p=e(2453977996),u=e(6292063345),h=e(6102481218),E=e(9410394460),A=e(7841516218),v=e(1089076149),f=e(1632207548),g=e(8581994840),y=e(4797500022),T=e(6859521351);const O=["'",".","_","-","\u2018","\u2019"].map(P=>`\\${P}`).join(""),I=new RegExp(`^[${O}]+$`,"g");function D(P){const R=(0,o.A)(P).import("core/module");return i(class extends R{unload(){this.processPotentionalMentionsDebounced.cancel()}afterTextChangeQueue(){this.processPotentionalMentionsDebounced(this.quill)}processPotentialMentions(){if(this.options.isAutocompleteOpen())return;const W=this.quill.getContents(),L=this.quill.getSelection(),S=L?L.index:0;if(W.length()<=1)return;let H=[];if(this.options.enableBroadcastKeywords){if(this.options.includeAllBroadcastKeywords)H=(0,_.A)();else if(this.options.getTeamId()&&this.options.getChannelId()){const X=(0,m.getStateByTeamId)(this.options.getTeamId());H=(0,c.A)(X,this.options.getChannelId())}}const w=[],F=[];(0,p.A)(W,{useChannelTagging:this.options.useChannelTagging}).forEach(X=>{const q=X.labelWithoutPrefix;if(!q.length)return;const G=this.options.useWysiwyg&&!this.options.usePlainTextMode,ne=G?!1:(0,T.A)((0,v.A)(W,0,X.globalIndex)),te=G?[]:(0,f.A)((0,y.A)({contents:W.ops}));if(!((G?!1:(0,g.A)(X.globalIndex,te))&&X.type==="emoji")&&(X.type==="emoji"||!(S>X.globalIndex&&S<=X.globalIndex+X.matchLength)&&q.search(I)===-1&&!ne)){const fe=X.type==="member"&&(0,a.dx)(H,q);if(fe){const ve=this.quill.getFormat(X.globalIndex,X.matchLength);if(ve.slackmention&&delete ve.slackmention,ve.code||ve["code-block"]||ve.link)return;const me=(0,u.A)({results:[fe],formats:ve,...X});w.push(me)}else F.push({type:X.type,label:X.label,labelWithoutPrefix:q})}});const j=F.filter(X=>!(this.searchesInFlight.indexOf(X.label)!==-1||this.searchesWithoutResults.indexOf(X.label)!==-1)),J=(0,t.A)(j,"label");this.asyncResultCount=J.length,this.replacePotentialMentions({replacements:w,hasPendingReplacements:this.asyncResultCount>0||w.length>1}),this.searchAndReplaceMentions(J)}replacePotentialMentions(W){let{replacements:L,hasPendingReplacements:S}=W;if(!L.length)return;const H=this.options.getUserHighlightWords(),w=!this.options.inlineEmojiIsEnabled(),F=(0,A.A)(L,H,w);this.quill.updateContents(F),this.options.onMentionReplace({replacements:L,isLastReplacement:this.asyncResultCount===1&&!S})}clearSearchCache(){this.searchesInFlight=[],this.searchesWithoutResults=[]}searchAndReplaceMentions(W){if(!W||!W.length)return;const L=(0,n.A)(W,"type");L.member&&L.member.forEach(S=>{this.searchesInFlight.push(S.label),this.options.promiseToSearchMembers(S.label).then(H=>{this.processSearchResults(S,H)})}),L.emoji&&L.emoji.forEach(S=>{this.searchesInFlight.push(S.label),this.options.promiseToSearchEmoji(S.label,!1).then(H=>{H.promise&&H.promise.then(F=>{const j=F.filter(J=>J.isEmojiExactMatch);this.processSearchResults(S,j)});const w=H.filter(F=>F.isEmojiExactMatch);this.processSearchResults(S,w)})}),this.options.useChannelTagging&&L.channel&&L.channel.forEach(S=>{this.searchesInFlight.push(S.label),this.options.promiseToSearchChannels(S.label).then(H=>{const w=H.filter(F=>(0,l.mG)(F)===S.labelWithoutPrefix);this.processSearchResults(S,w)})})}processSearchResults(W,L){if(!L.length){this.searchesWithoutResults.push(W.label);return}const S=L.map(X=>X.item),H=this.quill.getContents(),w=this.quill.getSelection(),F=w?w.index:0;if(H.length()<=1)return;const j=(0,p.A)(H,{useChannelTagging:this.options.useChannelTagging}).map(X=>{if(X.label!==W.label||!W.labelWithoutPrefix.length||!(this.options.useWysiwyg&&!this.options.usePlainTextMode)&&(0,T.A)((0,v.A)(H,0,X.globalIndex))||X.type!=="emoji"&&F>X.globalIndex&&F<=X.globalIndex+X.matchLength)return null;const G=this.quill.getFormat(X.globalIndex,X.matchLength);return G.slackmention&&delete G.slackmention,G.code||G["code-block"]||G.link?null:W.type==="channel"?(0,h.A)({results:S,formats:G,...X}):W.type==="emoji"?(0,E.A)({results:S,formats:G,...X}):(0,u.A)({results:S,formats:G,...X})}),J=!(this.searchesInFlight.length===1&&this.searchesInFlight.indexOf(W.label)!==-1);this.replacePotentialMentions({replacements:(0,s.A)(j),hasPendingReplacements:J}),this.searchesInFlight=(0,r.A)(this.searchesInFlight,W.label),J||(this.asyncResultCount=0)}constructor(W,L){super(W,L),this.options=L,this.quill=W,this.processPotentionalMentionsDebounced=(0,d.A)(this.processPotentialMentions,100),this.asyncResultCount=0,this.searchesInFlight=[],this.searchesWithoutResults=[]}},"SlackAutoSlugModule")}i(D,"getSlackAutoSlugModule")},9973095253:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("core/module");return i(class extends d{},"CanvasVariableModule")}i(n,"getCanvasVariableModule")},8112654178:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(4711108074),n=e.n(t),s=e(6958543140),r=e(6717607339),d=e(5382342064);function o(l){const c=(0,s.A)(l).import("core/module");return i(class extends c{buildTextChangeDelta(u){const h=(0,r.A)(u,{removeEmbedsFromCode:!0,stripAllInlineFormatting:!1,stripInlineFormattingFromCodeBlock:!0});return h.ops.length===1&&(0,d.A)(h.ops[0])&&!h.ops[0].attributes?new(n()):h}},"CleanEmbedsInCodeModule")}i(o,"getCleanEmbedsInCodeModule");const a=o(window)},7254545653:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(4711108074),n=e.n(t),s=e(6958543140),r=e(9592753406);function d(a){const m=(0,s.A)(a).import("core/module");return i(class extends m{buildTextChangeDelta(p,u){let{initialTextChangeDelta:h=void 0,useWysiwyg:E=!1,formattingOnly:A=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!E||A)return new(n());const v=h&&h.ops;if(!v||v.length!==1)return new(n());const f=v[0];return!f||!f.delete||f.delete<=1?new(n()):(0,r.Fr)(p)?new(n())().delete(1):new(n())}},"CleanEmptyInputModule")}i(d,"getCleanEmptyInputModule");const o=d(window)},7991260153:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>E});var t=e(4711108074),n=e.n(t),s=e(6958543140),r=e(8405695339),d=e(3904348617),o=e(5591756507),a=e(3183335528),l=e(4029059089),m=e(3726677001),c=e(9113979368),_=e(5354964300),p=e(2508519639);const u=`
`;function h(v){return{...v.attributes||{},bold:!1,italic:!1,strike:!1,link:!1,underline:!1,code:!1,"code-block":!1}}i(h,"getCleanedAttributes");function E(v){const g=(0,s.A)(v).import("core/module");return i(class extends g{buildTextChangeDelta(M){const O=M.ops;if(!O||O.length===0)return new(n());let I=!0,D=null;const P=new(n()),k=[];(0,r.A)(M,(V,B)=>{const W=(0,m.A)(V),L=(0,d.sR)(V);if((0,d.Ay)(V)&&(L===p.TE.SlackTypesRichText||L===p.TE.SlackTypesExpandedRichText)){const H=h(V);(0,o.A)(B)||(0,a.A)(B)||(0,l.A)(B)?(I=!1,P.delete(W),k.push({...V,attributes:H})):(D&&!(0,_.A)(D).includes(u)&&(I=!1,P.insert(u)),P.retain(W,H)),D=V;return}if(D&&(0,d.Ay)(D)&&((0,d.sR)(D)===p.TE.SlackTypesRichText||(0,d.sR)(D)===p.TE.SlackTypesExpandedRichText)&&(0,_.A)(V)!==u&&(I=!1,P.insert(u)),k.length&&V.insert===u&&(0,c.A)(V.attributes)&&R(),W){var S;P.retain(W,(S=V.attributes)!==null&&S!==void 0?S:{})}D=V}),R();function R(){for(;k.length;){const B=k.shift();if(B!=null&&B.insert){I=!1;var V;P.insert(B==null?void 0:B.insert,(V=B==null?void 0:B.attributes)!==null&&V!==void 0?V:{})}}}return i(R,"reinsertTokens"),I?new(n()):P}},"CleanWorkflowTokensModule")}i(E,"getCleanWorkflowTokensModule");const A=E(window)},9608867179:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ge});var t=e(2208015175),n=e(7715417323),s=e(166097325),r=e(4103274853),d=e(3750057149),o=e(3078252698),a=e(5797466484),l=e(8086952004),m=e(1632011761),c=e(8207536819),_=e(3961021150),p=e(7022562862),u=e(2322735331),h=e(4711108074),E=e.n(h),A=e(56548687),v=e(6244014364),f=e(6533394955),g=e(7174777686),y=e(1703559452),T=e(1031947056),M=e(8276911661),O=e(9101533895),I=e(1835177371),D=e(4897863105),P=e(2229186),k=e(8170643398),R=e(1407713935),V=e(2023092677),B=e(497761763),W=e(937317117),L=e(2188787324);const S=(0,T.Ay)("Determine whether a mention id (member, broadcast, user group) is valid",function(be,xe){let{id:Re,channelId:je,threadTs:Ge,useChannelTagging:Qe,isCanvasListTaggingEnabled:Xe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Re)return!1;const et=xe(),rt=!1,it=(0,M.nv)(et,Re,{preferNonExistentToNull:!1,fetchIfMissing:rt});if(it&&!(0,k.Zx)(it))return!0;if(Qe){const Et=(0,O.OL)(et,Re,!1);if(Et&&!(0,R.Zx)(Et))return!0}const lt=(0,I.lJ)(et,Re);if(lt&&!(0,V.Zx)(lt))return!0;if((0,g.A)((0,D.c)(),Re)){if(Ge)return!1;const ot=(0,P.A)(et,je||"");return(0,y.A)(ot,{id:Re})}if(Xe&&(0,B.A)(Re)){const ot=(0,W.Lp)(et,Re);if(ot&&((0,L.l7)(ot)||(0,L.DQ)(ot)))return!0}return!1});S.meta={name:"createThunk",key:"createThunkgetIsValidMentionId",description:"Determine whether a mention id (member, broadcast, user group) is valid"};const H=S;var w=e(1521013946),F=e(9884588328),j=e(9262712126),J=e(796111729),X=e(9236644324),q=e(9470581768),G=e(4797500022),ne=e(7136729150),te=e(4071871748),le=e(3571452446),he=e(9113979368),fe=e(6696292586),ve=e(3339229351);function me(be){return be?new(E())(be.map(xe=>{if(xe.attributes){var Re,je;const Ge=(0,le.A)(xe.attributes,["bold","italic","strike","code","link","underline","code-block","list","blockquote","slackmention","indent"]);let Qe={...xe,attributes:(0,he.A)(Ge)?void 0:Ge};return(0,fe.A)((Re=Qe.attributes)===null||Re===void 0?void 0:Re.indent)&&((je=Qe.attributes)===null||je===void 0?void 0:je.indent)>=ve.Az&&(Qe={...Qe,attributes:{...Qe.attributes,indent:ve.Az-1}}),Qe}return xe})):new(E())}i(me,"cleanStyleFromHtmlDelta");var oe=e(796745801),N=e(8840779375),K=e(2394306156),x=e(8289365785),b=e(8786006583),z=e(1747222889);function $(be,xe){var Re,je,Ge;const Qe=(0,N.A)(xe==null?void 0:xe.ops,K.A),Xe=(0,x.A)(Qe),et=(0,b.A)(Qe);if(!(Xe!=null&&Xe.insert)||!(et!=null&&et.insert)||typeof(Xe==null?void 0:Xe.insert)!="string")return xe;Xe.insert=(0,z.A)(Xe==null?void 0:Xe.insert);const rt=Xe.insert.match(/^(\S+?)\s+?/);if(!rt)return xe;Xe.insert=(0,z.A)(Xe.insert.substring(rt[0].length,Xe.insert.length));const lt=rt[1].match(/\S+?\./)?"ordered":"bullet",ot=(Re=be==null?void 0:be.getAttribute("style"))===null||Re===void 0?void 0:Re.replace(/\n+?/g,""),Et=(je=ot==null?void 0:ot.match(/level(\d+?)/))===null||je===void 0?void 0:je[1],At=(Ge=ot==null?void 0:ot.match(/margin:\s\din\s\din\s\din\s(\d[.]?([\d]+?)?)?in;/))===null||Ge===void 0?void 0:Ge[1];let Ot;return Ot=Et?parseInt(Et,10)-1:Ot,!Ot&&At&&et.insert.slice(-1)===`
`&&(et.insert=et.insert.substring(0,et.insert.length-1)),!Ot&&At&&(At==="0.25"||At==="0.5"?Ot=0:At==="0.75"||At==="1"?Ot=1:At==="1.25"||At==="1.5"?Ot=2:At==="1.75"||At==="2"?Ot=3:At==="2.25"||At==="2.5"?Ot=4:(At>="2.75"||At==="3")&&(Ot=5)),Ot=Ot&&Ot>=ve.Az?ve.Az:Ot,Qe.push({insert:`
`,attributes:{list:lt,indent:Ot}}),new(E())(Qe)}i($,"matchMicrosoftWordContents");var Z=e(4244114639),U=e(4504227813),ee=e(9592753406);function se(be){if(!be||!be.clipboardData)return null;const xe=be.clipboardData.getData("slack/texty");if(xe)try{return{type:"slack/texty",contents:JSON.parse(xe).ops}}catch{(0,J.Wo)().error("PASTE",`found ${xe.length} chars in "slack/texty", but couldn't parse it`)}const Re=be.clipboardData.getData("text/plain")?"text/plain":"Text",je=be.clipboardData.getData(Re);return je?{type:Re,contents:[{insert:je}]}:null}i(se,"getContentsFromClipboard");var de=e(4200148118),ue=e(4547907890),_e=e(117342833),pe=e(308057085),ae=e(5939082889),Ee=e(6958543140),Le=e(8088280230),ye=e(8841789548),Te=e(9932296884);function Ae(be,xe){const Re=(0,w.$N)(be,xe);if(Re&&(Re.type===w.im.LIST||Re.type===w.im.QUIP)){const je=Re.fileId?(0,W.Lp)(be,Re.fileId):null;if(!je)return null;const Ge=(0,L.V)(je);return new(E())().insert(`+${Ge}`,{slackmention:(0,ne.A)(je.id,`+${Ge}`)}).insert(" ")}return null}i(Ae,"getSluggablePermalink");function Ie(){}i(Ie,"convertPermalinkToSlug");function Ue(be){const Re="	",je=(be||"").split(`
`,5),Ge=[];for(let Xe=0;Xe<5&&je[Xe]!==void 0;Xe++){const et=je[Xe].split(Re);Ge.push(et.length)}const Qe=new Set(Ge);return Ge.length>0&&Qe.size===1&&Ge[0]>1}i(Ue,"isTsv");function Be(be){return be.nodeType===Node.ELEMENT_NODE&&be.hasAttribute("data-stringify-type")}i(Be,"hasStringifyTransforms");function we(be){let xe=0;return Be(be)?xe+=1:be.hasChildNodes()?(0,t.A)(be.childNodes,Re=>{xe+=we(Re)}):be.textContent.trim()&&(xe+=1),xe}i(we,"getNumContentfulChildren");const re={getChannelId:n.A,getThreadTs:n.A,getUserHighlightWords:n.A,logger:{info:n.A},onPaste:n.A,onPasted:n.A,onPasteLimit:n.A,shouldFocusOnPaste:n.A,getCsvTsvPastingEnabled:n.A};function ge(be){const xe=(0,Ee.A)(be),Re=be||window,je=xe.import("modules/clipboard");return i(class extends je{getState(){return(0,f.getStoreInstanceByTeamId)(this.options.teamId).getState()}unload(){this.quill.container.removeEventListener("copy",this.onCopy),this.quill.container.removeEventListener("cut",this.onCopy),Re.removeEventListener("paste",this.onGlobalPaste)}isPastingMultipleNodes(){return we(this.quill.clipboard.container)>1}onCopy(Xe){if(this.options.logger.info("COPY",`handling "${Xe.type}" event`),Xe.type==="cut"&&!this.quill.isEnabled()){Xe.preventDefault(),Xe.stopPropagation();return}const et=this.quill.getSelection();if(!et||et.length===0){this.options.logger.info("COPY","no selection");return}Xe.preventDefault(),Xe.stopPropagation();const rt=this.correctCopyRange(et),it=this.quill.getContents(rt),lt=(0,G.A)({contents:it.ops});if(this.options.logger.info("COPY",`found ${lt.length} chars`),(0,X.FW)(Xe,{"text/plain":lt,text:lt,"public.utf8-plain-text":lt,"slack/texty":JSON.stringify(it)}),this.options.logger.info("COPY",`copied ${lt.length} chars`),Xe.type==="cut"){const ot=this.options.texty.getBlockFormat(et.index),Et=this.options.texty.getBlockFormat(et.index+et.length-1);this.quill.deleteText(et.index,et.length),this.quill.setSelection(et.index),Et&&!(0,s.A)(ot,Et)&&(ot?this.quill.formatLine(et.index,1,ot):this.quill.formatLine(et.index,1,(0,r.A)(Et,()=>!1))),this.options.logger.info("COPY","deleted selection")}}onGlobalPaste(Xe){this.options.shouldFocusOnPaste()&&((0,q.A)(Re.document.activeElement)||this.quill.hasFocus()||Xe.defaultPrevented||(this.quill.focus(),this.onPaste(Xe)))}onPaste(Xe){if(!(Xe.defaultPrevented||!this.quill.isEnabled()||!this.quill.getSelection())){this.hasFixedPastedNodes=!1;try{if(this.options.onPaste(Xe))return;this.handleOnPaste(Xe)}catch(rt){const it=rt instanceof Error?rt.message||rt.description:JSON.stringify(rt);(0,J.Wo)().error(`Error on paste: ${it}`)}}}shouldSkipOnPaste(Xe){if(!Xe||!Xe.clipboardData||Xe.defaultPrevented||!this.quill.isEnabled())return!0;const et=Xe.clipboardData.getData("text/plain")?"text/plain":"Text";return!Xe.clipboardData.getData(et)&&!this.options.useCustomMatchers?(Xe&&Xe.preventDefault&&Xe.preventDefault(),!0):!1}handleOnPaste(Xe){if(!Xe)return;function et(dn){return dn.map(Xt=>{const jt=Xt.attributes?(0,r.A)(Xt.attributes,ze=>(0,d.A)(ze)?ze:!!ze):{};if(!Xt.insert)return{...Xt,attributes:{...jt}};let _n;return(0,o.A)(Xt.insert)?_n=Xt.insert.length:(0,a.A)(Xt.insert)&&(_n=Object.keys(Xt.insert).join(",")),{insert:_n,attributes:{...jt}}})}if(i(et,"redactDelta"),this.shouldSkipOnPaste(Xe))return;const rt=Xe.clipboardData.getData("slack/texty");if(this.options.useCustomMatchers&&!rt){super.onPaste(Xe),setTimeout(this.options.onPasted,0);return}const it=this.options.texty,lt=it&&it.getSelection(),ot=lt?it&&it.getFormats(lt.index):{},Et=it.getLineAtCursor(),At=this.options.useWysiwyg&&!this.options.usePlainTextMode&&!ot["code-block"],Ot=this.quill.getContents(lt),Rt=(0,l.A)(Ot.ops,dn=>(0,de.A)(dn)||(0,_e.Ay)(dn)),yt=(0,ye.A)(Ot.ops),Mt=(0,Le.A)({input:yt}),en=Mt&&Mt.length===1&&Mt[0].url===Mt[0].text&&Mt[0].text===yt,Tt=this.options.useWysiwyg&&this.options.supportsAnchorText&&!this.options.usePlainTextMode&&!ot.code&&!ot["code-block"]&&!Rt&&!en,{pastedDelta:xt,type:bt,hasExternalHtml:nn}=this.getPastedDelta(Xe,{acceptExternalHtml:At,acceptSingleUrl:Tt&&lt.length>0,acceptSingleSluggableUrl:Tt&&this.options.getCanvasListTaggingEnabled&&this.options.getCanvasListTaggingEnabled()&&!lt.length});if(!nn&&(!xt||!(xt!=null&&xt.length()))){Xe.preventDefault();return}if(nn||Xe.preventDefault(),!rt&&nn)this.container.focus(),setTimeout(()=>{this.convertActionIsExternalHtml=!0;const dn=this.convert();let Xt;try{Xt=me(dn)}catch{(0,J.Wo)().error(new Error("External HTML cleaning error.").stack),Xt=dn}const jt=(0,oe.A)({delta:Xt});this.convertActionIsExternalHtml=!1;const _n=this.preparePastedDelta({pastedDelta:jt,type:bt,formats:ot,lineAtCursor:Et});if(_n&&!this.options.onPasteLimit(Xe,_n)){try{this.insertPastedDelta(_n)}catch(ze){throw(0,J.Wo)().error(`External HTML paste error (redacted). HTML delta: ${JSON.stringify(et(jt))}; Prepared delta: ${JSON.stringify(et(_n))}`),ze}this.maybeShowMarkdownToast({preparedDelta:_n,clipboardHasTextyContents:rt}),setTimeout(this.options.onPasted,0)}},1);else{const dn=this.quill.getContents(),Xt=this.preparePastedDelta({pastedDelta:xt,type:bt,formats:ot,lineAtCursor:Et});if(!Xt||this.options.onPasteLimit(Xe,Xt))return;const jt=Xt.ops[0];if(bt==="text/uri-list"&&jt&&(0,ue.A)(jt)){this.quill.formatText(lt.index,lt.length,"link",Xt.ops[0].insert);const _n=this.getState();_n&&(0,A.e)({state:_n}).track(v.EventId.MSG_FORMATTING_ADDED,{input_context:v.MsgFormattingInputContext.MESSAGE,input_source:v.MsgFormattingInputSource.KEYBOARD,input_format:v.MsgFormattingInputFormat.LINK,is_selection:!0})}else this.insertPastedDelta(Xt);if(this.options.getCsvTsvPastingEnabled()){const _n=(0,ye.A)(xt.ops);if(Ue(_n)){const Dt=dn.compose(new(E())().retain(lt.index).delete(lt.length));this.mayBeShowCsvTsvToast(_n,Dt),setTimeout(this.options.onPasted,0);return}}this.maybeShowMarkdownToast({preparedDelta:Xt,clipboardHasTextyContents:rt}),setTimeout(this.options.onPasted,0)}}mayBeShowCsvTsvToast(Xe,et){const{showCsvTsvPasteToast:rt}=this.options;rt&&rt({contentType:"tsv",openCsvTsvSnippetDialog:()=>this.options.openCsvTsvSnippetDialog(Xe,et),clearText:()=>this.quill.setContents(new(E())().insert(`
`))})}getPastedDelta(Xe){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{acceptExternalHtml:!0,acceptSingleUrl:!1,acceptSingleSluggableUrl:!1};if(!Xe)return{pastedDelta:new(E()),type:"text/plain",hasExternalHtml:!1};const rt=et.acceptExternalHtml,it=et.acceptSingleUrl,lt=et.acceptSingleSluggableUrl,{type:ot,contents:Et}=se(Xe)||{};if(!Et||!Et.length)return{pastedDelta:new(E()),type:"text/plain",hasExternalHtml:!1};let At=new(E())(Et),Ot=ot;const Rt=Ot==="text/plain"||Ot==="Text"||Ot==="slack/texty";let yt=!1;if(it&&Rt)if(Ot==="slack/texty"){if(Et&&Et.length===1&&(0,pe.Ay)(Et[0])&&Et[0].insert===Et[0].attributes.link)return{pastedDelta:At,type:"text/uri-list",hasExternalHtml:yt}}else{const xt=(0,Le.A)({input:Et[0].insert});if(xt.length===1&&xt[0].url===xt[0].text&&xt[0].text===Et[0].insert)return{pastedDelta:At,type:"text/uri-list",hasExternalHtml:yt}}if(lt&&Rt){const xt=this.getState();if(xt&&Ot==="slack/texty"){if(Et&&Et.length===1&&(0,pe.Ay)(Et[0])&&Et[0].insert===Et[0].attributes.link){const bt=Ae(xt,Et[0].attributes.link);if(bt)return{pastedDelta:bt,type:"slack/texty",hasExternalHtml:yt}}}else if(xt){const bt=(0,Le.A)({input:Et[0].insert});if(bt.length===1&&bt[0].url===bt[0].text&&bt[0].text===Et[0].insert){const nn=Ae(xt,bt[0].url);if(nn)return{pastedDelta:nn,type:"slack/texty",hasExternalHtml:yt}}}}if(Ot==="slack/texty")return{pastedDelta:At,type:Ot,hasExternalHtml:yt};const Mt=Xe.clipboardData.getData("text/html"),en=Mt&&Mt.indexOf("data-stringify-")!==-1,Tt=Mt&&Mt.match(/<\/table>(?:\s*<\/body>\s*<\/html>)?\s*$/);if(rt&&Mt&&!en&&!Tt){const xt=(0,Le.A)({input:Et[0].insert});if(Rt&&xt.length===1&&xt[0].url===xt[0].text&&xt[0].text===Et[0].insert&&RegExp(`^<html>\\s*<body>\\s*<!--StartFragment--><a href=("|')${(0,m.A)((0,c.A)(Et[0].insert))}("|')>.+<\\/a><!--EndFragment-->\\s*<\\/body>\\s*<\\/html>\\s*$`).test(Mt))return{pastedDelta:At,type:Ot,hasExternalHtml:!1};yt=!0,Ot="text/html",At=new(E())}else if(en){const xt=this.convert(Mt);xt&&(At=(0,oe.A)({delta:xt}),Ot="text/html")}return{pastedDelta:At,type:Ot,hasExternalHtml:yt}}preparePastedDelta(){let{pastedDelta:Xe,type:et="",formats:rt={},lineAtCursor:it}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Te.W)(Xe,et,rt,it,this.options,this.getIsValidMentionIdDispatched,lt=>{this.blockquote=lt},this.quill)}insertPastedDelta(Xe){const et={contents:Xe.ops},rt=!0,it="user",lt=this.options.useWysiwyg&&!this.options.usePlainTextMode&&this.matchBlockFormat;this.options.texty.insertContentsAtCursor(et,rt,it,{matchBlockFormat:lt})}maybeShowMarkdownToast(Xe){let{preparedDelta:et,clipboardHasTextyContents:rt}=Xe;!this.options.showMarkdownPasteToast||this.options.usePlainTextMode||rt||(0,Z.A)(et).length()===0||this.options.showMarkdownPasteToast({applyFormatting:()=>{[U.A,Z.A].forEach(lt=>{const ot=this.quill.getContents(),Et=lt(ot);this.quill.updateContents(Et)})}})}correctCopyRange(Xe){if(!Xe||!this.options.useWysiwyg)return Xe;const et=Xe.index+Xe.length,rt=this.quill.getContents(et,1);if((0,ee.Fr)(rt)){this.options.logger.info("COPY","extending selection range to include block formatting char");const it=Xe.length+1;return{index:Xe.index,length:it}}return Xe}constructor(Xe,et){super(Xe,et),this.options=(0,_.A)({},re,et),this.hasFixedPastedNodes=!1;const rt=this.options.teamId,it=(0,f.getStoreInstanceByTeamId)(rt);this.convertActionIsExternalHtml=!1,this.matchBlockFormat=!0,this.addMatcherSafely=(lt,ot)=>{let Et;if((0,o.A)(lt))try{Re.document.querySelectorAll(lt)}catch(At){Et=At,this.options.logger.error("QUILL MATCHERS",`You have an unsafe matcher in PlainClipboardModule: "${lt}"`)}Et||this.addMatcher(lt,ot)},this.getIsValidMentionIdDispatched=lt=>{let{id:ot}=lt;return(0,f.dispatchForTeamId)(rt,H({id:ot,channelId:this.options.getChannelId(),threadTs:this.options.getThreadTs(),useChannelTagging:this.options.useChannelTagging,isCanvasListTaggingEnabled:this.options.getCanvasListTaggingEnabled&&this.options.getCanvasListTaggingEnabled()}))},(0,u.v)(this,["onCopy","onGlobalPaste"]),Xe.container.addEventListener("copy",this.onCopy),Xe.container.addEventListener("cut",this.onCopy),Re.addEventListener("paste",this.onGlobalPaste),this.addMatcherSafely("p.MsoListParagraphCxSpFirst",$),this.addMatcherSafely("p.MsoListParagraphCxSpMiddle",$),this.addMatcherSafely("p.MsoListParagraphCxSpLast",$),this.addMatcherSafely("*",(lt,ot)=>{if(this.hasFixedPastedNodes)return ot;this.hasFixedPastedNodes=!0,(0,p.A)(this.quill.clipboard.container.childNodes,Ot=>we(Ot)?!1:(this.quill.clipboard.container.removeChild(Ot),!0));const Et=this.quill.clipboard.container.querySelectorAll('[data-stringify-type="replace"]'),At=this.isPastingMultipleNodes();return(0,t.A)(Et,Ot=>{if(Ot.hasAttribute("data-stringify-requires-siblings")&&!At)return;const Rt=Ot.getAttribute("data-stringify-text");let yt;Ot.classList.contains("c-message__sender")?(yt=Re.document.createElement("b"),yt.appendChild(Re.document.createTextNode(Rt))):yt=Re.document.createTextNode(Rt),Ot.parentNode.replaceChild(yt,Ot)}),ot}),this.addMatcherSafely("img",()=>new(E())),this.addMatcherSafely("[data-stringify-ignore]",()=>new(E())),this.addMatcherSafely("[data-stringify-link]",(lt,ot)=>{if(this.convertActionIsExternalHtml||!this.options.supportsAnchorText)return ot;const Et=new(E())().insert(lt.textContent,{link:lt.getAttribute("data-stringify-link")});return this.options.usePlainTextMode&&(0,pe.uK)(Et.ops[0])?new(E())().insert(lt.getAttribute("data-stringify-link")):Et}),this.addMatcherSafely(Node.TEXT_NODE,(lt,ot)=>this.convertActionIsExternalHtml||this.options.useCustomMatchers?ot:new(E())().insert(lt.textContent)),this.addMatcherSafely("span",(lt,ot)=>!(lt!=null&&lt.style)||!this.convertActionIsExternalHtml?ot:lt.style.textDecorationLine==="line-through"||lt.style.textDecoration==="line-through"?ot.compose(new(E())().retain(ot.length(),{strike:!0})):ot),this.options.useWysiwyg&&this.addMatcherSafely("span.inline-code",(lt,ot)=>this.convertActionIsExternalHtml?ot.compose(new(E())().retain(ot.length(),{code:!0})):ot),this.addMatcherSafely("[data-stringify-indent], li[data-stringify-border]",(lt,ot)=>{if((0,ae.A)(ot))return ot;const Et=lt.getAttribute("data-stringify-indent"),At=parseInt(Et,10)||0;let Ot=0;const Rt=lt.getAttribute("data-stringify-border");Ot=parseInt(Rt,10)||0;const yt=this.quill.getSelection(),Mt=yt&&this.quill.getFormat(yt);return Mt!=null&&Mt.blockquote&&(Ot=1),ot.compose(new(E())().retain(ot.length()-1).retain(1,{indent:At,border:Ot}))}),this.addMatcherSafely('[data-stringify-type="pre"]',(lt,ot)=>{if((0,ae.A)(ot))return ot;let Et=0;const At=lt.getAttribute("data-stringify-border");Et=parseInt(At,10)||0;let Ot=new(E());return ot.forEach(Rt=>{Ot=Ot.insert(Rt.insert||"",{...Rt.attributes,border:Et})}),Ot}),this.addMatcherSafely('blockquote[data-stringify-border="1"]',(lt,ot)=>{if((0,ae.A)(ot))return ot;let Et=0;const At=lt.getAttribute("data-stringify-border");Et=parseInt(At,10)||0;let Ot=new(E());return ot.forEach(Rt=>{Ot=Ot.insert(Rt.insert||"",{...Rt.attributes,border:Et})}),Ot}),this.addMatcherSafely('blockquote[type="cite"]',(lt,ot)=>{if((0,ae.A)(ot))return ot;const Et=this.quill.getSelection(),At=Et&&this.quill.getFormat(Et);let Ot=new(E());return At!=null&&At.blockquote&&!(At!=null&&At.border)?(this.quill.format("blockquote",!1,"silent"),ot.forEach(Rt=>{Ot=Ot.insert(Rt.insert||"",{...Rt.attributes,border:1})}),Ot):ot}),this.addMatcherSafely('[data-stringify-type="emoji"]',lt=>{const ot=lt.getAttribute("data-stringify-emoji");return new(E())().insert({slackemoji:{text:ot}})}),this.addMatcherSafely(".c-message_kit__gutter__left",(lt,ot)=>lt.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?new(E())().insert(`${lt.textContent} `):ot),this.addMatcherSafely(".c-message_kit__message",(lt,ot)=>lt.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?ot:new(E())().insert(`
`).concat(ot)),this.addMatcherSafely(".c-message_actions__container",()=>new(E())),this.addMatcherSafely("#unreadDivider",()=>new(E())),this.addMatcherSafely('[data-stringify-type="paragraph-break"]',()=>new(E())().insert(`

`)),this.addMatcherSafely('[data-stringify-type="pre"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(E())().insert(`
`)),this.addMatcherSafely('[data-stringify-type="unordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(E())().insert(`
`)),this.addMatcherSafely('[data-stringify-type="ordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(E())().insert(`
`)),this.addMatcherSafely('[data-list-tree="true"]:not([data-indent="0"])',(lt,ot)=>{const Et=+lt.dataset.stringifyIndent;return ot.insert(`
`,{indent:Et})}),this.addMatcherSafely('[data-list-tree="true"]',(lt,ot)=>{const Et=+lt.dataset.indent,At=structuredClone(ot.ops);return At.unshift({insert:`
`}),At.push({insert:`
`,attributes:{indent:Et,list:"ordered"}}),new(E())(ot.ops)}),this.addMatcherSafely('[data-list-tree="true"] li',(lt,ot)=>{var Et;const At=+lt.dataset.stringifyIndent;return((Et=ot.ops[ot.ops.length-1].attributes)===null||Et===void 0?void 0:Et.indent)!==At?new(E())(ot.ops).insert(`
`,{indent:At}):ot}),this.addMatcherSafely('[data-list-tree="true"]',(lt,ot)=>{const Et=+lt.dataset.indent,{ops:At}=new(E())().insert(`
`,{indent:Et-1||0}).concat(ot);return new(E())(At)}),this.addMatcherSafely('[data-list-tree="true"][data-indent="0"]',(lt,ot)=>{const Et=[],At=`
`;for(let yt=0;yt<ot.ops.length;yt+=1){var Ot,Rt;const Mt=ot.ops[yt],en=ot.ops[yt+1];Mt.insert===At&&(en==null?void 0:en.insert)===At&&(en==null||(Ot=en.attributes)===null||Ot===void 0?void 0:Ot.indent)!==((Rt=Mt.attributes)===null||Rt===void 0?void 0:Rt.indent)&&(yt+=1),Et.push(Mt)}return new(E())(Et)}),this.addMatcherSafely('[data-stringify-type="quote"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(E())().insert(`
`)),this.addMatcherSafely('[data-stringify-type="mention"]',lt=>{const ot=lt.getAttribute("data-stringify-id"),Et=lt.getAttribute("data-stringify-label");return new(E())().insert(Et,{slackmention:(0,ne.A)(ot,Et,this.options.getUserHighlightWords())})}),this.addMatcherSafely('a[data-stringify-type="channel"]',lt=>{if(this.options.useChannelTagging){const ot=lt.getAttribute("data-channel-id"),Et=lt.getAttribute("data-channel-name");return Et?new(E())().insert(Et,{slackmention:(0,ne.A)(ot,Et)}):new(E())().insert(lt.textContent)}return new(E())().insert(lt.textContent)}),this.addMatcherSafely("a",(lt,ot)=>{if(!this.options.supportsAnchorText)return ot;const Et=lt.getAttribute("data-stringify-type"),At=lt.textContent;if(Et==="mention"||Et==="channel")return ot;const Ot=lt.getAttribute("href");if(this.convertActionIsExternalHtml){let yt;try{yt=new URL(Ot)}catch{}if(!yt||!yt.protocol||yt.protocol.toLowerCase()==="javascript:")return new(E())().insert(At)}const Rt=it&&it.getState();if(At.match(/^[#\uFF03][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*$/i)){const yt=(0,w.$N)(Rt,Ot);if(yt&&yt.type==="message"&&!yt.ts){const Mt=(0,O.OL)(Rt,yt.channelId);if(Mt&&(0,F.Mn)(Mt)===At.substr(1))return new(E())().insert(At)}}if(At.match(/^(?:@|\uFF20)[^\n@\uFF20]*$/)){const yt=(0,w.$N)(Rt,Ot);if(yt&&yt.type==="member"){const Mt=(0,M.nv)(Rt,yt.memberId),en=(0,j.Gt)(Mt);return Mt&&en===At.substr(1)?new(E())().insert(At,{slackmention:(0,te.A)(Mt,this.options.getUserHighlightWords())}):new(E())().insert(At)}}return ot})}},"PlainClipboard")}i(ge,"getPlainClipboardModule");const De=ge(window)},3448755266:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(6087439017),n=e(4505564445);const r=(0,t.A)().import("core/module");let d=i(class extends r{findCheckboxBehind(a){if(a){if(a&&a.length>0)return this.quill.setSelection(a.index,0),!1;const l=this.quill.getFormat(a);if(l&&l.list&&(l.list==="checked"||l.list==="unchecked")){const[m,c]=this.quill.getLeaf(a.index);if(c===0){const _=m&&m.parent;if(_){const p=_.domNode.querySelector(".slack-docs-list-item-checkbox");if(p&&document.activeElement!==p)return p.focus(),!1}}}}return!0}findCheckboxAhead(a){if(a){const l=this.quill.getFormat(a);l&&l.list&&(l.list==="checked"||l.list==="unchecked")&&setTimeout(()=>{const[m,c]=this.quill.getLeaf(a.index+1);if(c===0){const _=m&&m.parent;if(_){const p=_.domNode.querySelector(".slack-docs-list-item-checkbox");if(p&&document.activeElement!==p)return p.focus(),!1}}return!0},0)}return!0}constructor(a,l){super(a,l),this.quill.keyboard.addBinding({key:n.UQ},this.findCheckboxBehind),this.quill.keyboard.addBinding({key:n.LE},this.findCheckboxAhead)}},"SlackDocsListModule")},3409151135:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M});var t=e(4711108074),n=e.n(t),s=e(3078252698),r=e(3339229351),d=e(2354051480),o=e(9936232041),a=e(3829348308),l=e(4547907890),m=e(2827252833),c=e(117342833),_=e(6533394955),p=e(6859521351),u=e(1632207548),h=e(8581994840),E=e(6958543140),A=e(4206015041),v=e(8792003313);function f(I){if(!I)return 2;const D=I+1;return D>6?1:D}i(f,"increment");function g(I,D,P){let{emojiSupportsMultiSkinTones:k}=P;if(k&&D.length!==I.length-2){const R=I.substr(D.length+2).match(v.x);if(R){let V=parseInt(R[2],10)||1,B=parseInt(R[3],10)||V;return B===6?(V=f(V),B=f(B)):B&&(B=f(B)),V===1?"":V===B?`:skin-tone-${V}:`:`:skin-tone-${V}-${B===1?2:B}:`}}else if(D.length!==I.length-2){const R=I.substr(D.length+2).match(v.S);return R&&R[2]!=="6"?`:skin-tone-${parseInt(R[2],10)+1}:`:""}return":skin-tone-2:"}i(g,"generateNextSkinTone");const y=/\S/,T=/^\s*:\S*\n$/;function M(I){const D=(0,E.A)(I),P=D.import("core/module"),k=D.import("parchment");return i(class extends P{unload(){this.quill.root.removeEventListener("click",this.onEmojiClick),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{link:!1,code:!1,"code-block":!1}},this.onSpace),this.quill.root.addEventListener("click",this.onEmojiClick,!1),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1}maybeConvertEmoticonFromKeyboardBinding(B,W,L){if(this.isInComposition||!this.options.convertEmoticonsIsEnabled())return!1;const S=W.prefix;if(!S)return!1;const H=(0,d.A)();if(!H)return!1;let w=-1,F="";S.replace(H,(J,X,q,G)=>{w=G+X.length,F=q});const j=B.index-S.length+w;if(!r.dq[F]||this.options.useWysiwyg&&W.format&&(W.format.link||W.format.code||W.format["code-block"]))return!1;if(!this.options.useWysiwyg||this.options.usePlainTextMode){if((0,p.A)(this.quill.getText(0,j)))return!1;const J=(0,u.A)(S);if((0,h.A)(j,J))return!1}if(F==="8)"&&j>3&&this.quill.getText(j-1,1)===`
`){const J=this.quill.getText(0,j-1);if(J.substr(J.lastIndexOf(`
`)+1,2)==="7)")return!1}if(this.options.useWysiwyg&&j>0){const X=this.quill.getContents(j-1,1).ops[0];if(!((0,l.A)(X)&&X.insert.match(/\s/)||(0,m.Ay)(X)))return!1}return this.quill.deleteText(j,F.length),this.quill.insertEmbed(j,"slackemoji",{text:`:${r.dq[F]}:`}),L?(this.quill.insertText(j+1,L),this.quill.setSelection(j+2)):this.quill.setSelection(j+1),!0}onEnter(B,W){let{range:L,context:S}=W;return this.maybeConvertEmoticonFromKeyboardBinding(L,S),!1}onSpace(B,W){return!this.maybeConvertEmoticonFromKeyboardBinding(B,W," ")}onEmojiClick(B){const W=B.target;if(!(W!=null&&W.classList.contains("emoji")&&(W!=null&&W.hasAttribute("data-has-skin-tone"))))return!0;const S=k.find(B.target).offset(this.quill.scroll),H=this.quill.getContents(S,1);if(H.ops[0]&&(0,m.Ay)(H.ops[0])){const w=H.ops[0].insert.slackemoji.text,F=(0,o.A)(w)||{name:""},j=this.options.teamId&&(0,_.getStateByTeamId)(this.options.teamId),J=(0,a.Fm)(j,{text:F.name,teamId:this.options.teamId}),X=(0,a.pA)(j,{text:F.name,teamId:this.options.teamId});if(!J&&!X)return!0;const q=g(w,F.name,{emojiSupportsMultiSkinTones:X}),G=new(n());G.retain(S).delete(1).insert({slackemoji:{text:`:${F.name}:${q}`}}),this.quill.updateContents(G)}return!0}toggleJumbomoji(B){if(!this.options.isJumbomojiEnabled)return;if(!this.options.isJumbomojiEnabled()||B.length()<=1){this.updateJumbomojiClass(!1);return}let W=!0,L=0;const S=B.ops.length-1;B.forEach((H,w)=>{if((0,m.Ay)(H)){L+=1;return}(0,c.Ay)(H)||!(0,l.A)(H)?W=!1:S===w&&W?W=!y.test((0,s.A)(H.insert)?H.insert:"")||T.test((0,s.A)(H.insert)?H.insert:""):y.test((0,s.A)(H.insert)?H.insert:"")&&(W=!1)}),this.updateJumbomojiClass(W&&L>0&&L<=r.kf)}buildTextChangeDelta(B,W){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1,formattingOnly:!1};return(0,A.A)(B,{useWysiwyg:L.useWysiwyg,usePlainTextMode:L.usePlainTextMode,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled(),emojiNames:this.options.getEmojiNames?this.options.getEmojiNames():[],locale:this.options.getLocale?this.options.getLocale():void 0,replaceNativeEmoji:this.options.replaceNativeEmoji,teamId:this.options.teamId})}afterTextChangeQueue(B){this.toggleJumbomoji(B)}constructor(B,W){super(B,W),this.onSpace=this.onSpace.bind(this),this.onEnter=this.onEnter.bind(this),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onEmojiClick=this.onEmojiClick.bind(this),this.toggleJumbomoji=this.toggleJumbomoji.bind(this),this.updateJumbomojiClass=W.updateJumbomojiClass,this.isInComposition=!1,this.options.inlineEmojiIsEnabled||(this.options.inlineEmojiIsEnabled=()=>!1),this.options.convertEmoticonsIsEnabled||(this.options.convertEmoticonsIsEnabled=()=>!1),this.listen()}},"SlackEmoji")}i(M,"getSlackEmojiModule");const O=M(window)},6299559191:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(4505564445),n=e(6958543140);function s(r){const d=(0,n.A)(r),o=r||window,a=d.import("core/module");return i(class extends a{listen(){o.document.addEventListener("keydown",this.muteKeyEventsOnHrEmbed)}unload(){o.document.removeEventListener("keydown",this.muteKeyEventsOnHrEmbed)}muteKeyEventsOnHrEmbed(c){const _=this.quill.getSelection();if(_){const p=this.quill.getFormat(_);if(p&&p.slackhorizontalrule){if(c.keyCode===t.Fm||c.keyCode===t.n6||c.keyCode===t.i7||c.keyCode===t.UQ||c.keyCode===t.LE)return!0;c.preventDefault()}}return!0}constructor(c,_){super(c,_),this.muteKeyEventsOnHrEmbed=this.muteKeyEventsOnHrEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"SlackHorizontalRuleModule")}i(s,"getSlackHorizontalRuleModule")},8239411787:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>ve});var t=e(7715417323),n=e(3750057149),s=e(9087248458),r=e(9113979368),d=e(8786006583),o=e(6027162153),a=e(3571452446),l=e(1649982175),m=e(3961021150),c=e(6696292586),_=e(4711108074),p=e.n(_),u=e(6533394955),h=e(7757435370),E=e(56548687),A=e(571104883),v=e(6564475562),f=e(6551836451),g=e(2827252833),y=e(8315518813);function T(me){if(!me)return!1;const oe=me.getSelection();return oe?oe.index+oe.length===me.getLength()-1:!1}i(T,"isSelectionAtEnd");var M=e(4244114639),O=e(4504227813),I=e(8369963377),D=e(9474987151),P=e(6958543140),k=e(6244014364),R=e(4505564445),V=e(3339229351),B=e(512148710);const W=V.Az-1,L={bindings:{},onEnter:t.A,onEscape:t.A,onTab:t.A,featureReactMessages:!0,shouldInsertNewline:t.A},S=i(me=>{let{quill:oe,texty:N,range:K,context:x,shiftKey:b}=me;return!N.isEnabled()||N.getModules().some($=>$.onHome?$.onHome({context:x}):!1)?!1:(0,A.cX)()?b?(oe.setSelection(0,K.index+K.length),!1):(oe.setSelection(0,0),!1):!0},"onHome"),H=i(me=>{let{quill:oe,texty:N,range:K,context:x,shiftKey:b}=me;return!N.isEnabled()||N.getModules().some($=>$.onEnd?$.onEnd({context:x}):!1)?!1:(0,A.cX)()?b?(oe.setSelection(K.index,oe.getLength()-K.index),!1):(oe.setSelection(oe.getLength(),0),!1):!0},"onEnd"),w=i(me=>{let{texty:oe,range:N,context:K,onBackspaceExternal:x}=me;if(!oe.isEnabled()||oe.getModules().some(z=>z.onBackspace?z.onBackspace({range:N,context:K}):!1))return!1;if(x){const z=x();return(0,n.A)(z)?z:!0}return!0},"onBackspace"),F=i(me=>{let{modifiers:oe={},range:N,context:K,onEnterExternal:x,quill:b,texty:z,singleLineInput:$,shouldInsertNewline:Z=t.A,useWysiwyg:U}=me;if(!z.isEnabled()||z.getModules().some(_e=>_e.onEnter?_e.onEnter(oe,{range:N,context:K,shouldInsertNewline:Z}):!1))return!1;if(!$&&Z(oe)||x(oe)){var se,de;let _e=[];if(U&&K){var ue;if(_e=(0,s.A)(Object.keys(K.format||{}),["bold","italic","underline","strike","code"]),K&&!(0,r.A)(K.format)&&K.format.header&&K.offset===0)return b.setSelection(N.index,"silent"),b.insertText(N.index,`
`,"user"),b.setSelection(N.index+1,"silent"),b.removeFormat(N.index),!1;if(K&&!(0,r.A)(K.format)&&K.format.header&&K.offset!==0&&!oe.shiftKey&&setTimeout(()=>{const ae=b.getSelection();b.removeFormat(ae.index)},0),K&&!(0,r.A)(K.format)&&K.format.slackhorizontalrule)return b.insertText(N.index+1,`
`,"user"),b.setSelection(N.index+1,"silent"),!1;if(K.collapsed&&K.format&&K.format["code-block"]&&(!K.suffix.length||K.suffix.match(/^\s+$/))){const ae=N.index>1?b.getContents(N.index-2,2):null,Ee=ae&&ae.ops&&ae.ops.length===1&&ae.ops[0];if(Ee&&Ee.insert===`

`&&Ee.attributes&&Ee.attributes["code-block"])return b.insertText(N.index,`
`),b.setSelection(N.index+1,0),b.removeFormat(N.index+1,0),b.deleteText(N.index-2,2,"user"),!1}if(!(K==null||(ue=K.format)===null||ue===void 0)&&ue["code-block"]&&setTimeout(()=>{const ae=b.getFormat(N.index-1,1),Ee=b.getFormat(N.index,1);(!(ae!=null&&ae.border)||Ee!=null&&Ee.border)&&b.formatLine(N.index-1,1,"border",ae.border||Ee.border)},0),(0,v.A)()&&K&&K.collapsed&&K.format&&K.format.list){const ae=(0,d.A)(b.getContents().ops);return ae&&ae.attributes&&ae.attributes.list&&b.insertText(b.getLength(),`
`,"silent"),!0}if(!(0,v.A)()&&K.format.list&&!K.prefix.length&&!K.suffix.length&&K.empty)return b.formatLine(N.index,1,{list:!1,indent:0},"silent"),!1;if(K&&K.collapsed&&K.format&&K.format.blockquote&&!K.prefix.length&&!K.suffix.length){const ae=N.index>1?b.getContents(N.index-2,2):null,Ee=ae&&ae.ops&&ae.ops.length===1&&ae.ops[0];if(Ee&&Ee.insert===`

`&&Ee.attributes&&Ee.attributes.blockquote)return b.insertText(N.index,`
`),b.setSelection(N.index+1,0),b.removeFormat(N.index+1,0),b.deleteText(N.index-2,2,"user"),!1}K&&K.format&&K.format.code&&K.prefix.length&&K.suffix.length&&(_e=(0,o.A)(_e,"code"),setTimeout(()=>(b.formatText(N.index,N.index+K.suffix.length,{code:!1},"silent"),!0),0))}const pe=(0,a.A)(K.format||{},["code-block","blockquote","list","header"]);!(K==null||(se=K.format)===null||se===void 0)&&se.indent&&(pe.indent=K.format.indent),!(K==null||(de=K.format)===null||de===void 0)&&de.border&&(pe.border=K.format.border),z.insertContentsAtCursor({contents:new(p())().insert(`
`,pe).ops}),U&&_e.length&&_e.forEach(ae=>{b.format(ae,!0)}),b.selection.scrollIntoView(b.scrollingContainer),(0,f.A)(b.scrollingContainer)&&T(b)&&(b.scrollingContainer.scrollTop=Number.MAX_SAFE_INTEGER)}return!1},"onEnter"),j=i(me=>{let{onEscapeExternal:oe,quill:N,texty:K,useWysiwyg:x,range:b,context:z}=me;return K.getModules().some(Z=>Z.onEscape?Z.onEscape():!1)?!1:x&&(z.empty&&z.collapsed&&z.format.blockquote||z.collapsed&&z.format["code-block"]&&(z.empty||z.prefix.length&&z.prefix.substr(-1)===`
`))?(N.removeFormat(b),!1):oe?!oe():!0},"onEscape"),J=i(me=>{let{modifiers:oe={},onTabExternal:N,texty:K,context:x}=me;return K.getModules().some(z=>z.onTab?z.onTab(oe):!1)?!1:N?N({modifiers:oe,texty:K,context:x}):!0},"onTab");function X(){let{quill:me,range:oe,context:N}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const K=new(p());let x=null;!N.collapsed&&oe.index>0&&(K.retain(oe.index),x=me.getContents(oe.index-1,1));const b=N.collapsed?me.getContents():me.getContents(oe.index,oe.length),z=(0,O.A)(b);let $=oe.length;N.collapsed||($=b.compose(z).length()),me.updateContents(K.concat(z));const Z=N.collapsed?me.getContents():me.getContents(oe.index,$),U=(0,M.A)(Z,x);me.updateContents(K.concat(U))}i(X,"convertMarkdown");const q=i(()=>({bold:{key:"B",shortKey:!0,handler(me){return this.applyFormattingFromShortcut("bold",me)}},italic:{key:"I",shortKey:!0,handler(me){return this.applyFormattingFromShortcut("italic",me)}},strike:{key:"x",shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("strike",me)}},code:{key:"c",shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("code",me)}},link:{key:"u",shiftKey:!0,shortKey:!0,handler(){return this.options.showLinkForm&&this.options.showLinkForm({source:k.MsgFormattingInputSource.KEYBOARD}),!1}},"bullet-list":{key:56,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("bullet-list",me)}},"ordered-list":{key:55,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("ordered-list",me)}},blockquote:{key:57,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("blockquote",me)}},"blockquote-alt":{key:190,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("blockquote",me)}},"code-block":{key:"c",shortKey:!0,shiftKey:!0,altKey:!0,handler(me){return this.applyFormattingFromShortcut("code-block",me)}}}),"getFormattingBindings"),G=i(()=>({"block code down arrow":{key:R.n6,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code-block"],handler(me,oe){if(!oe.suffix.length||oe.suffix===`
`){const N=this.quill.getLength()-1;oe.prefix.length&&me.index===N&&this.quill.insertText(me.index+1,`
`,"user")}return!0}},"up arrow out of code block":{key:R.i7,format:{"code-block":!0},collapsed:!0,handler(me,oe){const[N]=this.quill.getLine(me.index-1);return N&&!N.prev&&N.parent&&N.parent.statics&&N.parent.statics.blotName&&N.parent.statics.blotName==="scroll"&&oe.prefix.length===0&&me.index===0&&setTimeout(()=>(this.quill.insertText(0,` 
`,{"code-block":!1},"silent"),this.quill.setSelection(0,0,"silent"),!1),0),!0}},"inline code right arrow":{key:R.LE,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(me,oe){return this.quill.getText(me.index,1)===`
`&&oe.prefix.length&&!oe.suffix.length?(this.quill.insertText(me.index," ","user"),this.quill.formatText(me.index,1,"code",!1,"silent"),this.quill.setSelection(me.index+1,0,"silent"),!1):!0}},"delete on empty line to merge with code block":{key:R.SJ,empty:!0,handler(me){return setTimeout(()=>{const oe=this.quill.getFormat(me.index,0),N=this.quill.getFormat(me.index-1,0);!(oe!=null&&oe.border)&&(N==null?void 0:N.border)>0&&this.quill.formatLine(me.index,0,"border","1"),(oe==null?void 0:oe.border)>0&&!(N!=null&&N.border)&&this.quill.formatLine(me.index-1,0,"border","1")},0),!0}},"delete line after code block from within code block":{key:R.SJ,format:{"code-block":!0},handler(me){const oe=this.quill.getText(me.index,1)===`
`,N=this.quill.getFormat(me.index,0);return oe&&(N!=null&&N["code-block"])&&(this.quill.formatLine(me.index+1,0,"code-block",!0),N!=null&&N.border&&this.quill.formatLine(me.index+1,0,"border","1"),setTimeout(()=>{const K=this.quill.getFormat(me.index,0),x=this.quill.getFormat(me.index+1,0);!(K!=null&&K.border)&&(x==null?void 0:x.border)>0&&this.quill.formatLine(me.index,0,"border","1"),(K==null?void 0:K.border)>0&&!(x!=null&&x.border)&&this.quill.formatLine(me.index+1,0,"border","1")},0)),!0}},"backspace merging code blocks from empty line":{key:R.G_,empty:!0,format:{"code-block":!1,blockquote:!1},handler(me){return setTimeout(()=>{const oe=this.quill.getFormat(me.index-1,0),N=this.quill.getFormat(me.index,0);!(oe!=null&&oe.border)&&(N==null?void 0:N.border)>0&&this.quill.formatLine(me.index-1,0,"border","1"),(oe==null?void 0:oe.border)>0&&!(N!=null&&N.border)&&this.quill.formatLine(me.index,0,"border","1")},0),!0}},"backspace merging code blocks from within code block":{key:R.G_,offset:0,format:{"code-block":!0},handler(me){return setTimeout(()=>{const oe=this.quill.getFormat(me.index-1,0),N=this.quill.getFormat(me.index-2,0);oe!=null&&oe.border&&!(N!=null&&N.border)>0&&this.quill.formatLine(me.index-2,0,"border","1"),!(oe!=null&&oe.border)&&(N==null?void 0:N.border)>0&&this.quill.formatLine(me.index-1,0,"border","1")},0),!0}},"sanitize code block border information after undo":{key:"Z",shortKey:!0,format:{"code-block":!0,border:"1"},handler(){const me=this.quill.getSelection();return setTimeout(()=>{const oe=this.quill.getContents();this.quill.setContents(oe),this.quill.setSelection(me.index,0)},0),!0}},"sanitize quoted list border information after undo":{key:"Z",shortKey:!0,format:{list:!0,border:"1"},handler(me,oe){return setTimeout(()=>{var N;!(oe==null||(N=oe.format)===null||N===void 0)&&N.border&&this.quill.formatLine(me.index,me.length,{border:"0"})},0),!0}},"sanitize quoted blockquote border information after undo":{key:"Z",shortKey:!0,format:{blockquote:!0,border:"1"},handler(me,oe){return this.quill.formatLine(me.index,me.length,{border:"0"}),oe.empty?(this.quill.insertText(me.index,"> "),this.quill.setSelection(me.index+2,0)):(this.quill.insertText(0,"> "),this.quill.setSelection(me.index+2,0)),!1}},"backspace empty code block with border":{key:R.G_,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!0},handler(){return this.quill.format("border","0","user"),!0}},"backspace empty code block":{key:R.G_,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!1},handler(){return this.quill.format("code-block",!1,"user"),!0}},"backspace empty blockquote":{key:R.G_,collapsed:!0,empty:!0,offset:0,format:["blockquote"],handler(me,oe){var N;return(oe==null||(N=oe.format)===null||N===void 0?void 0:N.border)>=1?(this.quill.format("border","0","user"),!1):(this.quill.format("blockquote",!1,"user"),!1)}},"backspace non-empty single line blockquote":{key:R.G_,collapsed:!0,empty:!1,offset:0,format:["blockquote"],handler(me,oe){var N;const K=(oe==null||(N=oe.format)===null||N===void 0?void 0:N.border)>=1,x=oe==null?void 0:oe.suffix,b=this.quill.getFormat(me.index-1,0),z=this.quill.getFormat(me.index+x.length+1,0),$=b.blockquote||z.blockquote,Z=!z.blockquote&&me.index===0;return K&&(!$||Z)?(this.quill.format("border","0","silent"),!1):!K&&(!$||Z)?(this.quill.format("blockquote",!1,"silent"),!1):(x&&$&&this.quill.deleteText(me.index-1,1),!1)}},"convert markdown":!(0,v.A)()&&{key:"f",shortKey:!0,shiftKey:!0,handler(me,oe){X({quill:this.quill,range:me,context:oe})}}}),"getWysiwygBindings"),ne=i(me=>{let{Quill:oe,localWindow:N}=me;return{"inline code spacebar":{key:R.I6,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(K,x){const b=(0,l.A)(x.format,["code"]);return x.prefix.length&&!x.suffix.length?(this.quill.setSelection(K.index,"silent"),this.quill.insertText(K.index," ","user"),this.quill.setSelection(K.index,1,"silent"),this.quill.removeFormat(K.index,1,"silent"),(0,r.A)(b)||this.quill.formatLine(K.index,K.length,b),this.quill.setSelection(K.index+1,0,"silent"),!1):!0}},"delete image":{key:R.SJ,handler(K){const x=this.quill.getFormat(K.index+1,1),b=this.quill.getFormat(K.index,1);return x&&x.imageSrc&&x.isPrivate!=="true"?(setTimeout(()=>{const z=N.document.querySelector(`docsblockembed[data-image-src="${x.imageSrc}"]`),$=oe.find(z);return(0,h.U)($),this.quill.setSelection(K.index+1,0),b&&b.imageSrc&&b.isPrivate!=="true"&&b.isSelected==="true"?(this.quill.deleteText(K.index,1),!0):!1},0),!1):!0}},"backspace image":{key:R.G_,handler(K){const x=this.quill.getFormat(K.index-1,1),b=this.quill.getFormat(K.index,1);return x&&x.imageSrc&&x.isPrivate!=="true"?(setTimeout(()=>{const z=N.document.querySelector(`docsblockembed[data-image-src="${x.imageSrc}"]`),$=oe.find(z);return(0,h.U)($),this.quill.setSelection(K.index-1,0),b&&b.imageSrc&&b.isPrivate!=="true"&&b.isSelected==="true"?(this.quill.deleteText(K.index,1),!0):!1},0),!1):(b&&b.imageSrc&&b.isPrivate!=="true"&&b.isSelected==="true"&&this.quill.deleteText(K.index,1),!0)}},"undo block format immediately":{key:"Z",metaKey:!0,collapsed:!0,empty:!0,offset:0,handler(K,x){return x.format&&x.format["code-block"]?(this.quill.formatLine(K.index,K.length,{"code-block":!1}),this.quill.insertText(K.index,"``` "),this.quill.setSelection(K.index+4,0),!1):!0}}}},"getDocsWysiwygBindings");function te(me){let{teamId:oe,isIndent:N,indentLevel:K}=me;const x=N?k.MsgFormattingInputFormat.INDENT:k.MsgFormattingInputFormat.DEDENT;(0,E.e)((0,u.getStoreInstanceByTeamId)(oe)).track(k.EventId.MSG_FORMATTING_ADDED,{input_context:(0,v.A)()?k.MsgFormattingInputContext.POST:k.MsgFormattingInputContext.MESSAGE,input_source:k.MsgFormattingInputSource.KEYBOARD,input_format:x,indent_level:K,is_selection:!1})}i(te,"clogListIndentFormatting");function le(me){let{teamId:oe,Quill:N}=me;return{indent:{key:R.wn,format:["indent","list"],handler(K,x){var b;if(x.collapsed&&x.offset!==0)return!0;this.quill.format("indent","+1",N.sources.USER);const $=((x==null||(b=x.format)===null||b===void 0?void 0:b.indent)||0)+1;return $<=W&&te({teamId:oe,isIndent:!0,indentLevel:$}),!1}},outdent:{key:R.wn,shiftKey:!0,format:["indent","list"],handler(K,x){var b;if(x.collapsed&&x.offset!==0)return!0;this.quill.format("indent","-1",N.sources.USER);const z=x==null||(b=x.format)===null||b===void 0?void 0:b.indent;if(z>0){const $=z-1;te({teamId:oe,isIndent:!1,indentLevel:$})}return!1}},"outdent backspace":{key:R.G_,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(K,x){var b;x.format.indent!=null?this.quill.format("indent","-1",N.sources.USER):x.format.list!=null&&this.quill.format("list",!1,N.sources.USER);const z=x==null||(b=x.format)===null||b===void 0?void 0:b.indent;if(z>0){const $=z-1;te({teamId:oe,isIndent:!1,indentLevel:$})}}}}}i(le,"getNestedListsBindings");const he=i((me,oe)=>{let{texty:N,singleLineInput:K,onEnterExternal:x,onBackspaceExternal:b,onTabExternal:z,inlineEmojiIsEnabled:$,useWysiwyg:Z,usePlainTextMode:U,shouldInsertNewline:ee,teamId:se,localWindow:de,Quill:ue}=oe;const _e=(0,A.cX)()?"metaKey":"ctrlKey",pe={...le({teamId:se,Quill:ue}),underline:{key:"u",shortKey:!0,handler:ae=>{var Ee;if(!(N==null||(Ee=N.options)===null||Ee===void 0)&&Ee.onPlusMenuShortcut)return N.options.onPlusMenuShortcut(),!1;if(me.options.formats.indexOf("underline")===-1)return!0;const Le=me.getModule("keyboard");return Le&&Le.applyFormattingFromShortcut("underline",ae),!0}},home:{key:R.yZ,handler:(ae,Ee)=>S({texty:N,quill:me,range:ae,context:Ee,shiftKey:!1})},shiftHome:{key:R.yZ,shiftKey:!0,handler:(ae,Ee)=>S({texty:N,quill:me,range:ae,context:Ee,shiftKey:!0})},end:{key:R.Kp,handler:(ae,Ee)=>H({texty:N,quill:me,range:ae,context:Ee,shiftKey:!1})},shiftEnd:{key:R.Kp,shiftKey:!0,handler:(ae,Ee)=>H({texty:N,quill:me,range:ae,context:Ee,shiftKey:!0})},backspace:{key:R.G_,handler:(ae,Ee)=>w({texty:N,range:ae,context:Ee,onBackspaceExternal:b})},enter:{key:R.Fm,context:{empty:!1},handler:(ae,Ee)=>F({range:ae,context:Ee,onEnterExternal:x,quill:me,texty:N,singleLineInput:K,shouldInsertNewline:ee,useWysiwyg:Z})},shiftEnter:{key:R.Fm,shiftKey:!0,context:{empty:!1},handler:(ae,Ee)=>F({modifiers:{shiftKey:!0},range:ae,context:Ee,onEnterExternal:x,quill:me,texty:N,singleLineInput:K,shouldInsertNewline:ee,useWysiwyg:Z})},metaEnter:{key:R.Fm,shiftKey:!1,shortKey:!0,handler:(ae,Ee)=>F({modifiers:{[_e]:!0},range:ae,context:Ee,onEnterExternal:x,quill:me,texty:N,singleLineInput:K,shouldInsertNewline:ee,useWysiwyg:Z})},metaShiftEnter:{key:R.Fm,shiftKey:!0,shortKey:!0,handler:(ae,Ee)=>F({modifiers:{[_e]:!0,shiftKey:!0},range:ae,context:Ee,onEnterExternal:x,quill:me,texty:N,singleLineInput:K,shouldInsertNewline:ee,useWysiwyg:Z})},optionEnter:{key:R.Fm,altKey:!0,handler:(ae,Ee)=>F({modifiers:{altKey:!0},range:ae,context:Ee,onEnterExternal:x,quill:me,texty:N,singleLineInput:K,shouldInsertNewline:ee,useWysiwyg:Z})},ctrlEnter:{key:R.Fm,ctrlKey:!0,handler:(ae,Ee)=>F({modifiers:{ctrlKey:!0},range:ae,context:Ee,onEnterExternal:x,quill:me,texty:N,singleLineInput:K,shouldInsertNewline:ee,useWysiwyg:Z})},tab:{key:R.wn,handler:(ae,Ee)=>J({onTabExternal:z,texty:N,context:Ee})},shiftTab:{key:R.wn,shiftKey:!0,handler:(ae,Ee)=>J({modifiers:{shiftKey:!0},onTabExternal:z,texty:N,context:Ee})},"indent code-block":{key:R.wn,shiftKey:!1,format:{"code-block":!0},handler:()=>!0},"outdent code-block":{key:R.wn,shiftKey:!0,format:{"code-block":!0},handler:()=>!0},"code exit":{key:R.Fm,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:i(function(){return!0},"handler")},"header enter":{key:R.Fm,collapsed:!0,format:["header"],suffix:/^$/,handler:()=>!0},"list autofill":Z&&!U&&{key:" ",collapsed:!0,format:{list:!1,code:!1,"code-block":!1},ctrlKey:null,shiftKey:null,altKey:null,prefix:/^\s*?(1(\.|\))|-|\*|\u2022|\[ ?\]|\[x\])$/,handler(ae,Ee){if(Ee.prefix&&Ee.prefix.startsWith("[")&&!this.quill.options.modules.slackdocslist)return!0;const Le=Ee.prefix.length,Te=this.quill.getLine(ae.index)[1],Ae=this.quill.getFormat();if(Te>Le)return!0;let Ie,Ue;switch(Ee.prefix.trim()){case"[]":case"[ ]":Ie="unchecked",Ue=k.MsgFormattingInputFormat.CHECK_LIST;break;case"[x]":Ie="checked",Ue=k.MsgFormattingInputFormat.CHECK_LIST;break;case"-":case"*":case"\u2022":Ie="bullet",Ue=k.MsgFormattingInputFormat.BULLET_LIST;break;default:Ie="ordered",Ue=k.MsgFormattingInputFormat.ORDERED_LIST}const Be=(0,D.Xh)(this.quill,ae),we=Ae!=null&&Ae.blockquote?"1":"0";return(0,y.A)(this.quill,{format:{list:Ie,border:we},range:ae,replacementLength:Le,charToInsert:" "}),(0,E.e)((0,u.getStoreInstanceByTeamId)(se)).track(k.EventId.MSG_FORMATTING_ADDED,{input_context:(0,v.A)()?k.MsgFormattingInputContext.POST:k.MsgFormattingInputContext.MESSAGE,input_source:k.MsgFormattingInputSource.MARKDOWN,input_format:Ue,is_selection:!1,input_prexisting_block_formats:Be}),!1}},"opt/ctrl shift left arrow":{key:R.UQ,shiftKey:!0,altKey:(0,A.cX)(),ctrlKey:!(0,A.cX)(),collapsed:!0,handler:i(function(Ee){if(!$||!$()||!Ee||Ee.index<1)return!0;const Le=this.quill.getContents(Ee.index-1,1),ye=Le&&Le.ops&&Le.ops[0];return(0,g.Ay)(ye)?(this.quill.setSelection(Ee.index-1,1),!1):!0},"handler")},"opt/ctrl shift right arrow":{key:R.LE,shiftKey:!0,altKey:(0,A.cX)(),ctrlKey:!(0,A.cX)(),collapsed:!0,handler:i(function(Ee){if(!$||!$())return!0;const Le=this.quill.getLength();if(!Ee||Ee.index>=Le-1)return!0;const ye=this.quill.getContents(Ee.index,1),Te=ye&&ye.ops&&ye.ops[0];return(0,g.Ay)(Te)?(this.quill.setSelection(Ee.index,1),!1):!0},"handler")}};return Z&&!U&&((0,m.A)(pe,G()),(0,m.A)(pe,q()),(0,v.A)()&&(0,m.A)(pe,ne({Quill:ue,localWindow:de}))),pe},"getEarlyBindings"),fe=i((me,oe)=>{let{onCmdLeftWhenEmpty:N,onCmdRightWhenEmpty:K,onCmdKWhenSelected:x,onCmdZWhenEmpty:b,onDownArrowWhenEmpty:z,onEscapeExternal:$,onUpArrow:Z,onUpArrowCmd:U,onUpArrowShift:ee,onDownArrow:se,onDownArrowCmd:de,onDownArrowShift:ue,onRightArrow:_e,onLeftArrow:pe,onSelectAll:ae,onPageUp:Ee,onPageDown:Le,texty:ye,useWysiwyg:Te}=oe;const Ae=[{key:R._f,handler:(Ie,Ue)=>j({onEscapeExternal:$,quill:me,texty:ye,useWysiwyg:Te,range:Ie,context:Ue})}];return Z&&Ae.push({key:R.i7,format:{"code-block":!1},handler(){return Z()}}),se&&Ae.push({key:R.n6,handler(){return se()}}),_e&&Ae.push({key:R.LE,handler(){const Ie=_e();return(0,n.A)(Ie)?Ie:!0}}),pe&&Ae.push({key:R.UQ,handler(){const Ie=pe();return(0,n.A)(Ie)?Ie:!0}}),U&&Ae.push({key:R.i7,shortKey:!0,handler(){return U(),!0}}),de&&Ae.push({key:R.n6,shortKey:!0,handler(){return de(),!0}}),ee&&Ae.push({key:R.i7,shiftKey:!0,handler(){return ee(),!0}}),ue&&Ae.push({key:R.n6,shiftKey:!0,handler(){return ue(),!0}}),z&&Ae.push({key:R.n6,handler(){return me.getLength()===1&&z(),!0}}),N&&Ae.push({key:R.UQ,shortKey:!0,handler(){return me.getLength()===1&&N(),!0}}),K&&Ae.push({key:R.LE,shortKey:!0,handler(){return me.getLength()===1&&K(),!0}}),b&&Ae.push({key:"Z",shortKey:!0,handler(){return me.getLength()===1?!b():!0}}),x&&Ae.push({key:"K",shortKey:!0,handler(){return me.getSelection().length&&x(),!0}}),ae&&Ae.push({key:"A",shortKey:!0,handler(){const Ie=ae();return(0,n.A)(Ie)?Ie:!0}}),Ee&&Ae.push({key:R.w_,handler(){const Ie=Ee();return(0,n.A)(Ie)?Ie:!0}}),Le&&Ae.push({key:R.dB,handler(){const Ie=Le();return(0,n.A)(Ie)?Ie:!0}}),Ae},"getLateBindings");function ve(me){const oe=(0,P.A)(me),N=me||window,K=oe.import("modules/keyboard");return i(class extends K{applyFormattingFromShortcut(z,$){const Z=(0,D.Xh)(this.quill,$),{didHandle:U,addedFormatting:ee,hadSelection:se}=(0,I.A)(this.quill,{format:z,index:$.index,length:$.length},this.options.useExpandedRichText);return U&&(0,c.A)(B.Hm[z])&&(0,E.e)((0,u.getStoreInstanceByTeamId)(this.options.teamId)).track(ee?k.EventId.MSG_FORMATTING_ADDED:k.EventId.MSG_FORMATTING_REMOVED,{input_context:(0,v.A)()?k.MsgFormattingInputContext.POST:k.MsgFormattingInputContext.MESSAGE,input_source:k.MsgFormattingInputSource.KEYBOARD,input_format:B.Hm[z],is_selection:se,input_prexisting_block_formats:Z}),!1}onKeydown(z){this.onLeftArrow&&z.keyCode===R.UQ&&this.quill.getLength()===1&&this.onLeftArrow()}unload(){this.quill.root.removeEventListener("keydown",this.onKeydown)}constructor(z,$){let Z=$;Z=(0,m.A)({},{localWindow:N,Quill:oe,...L},Z);const U=he(z,Z);Z.bindings=(0,m.A)({},Z.bindings,U),super(z,Z),this.onKeydown=this.onKeydown.bind(this),z.root.addEventListener("keydown",this.onKeydown),fe(z,Z).forEach(se=>this.addBinding(se)),$.onLeftArrow&&(this.onLeftArrow=$.onLeftArrow)}},"SlackKeyboard")}i(ve,"getSlackKeyboardModule")},2884895025:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>M});var t=e(129753175),n=e(8786006583),s=e(6696292586),r=e(4711108074),d=e.n(r);function o(D,P,k,R){if(!D||!R)return;const V=D.getFormat(P,k);V&&V[R]&&(V[R]=null,D.formatText(P,k,V))}i(o,"removeFormatFromRange");var a=e(3726677001),l=e(308057085),m=e(1615300784),c=e(4547907890),_=e(5382342064),p=e(3460983082),u=e(56548687),h=e(6564475562),E=e(8088280230),A=e(9935649141),v=e(6244014364),f=e(6958543140),g=e(6533394955);function y(D){if(!D)return"";const P=D.match(/\d+/g);return P!=null?P.join(""):""}i(y,"extractNumbersFromString");const T=i(D=>{if(!D||!D.attributes)return!1;const P=(0,t.A)(D.attributes.link),k=(0,t.A)(D.insert);if(!P||!k)return!1;if(P===k||P===`mailto:${k}`)return!0;const R=P.split(":")[0],V=`${R}://${k}`;if(P===V)return!0;const B=`${R}://www.${k}`;return P===B||P.substr(0,4)==="tel:"&&y(P)===y(k)},"isLabelGoodEnoughForLink");function M(D){const P=(0,f.A)(D),k=P.import("core/module"),R=P.import("formats/link");return i(class extends k{listen(){this.options.linkifyOnSpace||this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0},this.maybeLinkify)}onEnter(W,L){let{range:S,context:H,shouldInsertNewline:w}=L;if(!S||S.length>0||!w(W))return!1;const F=this.quill.getFormat(S),j=this.quill.getFormat(S.index+1),X=this.quill.getLine(S.index)[1];if(F.link&&j.link&&F.link===j.link&&X!==0&&H.prefix.trim().length!==0){const[q,G]=this.quill.getLeaf(S.index);q.text&&o(this.quill,S.index-G,q.domNode.length,"link")}else this.maybeLinkify(S,H);return!1}maybeLinkify(W,L){if(L&&L.format&&L.format["code-block"])return!0;const S=L.prefix.lastIndexOf(" "),H=S!==-1?L.prefix.substr(S+1):L.prefix,w=(0,E.A)({input:H}),F=(0,n.A)(w);if(!F)return!0;const{url:j,offset:J,text:X}=F,q=X.length,G=W.index-H.length+J,ne=this.quill.getFormat(G,q);if(ne&&ne.link||ne&&ne.code)return!0;if(this.options.convertImages&&(0,A.Zj)(j)&&!(0,A.AO)(j)){const te=new(d())().retain(G).delete(q).insert({slackdocimage:j});this.quill.updateContents(te,"silent")}else this.quill.formatText(G,q,"link",j),this.clogger.track(v.EventId.MSG_FORMATTING_ADDED,{input_context:(0,h.A)()?v.MsgFormattingInputContext.POST:v.MsgFormattingInputContext.MESSAGE,input_source:v.MsgFormattingInputSource.MARKDOWN,input_format:v.MsgFormattingInputFormat.LINK,is_selection:q>0});return!0}getChangeIndex(W){if(!W)return null;const L=W.ops;return!L||!L.length?null:(0,c.A)(L[0])||(0,p.A)(L[0])?0:L.length>1&&(0,_.A)(L[0])&&((0,c.A)(L[1])||(0,p.A)(L[1]))?L[0].retain:null}getRelevantOpData(W,L){const S=(0,c.A)(W),H=S?W.insert.substr(0,L):"",w=S?W.insert.substr(L):"",F=S&&H.match(/\s/g),j=S&&w.match(/\s/),J=(0,l.Ay)(W)||!(0,c.A)(W),X=H.length===0&&w.length>0&&w[0].match(/\s/),q=J||!F||X,G=J||!j;let ne=0;if(!S)return{shouldGetPreviousOp:q,shouldGetNextOp:G,offsetAdjustment:ne,opTextChanged:!1,relevantText:""};let te=H;!q&&F&&(ne=H.lastIndexOf(F[F.length-1]),te=H.substr(ne));let le=w;!G&&j&&(le=w.substr(0,j.index));const he=`${te}${le}`;return{shouldGetPreviousOp:q,shouldGetNextOp:G,offsetAdjustment:ne,opTextChanged:he!==W.insert,relevantText:he}}getRelevantDeltaAndOffsetWithLimitedScope(W,L){if(!W||!(0,s.A)(L))return null;const S=W.ops;if(!S||!S.length)return null;const H=[];let w,F=0;if(L===0){w=0;const J=S[0],{shouldGetNextOp:X,relevantText:q,opTextChanged:G}=this.getRelevantOpData(J,0);G?H.push({...J,insert:q}):H.push(J),X&&S.length>1&&H.push(S[1])}else S.forEach((J,X)=>{const q=(0,a.A)(J),G=F+q;if(!(L>=F&&L<G)){F+=q;return}const ne=L-F,{shouldGetPreviousOp:te,shouldGetNextOp:le,relevantText:he,offsetAdjustment:fe,opTextChanged:ve}=this.getRelevantOpData(J,ne);te&&X>0&&(H.push(S[X-1]),w=F-(0,a.A)(S[X-1])),ve?he.length&&H.push({...J,insert:he}):H.push(J),(0,s.A)(w)||(w=F+fe),le&&X+1<S.length&&H.push(S[X+1]),F+=q});if(L>0&&L===F){const J=S.length-1,X=S[J],q=(0,a.A)(X);w=F-q;const{shouldGetPreviousOp:G,relevantText:ne,opTextChanged:te,offsetAdjustment:le}=this.getRelevantOpData(X,q);if(G&&J>0){const he=S[J-1];H.push(he),w=F-(0,a.A)(X)-(0,a.A)(he)}te?H.push({...X,insert:ne}):H.push(X),G||(w+=le)}return{relevantDelta:new(d())(H),offset:w}}buildTextChangeDelta(W,L){let{initialTextChangeDelta:S,isSpaceInsertion:H,isDeletion:w,useWysiwyg:F,usePlainTextMode:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.skipNextTextChange)return this.skipNextTextChange=!1,new(d());if(!this.options.supportsAnchorText)return new(d());if(!W||!S)return new(d());if(!F||j)return new(d());const J=this.getChangeIndex(S);if(!(0,s.A)(J))return new(d());const{relevantDelta:X,offset:q}=this.getRelevantDeltaAndOffsetWithLimitedScope(W,J)||{};if(!X||!(0,s.A)(q))return new(d());let G=X,ne,te=0;if(w||H)for(let ve=0;ve<G.ops.length;ve++){const me=G.ops[ve];te+=(0,a.A)(me),(0,l.Ay)(me)&&(ne=ne?void 0:me)}(w||H)&&(0,m.A)(ne,{userDidDelete:w,userDidInsertSpace:H})&&(G=G.compose(new(d())().retain(te,{link:!1})));const le=this.options.supportsAnchorText?(0,A.L2)(G):(0,A.xN)(G);if(!le)return new(d());const he=G.reduce((ve,me)=>ve+(0,a.A)(me),0),fe=new(d())().retain(q).delete(he).concat(le);return W.diff(W.compose(fe)).length()>0?fe:new(d())}constructor(W,L){super(W,L),this.maybeLinkify=this.maybeLinkify.bind(this);const S=(0,g.getStoreInstanceByTeamId)(this.options.teamId);this.skipNextTextChange=!1,this.clogger=(0,u.e)(S),R.sanitize=H=>H,this.listen()}},"SlackLinkModule")}i(M,"getSlackLinkModule");const O={isLabelGoodEnoughForLink:T},I=M(window)},1306263562:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>fe});var t=e(4711108074),n=e.n(t),s=e(2322735331),r=e(235108050),d=e(897091071),o=e(6696292586),a=e(8571983633),l=e(6533394955),m=e(56548687),c=e(6564475562),_=e(6244014364),p=e(8315518813),u=e(3078252698),h=e(4547907890),E=e(5382342064),A=e(2048590538);const v=Object.keys(A.Ru),g=i(me=>{if(!me)return null;const oe=me.ops;if(!oe||!oe.length)return null;let N,K;return oe.length===1&&(0,h.A)(oe[0])?(K=0,N=(0,u.A)(oe[0].insert)?oe[0].insert:""):oe.length===2&&(0,E.A)(oe[0])&&(0,h.A)(oe[1])&&(K=oe[0].retain,N=(0,u.A)(oe[1].insert)?oe[1].insert:""),!N||!(0,o.A)(K)||!v.includes(N)?null:{delimiter:N,position:K}},"getMarkdownDelimiterData");var y=e(9283953805),T=e(4404059078);function M(me){let{lineText:oe,delimiter:N,position:K}=me;if(!oe||!N||!(0,o.A)(K))return null;let x;for(let U=K-1;U>=0;U--)if(oe[U]===N){x=U;break}if(!(0,o.A)(x)){for(let U=K+1;U<oe.length;U++)if(oe[U]===N){x=U;break}}if(!(0,o.A)(x))return null;const b=Math.min(K,x),z=Math.max(K,x),$=b>0?b-1:b,Z=(0,T.A)(z+2,z,oe.length);return{matchStart:$,matchEnd:Z}}i(M,"findPotentialMatchBounds");function O(me,oe){if(!me||!oe)return new(n());const{delimiter:N,position:K}=g(oe)||{};if(!N||!(0,o.A)(K))return new(n());let x=new(n()),b=0;return me.eachLine((z,$)=>{const Z=z&&z.ops,U=(0,y.A)(Z),ee=b+(U?U.length:0)+1,se=K>=b&&K<ee,de=$["code-block"];if(se&&!de){const ue=K-b,{matchStart:_e,matchEnd:pe}=M({lineText:U,delimiter:N,position:ue})||{},ae=U&&U.substring(_e||0,pe);if(ae){const Ee=A.hJ[N],Le=A.Ru[N];ae.replace(Ee,(ye,Te,Ae)=>{x=new(n())().retain(b).retain(_e||0).retain(Te.length-1).delete(1).retain(Ae.length,{[Le]:!0}).delete(1)})}}b=ee}),x}i(O,"buildLocalMarkdownChangeDelta");var I=e(8841789548),D=e(8967399401);function P(me,oe){const N={action:"noop",delta:new(n())};if(!me||!oe)return N;const{delimiter:K,position:x}=g(oe)||{};if(!K||!(0,o.A)(x)||K!=="`"&&K!=="\uFF40")return N;const b=x,z=b-2,$=b+1,Z=(0,I.A)(me.ops),U=Z.substring(z,$);if(U!=="```"&&U!=="\uFF40\uFF40\uFF40")return N;const ee=(0,D.A)(me,b),se=(0,D.A)(me,z-1),de=ee!=null&&ee.blockquote||se!=null&&se["code-block"]&&((se==null?void 0:se.border)||0)>=1?1:void 0;if(ee!=null&&ee.code)return N;const ue=ee&&ee["code-block"],_e=Z.charAt(z-1),pe=Z.charAt($),ae=new(n())().retain(z).delete(3);if(ue)return ue&&pe===`
`?(ae.retain(1).insert(`
`),{action:"remove",delta:ae}):N;_e!==`
`&&z!==0&&ae.insert(`
`,{...ee});const Le=Z.indexOf(`
`,b),ye={"code-block":!0};if((0,o.A)(de)&&(ye.border=de),Le!==-1){const Ae=Le-b-1;return ae.retain(Ae).delete(1).insert(`
`,ye),{action:"insert",delta:ae}}const Te=Z.length-b;return ae.retain(Te-1).insert(`
`,ye),{action:"insert",delta:ae}}i(P,"buildLocalCodeBlockMarkdownChangeDelta");var k=e(9592753406);function R(me,oe){if(!me||!oe)return new(n());const{delimiter:N,position:K}=g(oe)||{};if(!N||!(0,o.A)(K))return new(n());if(N!==">"&&N!=="\uFF1E")return new(n());const x=(0,I.A)(me.ops);if(x.charAt(K-1)!==`
`&&K!==0)return new(n());const z=(0,D.A)(me,K),$=(z==null?void 0:z.blockquote)&&!(z!=null&&z.border);if((0,k.Zz)(z||{})&&!$)return new(n());const Z=new(n())().retain(K).delete(1),U=x.indexOf(`
`,K),ee={blockquote:!0};if($&&(ee.border=1),U!==-1){const de=U-K-1;return Z.retain(de).delete(1).insert(`
`,ee)}const se=x.length-K;return Z.retain(se-1).insert(`
`,ee)}i(R,"buildLocalBlockQuoteMarkdownChangeDelta");var V=e(1703559452),B=e(9017940688),W=e(4029059089);function L(me){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(!me||oe!=="code-block"&&oe!=="blockquote")return!1;const N=me.ops;if(!N)return!1;const K=oe==="code-block"?B.A:W.A;return(0,V.A)(N,x=>K(x))}i(L,"shouldClogBlockFormattingEvent");var S=e(1026899594);function H(me){if(!me)return null;const oe=me.ops;if(!oe)return null;if(oe.length===2&&(0,E.A)(oe[0])&&(0,h.A)(oe[1])){const N=oe[0].retain,K=(0,u.A)(oe[1].insert)?oe[1].insert:"",x=K&&K.length;return{position:N,insert:K,insertLength:x}}return null}i(H,"getChangeDeltaInsertData");const F=i((me,oe)=>{if(!me||!oe)return new(n());const{position:N,insert:K,insertLength:x}=H(oe)||{};if(!(0,o.A)(N)||!K)return new(n());const{op:b,opIndex:z}=(0,S.A)(me,N)||{};if(!b||!(0,o.A)(z)||!(0,h.A)(b))return new(n());const $=N-z,Z=(0,u.A)(b.insert)?b.insert:"",U=$-1,ee=$+((0,o.A)(x)?x:0),se=Z.charAt(U),de=Z.charAt(ee);if(se!==de)return new(n());if(!v.includes(se))return new(n());const ue=se;if(K.indexOf(ue)!==-1)return new(n());const _e=Z.substring(U-1,ee+1),pe=A.hJ[ue];if(!_e.match(pe))return new(n());const ae=(0,D.A)(me,N)||{};if(ae["code-block"]||ae.code)return new(n());const Le=A.Ru[ue];return new(n())().retain(z).retain(U).delete(1).retain((0,o.A)(x)?x:0,{[Le]:!0}).delete(1)},"handleDoubleDelimeterInserts");var j=e(9474987151),J=e(6958543140);const X=/(^|\s)\*[^*]*\S\*$/,q=/(^|\s)_[^_]*\S_$/,G=/(^|\s)(?:`|\uFF40)[^`\uFF40]*\S(?:`|\uFF40)$/,ne=/(^|\s)~[^~]*\S~$/,te={bold:_.MsgFormattingInputFormat.BOLD,italic:_.MsgFormattingInputFormat.ITALIC,strike:_.MsgFormattingInputFormat.STRIKE,code:_.MsgFormattingInputFormat.CODE,"code-block":_.MsgFormattingInputFormat.CODE_BLOCK,blockquote:_.MsgFormattingInputFormat.BLOCKQUOTE,hr:_.MsgFormattingInputFormat.HR,h1:_.MsgFormattingInputFormat.H1,h2:_.MsgFormattingInputFormat.H2};function le(me){return!!{[_.MsgFormattingInputFormat.BOLD]:!1,[_.MsgFormattingInputFormat.ITALIC]:!1,[_.MsgFormattingInputFormat.STRIKE]:!1,[_.MsgFormattingInputFormat.CODE]:!1,[_.MsgFormattingInputFormat.UNDERLINE]:!1,[_.MsgFormattingInputFormat.LINK]:!1,[_.MsgFormattingInputFormat.H1]:!1,[_.MsgFormattingInputFormat.H2]:!1,[_.MsgFormattingInputFormat.HR]:!1,[_.MsgFormattingInputFormat.CHECK_LIST]:!1,[_.MsgFormattingInputFormat.BULLET_LIST]:!0,[_.MsgFormattingInputFormat.ORDERED_LIST]:!0,[_.MsgFormattingInputFormat.CODE_BLOCK]:!0,[_.MsgFormattingInputFormat.BLOCKQUOTE]:!0,[_.MsgFormattingInputFormat.DEDENT]:!0,[_.MsgFormattingInputFormat.INDENT]:!0}[me]}i(le,"isClogFormatComposerBlockLevelFormat");function he(me){const oe=[];return me.length()&&(me.ops||[]).forEach(x=>{!x.retain||!x.attributes||oe.push(Object.keys(x.attributes))}),(0,r.A)((0,d.A)(oe))}i(he,"getAppliedFormatsFromDelta");function fe(me){const N=(0,J.A)(me).import("core/module");return i(class extends N{unload(){this.quill.root.removeEventListener("compositionstart",this.resetFormatsToRestore)}listen(){this.quill.on("selection-change",this.onSelectionChange),this.quill.on("text-change",this.resetFormatsToRestore),this.quill.root.addEventListener("compositionstart",this.resetFormatsToRestore),this.options.convertHorizontalRule&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:/^---$/,offset:3},this.formatHorizontalRule),this.options.convertHeaders&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{header:!1,"code-block":!1,code:!1},prefix:/^#{1,2}$/},this.formatHeader)}onSelectionChange(b,z){this.formatsToRestoreOnBackspace&&(b?b&&(0,o.A)(this.wasBlurredAtIndex)?(this.wasBlurredAtIndex!==b.index&&this.resetFormatsToRestore(),this.wasBlurredAtIndex=null):(0,o.A)(this.wasBlurredAtIndex)||this.resetFormatsToRestore():this.wasBlurredAtIndex=z.index)}onBackspace(){return this.formatsToRestoreOnBackspace&&this.formatsToRestoreOnBackspace.length&&(this.formatsToRestoreOnBackspace.forEach(b=>{this.quill.format(b,!0)}),this.formatsToRestoreOnBackspace=null),!1}resetFormatsToRestore(){this.formatsToRestoreOnBackspace=null}clogMarkdownFormattingEvent(b){let{format:z,range:$}=b;if(!this.clogger)return;const Z=te[z];if((0,a.A)(Z))return;const U={input_context:(0,c.A)()?_.MsgFormattingInputContext.POST:_.MsgFormattingInputContext.MESSAGE,input_source:_.MsgFormattingInputSource.MARKDOWN,input_format:Z,is_selection:!1};if(le(Z)&&$){const ee=(0,j.Xh)(this.quill,$);U.input_prexisting_block_formats=ee}this.clogger.track(_.EventId.MSG_FORMATTING_ADDED,U)}formatHorizontalRule(b){const z=b.index-3;this.quill.deleteText(z,3),this.quill.insertEmbed(z,"slackhorizontalrule",!0),this.quill.setSelection(z+1,"silent"),this.quill.removeFormat(z+1),this.clogMarkdownFormattingEvent({format:"hr"})}formatHeader(b,z){if(z.offset>2)return!0;(0,p.A)(this.quill,{format:{header:z.offset},range:b,replacementLength:z.offset,charToInsert:" "});const $=z.offset===1?"h1":"h2";return this.clogMarkdownFormattingEvent({format:$}),!1}afterTextChangeQueue(){if(this.formatsAppliedInQueue){this.formatsToRestoreOnBackspace=this.formatsAppliedInQueue;const z=this.quill.getFormat()||{};var b;for(let $=0;$<((b=this.formatsToRestoreOnBackspace)!==null&&b!==void 0?b:[]).length;$++){const Z=this.formatsToRestoreOnBackspace[$];z[Z]?(this.quill.format(Z,!1),this.clogMarkdownFormattingEvent({format:Z})):(this.formatsToRestoreOnBackspace.splice($,1),$-=1)}}this.formatsAppliedInQueue=null}buildTextChangeDelta(b,z){let{initialTextChangeDelta:$,useWysiwyg:Z=!1,formattingOnly:U=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!b||!$)return new(n());if(!Z)return new(n());if(U)return new(n());let ee=O(b,$);if(ee.length()!==0){const se=he(ee);this.formatsAppliedInQueue=se.length?se:null}if(ee.length()===0&&(ee=F(b,$),he(ee).forEach(de=>{this.clogMarkdownFormattingEvent({format:de})})),ee.length()===0){const{delta:se}=P(b,$);ee=se;const de="code-block";L(ee,de)&&this.clogMarkdownFormattingEvent({format:de,range:z})}if(ee.length()===0){ee=R(b,$);const se="blockquote";L(ee,se)&&this.clogMarkdownFormattingEvent({format:se,range:z})}return ee}constructor(b,z){super(b,z),(0,s.v)(this,["formatHorizontalRule","formatHeader","resetFormatsToRestore","onSelectionChange","onBackspace"]);const $=this.options.teamId,Z=(0,l.getStoreInstanceByTeamId)($);this.clogger=(0,m.e)(Z),this.formatsToRestoreOnBackspace=null,this.formatsAppliedInQueue=null,this.listen()}},"SlackMarkdown")}i(fe,"getSlackMarkdownModule");const ve=fe(window)},9899103555:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(4711108074),n=e.n(t),s=e(362134992),r=e(2827252833),d=e(117342833);function o(g){return(0,d.Ay)(g)?(0,d.zv)(g)!==g.insert:!1}i(o,"isOpMentionAndInvalid");function a(g){if(!(0,d.Ay)(g))return!1;const y=(0,d._z)(g),T=(0,d.I4)(g),M=(0,d.zv)(g);if(!T||!M)return!1;const O=y.substr(0,M.length);return y.length>M.length&&O===M}i(a,"isOpMentionWithAppendedText");function l(g){if(!(0,d.Ay)(g))return!1;const y=(0,d.I4)(g),T=(0,d.zv)(g),M=(0,d._z)(g);if(!y||!T)return!1;const O=M.substr(T.length*-1);return M.length>T.length&&O===T}i(l,"isOpMentionWithPrependedText");var m=e(3904348617),c=e(6096763876),_=e(3726677001),p=e(1089076149),u=e(6958543140);const h=i(g=>g.attributes&&g.attributes.background,"hasBackgroundAttr"),E=i((g,y)=>{const T=y.ops[0];return o(T)?new(n())().insert((0,d._z)(T)):y},"handleMention"),A=i((g,y)=>y.length()===0&&g.textContent.length>0&&/^ +$/.test(g.textContent)?new(n())().insert(g.textContent):y,"maybeHandleSpaces");function v(g){const y=new(n());let T=0,M=0;return g.forEach(O=>{let I=0,D=T,P="";const k=(0,_.A)(O);if(T+=k,!(!(0,d.Ay)(O)||!o(O))){if((0,r.Ay)(O))y.retain(D-M).delete(k).insert({slackemoji:(0,r.MU)(O)},{...O.attributes,slackmention:null});else if((0,m.Ay)(O))y.retain(D-M).delete(k).insert({workflowtoken:(0,m.zy)(O)},{...O.attributes,slackmention:null});else if(a(O)){if(D+=(0,d.zv)(O).length,y.retain(D-M),I=k-(0,d.zv)(O).length,P=(0,p.A)(g,D,I),P.length>=(0,d.zv)(O).length)for(;P.length>=(0,d.zv)(O).length&&P.length;){const R=P.substr(0,(0,d.zv)(O).length);if(R===(0,d.zv)(O))y.delete(R.length).insert(R,O.attributes),P=P.substr(R.length);else break}P.length&&y.delete(P.length).insert(P,{...O.attributes,slackmention:null})}else if(l(O)){P=(0,p.A)(g,D,k).replace(/\n$/,"");const R=P.length,V=(0,d.zv)(O);let B=0;for(;P.length>V.length&&P.substr(V.length*-1)===V;)B+=1,P=P.substr(0,P.length-V.length);y.retain(D-M),y.delete(R),y.insert(P);for(let W=0;W<B;W++)y.insert(V,O.attributes)}else P=(0,p.A)(g,D,k),y.retain(D-M).delete(k).insert(P,{...O.attributes,slackmention:null});M=T}}),y}i(v,"buildUnformatBrokenMentionsChanges");function f(g){const T=(0,u.A)(g).import("core/module");return i(class extends T{listen(){this.quill.on("text-change",this.onTextChange),this.quill.clipboard.addMatcher(".c-member_slug",E),this.quill.clipboard.addMatcher("ts-mention",E),this.quill.clipboard.addMatcher(Node.TEXT_NODE,A)}onTextChange(I){(0,c.A)(I)||(this.fixMultipleBrokenMentionsAttempt||this.fixMultipleBrokenMentions(I),this.fixLeakingMentions())}buildTextChangeDelta(I){return v(I)}fixMultipleBrokenMentions(I){const D=I==null?void 0:I.ops,P=this.quill.getContents();let k=D.map(W=>{var L;return W==null||(L=W.attributes)===null||L===void 0?void 0:L.slackmention});if(k=(0,s.A)(k),!k.length||this.fixMultipleBrokenMentionsAttempt)return;const R=2;let V=0,B=k[0];for(let W=1;W<k.length;W++){const L=k[W];if(L.label===B.label&&(V+=1),L.label!==B.label&&(V=0),V>=R){this.quill.setContents(P),this.fixMultipleBrokenMentionsAttempt=!1;return}B=L,this.fixMultipleBrokenMentionsAttempt=!0}}fixLeakingMentions(){this.quill.getContents().filter(P=>h(P)).length>0&&setTimeout(()=>{const P=this.quill.getContents().map(R=>h(R)?{insert:R.insert}:R),k=this.quill.getSelection();this.quill.setContents({ops:P},"silent"),k&&this.quill.setSelection(k)},0)}constructor(I,D){super(I,D),this.onTextChange=this.onTextChange.bind(this),this.fixMultipleBrokenMentionsAttempt=!1,this.listen()}},"SlackMentionModule")}i(f,"getSlackMentionModule")},1296559413:(Q,C,e)=>{"use strict";e.d(C,{A:()=>S});var t=e(7715417323),n=e(6696292586),s=e(2774532222),r=e(9026461287),d=e(3783303734),o=e(3961021150),a=e(4711108074),l=e.n(a),m=e(735940183),c=e(2322735331),_=e(3829348308),p=e(6533394955),u=e(9936232041),h=e(4547907890),E=e(2827252833),A=e(6096763876),v=e(6958543140),f=e(5177671990),g=e(4505564445),y=e(9293534148),T=e(512148710),M=e(6859521351),O=e(571104883);const I="TABCOMPLETE",D=/^\/[a-zA-Z]*?/i,P={getMatch:t.A,search:t.A,onSelect:t.A,getInsertDataFromActiveResult:t.A,shouldDisplayResults:()=>!0,getMatchText:t.A,getMatchIndex:t.A,getMatchResults:t.A,clearMatchState:t.A,setSearchInFlight:t.A,getSearchInFlight:t.A,getSelectedIndex:t.A,onRequestOpen:t.A,onRequestClose:t.A,onInit:t.A,isOpen:t.A,positionMenu:t.A,logger:{error:t.A,info:t.A,warn:t.A}},k=i(H=>H.reduce((w,F)=>F.insert?w+F.insert:w,""),"combineByInserts"),R=[":","*","_","~"],V=i((H,w,F)=>{if(F.indexOf(w)!==-1)return"";const j=H.exec(w);return j?j[0]:""},"trailingPunctuation");function B(H,w,F){const j=F.concat([" "]);if(w&&w.index>=4){const J=H.getText(w.index-2,2),X=H.getFormat(w.index-3),q=J.charAt(1);if(R.indexOf(q)===-1&&(j.indexOf(q)!==-1||(0,m.Uq)(q))&&J.charAt(0)===" "&&X&&X.slackmention&&!X.slackmention.unverified)return!0}return!1}i(B,"hasSpaceAndPunctuationAfterMention");function W(H,w){if(w&&w.index>=5){const F=H.getText(w.index-3,3),j=H.getFormat(w.index-4);if(F===" : "&&j&&j.slackmention&&!j.slackmention.unverified)return!0}return!1}i(W,"hasSpaceAndColonAfterMention");function L(H,w){if(w&&w.index>=6){const F=H.getText(w.index-4,4),j=H.getFormat(w.index-5);if(F.search(/ ['\u2018\u2019]s /)!==-1&&j&&j.slackmention&&!j.slackmention.unverified)return!0}return!1}i(L,"hasSpaceAndApostropheAfterMention");function S(H){const F=(0,v.A)(H).import("core/module");return i(class extends F{unload(){this.isUnmounted=!0,this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.hideMenu(),setTimeout(()=>{this.state=null},0)}listen(){this.quill.on("text-change",this.onTextChange),this.quill.on("selection-change",this.onSelectionChange),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd),[g.i7,g.n6].forEach(X=>{this.quill.keyboard.addBinding({key:X,handler:()=>this.onUpDownArrow(X)})}),[g.UQ,g.LE].forEach(X=>{this.quill.keyboard.addBinding({key:X,handler:(q,G)=>this.onLeftRightArrow(G)})})}ariaExpand(X){const q=this.quill.root;if(!q)return;const G=q.getAttribute("role");if(this.options.experimentTextyAutocompleteChangeGroupOn){G==="combobox"&&q.setAttribute("aria-expanded",X),X||q.removeAttribute("aria-activedescendant");return}G==="combobox"&&q.setAttribute("aria-expanded","true"),q.setAttribute("aria-activedescendant",(0,f.An)(this.options.getSelectedIndex()))}ariaCollapse(){const X=this.quill.root;if(!X)return;X.getAttribute("role")==="combobox"&&X.setAttribute("aria-expanded","false"),X.removeAttribute("aria-activedescendant")}ariaActiveDescendant(X){const q=this.quill.root;if(q){if(!(0,n.A)(X)){q.removeAttribute("aria-activedescendant");return}q.setAttribute("aria-activedescendant",(0,f.An)(X))}}onUpDownArrow(X){return this.options.isOpen()?this.options.onArrowKey(X):!0}onLeftRightArrow(X){var q;return!((q=X.format)===null||q===void 0)&&q.slackmention&&(this.options.experimentTextyAutocompleteChangeGroupOn?this.options.clearSelectedIndex():this.quill.root.removeAttribute("aria-activedescendant")),!0}onHome(X){let{context:q}=X;var G;return!((G=q.format)===null||G===void 0)&&G.slackmention&&(this.options.experimentTextyAutocompleteChangeGroupOn?this.options.clearSelectedIndex():this.quill.root.removeAttribute("aria-activedescendant")),!1}onEnd(X){let{context:q}=X;var G;return!((G=q.format)===null||G===void 0)&&G.slackmention&&(this.options.experimentTextyAutocompleteChangeGroupOn?this.options.clearSelectedIndex():this.quill.root.removeAttribute("aria-activedescendant")),!1}onEscape(){return this.options.isOpen()?(this.hideMenu(),!0):!1}onTab(X){if(X!=null&&X.shiftKey)return!1;if(this.options.isOpen())return this.options.possiblySelectFirstItem(),setTimeout(()=>{this.onEnter(null)},0),!0;if(this.options.setSearchInFlight(null),this.quill.getLength()===1)return!1;const q=!0,G=this.options.getMatchText(),ne=this.getCurrentMatchAtCursor(q);return ne&&G===ne.text||this.completeAtCursor({isUserSolicited:q},ne),!1}onCompositionStart(){this.state.isInComposition=!0,this.state.compositionTimer&&clearTimeout(this.state.compositionTimer)}onCompositionEnd(){this.state.compositionTimer=setTimeout(()=>{this.state.isInComposition=!1,this.options.isOpen()||this.maybeCompleteAtCursor("user")},0)}onTextChange(X,q,G){if(!this.state||(0,A.A)(X))return;const ne=this.quill.getSelection();if(X.length()===1&&X.ops[0].insert&&setTimeout(()=>{const te=this.quill.getSelection();if(te&&te.index===0&&te.length===0){const le=this.quill.getLength()-1;le===1&&(this.quill.setSelection(le,0),this.options.logger.info(I,"manually adjusted index for Safari"))}},0),this.state.selectionJustHappened&&!this.state.isInComposition&&(this.state.selectionJustHappened=!1,B(this.quill,ne,T.Nb))){setTimeout(()=>{this.quill.deleteText(ne.index-2,1),this.quill.setSelection(ne.index-1,0),this.hideMenu()},0);return}if(W(this.quill,ne)){setTimeout(()=>{this.quill.deleteText(ne.index-3,1),this.quill.setSelection(ne.index-1,0),this.hideMenu()},0);return}if(L(this.quill,ne)){setTimeout(()=>{this.quill.deleteText(ne.index-4,2),this.quill.insertText(ne.index-4,"\u2019"),this.quill.setSelection(ne.index-1,0),this.hideMenu()},0);return}this.state.isSelectingOption||setTimeout(()=>{this.maybeCompleteAtCursor(G)},0)}maybeCompleteAtCursor(X){if(!this.isUnmounted){if(this.options.setSearchInFlight(null),this.quill.getLength()<=1){this.hideMenu();return}X==="user"&&this.completeAtCursor({isUserSolicited:!1})}}isCursorWithinMention(X){if(!X||X.length>0||X.index===0)return!1;const q=this.quill.getFormat(X).slackmention;if(q&&X.index!==0&&X.index<this.quill.getLength()-1&&this.quill.getFormat(X.index+1).slackmention)return!0;const G=this.quill.getFormat(X.index+1).slackmention;return!!(q&&G&&q.id===G.id)}isSlashCommand(X){if(!X||X.length>0||X.index===0)return!1;const q=this.quill.getText();return D.test(q)}maybeShowTooltip(X,q){if(this.options.isOpen())return;const G=this.isCursorWithinMention(X);if(!G&&this.options.tooltipIsShowing()){this.options.tooltipHide();return}const ne=this.quill.selection.getNativeRange(),te=ne&&ne.start&&ne.start.node&&ne.start.node.parentNode,le=te&&te.classList;if(le&&le.contains("c-member_slug--unverified")&&X.length===0){this.maybeCompleteAtCursor(q);return}const fe=le&&le.contains("ts_tip_texty");G&&fe&&!this.options.tooltipIsShowing()&&this.options.tooltipShow(te)}hideAndReset(){this.onEscape(),this.resetPrevMatchState()}isMenuOpen(){return this.options.isOpen()}onSelectionChangeExp(X,q,G){if(!this.state)return;const ne=X&&X.length>1,te=this.isCursorWithinMention(X),le=this.state.isSelectingOption,he=this.isSlashCommand(X);if((!te||ne)&&!he&&!this.state.isInComposition&&!le&&(this.options.setSearchInFlight(null),this.hideMenu({fromSelection:!0})),!le&&X){this.maybeShowTooltip(X,G);return}X||(this.onEscape(),this.resetPrevMatchState())}onSelectionChange(X,q,G){if(this.options.experimentTextyAutocompleteChangeGroupOn){this.onSelectionChangeExp(X,q,G);return}if(!this.state)return;const ne=this.state.isSelectingOption;if(!ne&&X){this.maybeShowTooltip(X,G);return}X&&!this.state.isInComposition&&!ne&&(this.options.setSearchInFlight(null),this.hideMenu()),X||(this.onEscape(),this.resetPrevMatchState())}getCurrentMatchAtCursor(X){const q=this.quill.getSelection();if(!q)return;let G=q.index+q.length;if(q.index>0&&q.length===0&&this.quill.getFormat(q).slackmention&&this.quill.getText(q.index-1,1)!==`
`){const ve=this.quill.getText(q.index-1,1)===" ",me=q.index===1||!this.quill.getFormat(q.index-2,0).slackmention;if(!(ve&&me)){const N=this.quill.getFormat(q).slackmention.label;for(;this.quill.getFormat(G).slackmention&&this.quill.getFormat(G).slackmention.label===N;)G+=1;G-=1}}const{searchText:ne,searchTextIndex:te}=this.textBetweenLastTokenAndIndex(G),he={insert:`
`,attributes:this.quill.getFormat(q)};return this.getMatch(ne,te,X,he)}completeAtCursor(X,q){let{isUserSolicited:G=!1}=X;const ne=q||this.getCurrentMatchAtCursor(G);if(!ne){this.resetPrevMatchState(),this.hideMenu();return}this.search({match:ne,isUserSolicited:G})}search(X){let{match:q,isUserSolicited:G=!1}=X;if(this.options.getSearchInFlight()===q.text){this.options.logger.info(I,`duplicate search for ${q.text.length} char query`);return}this.state.prevInsertObject=null,this.options.setSearchInFlight(q.text),this.options.logger.info(I,`start search with ${q.text.length} char query`),this.options.search(q.text,()=>{this.state&&this.handleSearchResults(G)})}handleSearchResults(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const q=this.options.getMatchText()||"";if(!this.hasResults()||!q.length){this.hideMenu();return}if(this.options.logger.info(I,`received ${this.getNumResults().length} results for ${q.length} char query`),!this.options.shouldDisplayResults(X)){this.options.logger.info(I,"completer decided to hide results"),this.hideMenu();return}this.showMenu()}onEnter(X){return X&&X.shiftKey||!this.options.isOpen()?!1:(this.state.isInComposition||(this.options.experimentTextyAutocompleteChangeGroupOn&&this.options.possiblySelectFirstItem(),this.performSelection({fromKeyboard:!0})),!0)}onOptionSelected(){const X=this.options.getInsertDataFromActiveResult();if(!X){this.options.logger.error("onOptionSelected could not get insert data");return}if(!this.hasResults()){this.options.logger.error("onOptionSelected missing previous match");return}if(this.options.logger.info(I,`selected index ${this.options.getSelectedIndex()}`),X.contents){this.state.isSelectingOption=!0,this.quill.setContents(X.contents),this.state.prevInsertObject={text:this.quill.getText()},this.quill.setSelection(this.state.prevInsertObject.text.length,0),this.state.isSelectingOption=!1,this.options.setSearchInFlight(null);return}let q=X.slackemoji,G=X.text;q&&(G=`${X.text}${X.slackemoji.text}`);let ne=this.options.getSearchInFlight()||this.options.getMatchText(),te=ne.length;!this.options.getSearchInFlight()&&this.state.prevInsertObject&&(ne=this.state.prevInsertObject.text,te=this.state.prevInsertObject.length||this.state.prevInsertObject.text.length);const le=this.options.getMatchText(),he=V(T.Sf,le,G);(0,s.A)(X.text,le)||(G+=he);const fe=this.options.getMatchIndex()+te,ve=this.quill.getText(fe,1),oe=T.Nb.concat([" "]).indexOf(ve)===-1,N=this.quill.getText(this.options.getMatchIndex()-1,1),K=this.options.getMatchIndex()>0&&X.ensure_preceding_space&&(0,m.Uq)(N),x=new(l());let b=this.options.getMatchIndex();const z=this.quill.getFormat(b+1);z.slackmention&&delete z.slackmention;const $=this.options.useWysiwyg?z.code||z["code-block"]:(0,M.A)(this.quill.getText(0,b)),Z=this.options.useWysiwyg&&z.link;if(q&&($||Z)&&(q=null),this.options.getMatchIndex()>0&&!K&&!X.text&&q&&q.text.match(/^(:skin-tone-[2-6]:)$/)){const Le=this.quill.getContents(this.options.getMatchIndex()-1,1);if(Le.ops&&(0,E.Ay)(Le.ops[0])){const ye=(0,u.A)(Le.ops[0].insert.slackemoji.text),Te=this.options.teamId&&(0,p.getStateByTeamId)(this.options.teamId);(0,_.Fm)(Te,{text:ye.name,teamId:this.options.teamId})&&(b-=1,te+=1,q.text=`:${ye.name}:${q.text}`)}}x.retain(b);const U=this.options.getMatchIndex()||0,ee=G.toLowerCase(),se=ne.toLowerCase(),de=this.quill.getText(U,G.length).toLowerCase();!q&&ee!==se&&de===ee?x.delete(Math.max(G.length,te)):x.delete(te),K&&x.insert(" ",z);const ue=!!(X.format&&X.format.overrideLink);if(q){if(X.text&&x.insert(X.text),q!=null&&q.text){const Le=q.text.substr(1,q.text.indexOf(":",1)-1);(0,y.ef)(Le)}x.insert({slackemoji:q},z)}else if(this.options.useWysiwyg&&($||Z&&!ue))x.insert(G,{...z});else{var _e,pe;const Le=X==null||(_e=X.format)===null||_e===void 0||(pe=_e.slackmention)===null||pe===void 0?void 0:pe.id;(0,y.WR)(Le),x.insert(G,{...z,...X.format})}oe&&(ue?x.insert(" ",{...z,...X.format}):x.insert(" ",z)),this.state.isSelectingOption=!0,this.quill.updateContents(x,"user");let ae=1;!K&&!oe&&ve!==" "?ae=0:K&&(oe||ve===" ")&&(ae=2);const Ee=X.text?X.text.length:0;this.quill.setSelection(U+(q?Ee+1:G.length)+ae,0),this.state.isSelectingOption=!1,this.options.setSearchInFlight(null),this.state.prevInsertObject={text:G},q&&(this.state.prevInsertObject.length=Ee+1),this.state.selectionJustHappened=!0}textBetweenLastTokenAndIndex(X){let q;const{ops:G}=this.quill.getContents(0,X);this.quill.getFormat(X).slackmention?q=G.slice(-1):q=(0,r.A)(G,he=>(0,h.A)(he));const ne=k(q),te=this.quill.getLength()-X-1,le=this.quill.getLength()-new(l())(q).length()-te-1;return{searchText:ne,searchTextIndex:le}}getMatch(X){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ne=arguments.length>3?arguments[3]:void 0;if(!X)return;const te=this.options.getMatch(X,G,q,ne);if(te)return{text:te.match,index:te.index+q}}showMenu(){this.options.tooltipHide(),this.options.isOpen()||this.options.logger.info(I,"opening menu"),this.options.onRequestOpen();const X=this.options.getMatchIndex(),q=this.quill.getBounds(X),G=this.quill.container.getBoundingClientRect(),ne=q.left+G.left,te=q.top+G.top,le=te+q.height;this.options.positionMenu({top:te,left:ne,bottom:le,right:ne},G),this.options.experimentTextyAutocompleteChangeGroupOn||this.ariaExpand()}hideMenu(){let{fromSelection:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.options.isOpen())return;this.options.logger.info(I,"closing menu"),this.options.onRequestClose();const q=this.options.experimentTextyAutocompleteChangeGroupOn;if(q||this.ariaCollapse(),!(q&&X)&&!this.state.isInComposition&&this.quill.hasFocus()){const G=this.quill.getSelection();this.quill.blur(),this.quill.focus(),this.quill.setSelection(G)}}resetPrevMatchState(){this.clearPrevMatch(),this.options.setSearchInFlight(null),this.state.prevInsertObject=null}clearPrevMatch(){this.options.clearMatchState()}performSelection(){let{fromKeyboard:X=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.onOptionSelected(),this.options.onSelect({fromKeyboard:X}),this.clearPrevMatch(),this.hideMenu()}getNumResults(){return(0,d.A)(this.options.getMatchResults())}hasResults(){return this.getNumResults()>0}getResultElementIndex(X){if(!X)return;const q=parseInt(X.getAttribute("data-index"),10);if(!(0,n.A)(q)){this.options.logger.warn(I,'missing "data-index" attribute');return}return q}constructor(X,q){const G=(0,o.A)({},P,q);super(X,G),(0,c.v)(this,["onEscape","onCompositionStart","onCompositionEnd","onTextChange","onSelectionChange","onTab","maybeCompleteAtCursor","hideMenu","ariaExpand","ariaActiveDescendant","performSelection"]),this.state={prevInsertObject:null,isInComposition:!1,isSelectingOption:!1,selectionJustHappened:!1,compositionTimer:null},(0,O.cX)()&&(0,O.X5)()===O.h5.SAFARI&&this.quill.root.setAttribute("aria-owns",f.E),this.listen(),this.options.onInit({hideMenu:this.hideMenu,ariaExpand:this.ariaExpand,ariaActiveDescendant:this.ariaActiveDescendant,performSelection:this.performSelection})}},"TabComplete")}i(S,"getTabCompleteModule")},2557000613:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(4711108074),n=e.n(t),s=e(6533394955),r=e(796111729),d=e(6096763876),o=e(4547907890),a=e(5382342064),l=e(3460983082);function m(E){return!E||!E.length()?!1:!!(E.ops.length===1&&(0,o.A)(E.ops[0])&&E.ops[0].insert===" "||E.ops.length===2&&(0,a.A)(E.ops[0])&&!E.ops[0].attributes&&(0,o.A)(E.ops[1])&&E.ops[1].insert===" "||E.ops.length===3&&(0,a.A)(E.ops[0])&&!E.ops[0].attributes&&(0,o.A)(E.ops[1])&&E.ops[1].insert===" "&&(0,l.A)(E.ops[2]))}i(m,"isDeltaSpaceInsertion");function c(E){return!E||!E.length()?!1:!!(E.ops.length===1&&(0,l.A)(E.ops[0])||E.ops.length===2&&(0,a.A)(E.ops[0])&&!E.ops[0].attributes&&(0,l.A)(E.ops[1]))}i(c,"isDeltaDeletion");var _=e(6958543140);const p="TEXT-CHANGE-QUEUE";function u(E){const v=(0,_.A)(E).import("core/module");return i(class extends v{unload(){this.quill.root.removeEventListener("compositionstart",this.startComposition),this.quill.root.removeEventListener("compositionend",this.endComposition)}listen(){this.quill.on("text-change",this.onTextChange)}onTextChange(y){if(this.skipNextTextChange){this.skipNextTextChange=!1;return}this.maybeUpdateCompositionDelta(y),this.processChanges(y)}startComposition(){this.isInsideComposition=!0,this.compositionDelta=new(n())}endComposition(){this.isInsideComposition=!1;const y=this.compositionDelta;this.processChanges(y)}isInComposition(){return!!this.isInsideComposition}maybeUpdateCompositionDelta(y){if(!this.isInComposition())return;const T=this.compositionDelta;if(!T)return;const M=T.compose(y);this.compositionDelta=M}shouldProcessChange(){return!this.isInComposition()}processChanges(y){this.isMidProcessingChanges&&this.logger&&this.logger.error(p,"Side effect from processChanges caused TextChangeQueue to rerun unexpectedly (non-fatal)"),this.isMidProcessingChanges=!0;const T=this.options.getTextChangeModules(),M=this.quill.getContents();let O=M;if(this.shouldProcessChange()){let I=M;const D=[];T.forEach(k=>{if(k&&k.buildTextChangeDelta){const R=(0,d.A)(y),V=m(y),B=c(y),W=k.buildTextChangeDelta(I,this.quill.getSelection(),{initialTextChangeDelta:y,useWysiwyg:this.options.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,formattingOnly:R,isSpaceInsertion:V,isDeletion:B});W.length()>0&&(D.push(k),I=I.compose(W))}});const P=M.diff(I);if(P.length()>0){setTimeout(()=>{const k=this.quill.getModule("slackmarkdown");if(this.quill.getContents().diff(M).length()>0&&!(k&&D.includes(k)))return;const R=k&&D.includes(k),V=this.quill.history.options.delay;R&&(this.quill.history.options.delay=0),this.skipNextTextChange=!0,this.quill.updateContents(P,"user"),R&&(this.quill.history.options.delay=V),O=this.quill.getContents(),T.forEach(B=>{B&&B.afterTextChangeQueue&&B.afterTextChangeQueue(O)})},0),this.isMidProcessingChanges=!1;return}}T.forEach(I=>{I&&I.afterTextChangeQueue&&I.afterTextChangeQueue(O)}),this.isMidProcessingChanges=!1}constructor(y,T){super(y,T),this.options=T,this.quill=y;const M=T&&T.teamId,O=M&&(0,s.getStoreInstanceByTeamId)(M),I=O&&O.getState();this.logger=(0,r.Ay)({state:I,label:p}),this.onTextChange=this.onTextChange.bind(this),this.startComposition=this.startComposition.bind(this),this.endComposition=this.endComposition.bind(this),this.skipNextTextChange=!1,this.isInsideComposition=!1,this.compositionDelta=new(n()),y.root.addEventListener("compositionstart",this.startComposition),y.root.addEventListener("compositionend",this.endComposition),this.isMidProcessingChanges=!1,this.listen()}},"TextChangeQueueModule")}i(u,"getTextChangeQueueModule");const h=u(window)},7363468123:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(7174777686),n=e(3078252698),s=e(4711108074),r=e.n(s),d=e(6958543140);const o=/(\u2028|\u2029)/g,a=`
`,l=/^[\u200b\uFEFF]+|[\u200b\uFEFF]+$/gm,m=/(\u00AD)/g,c=/\u00A0/g,_=i(f=>{const g=f.map((y,T)=>{if((0,t.A)(y.insert,`
`)){const M=T===f.ops.length-1;return{...y,insert:((0,n.A)(y.insert)?y.insert:"").replace(/( ?)\n+/g,(O,I,D,P)=>{const R=D+O.length===P.length;return M&&R?`${I}
`:" "})}}return y});return f.diff(new(r())(g))},"removeDeltaNewlines"),p=i(f=>{const g=f.map(y=>(0,n.A)(y.insert)&&y.insert.match(l)?{...y,insert:y.insert.replace(l,"")}:y);return f.diff(new(r())(g))},"removeDeltaZeroWidthCharacters"),u=i(f=>{const g=f.map(y=>(0,n.A)(y.insert)&&y.insert.match(m)?{...y,insert:y.insert.replace(m,"")}:y);return f.diff(new(r())(g))},"removeDeltaUnwantedCharacters"),h=i(f=>{const g=f.map(y=>(0,n.A)(y.insert)&&y.insert.match(c)?{...y,insert:y.insert.replace(c," ")}:y);return f.diff(new(r())(g))},"replaceNonBreakingSpacesWithRegularSpaces"),E=i(f=>{const g=f.map(y=>(0,n.A)(y.insert)&&y.insert.match(o)?{...y,insert:y.insert.replace(o,a)}:y);return f.diff(new(r())(g))},"normalizeDeltaNewlines");function A(f){const y=(0,d.A)(f).import("core/module");return i(class extends y{buildTextChangeDelta(O,I){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,formattingOnly:!1}).formattingOnly)return new(r());let P=O;return P=P.compose(E(P)),P=P.compose(p(P)),P=P.compose(u(P)),P=P.compose(h(P)),this.options.stripNewlines&&(P=P.compose(_(P))),O.diff(P)}},"TextSanitization")}i(A,"getTextSanitizationModule");const v=A(window)},4657029696:(Q,C,e)=>{"use strict";e.d(C,{A:()=>I});var t=e(7174777686),n=e(7715417323),s=e(4711108074),r=e.n(s),d=e(117342833),o=e(4200148118),a=e(308057085),l=e(3183335528),m=e(4547907890),c=e(9017940688),_=e(8312061152),p=e(5701872082),u=e(8405695339),h=e(1842363787),E=e(2354051480);function A(P){return P.replace(/([^A-Za-z0-9]|^)"(\S)/g,"$1\u201C$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1\u201D$2").replace(/([^0-9])"/g,"$1\u201D").replace(/([^A-Za-z0-9]|^)'(\S)/g,"$1\u2018$2").replace(/([a-z])'([a-z])/gi,"$1\u2019$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1\u2019$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"\u2019$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1\u2019").replace(/'/g,"\u2032")}i(A,"createSmartQuotes");function v(P){let k=P;k=k.replace(/[\u2018|\u2019]/g,"'"),k=k.replace(/[\u201c|\u201d]/g,'"');const R=[];k=(0,h.kW)(R,k,{replace_pre:!0,replace_code:!0,replace_url:!0});const V=[];return k=k.replace((0,E.A)(),B=>{const W=`<emoticon-placeholder-${Date.now()}>`;return V.push({emoticon:B,placeholder:W}),W}),k=A(k),V.forEach(B=>{k=k.replace(B.placeholder,B.emoticon)}),k=(0,h.Ki)(R,k),k}i(v,"replaceSmartQuotes");var f=e(6958543140),g=e(2005467377),y=e(3726677001),T=e(6859521351);const M=["'",'"',"\u201C","\u201D","\u2018","\u2019"];function O(P){return P.reduce((k,R)=>{if((0,o.A)(R))return(0,_.A)(R)?`${k} `:(0,p.A)(R)?`${k} `:`${k}a`;if((0,d.Ay)(R)||(0,a.Ay)(R)){const B=((0,d.Ay)(R)?(0,d._z)(R):(0,a.AQ)(R)).replace(/./g,"a");return k+B}if((0,m.A)(R)){let V=(0,m.$)(R).replace(g.i$,B=>B.replace(/./g,"a"));return V=V.replace(/:'\(/g,"aaa"),k+V}return k+R.insert},"")}i(O,"convertDeltaToTextForSmartQuotes");function I(P){const R=(0,f.A)(P).import("core/module");return i(class extends R{shouldDoSubstitutions(W){if(!W||!this.options.getTextPreferences())return!1;if(this.options.useWysiwyg&&!this.options.usePlainTextMode)return!0;const L=this.quill.getText(0,W.index+W.length);return!(0,T.A)(L)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{code:!1,"code-block":!1}},this.onSpace),this.quill.keyboard.addBinding({key:190,collapsed:!0,format:{code:!1,"code-block":!1},prefix:/\.\.$/},this.onEllipsis)}onSpace(W,L){if(this.options.isInComposition()||!this.shouldDoSubstitutions(W))return!0;const S=this.options.getTextPreferences(),H=L.prefix.substring(L.prefix.lastIndexOf(" ")+1);if(this.shouldStartSubstitution(H,S)){const w=W.index-H.length,F=this.quill.history.options.delay;return this.quill.history.options.delay=0,this.quill.updateContents(new(r())().retain(w).delete(H.length).insert(`${S.substitutions[H]} `,L.format)),this.quill.history.options.delay=F,this.lastSubstitutionMade=H,!1}return this.lastSubstitutionMade=null,!0}onEllipsis(W,L){if(this.options.isInComposition()||!this.shouldDoSubstitutions(W)||!this.options.getTextPreferences().useSmartDashes)return!0;const S=W.index-2;return this.quill.updateContents(new(r())().retain(S).delete(2).insert("\u2026",L.format)),!1}shouldBuildSmartQuotes(){const W=this.options.getTextPreferences();return!(!W||!W.useSmartQuotes)}shouldStartSubstitution(W,L){return!(this.lastSubstitutionMade===W||!Object.prototype.hasOwnProperty.call(L.substitutions,W)||!L.substitutions[W])}buildWysiwygSafeTextChangeDelta(W){const L=new(r()),S=O(W),H=S.replace(/[\u2018|\u2019]/g,"'").replace(/[\u201c|\u201d]/g,'"');if(!(0,t.A)(H,"'")&&!(0,t.A)(H,'"'))return L;const w=A(H),F=[];for(let X=0;X<S.length;X++)M.indexOf(S[X])!==-1&&M.indexOf(w[X])!==-1&&F.push(X);if(!F.length)return L;let j=0,J=0;return(0,u.A)(W,(X,q)=>{const G=(0,c.A)(q),ne=(0,y.A)(X);if(J+ne<F[0]||!(0,m.A)(X)){J+=ne;return}F.filter(le=>le>=J&&le<J+ne).forEach(le=>{let he=w[le];if(G||(0,l.A)(X)||(0,a.Ay)(X))he==="\u201C"||he==="\u201D"?he='"':(he==="\u2018"||he==="\u2019")&&(he="'");else if(!this.shouldBuildSmartQuotes())return;S[le]!==he&&(L.retain(le-j).delete(1).insert(he,X.attributes),j=le+1)}),J+=ne}),L}buildTextChangeDelta(W,L){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1};if(S.useWysiwyg&&!S.usePlainTextMode)return this.buildWysiwygSafeTextChangeDelta(W);const H=new(r());let w=0;if(!this.shouldBuildSmartQuotes())return H;const F=W.reduce((J,X)=>{if((0,o.A)(X))return`${J}a`;if((0,d.Ay)(X)){const q=(0,d._z)(X).replace(/./g,"a");return J+q}return J+X.insert},""),j=v(F);if(F===j)return H;for(let J=0;J<F.length;J++)F[J]!==j[J]&&M.indexOf(F[J])!==-1&&M.indexOf(j[J])!==-1&&(H.retain(J-w).delete(1).insert(j[J]),w=J+1);return H}constructor(W,L){super(W,L),this.lastSubstitutionMade=null,this.options.getTextPreferences=L.getTextPreferences||n.A,this.onSpace=this.onSpace.bind(this),this.onEllipsis=this.onEllipsis.bind(this),this.shouldDoSubstitutions=this.shouldDoSubstitutions.bind(this),this.listen()}},"TextSubstitutionsModule")}i(I,"getTextSubstitutionsModule");const D=I(window)},1316182475:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(6958543140),n=e(3904348617),s=e(3225969796);function r(d){const o=(0,t.A)(d),a=o.import("core/module"),l=o.import("parchment");return i(class extends a{unload(){this.onClickOption&&this.quill.root.removeEventListener("click",this.onTokenClick)}listen(){this.onClickOption&&this.quill.root.addEventListener("click",this.onTokenClick,!1)}onTokenClick(_){if(!this.onClickOption)return!0;const p=_.target.closest(`.${s.li}`);if(p===null)return!0;const h=l.find(p).offset(this.quill.scroll),E=this.quill.getContents(h,1);if(E.ops[0]&&(0,n.Ay)(E.ops[0])){_.preventDefault(),_.stopPropagation();const A=E.ops[0].insert.workflowtoken;if(!A.isAvailable||!A.isClickable)return!0;this.onClickOption({token:A,element:p,index:h})}return!0}constructor(_,p={}){super(_,p),this.onClickOption=p.onClick,this.onTokenClick=this.onTokenClick.bind(this),this.listen()}},"WorkflowTokenModule")}i(r,"getWorkflowTokenModule")},5924356270:(Q,C,e)=>{"use strict";e.d(C,{A:()=>F});var t=e(8383907204),n=e(6958543140),s=e(3344982765),r=e(1296559413),d=e(9608867179),o=e(8239411787),a=e(4657029696),l=e(2884895025),m=e(9475882758),c=e(2024448144),_=e(9899103555),p=e(1957236872),u=e(6202619371),h=e(3409151135),E=e(8653415088),A=e(5998917644),v=e(6299559191),f=e(2557000613),g=e(7363468123),y=e(8112654178),T=e(7254545653),M=e(1306263562),O=e(1316182475),I=e(7991260153),D=e(3225969796),P=e(679304348),k=e(5960264416),R=e(7293800748),V=e(3448755266),B=e(9973095253),W=e(4587547882);const L=new WeakMap,S=i(j=>!!L.get(j),"isQuillInitialized"),H=i(j=>{L.set(j,!0)},"setQuillInitialized");function w(j){const J=(0,n.A)(j);if(S(J))return J;J.register({"modules/tabcomplete":(0,r.A)(j),"modules/textsubstitutions":(0,a.A)(j),"modules/cleanembedsincode":(0,y.A)(j),"modules/cleanemptyinput":(0,T.A)(j),"modules/clipboard":(0,d.A)(j),"modules/keyboard":(0,o.Ay)(j),"modules/slackmention":(0,_.A)(j),"modules/slackemoji":(0,h.A)(j),"modules/textchangequeue":(0,f.A)(j),"modules/textsanitization":(0,g.A)(j),"modules/autoslug":(0,s.A)(j),"modules/slacklink":(0,l.Ay)(j),"modules/slackmarkdown":(0,M.Ay)(j),"modules/slackhorizontalrule":(0,v.A)(j),"modules/workflowtoken":(0,O.A)(j),"modules/cleanworkflowtokens":(0,I.Ay)(j),"modules/slackdocslist":V.A,"modules/canvasvariable":(0,B.A)(j),"formats/slacksearchtokenmodifier":(0,m.A)(j),"formats/slacksearchtokenvalue":(0,c.A)(j),"formats/slackmention":(0,p.A)(j),"formats/slackemoji":(0,E.A)(j),"formats/unlink":(0,u.A)(j),"formats/slackhorizontalrule":(0,A.A)(j),"formats/workflowtoken":(0,D.Gs)(j),"formats/strike":(0,P.A)(j),"formats/border":(0,k.Ay)(j),"formats/canvasvariable":(0,W.Ay)(j)},!0);const{CodeBlock:X}=(0,R.Ay)(j),q=J.import("blots/inline"),G=J.import("formats/bold"),ne=J.import("formats/italic"),te=J.import("formats/strike"),le=J.import("formats/code"),he=J.import("formats/link"),fe=J.import("formats/unlink"),ve=J.import("formats/slackemoji"),me=J.import("formats/slackmention"),oe=J.import("formats/workflowtoken");return X.allowedChildren.push(q),X.allowedChildren.push(G),X.allowedChildren.push(ne),X.allowedChildren.push(te),X.allowedChildren.push(le),X.allowedChildren.push(he),X.allowedChildren.push(fe),X.allowedChildren.push(ve),X.allowedChildren.push(me),X.allowedChildren.push(oe),J.register({"formats/code":X},!0),H(J),J}i(w,"initQuill");let F=i(class extends t.A{constructor(J,X){super(J,X,w)}},"TextyClass")},8659028801:(Q,C,e)=>{"use strict";e.d(C,{A:()=>On});var t=e(862210999),n=e(8786006583),s=e(9113979368),r=e(3078252698),d=e(3750057149),o=e(166097325),a=e(6696292586),l=e(7715417323),m=e(2322735331),c=e(3134334389),_=e(4332857818),p=e(5255740490),u=e(9391594207),h=e(6422693406),E=e(8212623464),A=e(1609120853),v=e(6533394955);function f(zt,nt,mt){if(!zt)throw new Error('mountTextyPlaceholder missing required "teamId" parameter');if(!nt)return;const Ct=(0,v.getStoreInstanceByTeamId)(zt);(0,A.A)(c.createElement(E.Kq,{store:Ct},mt),nt)}i(f,"mountTextyPlaceholder"),f.displayName="mountTextyPlaceholder";function g(zt){zt&&_.unmountComponentAtNode(zt)}i(g,"unmountTextyPlaceholder");var y=e(796111729),T=e(3339229351),M=e(6979898962),O=e(4171528081),I=e(728937959),D=e(2574761851),P=e(3926774068),k=e(5261636424),R=e(8873262110),V=e(5924356270),B=e(6260303329),W=e(4761125736),L=e(8847766420),S=e(2047021170),H=e(6866036454),w=e(3829348308),F=e(9846149684),j=e(4797500022),J=e(1389436147),X=e(8430184522),q=e(9599231336),G=e(6389671326),ne=e(1596328926),te=e(8232660909),le=e(2567914105),he=e(2375333597),fe=e(720935990),ve=e(735940183),me=e(4227536814),oe=e(7534004035),N=e(2232906703),K=e(1031947056),x=e(5060694341),b=e(387484329),z=e(9781408031),$=e(4275787242),Z=e(2036354333),U=e(9190452268);const ee=new ve.Ay("markdown_paste_toast");var se;(function(zt){zt[zt.DONT_SHOW=-1]="DONT_SHOW",zt[zt.UNSEEN=0]="UNSEEN",zt[zt.SEEN=1]="SEEN"})(se||(se={}));let de=i(class extends c.Component{onApplyFormattingClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_apply"),this.props.hasSeenToastValue===se.UNSEEN&&this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:se.SEEN}),this.props.dismissCurrentToast(),this.props.applyFormatting()}onDontShowClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_dont_show"),this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:se.DONT_SHOW}),this.props.dismissCurrentToast()}renderContent(){const nt=c.createElement(Z.A,{className:"underline",onClick:this.onDontShowClick},ee.t("Don\u2019t ask again"));if(this.props.hasSeenToastValue===se.UNSEEN){const Zt=c.createElement(Z.A,{className:"underline",onClick:this.onApplyFormattingClick},ee.t("Apply formatting")),Ft=ee.t("Looks like your content contains markdown.");return c.createElement("div",null,Ft,c.createElement("br",null),Zt," ",nt)}const mt=c.createElement(Z.A,{className:"underline",onClick:this.onApplyFormattingClick},ee.t("Apply")),Ct=ee.t("Apply formatting?");return c.createElement("div",null,Ct," ",mt," ",nt)}render(){if(this.props.hasSeenToastValue===se.DONT_SHOW)return null;this.props.telemeter.count("wysiwyg_markdown_paste_toast_shown");const nt=this.renderContent();return c.createElement($.A,{duration:1e3*10},c.createElement("div",null,nt))}constructor(nt){super(nt),(0,m.v)(this,["onApplyFormattingClick","onDontShowClick"])}},"MarkdownPasteToast");de.displayName="MarkdownPasteToast",de.defaultProps={hasSeenToastValue:se.DONT_SHOW};const ue=(0,u.N)(zt=>({telemeter:(0,U.Cy)({state:zt}),hasSeenToastValue:(0,S.ty)(zt,"seen_markdown_paste_toast")}),{dismissCurrentToast:()=>(0,z.Z)(),setUserPrefByApi:zt=>{let{pref:nt,value:mt}=zt;return(0,b.AZ)({pref:nt,value:mt})}})(de);var _e=e(571104883),pe=e(5733135148);const ae=new ve.Ay("markdown_paste_toast");let Ee=i(class extends c.Component{render(){this.props.telemeter.count("wysiwyg_markdown_paste_shortcut_toast_shown");const nt=ae.rt("You can do this any time with <span>Ctrl Shift F</span>"),mt=ae.rt("You can do this any time with <span>\u2318 Shift F</span>");return c.createElement(pe.Ay,{fadeDelay:1e3*5},c.createElement("div",null,(0,_e.cX)()?mt:nt))}},"MarkdownPasteShortcutToast");Ee.displayName="MarkdownPasteShortcutToast";const Le=(0,u.N)(zt=>({telemeter:(0,U.Cy)({state:zt})}))(Ee),ye=(0,K.Ay)("Show markdown paste toast",(zt,nt,mt)=>{let{applyFormatting:Ct}=mt;const Zt=nt();return zt((0,x.M)({element:c.createElement(ue,{applyFormatting:()=>{const Ft=(0,S.ty)(Zt,"seen_markdown_paste_shortcut");Ft<3&&(zt((0,x.M)({element:c.createElement(Le)})),zt((0,b.AZ)({pref:"seen_markdown_paste_shortcut",value:Ft+1}))),Ct()}})}))});ye.meta={name:"createThunk",key:"createThunkshowMarkdownPasteToast",description:"Show markdown paste toast"};const Te=ye;var Ae=e(1026029255),Ie=e(7549504934);const Ue=new ve.Ay("csv_tsv_paste_toast");var Be;(function(zt){zt.CSV="CSV",zt.TSV="TSV"})(Be||(Be={}));let we=i(class extends c.Component{hideToast(){const{dispatchDismissCurrentToast:nt}=this.props;nt()}onConvertToSnippet(){const{dispatchDismissCurrentToast:nt,openCsvTsvSnippetDialog:mt,clearText:Ct}=this.props;nt(),mt(),Ct()}renderContent(){const{experimentCsvTsvAutocaptureGroupOn:nt}=this.props,mt=c.createElement(Z.A,{"data-qa":"toast-do-nothing-btn",className:"underline",onClick:this.hideToast},nt?Ue.t("No, do nothing"):""),Ct=c.createElement(Z.A,{"data-qa":"toast-open-snippet-modal-btn",className:"underline",onClick:this.onConvertToSnippet},nt?Ue.t("Yes, convert to snippet"):""),Zt=nt?Ue.t("Looks like you\u2019ve pasted {contentType} data. Convert it to a snippet so it looks like a table?",{contentType:this.props.contentType.toUpperCase()}):"";return c.createElement("div",null,Zt,c.createElement("br",null),Ct," ",mt)}render(){const nt=this.renderContent();return c.createElement(pe.Ay,{fadeDelay:1e3*10},c.createElement("div",null,nt))}constructor(nt){super(nt),(0,m.v)(this,["onConvertToSnippet","hideToast"])}},"BaseCsvTsvPasteToast");we.displayName="BaseCsvTsvPasteToast",we.defaultProps={contentType:Be.TSV,experimentCsvTsvAutocaptureGroupOn:!1,openCsvTsvSnippetDialog:l.A,clearText:l.A,dispatchDismissCurrentToast:l.A};const re=i(zt=>({experimentCsvTsvAutocaptureGroupOn:(0,W._Z)(zt,"csv_tsv_autocapture")==="on"}),"mapStateToProps"),ge=i(zt=>({dispatchDismissCurrentToast:()=>zt((0,z.Z)())}),"mapDispatchProps"),De=(0,Ie.N)(re,ge)(we),be=null,xe=(0,K.Ay)("Show Csv Tsv paste toast message",(zt,nt,mt)=>{let{contentType:Ct,openCsvTsvSnippetDialog:Zt,clearText:Ft}=mt;return(0,Ae.xD)(nt())&&zt((0,z.Z)()),zt((0,x.M)({element:c.createElement(De,{contentType:Ct,openCsvTsvSnippetDialog:Zt,clearText:Ft})}))});xe.meta={name:"createThunk",key:"createThunkshowCsvTsvPasteToast",description:"Show Csv Tsv paste toast message"};const Re=xe;var je=e(3849593061),Ge=e(4327331459),Qe=e(4862221402),Xe=e(8040098042),et=e(6244014364),rt=e(9205400085),it=e(588672655),lt=e(8289365785);let ot={index:0,length:0};function Et(zt){let{quill:nt,line:mt,blockType:Ct}=zt;var Zt,Ft,Jt,rn;return(!(mt!=null&&mt.prev)||(mt==null||(Zt=mt.prev)===null||Zt===void 0||(Ft=Zt.statics)===null||Ft===void 0?void 0:Ft.blotName)!==Ct)&&(ot.index=nt.getIndex(mt)),mt!=null&&mt.prev&&(mt==null||(Jt=mt.prev)===null||Jt===void 0||(rn=Jt.statics)===null||rn===void 0?void 0:rn.blotName)===Ct?Et({quill:nt,line:mt.prev,blockType:Ct}):ot}i(Et,"adjustRangeIndex");function At(zt){let{quill:nt,line:mt,blockType:Ct}=zt;var Zt,Ft,Jt,rn;const gn=nt.getIndex(mt);if(!(mt!=null&&mt.next)||(mt==null||(Zt=mt.next)===null||Zt===void 0||(Ft=Zt.statics)===null||Ft===void 0?void 0:Ft.blotName)!==Ct){var Fe;ot.length=gn+(mt==null||(Fe=mt.cache)===null||Fe===void 0?void 0:Fe.length)-ot.index}return mt!=null&&mt.next&&(mt==null||(Jt=mt.next)===null||Jt===void 0||(rn=Jt.statics)===null||rn===void 0?void 0:rn.blotName)===Ct&&At({quill:nt,line:mt.next,blockType:Ct}),ot}i(At,"adjustRangeLength");function Ot(zt){let{blockType:nt,quill:mt,range:Ct}=zt;var Zt;const Ft=Ct==null?void 0:Ct.index,Jt=Ct==null?void 0:Ct.length,[rn]=mt.getLine(Ft);if(ot={index:Ft,length:0},(rn==null||(Zt=rn.statics)===null||Zt===void 0?void 0:Zt.blotName)===nt){if(Et({quill:mt,line:rn,blockType:nt}),At({quill:mt,line:rn,blockType:nt}),Jt>0&&nt==="list-item"){const gn=mt.getLines(Ft,Jt);if(gn!=null&&gn.length){const Fe=(0,lt.A)(gn);if(Fe!=null&&Fe.prev&&Et({quill:mt,line:Fe.prev,blockType:nt}),(gn==null?void 0:gn.length)>1){const Ke=(0,n.A)(gn);Ke!=null&&Ke.next?At({quill:mt,line:Ke.next,blockType:nt}):At({quill:mt,line:Ke,blockType:nt})}}}return ot}return Ct}i(Ot,"adjustSelectionToCoverBlock");var Rt=e(5543919295),yt=e(4518410378),Mt=e(1563996154),en=e(2312625946),Tt=e(7765212398),xt=e(8841789548);function bt(zt){let{enableComposerButton:nt,enableEmojiButton:mt,enableFileButton:Ct,enableMentionButton:Zt,enableSendButton:Ft,enableStickyComposer:Jt,enableStoryButton:rn,enableAudioButton:gn,isExpanded:Fe,isPlainTextModeEnabledPref:Ke}=zt,Ne=0;const He=Jt&&!Ke;return Fe||He?Ne+=1:He||(mt&&(Ne+=1),Zt&&(Ne+=1),nt&&!Ke&&(Ne+=1),Ft&&(Ne+=1),Ct&&(Ne+=1),rn&&(Ne+=1),gn&&(Ne+=1)),Ne}i(bt,"getNumInsetButtons");var nn=e(2418895410),dn=e(698347924);const Xt=new ve.Ay("share-dialog");function jt(zt){let{numCharsOverLimit:nt=0}=zt;return nt<=0?null:c.createElement(Mt.Ay,{tip:Xt.rt("Your message is {count, plural, =1 {# character} other {# characters}} too long",{count:nt}),zIndex:"menu",position:"top-right"},c.createElement("div",{className:"c-texty_input_unstyled__warning"},"-",(0,dn.ZV)(nt)))}i(jt,"TextyLengthWarning"),jt.displayName="TextyLengthWarning";const _n=c.memo(jt);var ze=e(7394828365),Dt=e(3862871806);function hn(){return hn=Object.assign||function(zt){for(var nt=1;nt<arguments.length;nt++){var mt=arguments[nt];for(var Ct in mt)Object.prototype.hasOwnProperty.call(mt,Ct)&&(zt[Ct]=mt[Ct])}return zt},hn.apply(this,arguments)}i(hn,"_extends");const yn=new ve.Ay("msg_input"),ht={LARGE:"large",MEDIUM:"medium"},Bt={numCharsOverLimit:0,tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0,indicateTopScroll:!1,indicateBottomScroll:!1};let wt=i(class extends M.I{componentDidMount(){var nt,mt;const{initialText:Ct,focusOnMount:Zt,teamId:Ft,onMount:Jt,useExpandedRichText:rn}=this.props;if(rn?this.instance=new B.A(this.container,this.getOptions()):this.instance=new V.A(this.container,this.getOptions()),this.setupInputListeners(),!this.instance){(0,y.Ay)({teamId:Ft}).error("TextyInput: could not create instance");return}(mt=(nt=this).contextSetTextyInstance)===null||mt===void 0||mt.call(nt,this.instance),Ct&&(this.value(Ct,{isSilent:!0}),this.clearHistory()),this.onMountTimeout=yt.J.setTimeout(()=>{Zt&&this.setCursorAtEnd(),Jt&&Jt()},0),this.handlePropChanges()}componentDidUpdate(nt){this.handlePropChanges(nt)}componentWillUnmount(){this.unmountPlaceholder(),this.removeInputListeners(),this.instance&&this.instance.unload(),this.onMountTimeout&&clearTimeout(this.onMountTimeout)}setupInputListeners(){this.setupScrollListener(),this.setupResizeListener()}removeInputListeners(){var nt,mt;const Ct=(nt=this.instance)===null||nt===void 0||(mt=nt.quill)===null||mt===void 0?void 0:mt.root;Ct&&(Ct.removeEventListener("scroll",this.scrollListenerRaf),this.resizeListener.disconnect())}calculateInputOffsetScroll(){var nt,mt;const Ct=(nt=this.instance)===null||nt===void 0||(mt=nt.quill)===null||mt===void 0?void 0:mt.root,Zt=Ct.scrollHeight>Ct.clientHeight,Ft=Zt&&Ct.scrollTop>0,Jt=Zt&&Ct.scrollTop<Ct.scrollHeight-Ct.clientHeight;this.setState(()=>({indicateTopScroll:Ft,indicateBottomScroll:Jt}))}setupResizeListener(){var nt,mt;const Ct=(nt=this.instance)===null||nt===void 0||(mt=nt.quill)===null||mt===void 0?void 0:mt.root;Ct&&(this.resizeListener=(0,R.A)(()=>{this.calculateInputOffsetScroll()},250),this.resizeListener.observe(Ct))}scrollListenerRaf(){if(!this.scrollTicking){var nt;(nt=this.windowRef.deref())===null||nt===void 0||nt.requestAnimationFrame(()=>{this.calculateInputOffsetScroll(),this.scrollTicking=!1}),this.scrollTicking=!0}}setupScrollListener(){var nt,mt;const Ct=(nt=this.instance)===null||nt===void 0||(mt=nt.quill)===null||mt===void 0?void 0:mt.root;Ct&&Ct.addEventListener("scroll",this.scrollListenerRaf)}onMouseOut(nt){const{showTextyTooltips:mt}=this.props;mt&&!this.mentionReplaceTimer&&(nt.target.classList.contains("c-member_slug")||nt.target.classList.contains("emoji"))&&this.hideTooltip()}onMouseOver(nt){const{showTextyTooltips:mt}=this.props;mt&&(nt.target.classList.contains("c-member_slug")||nt.target.classList.contains("emoji"))&&this.showTooltip(nt.target,nt)}onTextChange(nt,mt,Ct){_.unstable_batchedUpdates(()=>{const{onTextChange:Zt,useWysiwyg:Ft,isPlainTextModeEnabledPref:Jt}=this.props,{tooltipShowing:rn}=this.state;this.updateActiveFormats(),this.updateToolbarPosition(),Ft&&!Jt&&this.props.closeTextyModals(void 0),!this.mentionReplaceTimer&&rn&&this.hideTooltip(),(0,en.Ws)(),(0,Mt.Ws)(this.windowRef.deref());const gn=i(()=>{const Ke=this.container.querySelector(".ql-editor");return Ke.clientHeight<Ke.scrollHeight},"getHasScrollbar"),Fe=this.getNumCharsOverLimit();this.setState(()=>({numCharsOverLimit:Fe})),this.hideToolbarOverflow(),Zt&&Zt(nt,gn,mt,Ct)})}hasWarning(){const{numCharsOverLimit:nt}=this.state;return nt>0}getNumCharsOverLimit(){const{maxLength:nt,useWysiwyg:mt}=this.props,Ct=nt||0;if(Ct<=0||Ct>200&&this.instance.getLength()<Ct/2)return 0;let Zt;const Ft=this.instance.getDelta();return mt?Zt=(0,X.A)(Ft):Zt=(0,j.A)({contents:Ft.ops}).length,Math.max(0,Zt-Ct)}onSelectionChange(nt){_.unstable_batchedUpdates(()=>{const{onSelectionChange:mt,textyModalIsOpen:Ct}=this.props;this.updateActiveFormats(),this.preventToolbarOnNextSelection||Ct||!nt||!nt.length?(this.preventToolbarOnNextSelection=!1,this.resetToolbarPosition()):this.updateToolbarPosition(),this.hideToolbarOverflow(),mt&&mt(nt)})}onScrollOptimize(){this.updateActiveFormats(),this.updateToolbarPosition()}onResize(){this.updateToolbarPosition()}onDrop(nt){const mt=this.props.dragLinksToComposer({dragEvent:nt,inputProxy:this.instance});mt!=null&&mt.length&&this.insertContentsAtCursor({contents:{ops:mt.ops}})}onLinkClick(nt,mt,Ct,Zt){const{isPlainTextModeEnabledPref:Ft,renderWorkflowBuilderEditLinkInput:Jt,renderUrlWithWorkflowBuilderVariable:rn}=this.props;if(Ft)return;const gn=this.instance.getSelection(),Fe=(0,xt.A)(Ct.ops,{embedReplacement:"\uE000"}),Ke=Fe.indexOf("\uE000")===-1;this.preventToolbarOnNextSelection=!0,this.instance.setSelection(Zt.index,Zt.length),this.props.openTextyEditLinkModal({initialRange:gn,adjustedRange:Zt,anchorElement:nt,initialText:Fe,initialUrl:mt,textIsEditable:Ke,initialContents:Ct,source:et.MsgFormattingInputSource.TOOLBAR,quill:this.instance.quill,renderWorkflowBuilderEditLinkInput:Jt,renderUrlWithWorkflowBuilderVariable:rn})}onMentionReplace(nt){let{replacements:mt,isLastReplacement:Ct}=nt;var Zt;if(!Ct||mt.length!==1||mt[0].id==="UNVERIFIED")return;const Ft=this.container.querySelectorAll(`ts-mention[data-id=${mt[0].id}]`);if(Ft.length!==1||Ft[0].offsetTop<this.container.offsetTop)return;const Jt=mt[0].id,rn=(0,Ge.A)(Jt)?Jt:void 0,gn=(0,Qe.A)(Jt)?Jt:void 0,Fe=(0,Xe.A)(Jt)?Jt:void 0;this.setState(()=>({tooltipShowing:!0,tooltipMemberId:rn,tooltipUserGroupId:gn,tooltipChannelId:Fe,tooltipTitle:void 0,tooltipTargetBounds:Ft[0].getBoundingClientRect()})),this.mentionReplaceTimer=((Zt=this.windowRef.deref())===null||Zt===void 0?void 0:Zt.setTimeout(()=>{this.mentionReplaceTimer=null,this.hideTooltip()},1500))||null}getOptions(){const{id:nt,ariaLabel:mt,ariaLabelledBy:Ct,ariaDescribedBy:Zt,ariaAutocomplete:Ft,ariaControls:Jt,ariaExpanded:rn,ariaActiveDescendant:gn,inputMetricBoundary:Fe,onEnter:Ke,onPlusMenuShortcut:Ne,onEscape:He,onTab:Je,isSingleLine:ft,enableBroadcastKeywords:Kt,includeAllBroadcastKeywords:St,showTextyTooltips:cn,teamId:An,isPlainTextModeEnabledPref:Ln,useWorkflowTokens:It,useExpandedRichText:qe,workflowTokenClick:ct,useWysiwyg:vt,enableStickyComposer:Oe,onBackspace:Y,forceChannelTaggingDisabled:ce,forceAutoslugginEnabled:Ce,role:ke,windowRef:st,isMultiverseQuillEnabled:dt}=this.props;return{id:nt,modules:{keyboard:this.getKeyboardModule(),slackmention:!0,textsubstitutions:this.getTextSubstitutionsModule(),clipboard:this.getClipboardModule(),tabcomplete:this.getTabCompleteModule(),cleanembedsincode:!0,cleanemptyinput:!0,cleanworkflowtokens:It,slackhorizontalrule:qe,slackdocslist:qe,canvasvariable:qe},onBlur:()=>{var Ze,Lt,Gt,ln;this.hideToolbarOverflow(),(Lt=(Ze=this).contextSetIsFocused)===null||Lt===void 0||Lt.call(Ze,!1),(ln=(Gt=this.props).onBlur)===null||ln===void 0||ln.call(Gt)},onFocus:()=>{var Ze,Lt,Gt,ln;(Lt=(Ze=this.props).onFocus)===null||Lt===void 0||Lt.call(Ze),(ln=(Gt=this).contextSetIsFocused)===null||ln===void 0||ln.call(Gt,!0)},onEnter:Ke?Ze=>{var Lt,Gt;return(Gt=(Lt=this.props).onEnter)===null||Gt===void 0?void 0:Gt.call(Lt,Ze)}:void 0,onBackspace:Y?()=>{var Ze,Lt;return(Lt=(Ze=this.props).onBackspace)===null||Lt===void 0?void 0:Lt.call(Ze)}:void 0,onEscape:()=>{if(this.contextRequestFloatingToolbarClose&&this.contextRequestFloatingToolbarClose(),He)return this.props.onEscape?this.props.onEscape():void 0},onTab:Je?Ze=>{var Lt,Gt;return(Gt=(Lt=this.props).onTab)===null||Gt===void 0?void 0:Gt.call(Lt,Ze)}:void 0,onTextChange:this.onTextChange,onSelectionChange:this.onSelectionChange,onScrollOptimize:this.onScrollOptimize,onCompositionEnd:this.props.onCompositionEnd,onResize:this.onResize,onLinkClick:this.onLinkClick,showLinkForm:this.showLinkForm,singleLineInput:ft,enableBroadcastKeywords:Kt,includeAllBroadcastKeywords:St,isJumbomojiEnabled:()=>(0,t.A)(this.props.enableJumbomoji)?this.props.enableJumbomoji():this.props.enableJumbomoji,convertEmoticonsIsEnabled:()=>this.props.enableEmoticons,replaceNativeEmoji:!0,usePlainTextMode:Ln,inlineEmojiIsEnabled:()=>!this.props.isEmojiDisplayedAsText,getLocale:()=>this.props.locale,getTeamId:()=>this.props.teamId,getChannelId:()=>this.props.channelId,getUserHighlightWords:()=>this.props.userHighlightWords,isAutocompleteOpen:()=>this.props.isAutocompleteOpen,promiseToSearchMembers:this.promiseToSearchMembers,promiseToSearchChannels:this.promiseToSearchChannels,promiseToSearchEmoji:this.promiseToSearchEmoji,onMentionReplace:this.onMentionReplace,className:"c-texty_input_unstyled",inputMetricBoundary:Fe,ariaLabel:mt,ariaLabelledBy:Ct,ariaDescribedBy:Zt,ariaAutocomplete:Ft,ariaControls:Jt,ariaExpanded:rn,ariaActiveDescendant:gn,tabIndex:"0",showTextyTooltips:cn,getEmojiNames:()=>this.props.emojiNames,logger:(0,y.Ay)({teamId:An}),useWorkflowTokens:It,useExpandedRichText:qe,workflowTokenClick:ct,onPlusMenuShortcut:Ne,nestedListDepth:T.Az,useWysiwyg:vt,useStickyComposer:!1,enableStickyComposer:Oe,useChannelTagging:!ce,forceAutoslugginEnabled:Ce,scrollingContainerSelector:"c-texty_input_unstyled__container",role:ke,window:st.deref(),isMultiverseQuillEnabled:dt}}getKeyboardModule(){const{featureReactMessages:nt,onCmdLeftWhenEmpty:mt,onCmdRightWhenEmpty:Ct,onCmdZWhenEmpty:Zt,onCmdKWhenSelected:Ft,onDownArrowWhenEmpty:Jt,onUpArrow:rn,onDownArrow:gn,onRightArrow:Fe,onLeftArrow:Ke,onSelectAll:Ne,onPageUp:He,onPageDown:Je}=this.props,ft={featureReactMessages:nt,onCmdLeftWhenEmpty:mt,onCmdRightWhenEmpty:Ct,onCmdZWhenEmpty:Zt,onCmdKWhenSelected:Ft,onDownArrowWhenEmpty:Jt,shouldInsertNewline:(Kt,St)=>this.props.isSingleLine?!1:(0,je.A)({...Kt,enterCreatesNewlinePref:this.props.enterCreatesNewlinePref,isCursorInPreBlock:this.instance.isCursorInPreBlock(),usePreNewlines:this.props.usePreNewlines,followsTripleBackticks:St})};return rn&&(ft.onUpArrow=()=>rn({}),ft.onUpArrowCmd=()=>rn({cmdKey:!0}),ft.onUpArrowShift=()=>rn({shiftKey:!0})),gn&&(ft.onDownArrow=()=>gn({}),ft.onDownArrowCmd=()=>gn({cmdKey:!0}),ft.onDownArrowShift=()=>gn({shiftKey:!0})),Fe&&(ft.onRightArrow=()=>Fe()),Ke&&(ft.onLeftArrow=()=>Ke()),Ne&&(ft.onSelectAll=()=>Ne()),He&&(ft.onPageUp=()=>He()),Je&&(ft.onPageDown=()=>Je()),ft}getTabCompleteModule(){const{autocompleteConfig:nt}=this.props;return nt?{tooltipIsShowing:()=>this.state.tooltipShowing,tooltipShow:mt=>{this.showTooltip(mt)},tooltipHide:()=>{this.hideTooltip()},...nt}:null}getTextSubstitutionsModule(){return this.props.disableTextSubstitutions?null:{getTextPreferences:()=>this.props.isAutocompleteOpen?null:(0,te.Tp)()}}getContents(){return this.instance.getContents()}getText(){return this.instance.getText()}getContentsForRange(nt,mt){return this.instance.getContentsForRange(nt,mt)}getSelection(){return this.instance.getSelection()}getFormatForQuotedObjects(nt){var mt,Ct,Zt,Ft,Jt,rn,gn;const Fe=this.instance.getFormat(nt),Ke=Ot({blockType:"list-item",quill:this.instance.quill,range:nt}),Ne=Ke&&(Ke==null?void 0:Ke.length)>0&&this.instance.quill.getLines(Ke),He=(0,n.A)(Ne);if((He==null||(mt=He.statics)===null||mt===void 0?void 0:mt.blotName)==="block"&&(He==null||(Ct=He.children)===null||Ct===void 0||(Zt=Ct.head)===null||Zt===void 0||(Ft=Zt.statics)===null||Ft===void 0?void 0:Ft.blotName)==="break"&&(He==null||(Jt=He.children)===null||Jt===void 0||(rn=Jt.tail)===null||rn===void 0||(gn=rn.statics)===null||gn===void 0?void 0:gn.blotName)==="break"&&Ne.pop(),Ne!=null&&Ne.length){let Je=!1;if(Je=(0,Rt.mj)(Ne),Je){const ft=this.instance.getFormat(Ke);return{...Fe,...ft,blockquote:!0}}}}getFormat(nt){return this.getFormatForQuotedObjects(nt)||this.instance.getFormat(nt)}getLength(){return this.instance.getLength()}getClipboardModule(){const{onPasteLimit:nt,openSnippetDialog:mt,isCsvTsvPastingEnabled:Ct,isCanvasListTaggingEnabled:Zt}=this.props;return{shouldFocusOnPaste:()=>this.props.focusOnPaste&&this.props.isAttentionOnChat,showMarkdownPasteToast:this.props.showMarkdownPasteToast,showCsvTsvPasteToast:this.props.showCsvTsvPasteToast,getChannelId:()=>this.props.channelId,getThreadTs:()=>this.props.threadTs,onPasteLimit:(Ft,Jt)=>Jt&&Jt.length()>T.Sd?(Ft.stopPropagation(),Ft.preventDefault(),nt?nt(Ft,Jt):this.props.openModal({element:this.renderPasteLimitDialog(),isStackable:!0}),!0):!1,onPaste:()=>this.props.onPaste?this.props.onPaste():!1,openCsvTsvSnippetDialog:(Ft,Jt)=>{if(mt){if(this.props.experimentBlockUnfurlsGroupOn&&this.props.insertCsvTsvAsBlockUnfurl){this.props.insertCsvTsvAsBlockUnfurl(Ft,Jt);return}mt({initialText:Ft,initialChannelId:this.props.channelId,threadTs:this.props.threadTs,viewContext:this.props.viewContext||"",initialType:"tsv",initialContents:{contents:Jt.ops}})}},getCsvTsvPastingEnabled:()=>Ct,getCanvasListTaggingEnabled:()=>Zt}}setContainerRef(nt){this.container=nt}setContents(nt){return this.instance.setContents(nt)}setCursorAtEnd(){this.instance.setSelectionAtEnd()}isCursorAtStart(){return this.instance.getSelection().index===0}maybeTriggerMentionAutocomplete(){this.instance.maybeTriggerMentionAutocomplete()}setCursor(nt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.container&&this.instance.setSelection(nt,mt)}insertContentsAtCursor(nt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user";this.container&&this.instance.insertContentsAtCursor(nt,mt,Ct)}clearHistory(){return this.instance.clearHistory()}isEnabled(){return this.instance.isEnabled()}prependContents(nt){return this.instance.prependContents(nt)}value(nt){let{isSilent:mt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{userHighlightWords:Ct,isEmojiDisplayedAsText:Zt,emojiNames:Ft,locale:Jt,useWorkflowTokens:rn,workflowTokens:gn,tagChannelsAsSearchGeneric:Fe,forceChannelTaggingDisabled:Ke}=this.props;if(nt!==void 0){if((0,s.A)(nt))this.clear();else{let Ne=nt;(0,r.A)(nt)&&(Ne=(0,F.A)(nt,{highlightWords:Ct,shouldRenderEmojiAsText:Zt,emojiNames:Ft,locale:Jt,workflowTokens:rn?gn:void 0,useChannelTagging:!Ke,tagChannelsAsSearchGeneric:Fe}));const He={};mt&&(He.source="silent"),this.instance.setContents(Ne,He)}return}return(0,J.A)(this.instance.getContents(),{tagChannelsAsSearchGeneric:Fe})}displayValue(){return(0,j.A)(this.instance.getContents(),this.props.userHighlightWords)}clear(){let{isSilent:nt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.instance.clear({is_silent:nt})}hasActiveDescendantChanged(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{ariaActiveDescendant:mt,experimentA11YOmniswitcherResetActiveDescendantGroupOn:Ct}=this.props,Zt=nt.ariaActiveDescendant,Ft=Zt!==mt;return Ct||Zt&&mt?Ft:!1}handlePropChanges(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{placeholder:mt,enableSpellCheck:Ct,isDisabled:Zt,isPlainTextModeEnabledPref:Ft,overlayIsOpen:Jt,ariaLabel:rn,ariaDescribedBy:gn,enableBroadcastKeywords:Fe,ariaActiveDescendant:Ke,teamId:Ne,useExpandedRichText:He}=this.props;if(nt.enableSpellCheck!==Ct&&this.container.querySelector("[contenteditable=true]").setAttribute("spellcheck",Ct),nt.isDisabled!==Zt&&(Zt?this.instance.disable():this.instance.enable()),nt.placeholder!==mt&&this.updatePlaceholder(),this.hasActiveDescendantChanged(nt)&&this.instance.setActiveDescendant(Ke),nt.ariaLabel!==rn&&this.instance.setAriaLabel(rn),nt.ariaDescribedBy!==gn&&this.instance.setAriaDescribedBy(gn),(0,d.A)(nt.isPlainTextModeEnabledPref)&&(0,d.A)(Ft)&&nt.isPlainTextModeEnabledPref!==Ft||(0,d.A)(nt.enableBroadcastKeywords)&&(0,d.A)(Fe)&&nt.enableBroadcastKeywords!==Fe&&nt.channelId===this.props.channelId){var Je,ft;(0,y.Ay)({teamId:Ne}).info("Texty-Input",`Recreates the texty class instance for channelId ${this.props.channelId} `);const Kt=this.getContents();this.instance&&this.instance.unload(),He?this.instance=new B.A(this.container,this.getOptions()):this.instance=new V.A(this.container,this.getOptions()),(ft=(Je=this).contextSetTextyInstance)===null||ft===void 0||ft.call(Je,this.instance),this.setContents(Kt),Jt||this.setCursorAtEnd(),this.updatePlaceholder()}}focus(){this.instance.focus()}blur(){this.instance.blur()}selectAll(){this.instance.selectAll()}isEmpty(){let{doIgnoreWhitespace:nt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},mt=this.value();return mt&&nt&&(mt=mt.trim()),!mt}hasFocus(){var nt;return(nt=this.instance)===null||nt===void 0?void 0:nt.hasFocus()}resetToolbarPosition(){this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(void 0)}updateToolbarPosition(){var nt;const{enableStickyComposer:mt,useStickyComposer:Ct,useWysiwyg:Zt,isPlainTextModeEnabledPref:Ft}=this.props;if(!Zt||Ft||Ct&&mt)return;const Jt=this.getSelection();if(!Jt||!Jt.length){this.resetToolbarPosition();return}const rn=this.instance.quill.getBounds(Jt.index,Jt.length),gn=getComputedStyle(this.instance.quill.root),Fe=this.instance.quill.root.clientWidth-parseInt(gn.paddingLeft,10)-parseInt(gn.paddingRight,10),Ke=this.instance.quill.root.parentNode.getBoundingClientRect(),Ne=(Ke==null?void 0:Ke.left)||0,He=(Ke==null?void 0:Ke.top)||0,Je=(Ke==null?void 0:Ke.width)||0,ft={rect:rn,editorWidth:Fe,containerLeftBound:Ne,containerTopBound:He,containerWidthBound:Je,viewportWidth:((nt=this.windowRef.deref())===null||nt===void 0?void 0:nt.document.documentElement.clientWidth)||0};this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(ft)}hideToolbarOverflow(){this.contextSetToolbarOverflowVisible&&this.contextSetToolbarOverflowVisible(!1)}updateActiveFormats(){const nt=this.getSelection(),mt=nt?this.getFormat(nt):{},Ct=Object.keys(mt).map(Zt=>{if(Zt==="header")return`h${mt[Zt]}`;if(Zt==="list"){if(mt[Zt]==="bullet")return"bullet-list";if(mt[Zt]==="ordered")return"ordered-list";if(["unchecked","checked"].includes(mt[Zt]))return"check-list"}return Zt});this.contextSetActiveFormats&&this.contextSetActiveFormats(Zt=>(0,o.A)(Zt,Ct)?Zt:Ct)}showTooltip(nt,mt){if(this.getSelection().length>0)return;const Ct=nt.getAttribute("data-id"),Zt=Ct!=="UNVERIFIED"&&(0,Ge.A)(Ct)?Ct:null,Ft=Ct!=="UNVERIFIED"&&(0,Qe.A)(Ct)?Ct:null,Jt=(0,Xe.A)(Ct)?Ct:null,rn=nt.getAttribute("data-title");if(!nt.classList.contains("emoji")&&!rn&&!(Zt||Jt||Ft))return;this.mentionReplaceTimer&&(clearTimeout(this.mentionReplaceTimer),this.mentionReplaceTimer=null);const Fe=nt.getClientRects(),Ke=mt&&Array.from(Fe).find(Ne=>mt.clientY>=Ne.top&&mt.clientY<=Ne.bottom&&mt.clientX>=Ne.left&&mt.clientX<=Ne.right)||Fe[0];this.setState(()=>({tooltipShowing:!0,tooltipMemberId:Zt,tooltipUserGroupId:Ft,tooltipChannelId:Jt,tooltipTitle:rn,tooltipTargetBounds:Ke}))}hideTooltip(){this.setState(()=>({tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0}))}showLinkForm(nt){let{source:mt}=nt;this.preventToolbarOnNextSelection=!0,this.props.openTextyLinkFormBasedOnSelection({textyInstance:this.instance,source:mt})}promiseToSearchMembers(nt){const{channelId:mt,enableBroadcastKeywords:Ct,includeAllBroadcastKeywords:Zt}=this.props;return this.props.autocompleteMembers({query:nt,enableBroadcastKeywords:Ct,includeAllBroadcastKeywords:Zt,channelId:mt})}promiseToSearchChannels(nt){return this.props.autocompleteChannels({query:nt})}promiseToSearchEmoji(nt,mt){return this.props.autocompleteEmoji({query:nt,useSearcherSessions:mt})}renderPasteLimitDialog(){return c.createElement(fe.Ay,{title:yn.t("That\u2019s a bit too long to paste"),goButtonText:yn.t("OK")},yn.t("To keep things running smoothly, there\u2019s a limit on the number of characters you can paste into Slack."))}updatePlaceholder(){var nt;const{placeholder:mt,teamId:Ct}=this.props,Zt=(nt=this.container)===null||nt===void 0?void 0:nt.querySelector(".ql-placeholder");f(Ct,Zt,mt)}unmountPlaceholder(){var nt;const mt=(nt=this.container)===null||nt===void 0?void 0:nt.querySelector(".ql-placeholder");g(mt)}render(){var nt=this;const{className:mt,isExpanded:Ct,isInvalid:Zt,isSingleLine:Ft,maxLines:Jt,minLines:rn,useFocusRing:gn,size:Fe,enableActionsButton:Ke,a11yUnderlineLinks:Ne,noSingleLineStyling:He}=this.props,{numCharsOverLimit:Je,tooltipShowing:ft,tooltipMemberId:Kt,tooltipUserGroupId:St,tooltipChannelId:cn,tooltipTitle:An,tooltipTargetBounds:Ln,indicateTopScroll:It,indicateBottomScroll:qe}=this.state,ct=(0,a.A)(rn)&&rn>0?rn:1,vt=(0,a.A)(Jt)&&Jt>0?Jt:void 0,Oe=(0,p.A)("c-texty_input_unstyled__container",`c-texty_input_unstyled__container--size_${Fe}`,{"c-texty_input_unstyled__container--multi_line":!Ft,"c-texty_input_unstyled__container--single_line":Ft&&!He,"c-texty_input_unstyled__container--use_focus_ring":gn,"c-texty_input_unstyled__container--expanded":Ct,"c-texty_input_unstyled__container--invalid":Zt,"c-texty_input_unstyled__container--no_actions":!Ke,"c-texty_input_unstyled__container--with_warning":this.hasWarning(),"c-texty_input_unstyled__container--with_underlined_links":Ne,"c-texty_input_unstyled__container--multiline_overflow--top":!Ft&&It,"c-texty_input_unstyled__container--multiline_overflow--bottom":!Ft&&qe});return c.createElement("div",{className:Oe,"data-buttons":bt(this.props)},c.createElement("div",hn({className:mt},(0,ne.A)(this.props),{"data-min-lines":ct,"data-max-lines":vt,ref:this.setContainerRef,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onDrop:this.onDrop,onFocus:l.A,onBlur:l.A})),this.hasWarning()&&c.createElement(_n,{numCharsOverLimit:Je}),ft&&c.createElement(nn.A,{memberId:Kt,userGroupId:St,channelId:cn,title:An,targetBounds:Ln}),c.createElement(ze.A.Consumer,null,function(){let{setTextyInstance:Y,setIsFocused:ce,setActiveFormats:Ce,setToolbarOverflowVisible:ke,setToolbarPositionData:st,requestFloatingToolbarClose:dt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt.contextSetTextyInstance=Y,nt.contextSetIsFocused=ce,nt.contextSetActiveFormats=Ce,nt.contextSetToolbarOverflowVisible=ke,nt.contextSetToolbarPositionData=st,nt.contextRequestFloatingToolbarClose=dt}))}constructor(nt){super(nt),this.container=null,this.instance=null,this.resizeListener=null,this.setContainerRef=this.setContainerRef.bind(this),this.mentionReplaceTimer=null,this.toolbarRef=c.createRef(),this.preventToolbarOnNextSelection=!1,this.scrollTicking=!1,this.windowRef=nt.windowRef,(0,m.v)(this,["promiseToSearchMembers","promiseToSearchChannels","promiseToSearchEmoji","onMouseOver","onMouseOut","onTextChange","onSelectionChange","onScrollOptimize","onResize","onLinkClick","showLinkForm","onMentionReplace","displayValue","hideToolbarOverflow","resetToolbarPosition","calculateInputOffsetScroll","setupInputListeners","removeInputListeners","scrollListenerRaf","onDrop"]),this.state={...Bt}}},"TextyInput");wt.displayName="TextyInput",wt.defaultProps={onCompositionEnd:l.A,onMount:l.A,onFileMenuOpen:l.A,onFileMenuClose:l.A,forceFileMenuOpen:!1,sendMessage:l.A,openSnippetDialog:l.A,isSingleLine:!1,noSingleLineStyling:!1,isAttentionOnChat:!1,enableJumbomoji:!1,enableSpellCheck:!1,enableEmoticons:!1,enableStickyComposer:!1,overlayIsOpen:!1,isPlainTextModeEnabledPref:!1,autocompleteChannels:()=>h.S.resolve(),showMarkdownPasteToast:l.A,showCsvTsvPasteToast:l.A,enterCreatesNewlinePref:!1,forceEnterCreatesNewline:!1,isDisabled:!1,isExpanded:!1,isEmojiDisplayedAsText:!1,focusOnMount:!1,focusOnPaste:!1,minLines:1,maxLines:void 0,maxLength:void 0,openModal:l.A,autocompleteMembers:l.A,featureReactMessages:!0,showTextyTooltips:!0,isAutocompleteOpen:!1,enableBroadcastKeywords:!0,includeAllBroadcastKeywords:!1,usePreNewlines:!1,useFocusRing:!0,workflowTokens:[],workflowTokenClick:l.A,size:ht.MEDIUM,isInvalid:!1,renderFileMenu:l.A,useWysiwyg:!1,useStickyComposer:!0,useWorkflowTokens:!1,useExpandedRichText:!1,enableActionsButton:!1,forceChannelTaggingDisabled:!1,forcePlainTextModeDisabled:!1,forceAutoslugginEnabled:!1,openTextyEditLinkModal:l.A,openTextyLinkFormModal:l.A,openTextyLinkFormBasedOnSelection:l.A,closeTextyModals:l.A,textyModalIsOpen:!1,onScheduleSend:l.A,autocompleteEmoji:l.A,isCsvTsvPastingEnabled:!1,tagChannelsAsSearchGeneric:!1,a11yUnderlineLinks:!1,dragLinksToComposer:l.A,experimentA11YOmniswitcherResetActiveDescendantGroupOn:!1,experimentBlockUnfurlsGroupOn:!1};const Qt=i((zt,nt)=>{const{isExpanded:mt,forcePlainTextModeDisabled:Ct,forceEnterCreatesNewline:Zt}=nt,Ft=(0,Tt.kx)(zt),Jt=(0,G.ZV)(zt);return{teamId:(0,L.JY)(zt),enableSpellCheck:!!(0,S.ty)(zt,"webapp_spellcheck"),userHighlightWords:(0,H.A)(zt),isEmojiDisplayedAsText:(0,q.P)(zt),overlayIsOpen:Jt,enableEmoticons:!!(0,S.ty)(zt,"convert_emoticons"),enableStickyComposer:Ft,locale:(0,ve.Yp)(),emojiNames:(0,w.CK)(zt),enterCreatesNewlinePref:Zt?!0:(0,O.A)(zt,mt),usePreNewlines:!!(0,S.ty)(zt,"enter_is_special_in_tbt"),isPlainTextModeEnabledPref:Ct?!1:!!(0,S.ty)(zt,"plain_text_mode"),isAttentionOnChat:(0,G.xT)(zt),textyModalIsOpen:(0,rt.A)((0,le.wc)(zt).map(rn=>rn.name||"")),a11yUnderlineLinks:!!(0,S.ty)(zt,"underline_links"),experimentA11YOmniswitcherResetActiveDescendantGroupOn:(0,W._Z)(zt,"a11y_omniswitcher_reset_active_descendant")==="on",experimentBlockUnfurlsGroupOn:(0,Dt.bb)(zt)}},"texty_input_mapStateToProps"),mn={openModal:he.q,autocompleteMembers:me.A,autocompleteChannels:oe.A,autocompleteEmoji:N.A,showMarkdownPasteToast:Te,showCsvTsvPasteToast:Re,openTextyEditLinkModal:zt=>(0,I.A)(zt),openTextyLinkFormModal:zt=>(0,D.A)(zt),closeTextyModals:k.A,openTextyLinkFormBasedOnSelection:zt=>(0,P.A)(zt),dragLinksToComposer:zt=>(0,it.A)(zt)},On=(0,u.N)(Qt,mn,null,{forwardRef:!0})(wt)},2418895410:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(9101533895),d=e(1407713935),o=e(5289504844),a=e(8661826718),l=e(5249175977),m=e(1926356522),c=e(82287009),_=e(8677230210),p=e(735940183),u=e(8300007136),h=e(1835177371),E=e(2433936990),A=e(5795074931),v=e(2023092677),f=e(2689960678),g=e(6989432693);const y=10,T=new p.Ay("channel_token"),M=i(k=>{let{userGroupId:R,targetBounds:V}=k;const B=(0,u.wA)(),[W,L]=(0,t.useState)(!1),S=(0,n.d4)(te=>(0,h.IM)(te,R)),H=(0,n.d4)(te=>(0,h.lJ)(te,R));var w;const F=(w=(0,n.d4)(A.WR))!==null&&w!==void 0?w:void 0,j=(0,v.t8)(H),J=!j&&!(0,v.V1)(H),X=S===f.Ml,q=!j&&!J&&X&&!W;if((0,t.useEffect)(()=>{q&&(B((0,E.A)({groupId:R,reason:"texty-tooltip"})),L(!0))},[B,R,q]),X)return null;let G=S.map((te,le)=>t.createElement(g.A,{key:te,userId:te,isFirst:le===0,isSelf:F===te}));S.length>y+1&&(G=G.slice(0,y).concat(T.rt("{count} others",{count:S.length-y})));const ne=(0,p.jd)(G,{noEscape:!0,react:!0});return t.createElement(l.AM,{isOpen:!0,position:"top",targetBounds:V,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.createElement(m.A,{position:"top",className:"c-tooltip__tip--usergroup"},ne))},"TextyTooltipUserGroup");M.displayName="TextyTooltipUserGroup";const O=M,I=new p.Ay("channel_token"),D=i(k=>{let{memberId:R,userGroupId:V,channelId:B,title:W,targetBounds:L}=k;const S=(0,n.d4)(F=>(0,r.OL)(F,B));if((0,n.d4)(F=>(0,_.wC)(F,R)))return t.createElement(l.AM,{isOpen:!0,position:"top",targetBounds:L,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,offsetY:-12,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},(0,c.qk)({hideCoveragePlanLink:!0,memberId:R,hideButtons:!0}));let w=W;if(R)w=t.createElement(o.Ay,{id:R,showAvatar:!0,showPresence:!0,invert:!0});else if(B){const F=(0,d.t8)(S),j=(0,d.QR)(S);!F&&j?w=I.t("Private channel info"):w=t.createElement(a.A,{channelId:B,invert:!0})}else if(V)return t.createElement(O,{targetBounds:L,userGroupId:V});return t.createElement(l.AM,{isOpen:!0,position:"top",targetBounds:L,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.createElement(m.A,{position:"top",className:(0,s.A)({"c-tooltip__tip--member":R,"c-tooltip__tip--channel":B})},w))},"TextyTooltip");D.displayName="TextyTooltip";const P=D},6989432693:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(2562405183),s=e(8276911661),r=e(8921478798),d=e(8170643398),o=e(735940183),a=e(7576317051);const l=new o.Ay("channel_token"),m=i(_=>{let{userId:p,isFirst:u,isSelf:h}=_;var E;const A=(E=(0,n.d4)(f=>(0,s.nv)(f,p)))!==null&&E!==void 0?E:void 0;let v=(0,n.d4)(f=>(0,r.I)(f,p));return(0,d.t8)(A)?t.createElement(a.A,{type:"unknown",subtler:!0}):(0,d.QR)(A)?t.createElement(a.A,{type:"non-existent",subtler:!0}):(h&&(v=u?l.t("You"):l.t("you")),t.createElement(t.Fragment,null,v))},"TooltipMemberName");m.displayName="TooltipMemberName";const c=t.memo(m)},588672655:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(4711108074),n=e.n(t),s=e(1031947056),r=e(3719541926),d=e(1521013946),o=e(7136729150),a=e(8276911661),l=e(9262712126),m=e(9101533895),c=e(9884588328);const _=(0,s.Ay)("Support dragging links to texty inputs",(u,h,E)=>{let{dragEvent:A,inputProxy:v}=E;var f;const g=A==null||(f=A.dataTransfer)===null||f===void 0?void 0:f.getData("text/uri-list");if(!g||!v)return null;const y=(0,r.A)(g);if(!y.length)return null;const T=h(),M=y[0],O=(0,d.$N)(T,M.url);if(y&&y.length===1&&M.text===g){const I=v.getSelection(),D=new(n());if((I==null?void 0:I.index)>0&&(O||M!=null&&M.text&&(M!=null&&M.url))){const P=v.getText(I.index-1,1);P!==" "&&P!==`
`&&D.insert(" ")}if((O==null?void 0:O.type)===d.im.MEMBER){const P=(0,a.nv)(T,O==null?void 0:O.memberId);if(!(P!=null&&P.id))return D;const k=(0,o.A)(P.id,`@${(0,l.Gt)(P)}`,[]);k!=null&&k.label&&D.insert(k.label,k)}else if((O==null?void 0:O.type)===d.im.MESSAGE)if(O!=null&&O.ts)D.insert(`${M.text}`,{link:M.url});else{const P=(0,m.OL)(T,O==null?void 0:O.channelId);if(!(O!=null&&O.channelId))return D;const k=(0,o.A)(O==null?void 0:O.channelId,`#${(0,c.mG)(P)}`,[]);k!=null&&k.label&&D.insert(k.label,k)}else M!=null&&M.text&&(M!=null&&M.url)&&!O&&D.insert(`${M.text}`,{link:M.url});return(I==null?void 0:I.index)<v.getLength()&&(O||M!=null&&M.text&&(M!=null&&M.url))&&v.getText(I.index+1,1)!==" "&&D.insert(" "),D}return null});_.meta={name:"createThunk",key:"createThunkdragLinksToComposer",description:"Support dragging links to texty inputs"};const p=_},8734174229:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(5737576046),n=e(7884000776);function s(r){let{inputText:d,inputDelta:o,channelId:a,threadTs:l}=r;const m=(0,t.zC)({viewContext:n.Y.THREAD,channelId:a,threadTs:l});m&&(o?m.setContents({contents:o.ops}):m.setText(d));const c=(0,t.zC)({viewContext:n.Y.THREADS_VIEW,channelId:a,threadTs:l});c&&(o?c.setContents({contents:o.ops}):c.setText(d))}i(s,"populateThreadInputs")},8011352381:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(1035168942);const r=t.forwardRef((o,a)=>{let{children:l,lines:m,breakWords:c=!0,withTooltip:_,shouldForceTooltipVisible:p,customTooltipText:u,tooltipClassName:h}=o;const E={"--lines":m},A=t.createElement("span",{className:(0,n.A)("c-truncate",{"c-truncate--break_words":c}),style:E,ref:a},l);return _?t.createElement(s.A,{tip:u||l,zIndex:"above_fs",shouldForceVisible:p,tipClassName:h},A):A});r.displayName="Truncate";const d=r},924300050:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ie});var t=e(3134334389),n=e(980293773),s=e(6820844347),r=e.n(s),d=e(5006029593),o=e.n(d),a=e(7749140866),l=e.n(a),m=e(7626894131),c=e.n(m),_=e(29804293),p=e.n(_),u=e(6636363964),h=e.n(u),E=e(5913806097),A=e.n(E),v=e(9916635837),f=e.n(v),g=e(555040584),y=e.n(g),T=e(8187362417),M=e.n(T),O=e(2005200212),I=e.n(O),D=e(2563333228),P=e.n(D),k=e(5760619139),R=e.n(k),V=e(668694090),B=e.n(V),W=e(6754250580),L=e.n(W),S=e(1714394002),H=e.n(S),w=e(6435768457),F=e.n(w),j=e(7417918922),J=e.n(j),X=e(6869712815),q=e.n(X),G=e(8089589194),ne=e.n(G),te=e(5748605292),le=e.n(te),he=e(4071181961),fe=e.n(he),ve=e(8071475775),me=e.n(ve),oe=e(9733499682),N=e.n(oe),K=e(9753292423),x=e.n(K),b=e(3289703835),z=e.n(b),$=e(1347747715),Z=e.n($),U=e(6050136004),ee=e.n(U),se=e(7949425452),de=e(2683115972),ue=e(5220162857),_e=e(4302969948),pe=e(1388835426),ae=e(2664504268),Ee=e(9598582073),Le=e.n(Ee);function ye(){return ye=Object.assign||function(Ue){for(var Be=1;Be<arguments.length;Be++){var we=arguments[Be];for(var re in we)Object.prototype.hasOwnProperty.call(we,re)&&(Ue[re]=we[re])}return Ue},ye.apply(this,arguments)}i(ye,"_extends");const Te={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},Ae=i(Ue=>{let{featureList:Be,modalTitle:we,modalSubtitle:re,buttonText:ge,onCTAClick:De,customFooter:be,maxWidth:xe,onRequestClose:Re,UNSAFE_parentSelector:je,videoTitle:Ge,experimentPnpE2eGroupOn:Qe}=Ue;const Xe=i(()=>t.createElement(ue.A,{listItems:Be}),"renderFeatureList"),et={closeModal:Re,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:xe,UNSAFE_parentSelector:je},{translation:rt,enableMediaCaptions:it}=(0,pe.S)({"de-DE":Qe?c():L(),"en-GB":Qe?p():H(),"en-US":Qe?l():F(),"es-ES":Qe?A():J(),"es-LA":Qe?h():q(),"fr-FR":Qe?f():ne(),"it-IT":Qe?R():le(),"ja-JP":Qe?B():fe(),"ko-KR":Qe?y():me(),"pt-BR":Qe?M():N(),"zh-CN":Qe?I():x(),"zh-TW":Qe?P():z()}),lt=(0,ae.A)(),ot=(0,ae.A)(),Et=[lt,ot].join(" "),At=(0,t.useMemo)(()=>{let Ot=o(),Rt=ee();return Qe&&(Ot=r(),Rt=Z()),{video:Ot,videoPoster:Rt}},[Qe]);return t.createElement(n.dW,ye({closeButtonTone:"dark",className:Le().modalBackground,labelledby:Et},et),t.createElement(n.$m,{className:Le().modalBackground},t.createElement("div",{className:Le().bodyContainer},t.createElement("div",{className:Le().listContainer},t.createElement(se.Ay,{ariaHidden:!0,className:Le().proBadge,size:se.vj.Large}),t.createElement("h1",{id:lt,className:Le().title},we),t.createElement("h2",{id:ot,className:Le().subtitle},re),Xe(),be||t.createElement(de.Ay,{size:"medium",onClick:De,className:Le().ctaButton,autoClogProps:Te},ge)),t.createElement("div",{className:Le().videoContainer},t.createElement("div",{className:Le().videoPlayer},t.createElement(_e.A,{src:At.video,vtt:rt,enableMediaCaptions:it,videoPoster:At.videoPoster,enableControls:!0,autoPlay:!1,title:Ge}))))))},"Modal");Ae.displayName="Modal";const Ie=Ae},5220162857:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p,L:()=>m});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(8683010724),d=e(3801841745),o=e(6696573656),a=e.n(o);const l=new s.Ay("trial_expiration_modals"),m=i(u=>[{iconName:u?"history":"search",title:u?l.t("Unlimited message and file history"):l.t("Search"),text:u?l.t("Keep and find answers in your team\u2019s archive"):l.t("Unlimited message and file history")},{iconName:"headphones",title:u?l.t("Huddles without time limits"):l.t("Huddles"),text:u?l.t("Voice and video conversations over 30 minutes"):l.t("Group voice and video calls")},{iconName:"canvas",title:u?l.t("Canvases and lists"):l.t("Canvas"),text:u?l.t("Share and track work in Slack"):l.t("Unlimited documents to store and share information")},{iconName:"shared-channel",title:u?l.t("Slack Connect"):l.t("Slack Connect channels"),text:u?l.t("Work with people from other organizations"):l.t("Work with people outside your organization")},{iconName:"bolt",title:u?l.t("More apps and unlimited workflows"):l.t("Automation"),text:u?l.t("Build no-code workflows and add up to 10 apps"):l.t("Automate repetitive tasks with apps and workflows")}],"getFeatureList"),c=i(u=>{let{iconClassName:h,iconName:E,title:A,text:v}=u;return t.createElement(d.A,{alignItems:"flex-start"},t.createElement("div",{className:(0,n.A)(a().icon,h)},t.createElement(r.A,{name:E,size:"20","aria-describedby":E,role:"img","data-qa":`icon-${E}`})),t.createElement(d.A,{flexDirection:"column"},t.createElement("div",{className:a().title},A),t.createElement("div",{className:a().text},v)))},"FeaturesListItem");c.displayName="FeaturesListItem";const p=i(u=>{let{className:h,iconClassName:E,listItems:A}=u;return t.createElement(d.A,{gap:12,flexDirection:"column",className:(0,n.A)(a().featuresListContainer,h)},A.map(v=>t.createElement(c,{key:v.title,iconClassName:E,iconName:v.iconName,title:v.title,text:v.text})))},"FeaturesList")},8108449081:(Q,C,e)=>{"use strict";e.d(C,{A:()=>k});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(735940183),d=e(4481313819),o=e(924300050),a=e(5360912544),l=e(6518038516),m=e(9003400431),c=e(6244014364),_=e(5220162857),p=e(6259241484),u=e(6323355797),h=e(3810478625),E=e(2683115972),A=e(8739505998),v=e(3677514771),f=e(7914553163),g=e(2612353366),y=e(8871937520);const T=new r.Ay("trials"),M={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},O={elementName:"view_all_pro_features_cta",onClick:{enableClogAction:!0}},I={elementName:"upgrade_to_pro_cta",onClick:{enableClogAction:!0}},D=u.ew.PAID_FEATURE_TRIAL,P=i(R=>{let{promoType:V,uiStep:B,freemiumVariant:W,trialExpirationDate:L}=R;const S=(0,s.wA)(),H=(0,n.d4)(h.g),w=(0,n.d4)(v.H7),F=(0,t.useCallback)(()=>{S((0,m.O)())},[S]),j=(0,t.useMemo)(()=>[p.xu.SIDEBAR_MENU_HEADER],[]),J=(0,t.useCallback)(()=>{S((0,m.O)())},[S]),X=(0,t.useCallback)(()=>{S((0,m.O)()),S((0,g.A)())},[S]),q=i(()=>{if(H){if(W===f.MX.TrialEligible)return t.createElement(a.A,{autoClogProps:M,reason:"all_features_modal",onRequestComplete:J,promoType:V,megaphoneSpacesToRefresh:j},T.t("Start Pro Trial"));const te="all_features_modal";if(W===f.MX.TrialIneligible){const le=H?T.t("Upgrade to Pro"):"",he=H?T.t("View All Paid Features"):"";return t.createElement(t.Fragment,null,t.createElement(E.z9,{size:"medium",autoClogProps:I,href:(0,u.Qn)({team:w,entryPoint:te}),title:le},le),t.createElement(A.A,{autoClogProps:O,href:(0,u.hZ)({entryPoint:te}),title:he},he))}if(W===f.MX.TrialIneligibleUserCannotUpgrade){const le=H?T.t("View All Paid Features"):"";return t.createElement(E.z9,{size:"medium",autoClogProps:O,href:(0,u.hZ)({entryPoint:te}),title:le},le)}if(L){const le=H?T.t("Explore All Paid Features"):"";return t.createElement(E.Ay,{size:"medium",autoClogProps:O,onClick:X,title:le},le)}return null}return t.createElement(t.Fragment,null,t.createElement(a.A,{autoClogProps:M,reason:"all_features_modal",onRequestComplete:J,promoType:V,megaphoneSpacesToRefresh:j},T.t("Start Pro Trial")),t.createElement(l.A,{buttonType:"outline",entryPoint:"global_trial_entrypoint",openInNewTab:!0,planLevel:u.i6.standard.name}))},"getCustomFooterButtons");q.displayName="getCustomFooterButtons";const G=i(()=>t.createElement("div",{className:"p-free_teams_showcase_all_features_modal__ctas"},q()),"getCustomFooter"),ne=H&&L?T.rt("Explore all the premium features of our most popular plan, Slack Pro, through {expirationDate}.",{expirationDate:(0,y.Pd)(L)}):T.rt("Explore the premium features of our most popular plan with a free {trialDuration}-day trial. No credit card required.",{trialDuration:D});return t.createElement(d.A,{eventId:c.EventId.UPGRDEXP_TRIAL,uiComponentName:c.UiComponentName.FREE_TEAMS_SHOWCASE_ALL_FEATURES_MODAL,uiStep:B},t.createElement(o.A,{featureList:(0,_.L)(H),experimentPnpE2eGroupOn:H,modalTitle:T.t("Do even more with Slack Pro"),modalSubtitle:ne,customFooter:G(),onRequestClose:F,maxWidth:832,videoTitle:T.t("Comparison of free vs. paid Slack Video for users on free teams",{fallbackHash:"9398938f8b7049969c93c2f18f103f217bd68228"})}))},"FreeTeamsAllFeaturesModal");P.displayName="FreeTeamsAllFeaturesModal";const k=P},1267040415:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(3134334389),n=e(735940183),s=e(9391594207),r=e(6244014364),d=e(6323355797),o=e(2562405183),a=e(3677514771),l=e(7268021173),m=e(4481313819),c=e(2683115972),_=e(8739505998),p=e(2312625946);function u(){return u=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(g[M]=T[M])}return g},u.apply(this,arguments)}i(u,"_extends");const h=new n.Ay("plan_change"),E=i(g=>{let{children:y,planLevel:T,entryPoint:M,feature:O,hash:I,action:D,useLink:P,refToForward:k,productId:R,productLevel:V,team:B,isTeamInTrial:W,tooltipProps:L,...S}=g;const H=(0,o.d4)(j=>(0,d.m6)(j,{entryPoint:M,productId:R,productLevel:V,action:D,feature:O,hash:I,planLevel:T})),w=P?_.A:c.z9,F=t.createElement(w,u({ref:k},S,{href:H}),y);return t.createElement(m.A,{eventId:r.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},L?t.createElement(p.Ay,u({tip:h.t("Upgrade")},L),F):F)},"PlansPageCTABase");E.displayName="PlansPageCTABase";const A=i(g=>({team:(0,a.H7)(g),isTeamInTrial:(0,l.iH)(g)}),"mapStateToProps"),v=(0,s.N)(A)(E),f=t.forwardRef((g,y)=>t.createElement(v,u({},g,{refToForward:y})))},4177200783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(735940183),d=e(6244014364),o=e(4761125736),a=e(9003400431),l=e(4481313819),m=e(8719380546),c=e(5712872315),_=e(1743656885);const p=new r.Ay("msg_input"),u={elementName:"learn_more",onClick:{enableClogAction:!0}},h=i(y=>{let{isScheduledMessage:T}=y;const M=(0,n.wA)(),O=(0,t.useCallback)(()=>{M((0,a.O)())},[M]);if(!(0,s.d4)(k=>(0,o._Z)(k,"upgrd_5684")==="on"))return null;const D=T?p.t("Message not scheduled"):p.t("Message not sent"),P=p.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":k=>{let{text:R}=k;return t.createElement(_.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:u,forceOpenInBrowser:!0},R)}});return t.createElement(l.A,{eventId:d.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:d.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(m.A,{"data-qa":"message-limit-error-modal",title:D,titleIcon:"warning",bodyContent:P,onRequestClose:O,theme:c.B.ERROR}))},"MessageLimitErrorModal");h.displayName="MessageLimitErrorModal";const E=h;var A=e(1031947056),v=e(2375333597);const f=(0,A.Ay)("Open modal when a message send fails due to team having hit the message limit",function(y,T){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y((0,v.q)({element:t.createElement(E,M)}))});f.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const g=f},6518038516:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(9391594207),d=e(5255740490),o=e(735940183),a=e(2786906754),l=e(9790474759),m=e(9022734571),c=e(6839188756),_=e(6323355797),p=e(3554387543),u=e(3677514771),h=e(3559164431),E=e(8368515877),A=e(2222994823),v=e(6084388622),f=e(8739505998),g=e(8683010724),y=e(4761125736);function T(){return T=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var V=arguments[R];for(var B in V)Object.prototype.hasOwnProperty.call(V,B)&&(k[B]=V[B])}return k},T.apply(this,arguments)}i(T,"_extends");const M=new o.Ay("page_pricing");let O=i(class extends s.Component{getElementName(){const{isSmallFeaturesColumnButton:R,planLevel:V,activePlanLevel:B,isTeamOnTrial:W,isInvoiceCustomer:L,includeFreePlan:S}=this.props;let H;return V===_.i6.enterprise.name?H=`${V}_plan_contact_us`:L?H=`${V}_plan_contact_accounts`:!V&&S?H="free_plan_upgrade":R&&B===V&&!W?H=`${V}_get_slack_ai`:H=`${V}_plan_upgrade`,H}getHref(R){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const B=R+(0,m.iU)({...this.parsedUrlQueryParams,...V});return(0,c.Zl)(this.props.team,B)}navigateToCheckoutFlow(R){var V=this;return(0,t.coroutine)(function*(){const{isSlackAiSelected:B}=V.props;V.setState(()=>({isCTALoading:!0}));try{yield V.props.fetchConfigurationData({productId:R})}catch(S){var W;(S==null||(W=S.data)===null||W===void 0?void 0:W.error)==="invalid_request"?(0,l.A)(`/account/request?entry_point=${V.props.entryPoint}`):(0,l.A)("/admin/billing");return}if(V.props.redirectUrl&&(0,A.I)(V.props.redirectUrl)){V.props.redirectUrl&&(0,l.A)(V.props.redirectUrl);return}const L=(0,_.Qn)({team:V.props.team,entryPoint:V.props.entryPoint,productId:R,addonTypes:B?[_.wi.SlackAI]:void 0});(0,l.A)(L)})()}handleClick(){const{team:R,planLevel:V,activePlanLevel:B,isSmallFeaturesColumnButton:W,productId:L,slackAIAddonId:S,isTeamOnTrial:H,isSlackAiSelected:w}=this.props;if(W&&B===V&&!H){const F=(0,_.Qn)({team:R,entryPoint:"plans_page",addon:S,addonTypes:w?[_.wi.SlackAI]:void 0});(0,l.A)(F)}else L&&this.navigateToCheckoutFlow(L)}renderPlanCTA(){const{activePlanLevel:R,planLevel:V,productId:B,activeProductId:W,"data-qa":L,isInvoiceCustomer:S,clogStepId:H,useLink:w,buttonType:F,openInNewTab:j,entryPoint:J,isSmallFeaturesColumnButton:X,isTeamOnTrial:q,discountPromoType:G,discountPromoSubtype:ne,discountPercent:te,experimentPnpDiscountsGroupOn:le,className:he}=this.props;let fe="outline",ve="",me;const oe=j?"_blank":"_self";if(V===_.i6.enterprise.name)ve=M.t("Contact Sales"),me=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),fe="primary";else if(S)ve=M.t("Contact Accounts"),me=this.getHref("/help/requests/new");else{if(V===_.i6.free.name)return null;if(fe="primary",X)R===V&&!q?ve=M.t("Get Slack AI"):G===_.k2.PricingAndPackagingPromo?ve=(0,_.$K)({discountPromoSubtype:ne,activePlanLevel:R,discountPercent:te,planLevel:V,experimentPnpDiscountsGroupOn:le}):ve=M.t("Upgrade");else{ve=w?M.t("Upgrade now",{fallbackHash:"09a80c7a63cdefe5e5c7bccdc6bf4b894b15c07c",fallbackHashNs:"pro_price_change"}):M.t("Upgrade Now");const x=W?2:1;me=this.getHref(`/${_.nc}`,{s:x,entry_point:J})}}const N={className:(0,d.A)("p-upgrade_cta plan_page",he),type:F||fe,"data-qa":L,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:F==="primary",onClick:{enableClogAction:!0},clogStepId:H,productId:B}};let K=s.createElement(v.z9,T({href:me,target:oe},N),ve);return V!==_.i6.enterprise.name&&!S&&B&&!w?K=s.createElement(v.lV,T({onClick:this.handleClick,loading:this.state.isCTALoading},N),ve):w&&(K=s.createElement(f.A,T({href:me,target:oe},N,{className:"p-upgrade_cta--link"}),ve,s.createElement("span",{className:"margin_left_25"},s.createElement(g.A,{name:"arrow-right"})))),K}render(){return this.renderPlanCTA()}constructor(R){super(R),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,a.qN)(window.location.href)||{}}},"UpgradeCta");O.displayName="UpgradeCta",O.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"};const I=i((k,R)=>{const V=(0,p.EV)(k),B=(0,u.H7)(k),W=(0,p.$f)(k);return{team:B,productId:(0,p.UO)(k,R.planLevel,V),slackAIAddonId:(0,p.Zg)(k,W,V),activeProductId:(0,p.xU)(k),activePlanLevel:W,isTeamOnTrial:(0,p.yQ)(k),isInvoiceCustomer:(0,p.Nd)(k),redirectUrl:(0,h.oy)(k),nextPlanLevel:(0,p.Jf)(k),isSlackAiSelected:(0,p.qK)(k),discountPercent:(0,p.WG)(k),discountPromoType:(0,p.ZQ)(k),discountPromoSubtype:(0,p.$3)(k),experimentPnpDiscountsGroupOn:(0,y._Z)(k,"pnp_discounts")==="on"}},"mapStateToProps"),D=i(k=>({fetchConfigurationData:R=>k((0,E.l)(R))}),"mapDispatchToProps"),P=(0,r.N)(I,D)(O)},2279207117:(Q,C,e)=>{"use strict";e.d(C,{FK:()=>_,aD:()=>c,uY:()=>u,w9:()=>p});var t=e(7914553163),n=e(8193414630),s=e(6968387112),r=e(735940183),d=e(5267010247),o=e(8822892075),a=e(7940058138),l=e(6001125587);const m=new r.Ay("trials_highlight_paid_features");function c(h){switch(h){case t.MX.TrialTeam:return`https://${(0,s.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case t.MX.TrialIneligibleUserCannotUpgrade:return`https://${(0,s.Xk)()}/help/articles/115002422943`;default:(0,n.Kh)(h)}}i(c,"getHref");function _(h){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(h){case void 0:case null:case t.MX.TrialFetching:return"";case t.MX.TrialIneligible:return E?m.t("Upgrade Now"):m.t("See Upgrade Options");case t.MX.TrialEligible:return E?m.t("Try Slack Pro"):m.t("Start Free Trial");case t.MX.TrialIneligibleUserCannotUpgrade:case t.MX.TrialTeam:return E?m.t("Compare Plans"):m.t("Learn More");case t.MX.TrialExpiry:return m.t("Upgrade Now");default:(0,n.Kh)(h)}}i(_,"getDefaultCopy");function p(h,E,A,v){return()=>{h((0,l.A)({uiComponentVariant:v,promoSubtype:E,freemiumVariant:A}))}}i(p,"getTrialEligibleHandler");function u(h){return()=>h((0,d.o)((0,o.ZF)(a.c.PaidBenefits)))}i(u,"getTrialTeamHandler")},6005700845:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(1267040415),n=e(7914553163),s=e(6084388622),r=e(8739505998),d=e(6323355797),o=e(3134334389),a=e(8300007136),l=e(4096483543),m=e(2562405183),c=e(3810478625),_=e(2279207117),p=e(8193414630);const u={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},h={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},E={elementName:"learn_more_plans_and_features",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},A={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},v={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},f=i(y=>{let{variant:T,children:M,promoSubtype:O,modalVariant:I,useLink:D=!1,ctaClassName:P}=y;const k=(0,a.wA)(),R=(0,m.d4)(c.g),V=(0,l.A)();if(!T||T===n.MX.TrialFetching)return null;const B=D?r.A:s.z9,W=(0,_.FK)(T,R);switch(T){case n.MX.TrialIneligible:return o.createElement(t.A,{useLink:D,autoClogProps:A,className:P},M??W);case n.MX.TrialEligible:return o.createElement(B,{onClick:(0,_.w9)(k,O,T,I),autoClogProps:u,className:P},M??W);case n.MX.TrialIneligibleUserCannotUpgrade:return o.createElement(B,{href:(0,_.aD)(T),autoClogProps:h,className:P},M??W);case n.MX.TrialTeam:return o.createElement(B,{href:V?void 0:(0,_.aD)(T),autoClogProps:E,onClick:V?(0,_.uY)(k):void 0,className:P},M??W);case n.MX.TrialExpiry:return o.createElement(t.A,{useLink:D,action:d.um.CHECKOUT,autoClogProps:v},M??W);default:(0,p.Kh)(T)}},"FreemiumPrimaryCTA");f.displayName="FreemiumPrimaryCTA";const g=f},6001125587:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(9706240641),n=e(3134334389),s=e(1031947056),r=e(6323355797),d=e(2375333597),o=e(7268021173),a=e(2562405183),l=e(735940183),m=e(1267040415),c=e(5791262841),_=e(4761125736),p=e(9240394198),u=e(266169032),h=e(6244014364);const E=new l.Ay("trials_highlight_paid_features"),A=r.ew.PAID_FEATURE_TRIAL,v=i(k=>{let{isEligibleForTrial:R,promoType:V,promoSubtype:B,uiComponentVariant:W,uiPage:L}=k;const S=(0,a.d4)(te=>(0,_._Z)(te,"wfb_freemium")==="on"),H=(0,n.useMemo)(()=>S?[E.t("Automate repetitive, simple tasks"),E.t("Create code-free solutions"),E.t("Customize and share with your team")]:[],[S]),w=(0,n.useMemo)(()=>S?[E.t("Bring tools you already use into Slack"),E.t("Use apps just for you or with your whole team"),E.t("Streamline your work right from Slack")]:[],[S]);if(!S)return null;const F=i(te=>{let{text:le}=te;return n.createElement(m.A,{"data-qa":"workflow_builder_freemium_trial_offer_modal-plans_page_link",useLink:!0},le)},"renderPlansPageLink"),j=W===h.UiComponentVariant.UNLIMITED_WORKFLOWS_TRIAL_OFFER_MODAL;let J,X,q,G,ne;return j?(J=E.t("Save time with unlimited workflows"),q=E.t("With workflows, you can:"),X=R?E.rt(" You can also install unlimited apps, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:A,"<plansPageLink>":F}):E.rt("You can also install unlimited apps, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":F}),G=H,ne="/marketing/img/feature/workflow-builder/hero-wfb-lp.jpg"):(J=E.t("Bring all your tools into Slack"),q=E.t("With apps, you can:"),X=R?E.rt(" You can also publish unlimited workflows, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:A,"<plansPageLink>":F}):E.rt("You can also install unlimited workflows, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":F}),G=w,ne="/marketing/img/feature/workflow-builder/hero-wfb-apps.png"),n.createElement(c.A,{"data-qa":"workflow_builder_freemium_trial_offer_modal",imgSrc:ne,modalBannerBackgroundColor:"#4a144a",modalCloseButtonTheme:p.N.LIGHT,modalTitle:J,modalSubtitle:X,modalChecklistHeading:q,modalChecklistItems:G,onSpeedbumpContinueLabel:L===h.UiPage.WORKFLOW_BUILDER_FREEMIUM_TRIAL_PUBLISH?E.t("Publish Workflow"):E.t("Continue"),promoType:V,promoSubtype:B,startTrialContext:u.M.workflowBuilderFreemiumTrialOfferModal,uiComponentVariant:W,isEligibleForTrial:R})},"WorkflowBuilderFreemiumTrialOfferModal");v.displayName="WorkflowBuilderFreemiumTrialOfferModal";const f=v;var g=e(8300630630),y=e(6422693406),T=e(1152226587),M=e(3810478625),O=e(8108449081);function I(){return I=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var V=arguments[R];for(var B in V)Object.prototype.hasOwnProperty.call(V,B)&&(k[B]=V[B])}return k},I.apply(this,arguments)}i(I,"_extends");const D=(0,s.Ay)("Open freemium trial offer modal",function(){var k=(0,t.coroutine)(function*(R,V,B){let W=r.ZO.GlobalEntrypointTrial;const{promoSubtype:L}=B,S=(0,M.g)(V());let H=null;switch(L){case r.zG.WorkflowBuilder:W=r.ZO.PaidFeatureTrial,H=f;break;case r.zG.Vhq:W=S?r.ZO.GlobalEntrypointTrial:r.ZO.PaidFeatureTrial,H=S?O.A:T.A;break;default:return y.S.resolve()}yield R((0,g.A)({campaignType:W,campaignSubType:L,reason:L}));const w=(0,o.hq)(V(),W,L);return R((0,d.q)({element:n.createElement(H,I({},B,{promoType:W,promoSubtype:L,isEligibleForTrial:w}))}))});return function(R,V,B){return k.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const P=D},7914553163:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>E,MX:()=>_});var t=e(7268021173),n=e(1384076438),s=e(6839188756),r=e(3134334389),d=e(2562405183),o=e(3677514771),a=e(8300007136),l=e(6323355797),m=e(8871937520),c=e(677609895);const _={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},p=i(A=>A===_.TrialFetching||A===_.TrialEligible||A===_.TrialIneligible||A===_.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),u=i(A=>A===_.TrialTeam||A===_.TrialExpiry,"isTrialVariant"),E=i(A=>{let{promoType:v=l.ZO.PaidFeatureTrial,promoSubtype:f,context:g,reason:y,isEligibleForTrial:T,trialEndDate:M,isEnabled:O=!0}=A;const I=(0,a.wA)(),D=(0,d.d4)(S=>(0,s.tc)((0,o.H7)(S))),P=(0,d.d4)(t.iH),k=(0,d.d4)(c.X),R=(0,d.d4)(S=>(0,t.hq)(S,v,f)),[V,B]=(0,r.useState)(D);if((0,r.useEffect)(()=>{O&&D&&I((0,n.A)({campaignType:v,campaignSubType:f,context:g,reason:y})).then(()=>{B(!1)})},[I,D,v,f,g,y,R,O]),!O||!(D||P))return null;const W=T!=null;if(V&&!W)return _.TrialFetching;if(P){const H=(0,m.qe)(M);return M!==void 0&&H<=7?_.TrialExpiry:_.TrialTeam}const L=W&&V?T:R;return!L&&!k?_.TrialIneligibleUserCannotUpgrade:L?_.TrialEligible:_.TrialIneligible},"useFreemium")},952756744:(Q,C,e)=>{"use strict";e.d(C,{s:()=>d});var t=e(3134334389),n=e(4902318931),s=e(6259241484);const r={[s.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8240993983)))}},d=i(()=>t.createElement(n.Ay,{spaceName:s.xu.HUDDLE_INVITE_MODAL,notifications:r}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");d.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8240993983:(Q,C,e)=>{"use strict";e.r(C),e.d(C,{HuddleInviteModalTrialBannerV2:()=>f,default:()=>g});var t=e(3134334389),n=e(735940183),s=e(6323355797),r=e(6244014364),d=e(4481313819),o=e(2562405183),a=e(6084388622),l=e(1267040415),m=e(7949425452),c=e(5641442783),_=e(7433432223),p=e(8112788848),u=e(8871937520),h=e(3810478625);const E=new n.Ay("guided_trials"),A={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},v={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},f=i(y=>{let{trialEndDate:T,canUserPurchase:M}=y;const O=(0,o.d4)(h.g),I=(0,o.d4)(P=>(0,s.m6)(P,{action:s.um.CHECKOUT,productLevel:s.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"})),D=i(()=>M?t.createElement(a.z9,{autoClogProps:A,href:I,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},O?E.t("Upgrade to Pro"):E.t("Upgrade Now")):t.createElement(l.A,{feature:s.c4.SLACK_HUDDLES,autoClogProps:v,size:"small",type:O?"primary":"outline"},O?E.t("Compare plans"):E.t("See Upgrade Options")),"getCTA");return D.displayName="getCTA",t.createElement(d.A,{eventId:r.EventId.UPGRDEXP_TRIAL,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(_.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:D(),withMargins:!0},t.createElement("div",null,O?E.rt("<strong>Huddles will soon have time limits</strong>"):E.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(c.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:r.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:p.m.MenuAboveFullScreen,badgeSize:m.vj.Small})),O?E.rt("Upgrade to continue using huddles longer than 30 minutes."):E.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,u.Pd)(T),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");f.displayName="HuddleInviteModalTrialBannerV2";const g=f},9953252450:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y,x:()=>f});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(735940183),d=e(6244014364),o=e(7268021173),a=e(8871937520),l=e(4481313819),m=e(3328083357),c=e(7433432223),_=e(3810478625),p=e(2481088989),u=e(8739505998),h=e(2612353366),E=e(9003400431);const A=new r.Ay("trials_highlight_paid_features"),v={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},f=i(T=>{let{trialEndTs:M,experimentPnpE2eGroupOn:O,viewAllProFeaturesLink:I,v2ClassName:D}=T;return O?t.createElement(l.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:D},t.createElement(c.A,{className:"padding_left_125"},(0,p.A)(A.rt("Huddles without limits is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,a.Pd)(M),"<viewAllProFeaturesLink>":I}),{position:p.D.LEFT_ALIGNED})))):t.createElement(l.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(m.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},A.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,a.Pd)(M)}))))},"HuddleInviteModalTrialBanner");f.displayName="HuddleInviteModalTrialBanner";const g=i(T=>{let{v2ClassName:M}=T;const O=(0,s.wA)(),I=(0,n.d4)(_.g),D=(0,n.d4)(o.Sk),P=(0,t.useCallback)(()=>{O((0,E.O)()),O((0,h.A)())},[O]),k=(0,t.useCallback)(R=>{let{text:V}=R;return t.createElement(u.A,{onClick:P,autoClogProps:v},V)},[P]);return t.createElement(f,{trialEndTs:D,experimentPnpE2eGroupOn:I,viewAllProFeaturesLink:k,v2ClassName:M})},"ConnectedHuddleInviteModalTrialBanner");g.displayName="ConnectedHuddleInviteModalTrialBanner";const y=g},1152226587:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(266169032),s=e(735940183),r=e(1267040415),d=e(5791262841),o=e(2670882607),a=e(6323355797);const l=new s.Ay("huddles"),m=a.ew.PAID_FEATURE_TRIAL,c=i(p=>{let{startTrialContext:u=n.M.huddlesTrialEntryPointModal,uiComponentVariant:h,onSpeedbumpContinue:E,promoType:A,promoSubtype:v,isEligibleForTrial:f}=p;const g=i(P=>{let{text:k}=P;return t.createElement(r.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},k)},"renderPlansPageLink"),y=l.t("Try huddles with more people"),T=f?l.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:m,"<plansPageLink>":g}):l.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":g}),M=l.t("With more people, you can:"),O=(0,t.useCallback)(()=>[l.t("Host a team brainstorm from anywhere"),l.t("Get the group\u2019s feedback with a live screenshare"),l.t("Touch base on the go, without all the typing")],[]),I=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),D=(0,t.useMemo)(()=>t.createElement(o.e,{getAnimationImport:I,autoplay:!0,loop:!0}),[I]);return t.createElement(d.A,{modalTitle:y,modalSubtitle:T,modalLottieAnimation:D,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:M,modalChecklistItems:O(),promoType:A,promoSubtype:v,startTrialContext:u,uiComponentVariant:h,onSpeedbumpContinue:E,isEligibleForTrial:f})},"HuddleTrialEntryPointModal");c.displayName="HuddleTrialEntryPointModal";const _=c},236241007:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(6323355797),o=e(2375333597),a=e(7268021173),l=e(1152226587),m=e(8300630630);function c(){return c=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var E=arguments[h];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(u[A]=E[A])}return u},c.apply(this,arguments)}i(c,"_extends");const _=(0,r.Ay)("Open huddles trial entry point modal",function(){var u=(0,t.coroutine)(function*(h,E,A){const v=d.ZO.PaidFeatureTrial,f=d.zG.Vhq;yield h((0,m.A)({campaignType:v,campaignSubType:f,reason:"huddle_trial_entry_point_modal"}));const g=(0,a.hq)(E(),v,f);return h((0,o.q)({element:s.createElement(l.A,c({},A,{promoType:v,promoSubtype:f,isEligibleForTrial:g}))}))});return function(h,E,A){return u.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const p=_},2612353366:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(1031947056),n=e(5267010247),s=e(7940058138),r=e(8822892075);const d=(0,t.Ay)("Navigates to paid benefits page",a=>{a((0,n.o)((0,r.ZF)(s.c.PaidBenefits)))});d.meta={name:"createThunk",key:"createThunkopenPaidBenefitsPage",description:"Navigates to paid benefits page"};const o=d},8300630630:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(1384076438),o=e(2375333597),a=e(124213367);const l=(0,r.Ay)("Display loading modal and fetch data for trial entry point modal",function(){var c=(0,t.coroutine)(function*(_,p,u){return _((0,o.q)({element:s.createElement(a.A,{className:"p-trial_entry_point_modal__loading_modal"})})),_((0,d.A)(u))});return function(_,p,u){return c.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const m=l},7949425452:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>u,Vu:()=>m,vj:()=>c});var t=e(3134334389),n=e(9113979368),s=e(5255740490),r=e(735940183),d=e(4481313819),o=e(6244014364);function a(){return a=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var v in A)Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}return h},a.apply(this,arguments)}i(a,"_extends");const l=new r.Ay("trials"),m={Purple:"purple",White:"white"},c={Small:"small",Medium:"medium",Large:"large"},_={eventId:o.EventId.UPGRDEXP_TRIAL,uiComponentName:o.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},p=i(h=>{let{ariaHidden:E=!1,className:A,autoClogProps:v,badgeTheme:f=m.Purple,size:g=c.Medium}=h;const y=E?{"aria-hidden":!0}:{"aria-label":l.t("Pro feature",{fallbackHash:"f3b218b5b69cf46f83217a4c553335005e49633f"}),role:"img"},T=t.createElement("div",a({className:(0,s.A)("p-pro_badge",`p-pro_badge--${f}`,`p-pro_badge--${g}`,A),"data-qa":"pro_badge"},y),l.t("PRO"));return(0,n.A)(v)?T:t.createElement(d.A,a({},_,v),T)},"ProBadge");p.displayName="ProBadge";const u=p},5641442783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(2562405183),d=e(6839188756),o=e(3677514771),a=e(7268021173),l=e(6323355797),m=e(7949425452),c=e(9371668729);function _(){return _=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var v=arguments[A];for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(E[f]=v[f])}return E},_.apply(this,arguments)}i(_,"_extends");const p=new s.Ay("trials"),u=i(E=>{let{badgeTheme:A=m.Vu.Purple,badgeSize:v=m.vj.Medium,className:f,hideTooltip:g,uiComponentVariant:y,...T}=E;const M=(0,r.d4)(P=>(0,d.tc)((0,o.H7)(P))),O=(0,r.d4)(P=>(0,a.tu)(P)===l.i6.standard.id),I=(0,t.useMemo)(()=>({uiComponentVariant:y}),[y]);if(!(M||O))return null;const D=p.t("PRO");return g?t.createElement(m.Ay,{autoClogProps:I,badgeTheme:A,className:f,size:v}):t.createElement(c.A,_({ariaLabel:D,uiComponentVariant:y},T),t.createElement("span",{className:(0,n.A)("p-trial_pro_badge",f),"data-qa":"trial_pro_badge"},t.createElement(m.Ay,{autoClogProps:I,badgeTheme:A,size:v})))},"TrialProBadge");u.displayName="TrialProBadge";const h=u},3994181705:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u,G:()=>c});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(735940183),d=e(7268021173),o=e(1384076438),a=e(6323355797),l=e(3810478625);const m=new r.Ay("trials");var c;(function(h){h.HuddlesFreemiumDeprecated="huddles_freemium"})(c||(c={}));const _=a.ew.PAID_FEATURE_TRIAL,u=i(h=>{let{isFreemium:E,tooltipText:A,promoType:v,promoSubtype:f,variant:g}=h;const y=(0,s.wA)(),T=(0,n.d4)(l.g),M=(0,n.d4)(d.iH);(0,t.useEffect)(()=>{v&&y((0,o.A)({campaignType:v,campaignSubType:f,reason:"trial_tooltip"}))},[y,v,f]);const O=(0,n.d4)(R=>v?(0,d.bp)(R,v,f):!1),I=(0,n.d4)(R=>v?(0,d.hq)(R,v,f):!1),D=i(()=>{if(M)switch(g){case c.HuddlesFreemiumDeprecated:return T?void 0:m.t("Huddles with more than two people are a paid feature, available with your free trial");default:return m.t("This is a paid feature, available with your free trial")}if(I)switch(g){case c.HuddlesFreemiumDeprecated:return T?void 0:m.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:_});default:return m.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:_})}switch(g){case c.HuddlesFreemiumDeprecated:return T?void 0:m.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return m.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),P=i(()=>M?m.t("This feature is unlimited with your free trial"):I?m.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:_}):m.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(O)return{};const k=E?P():D();return A?{tooltipTitle:A,tooltipBody:k}:{tooltipTitle:k}},"useTrialProBadgeTooltipText")},2481088989:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o,D:()=>r});var t=e(3134334389),n=e(7949425452),s=e(5641442783);const r={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function d(a){let{position:l=r.RIGHT_ALIGNED,isTrialVariant:m,uiComponentVariant:c,size:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:r.RIGHT_ALIGNED,isTrialVariant:!1,uiComponentVariant:void 0,size:n.vj.Medium};const p=t.createElement("span",{className:`p-with_pro_badge__text--${l}`},a),u=m?t.createElement(s.A,{className:"p-with_pro_badge__badge",uiComponentVariant:c,badgeSize:_}):t.createElement(n.Ay,{className:"p-with_pro_badge__badge",size:_});let h;return l===r.RIGHT_ALIGNED?h=t.createElement(t.Fragment,null,p,u):h=t.createElement(t.Fragment,null,u,p),t.createElement("div",{className:"p-with_pro_badge"},h)}i(d,"WithProBadge"),d.displayName="WithProBadge";const o=d},5791262841:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(2562405183),d=e(735940183),o=e(6244014364),a=e(8871937520),l=e(9003400431),m=e(6259241484),c=e(5512605238),_=e(8719380546),p=e(267465465),u=e(8683010724);const E=i(W=>{let{checklistItems:L,checklistHeading:S}=W;return n.createElement("div",{className:"p-modal_content_checklist__checklist"},n.createElement("div",{className:"p-modal_content_checklist__heading"},S),L.map(H=>n.createElement("div",{key:H,className:"p-modal_content_checklist__checklist_item"},n.createElement("div",{className:"p-modal_content_checklist__checklist_check"},n.createElement(u.A,{name:"check",size:"16",variation:"filled"})),n.createElement("div",null,H))))},"ModalContentChecklist");var A=e(280819219),v=e(4481313819),f=e(1267040415),g=e(5360912544),y=e(2934784510),T=e(980293773),M=e(5267010247),O=e(8822892075),I=e(7940058138),D=e(2689960678);const P=new d.Ay("trials"),k={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},R={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},V=i(W=>{let{modalClassName:L,modalCloseButtonTheme:S,modalSubtitle:H,modalTitle:w,modalType:F=p.H.VERTICAL_BANNER,modalVideoClassName:j,modalVideoFileName:J,modalLottieAnimation:X,modalVideoPosterExtension:q="",modalBannerBackgroundColor:G="",modalChecklistHeading:ne="",modalChecklistItems:te=D.Ml,promoType:le,promoSubtype:he,imgSrc:fe,isEligibleForTrial:ve,startTrialContext:me,uiPage:oe,uiComponentVariant:N,uiStep:K,onSpeedbumpContinue:x,onSpeedbumpContinueLabel:b,onTrialStart:z,skipSpeedbump:$,"data-qa":Z,omitSecondaryCTA:U=!1}=W;const ee=(0,s.wA)(),se=(0,r.d4)(c.F),[de,ue]=(0,n.useState)(!1),_e=(0,n.useRef)(""),pe=(0,n.useCallback)(()=>{ee((0,l.O)())},[ee]),ae=(0,n.useCallback)((0,t.coroutine)(function*(){let{trialExpirationDate:De}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};De&&(_e.current=De,z==null||z(),$?pe():ue(!0))}),[pe,z,$]),Ee=(0,n.useCallback)(()=>{pe(),ee((0,M.o)((0,O.ZF)(I.c.PaidBenefits)))},[ee,pe]),Le=(0,n.useCallback)(()=>{pe(),x==null||x()},[pe,x]),ye=n.createElement(E,{checklistHeading:ne,checklistItems:te}),Te=(0,n.useMemo)(()=>[m.xu.SIDEBAR_MENU_HEADER],[]),Ae=n.createElement(g.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:k,reason:"start_trial_from_trial_entry_point_modal",context:me,promoType:le,promoSubtype:he,onRequestComplete:ae,megaphoneSpacesToRefresh:Te},P.t("Start Free Trial")),Ie=n.createElement(f.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:R,onClick:pe},P.t("See Upgrade Options")),Ue=ve?Ae:Ie,Be=p.H.HORIZONTAL_BANNER?"800px":"586px",we=i(()=>{if(!_e.current)return null;const De=n.createElement("div",{className:"display_flex"},n.createElement(A.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),P.t("Ta-da! Your team\u2019s on a free trial")),be=n.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},P.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,a.Pd)(_e.current)})),Re=i(()=>b||(x?P.t("Continue"):P.t("Find Out More")),"getContinueButtonLabel")();let je=P.t("Dismiss"),Ge=Ee,Qe=pe,Xe="speedbump_learn_more",et="speedbump_dismiss";return x&&(je=P.t("Learn More"),Ge=Le,Qe=Ee,Xe="speedbump_continue",et="speedbump_learn_more"),n.createElement(T.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:De,description:be,continueButtonLabel:Re,cancelButtonLabel:je,onCancel:U?void 0:Qe,onContinue:Ge,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:Xe,onClick:{enableClogAction:!0}},cancelButton:{elementName:et,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");we.displayName="renderSpeedbump";const re=n.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},P.t("No credit card required.")),ge=n.createElement("div",{className:"p-trial_entry_point_modal__footer"},Ue,ve&&re,ve&&n.createElement(y.A,{shouldShow:se}),de&&we());return n.createElement(v.A,{eventId:o.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:o.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:N,uiStep:K,uiPage:oe},n.createElement(_.A,{bannerBackgroundColor:G,"data-qa":Z,imgSrc:fe,title:w,subtitle:H,bodyContent:ye,footerContent:ge,onRequestClose:pe,maxWidth:Be,className:L,closeButtonTheme:S,type:F,videoFilename:J,videoPosterExtension:q,videoClassName:j,lottieAnimation:X}))},"TrialEntryPointModal");V.displayName="TrialEntryPointModal";const B=V},2934784510:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(2670882607),d=e(2047021170),o=e(1939990292);const l=t.memo(m=>{let{shouldShow:c=!1}=m;const _=(0,n.wA)(),[p,u]=(0,t.useState)(),[h,E]=(0,t.useState)(!1),A=(0,t.useCallback)(g=>{g&&g.then(y=>u(y))},[u]),v=(0,s.d4)(g=>!(0,d.ty)(g,"a11y_animations")),f=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!c||v||h?null:(p&&p._cbs&&p.addEventListener("complete",()=>{_((0,o.DJ)(!1)),E(!0)}),t.createElement(r.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:f,ref:A}))})},5360912544:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(8300007136),s=e(7715417323),r=e(735940183),d=e(6244014364),o=e(4585652590),a=e(1939990292),l=e(4481313819),m=e(6084388622),c=e(8739505998),_=e(5733135148),p=e(1655938719),u=e(6259241484);function h(){return h=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},h.apply(this,arguments)}i(h,"_extends");const E=new r.Ay("trials"),A={name:"warning"},v=i(y=>{let{children:T,reason:M,context:O,megaphoneSpacesToRefresh:I,promoType:D,promoSubtype:P,onClick:k,onRequestComplete:R=s.A,onRequestError:V=s.A,useLink:B,refToForward:W,...L}=y;const S=(0,n.wA)(),[H,w]=(0,t.useState)(!1),[F,j]=(0,t.useState)(!1),J=(0,t.useCallback)(()=>{w(!0),j(!1),V()},[V]),X=(0,t.useCallback)(()=>{F||(j(!0),w(!1),S((0,o.a)({reason:M,campaignType:D,campaignSubType:P,context:O})).then(ne=>{let{trial_expiration_date:te}=ne;S((0,a.DJ)(!0)),R({trialExpirationDate:te}),I&&I.length>0&&S((0,p.iR)({event:{type:u.jo.REQUEST_SPACES,spaces:I}})),te||J()}).catch(J))},[F,S,M,D,P,O,J,R,I]),q=(0,t.useCallback)(()=>{X(),k==null||k()},[k,X]),G=B?t.createElement(c.A,h({ref:W},L,{onClick:q}),T):t.createElement(m.lV,h({ref:W},L,{onClick:q,loading:F}),T);return t.createElement(l.A,{eventId:d.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0},G,H&&t.createElement(_.Ay,{svgIconProps:A,svgIconClassName:"align_self_start",shouldAutoFade:!1},E.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");v.displayName="TrialStartCTABase";const g=t.forwardRef((y,T)=>t.createElement(v,h({},y,{refToForward:T})))},1388835426:(Q,C,e)=>{"use strict";e.d(C,{S:()=>n});var t=e(735940183);const n=i(s=>{switch((0,t.Yp)()){case"de-DE":return{translation:s["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:s["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:s["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:s["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:s["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:s["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:s["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:s["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:s["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:s["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:s["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:s["zh-TW"],enableMediaCaptions:!0};default:return{translation:s["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},5712872315:(Q,C,e)=>{"use strict";e.d(C,{B:()=>n,D:()=>t});var t;(function(s){s.SMALL="small",s.MEDIUM="medium",s.LARGE="large"})(t||(t={}));var n;(function(s){s.NONE="none",s.PURPLE="purple",s.LIGHT_PURPLE="light_purple",s.BLUE="blue",s.ERROR="error",s.HORCHATA="horchata",s.SUNFLOWER="sunflower"})(n||(n={}))},3328083357:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(6244014364),d=e(581167618),o=e(6105929840),a=e(280819219),l=e(5712872315);const m=new s.Ay("upgrades_kit"),c={action:r.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:r.ElementType.X},_=i(u=>{let{className:h,iconType:E,customIcon:A,image:v,heading:f,children:g,onDismiss:y,useRoundedCorners:T=!0,showBorder:M=!0,size:O=l.D.MEDIUM,theme:I=l.B.PURPLE,"data-qa":D="",primaryCTA:P,secondaryCTA:k}=u;const R=i(()=>{let S;const H="p-upgrades_alert_banner__icon";return A?S=t.createElement("div",{className:H},A):v?S=t.createElement("div",{className:(0,n.A)(H,"p-upgrades_alert_banner__icon--image")},v):E&&(S=t.createElement(a.A,{className:H,size:O,theme:I,type:E})),S},"renderIcon");R.displayName="renderIcon";const V=i(()=>t.createElement(o.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":m.t("Dismiss"),onClick:y,autoClogProps:c}),"renderCloseIcon");V.displayName="renderCloseIcon";const B=i(()=>!P&&!k?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},P,k),"renderButtons");B.displayName="renderButtons";const W=R(),L=(0,n.A)("p-upgrades_alert_banner",`p-upgrades_alert_banner--${O}`,`p-upgrades_alert_banner--${I}`,h,{"p-upgrades_alert_banner--with_close_icon":!!y,"p-upgrades_alert_banner--rounded_corners":T,"p-upgrades_alert_banner--no_border":!M,"p-upgrades_alert_banner--with_image":!!v});return t.createElement("div",{className:"full_width"},t.createElement(d.Ay,{className:L,"data-qa":D,customIcon:W,heading:f,type:W?d.QE.boxed:d.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},g),B(),y&&V()))},"AlertBanner");_.displayName="AlertBanner";const p=_},7433432223:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(581167618),d=e(6105929840),o=e(6308822),a=e(6084388622),l=e(6244014364),m=e(5712872315),c=e(8683010724);function _(){return _=Object.assign||function(A){for(var v=1;v<arguments.length;v++){var f=arguments[v];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(A[g]=f[g])}return A},_.apply(this,arguments)}i(_,"_extends");const p=new s.Ay("upgrades_kit"),u={action:l.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:l.ElementType.X},h=i(A=>{let{className:v,image:f,heading:g,isLoading:y,children:T,onDismiss:M,useRoundedCorners:O=!0,showBorder:I=!0,size:D=m.D.MEDIUM,theme:P=m.B.HORCHATA,primaryCTA:k,secondaryCTA:R,withMargins:V,iconProps:B,"data-qa":W}=A;const L=i(()=>t.createElement(d.A,{className:"p-upgrades_alert_banner_v2__close_icon",icon:"times",size:"small","aria-label":p.t("Dismiss"),onClick:M,autoClogProps:u}),"renderCloseIcon"),S=i(()=>{const F=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},g),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},T));if(B){const j={inline:!0,size:"20",...B};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${P}`},t.createElement(c.A,_({},j))),t.createElement("div",{className:"display_flex flex_direction_column"},F))}return F},"renderContent");S.displayName="renderContent";const H=i(()=>!k&&!R?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},y?t.createElement(a.lV,{loading:!0}):t.createElement(t.Fragment,null,k,R)),"renderButtons");H.displayName="renderButtons";const w=(0,n.A)("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${D}`,`p-upgrades_alert_banner_v2--${P}`,v,{"p-upgrades_alert_banner_v2--with_close_icon":!!M,"p-upgrades_alert_banner_v2--rounded_corners":O,"p-upgrades_alert_banner_v2--no_border":!I,"p-upgrades_alert_banner_v2--with_image":!!f,"p-upgrades_alert_banner_v2--with_margins":V});return t.createElement("div",{className:"full_width"},t.createElement(r.Ay,{className:w,type:r.QE.inline,"data-qa":W},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},y?t.createElement(o.A,{color:"white",inline:!0}):S(),H(),M&&L())))},"AlertBanner");h.displayName="AlertBanner";const E=h},267465465:(Q,C,e)=>{"use strict";e.d(C,{H:()=>t});var t;(function(n){n.MULTI_PANE="multi_pane",n.SINGLE_PANE="single_pane",n.VERTICAL_BANNER="vertical_banner",n.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},280819219:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(5255740490),s=e(1610251172);const d=t.memo(c=>{let{animationDelay:_,size:p="large"}=c;const u=48,h=u-(p==="large"?48:36),E=u*2,A="#1D9BD1",v="#F2C744",f="#007A5A",g="#E01E5A",y={animationDelay:`${_||0}s`},T=i((D,P)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:P,className:D,style:y}),"renderDrop"),M=i((D,P)=>t.createElement("circle",{r:"4",fill:P,className:D,style:y}),"renderCircle"),O=i((D,P)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:P,className:D,style:y}),"renderStar"),I=i((D,P)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:P,className:D,style:y}),"renderSprinkle");return t.createElement("svg",{className:(0,n.A)("position_absolute",`p-upgrades_icon_celebration_animation--${p}`),style:{top:`-${u/2+h/2}px`,left:`-${u/2+h/2}px`},width:E,height:E,viewBox:`0 0 ${E} ${E}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},T("p-upgrades_icon_celebration_animation__drop_top_right",A),M("p-upgrades_icon_celebration_animation__circle_top_right",v),M("p-upgrades_icon_celebration_animation__circle_right",f),O("p-upgrades_icon_celebration_animation__star_bottom_right",v),M("p-upgrades_icon_celebration_animation__circle_bottom_right",v),I("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",g),T("p-upgrades_icon_celebration_animation__drop_left",v),M("p-upgrades_icon_celebration_animation__circle_top_left",A),O("p-upgrades_icon_celebration_animation__star_top_left",f),I("p-upgrades_icon_celebration_animation__sprinkle_top_left",g))});var o=e(5712872315);function a(){return a=Object.assign||function(c){for(var _=1;_<arguments.length;_++){var p=arguments[_];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(c[u]=p[u])}return c},a.apply(this,arguments)}i(a,"_extends");const l=i(c=>{let{className:_,animationProps:p,hasBorder:u,type:h,size:E=o.D.MEDIUM,theme:A=o.B.PURPLE,showAnimation:v}=c;const f=(0,n.A)(`p-upgrades_icon--${E}`,`p-upgrades_icon--${A}`,_),g=t.createElement(s.A,{className:f,size:"inherit",type:h});if(!u)return g;const y=(0,n.A)("p-upgrades_icon_container",`p-upgrades_icon_container--${E}`,`p-upgrades_icon_container--${A}`,{"p-upgrades_icon_container--with_animation":v});return t.createElement("div",{className:y},g,v&&t.createElement(d,a({size:E},p)))},"UpgradesIcon");l.displayName="UpgradesIcon";const m=l},5207331754:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(980293773);const d=i(o=>{let{children:a,className:l}=o;return t.createElement(s.qf,{className:(0,n.A)("p-upgrades_modal__content_section",l)},a)},"ModalBody")},9240394198:(Q,C,e)=>{"use strict";e.d(C,{N:()=>f,A:()=>y});var t=e(3134334389),n=e(5255740490),s=e(980293773),r=e(9421999304),d=e(267465465),o=e(581167618),a=e(7949425452),l=e(3357053101),m=e(1935364562),c=e(5207331754),_=e(6000244203),p=e(3801841745);const h=i(T=>{let{banner:M,bodyContent:O,footerContent:I,showProBadge:D=!0,subtitle:P,title:k,error:R}=T;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(p.A,{flexDirection:"column",gap:20},R&&t.createElement(o.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},R),t.createElement(l.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:k},D&&t.createElement(a.Ay,{className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(s.$m,null,P&&t.createElement(m.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:P}),t.createElement(c.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},O)),t.createElement(_.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},I)),M)},"ModalContentHorizontalBanner"),E=i(T=>{let{banner:M,bodyContent:O,footerContent:I,showProBadge:D=!0,subtitle:P,title:k}=T;const R=t.createElement(t.Fragment,null,k,D&&t.createElement(a.Ay,{className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(l.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:R},M),t.createElement(s.$m,null,P&&t.createElement(m.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:P}),t.createElement(c.A,{className:"p-upgrades_modal_with_banner_vertical__body"},O)),t.createElement(_.A,null,I))},"ModalContentVerticalBanner");E.displayName="ModalContentVerticalBanner";const A=E;function v(){return v=Object.assign||function(T){for(var M=1;M<arguments.length;M++){var O=arguments[M];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(T[I]=O[I])}return T},v.apply(this,arguments)}i(v,"_extends");var f;(function(T){T.LIGHT="light",T.DARK="dark",T.GOLD="gold",T.GRAY="gray"})(f||(f={}));const g=i(T=>{let{bannerBackgroundColor:M,bodyContent:O,centered:I,className:D,closeButtonTheme:P=f.DARK,closeModal:k,dataQa:R,footerContent:V,hero:B,imgSrc:W,imgSrcSet:L,maxWidth:S,shouldCloseOnOverlayClick:H,showProBadge:w=!0,subtitle:F,title:j,error:J,type:X,videoFilename:q,videoPosterExtension:G="png",videoClassName:ne,lottieAnimation:te,...le}=T;const he=(0,r.JK)(),fe=`${q}${he==="en-US"?"":`.${he}`}`,ve=`p-upgrades_modal_with_banner__banner--${X}`,me=i(()=>B?t.createElement("div",{className:ve},B):L?t.createElement("img",{className:ve,alt:"",srcSet:L}):W?t.createElement("img",{className:ve,alt:"",src:W}):q?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:(0,n.A)(ve,ne),poster:`${fe}.${G}`},t.createElement("source",{type:"video/mp4",src:`${fe}.mp4`}),t.createElement("source",{type:"video/webm",src:`${fe}.webm`})):te?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},te):null,"getModalBanner");me.displayName="getModalBanner";const oe=t.createElement("div",{style:{backgroundColor:M},className:`p-upgrades_modal_with_banner__banner_container--${X}`},me());return t.createElement(s.dW,v({className:(0,n.A)("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${X}`,`p-upgrades_modal_with_banner--close_button_${P}`,"p-upgrades_modal_with_banner--close_button",D),centered:I,closeModal:k,dataQa:R,maxWidth:S,shouldCloseOnOverlayClick:H},le),X===d.H.VERTICAL_BANNER?t.createElement(A,{banner:oe,bodyContent:O,footerContent:V,showProBadge:w,subtitle:F,title:j}):t.createElement(h,{banner:oe,bodyContent:O,footerContent:V,showProBadge:w,subtitle:F,title:j,error:J}))},"ModalContentWithBanner");g.displayName="ModalContentWithBanner";const y=g},6000244203:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(980293773);const d=i(o=>{let{children:a,className:l}=o;return t.createElement(s.jl,{className:"p-upgrades_modal__footer"},t.createElement(s.ox,{className:(0,n.A)("p-upgrades_modal__footer_actions",l)},a))},"ModalFooter")},3357053101:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(980293773);const d=i(o=>{let{headerClassName:a,titleClassName:l,children:m,title:c}=o;return t.createElement(s.rQ,{className:(0,n.A)("p-upgrades_modal__header",a)},m,t.createElement(s.Rc,{className:(0,n.A)("p-upgrades_modal__title",l),title:c}))},"ModalHeader")},1935364562:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(5255740490);const r=i(d=>{let{className:o,subtitle:a}=d;return t.createElement("div",{className:(0,n.A)("p-upgrades_modal__subtitle",o)},a)},"ModalSubtitle")},8719380546:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(980293773),r=e(4376397139),d=e(3357053101),o=e(5207331754),a=e(1935364562),l=e(6000244203),m=e(280819219),c=e(5712872315);const p=i(f=>{let{subtitle:g,bodyContent:y,footerContent:T,title:M,titleImage:O,titleVideo:I,titleVideoClassName:D,titleIcon:P,showTitleIconAnimation:k,headerClassName:R,footerActionsClassName:V,theme:B}=f;return t.createElement(t.Fragment,null,t.createElement(d.A,{headerClassName:(0,n.A)(R,{"p-upgrades_modal__header--with_animation":k}),title:M},O,I&&t.createElement("div",{className:(0,n.A)(D)},I),P&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(m.A,{hasBorder:!0,size:c.D.LARGE,type:P,showAnimation:!!k,theme:B}))),g&&t.createElement(a.A,{subtitle:g}),y&&t.createElement(s.$m,null,t.createElement(o.A,null,y)),t.createElement(l.A,{className:V},T))},"ModalContent");var u=e(9240394198),h=e(267465465);function E(){return E=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(f[T]=y[T])}return f},E.apply(this,arguments)}i(E,"_extends");const A=i(f=>{const{className:g,maxWidth:y,onRequestClose:T,type:M,"data-qa":O,UNSAFE_parentSelector:I}=f,P={className:(0,n.A)("p-upgrades_modal__container",g),closeModal:T,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:y,dataQa:O,UNSAFE_parentSelector:I};return M===h.H.MULTI_PANE?t.createElement(r.A,E({},f,P)):M===h.H.VERTICAL_BANNER||M===h.H.HORIZONTAL_BANNER?t.createElement(u.A,E({},f,P)):t.createElement(s.dW,E({},P),t.createElement(p,E({},f)))},"Modal");A.displayName="Modal";const v=A},9371668729:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(2312625946),d=e(7268021173),o=e(3994181705),a=e(4481313819),l=e(7949425452),m=e(6244014364);function c(){return c=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var E=arguments[h];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(u[A]=E[A])}return u},c.apply(this,arguments)}i(c,"_extends");const _=i(u=>{let{ariaLabel:h,tooltipText:E,children:A,onClick:v,isFreemium:f,promoType:g,promoSubtype:y,showProBadge:T,tooltipClassName:M,uiComponentVariant:O,variant:I,toolTipZIndex:D,toolTipPosition:P,...k}=u;const{tooltipTitle:R,tooltipBody:V}=(0,o.A)({isFreemium:f,tooltipText:E,promoType:g,promoSubtype:y,variant:I}),B=(0,n.d4)(S=>(0,d.bp)(S,g,y)),W=V?`${R} - ${V}`:R;if(B)return A;const L=t.createElement(a.A,{clogImpression:!0,eventId:m.EventId.UPGRDEXP_TRIAL,uiComponentName:m.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:O},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},T&&t.createElement(l.Ay,{badgeTheme:l.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},R)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},V)));return t.createElement(r.Ay,c({tipClassName:(0,s.A)("p-trial_feature_tooltip__container",M),tip:L,onClick:v,zIndex:D,position:P,"aria-label":h?`${h}: ${W}`:`${W}`},k),A)},"TrialFeatureTooltip");_.displayName="TrialFeatureTooltip";const p=_},4387298515:(Q,C,e)=>{"use strict";e.d(C,{$m:()=>d,AH:()=>v,Ac:()=>a,D0:()=>u,Mh:()=>E,VR:()=>_,th:()=>m});var t=e(9706240641),n=e.n(t),s=e(6045824189);const r=(0,s.Nh)(["callsScreenshare","createBorderWindow"]),d=function(){var f=(0,t.coroutine)(function*(g,y){r.isAvailable()&&r(g,y)});return i(function(y,T){return f.apply(this,arguments)},"createBorderWindow")}(),o=(0,s.Nh)(["callsScreenshare","showBorder"]),a=function(){var f=(0,t.coroutine)(function*(){o.isAvailable()&&o()});return i(function(){return f.apply(this,arguments)},"showBorder")}(),l=(0,s.Nh)(["callsScreenshare","hideBorder"]),m=function(){var f=(0,t.coroutine)(function*(){l.isAvailable()&&l()});return i(function(){return f.apply(this,arguments)},"hideBorder")}(),c=(0,s.Nh)(["callsScreenshare","setWindowOrScreenId"]),_=function(){var f=(0,t.coroutine)(function*(g){c.isAvailable()&&c(g)});return i(function(y){return f.apply(this,arguments)},"setWindowOrScreenId")}(),p=(0,s.Nh)(["callsScreenshare","setWindowBorderWidth"]),u=function(){var f=(0,t.coroutine)(function*(g){p.isAvailable()&&p(g)});return i(function(y){return f.apply(this,arguments)},"setWindowBorderWidth")}(),h=(0,s.Nh)(["callsScreenshare","setWindowBorderColor"]),E=function(){var f=(0,t.coroutine)(function*(g,y,T,M){h.isAvailable()&&h(g,y,T,M)});return i(function(y,T,M,O){return f.apply(this,arguments)},"setWindowBorderColor")}(),A=(0,s.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),v=function(){var f=(0,t.coroutine)(function*(){if(A.isAvailable())return A()});return i(function(){return f.apply(this,arguments)},"getWindowPositionAndDimensions")}()},1583163054:(Q,C,e)=>{"use strict";e.d(C,{Ce:()=>_,Pe:()=>m,fI:()=>p,zS:()=>d});var t=e(3245843483),n=e(571104883),s=e(735940183);const r=new s.Ay("prefs"),d=(0,t.g9M)()&&t.MD7.isAvailable()?(0,t.MD7)():"nightly",o={PROD:"prod",BETA:"beta",DOGFOOD:d},a=[o.PROD,o.BETA],l=[o.PROD,o.BETA,o.DOGFOOD];function m(u){return(u?l:a).map(E=>({value:E,label:c(E)}))}i(m,"getReleaseChannelOptions");function c(u){switch(u){case o.PROD:return r.t("Production");case o.BETA:return r.t("Beta");case o.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}i(c,"getReleaseChannelDisplayName");function _(){return(0,t.g9M)()&&!(0,t.Z9F)()&&!(0,n.j9)()}i(_,"canSeeReleaseChannel");function p(){return _()&&["MSI","SlackSonic","SlackPilot"].every(u=>!navigator.userAgent.includes(u))}i(p,"canModifyReleaseChannel")},4923013394:(Q,C,e)=>{"use strict";e.d(C,{Jd:()=>c,X6:()=>_,bO:()=>o,c6:()=>l,fD:()=>E,lJ:()=>h,ve:()=>a,zb:()=>m});var t=e(3398586081),n=e(571104883),s=e(3259512346),r=e(3245843483);const d="sunroof_init",o="fullscreen-ui",a=(0,t.A)(()=>!1),l=(0,t.A)(()=>(0,s.s)("25.1.1")),m=(0,t.A)(()=>(0,r.Z9F)()?(0,n.dY)("38.0.0"):!0),c=(0,t.A)(()=>{if(!(0,n.y3)())return!1;const{titleBarStyle:A}=(0,r.oQe)("environment")||{},{debugFeatures:v}=(0,r.oQe)("settings")||{};return A==="custom-extension"||(v==null?void 0:v.includes("window-chrome"))}),_=(0,t.A)(()=>(0,n.WB)()&&(0,n.dY)("4.33.90")),p=i(()=>{if(!_())return!1;const{useHwAcceleration:A,windowVibrancy:v}=(0,r.oQe)("settings")||{};return A&&v},"shouldEnableWindowSunroof"),u=(0,t.A)(()=>!(0,n.dY)("4.35.97")),h=i(()=>p()?(0,n.cX)()?{transparent:u(),vibrancy:o,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function E(A){const{windowVibrancy:v}=(0,r.oQe)("settings")||{};if(typeof v>"u")return;if(v&&(!A.experimentDesktopIa4SunroofEnabled||!p())){(0,r.cGU)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(d)}catch{}return}const f=!!localStorage.getItem(d);if(A.experimentDesktopIa4SunroofEnabled&&!f&&!v&&_()){(0,r.cGU)({name:"windowVibrancy",value:!0});try{localStorage.setItem(d,"1")}catch{}}}i(E,"maybeToggleSunroof")},4979734995:(Q,C,e)=>{"use strict";e.d(C,{d:()=>o,j:()=>d});var t=e(6422693406),n=e(4724591729),s=e(796111729),r=e(4096483543);function d(a,l,m){const c="noversion",_=Date.now()/1e3,p=`/api/${a}?_x_id=${c}-${_}`,u=new XMLHttpRequest;u.onreadystatechange=()=>{if(u.readyState===4){u.onreadystatechange=null;let v;if(u.status===200||u.status===429)try{v=JSON.parse(u.responseText)}catch{(0,s.Wo)().warn("API","Unable to do anything with api response")}v=v||{ok:!1},m?m(v.ok,v,l):(0,n.Cu)()&&((0,s.Wo)().warn("API","No callback provided. Printing response"),(0,s.Wo)().warn("API",v.ok,v,l))}};const h=!0;u.open("POST",p,h);const E=new FormData;let A=!1;l?Object.keys(l).forEach(v=>{v[0]!=="_"&&(E.append(v,l[v]),A=!0)}):(0,n.Cu)()&&(0,s.Wo)().warn("API","No args provided. Bold, very bold."),A?u.send(E):u.send()}i(d,"callSlackApiUnauthed");const o=i((a,l)=>new t.S(m=>{d(a,l,(c,_)=>{m(_)})}),"callSlackApiUnauthedAsync");(0,r.A)()||(window.callSlackAPIUnauthed=(a,l,m)=>{(0,s.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),d(a,l,m)})},4540171876:(Q,C,e)=>{"use strict";e.d(C,{Db:()=>m,O3:()=>c,OB:()=>_,TE:()=>u,xB:()=>p});var t=e(2101927269),n=e(4525554634),s=e(2384831516),r=e(1269227002),d=e(6422693406),o=e(796111729),a=e(462591818),l=e(8935621861);const m=(0,s.C6)("Get call info from callId",(h,E,A)=>{let{callIds:v,reason:f}=A;const g=(0,o.Ay)({getState:E});return v.length>3&&g.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${v.length}`),d.S.map(v,y=>h((0,r.apiCall)({method:"screenhero.rooms.info",args:{room:y},reason:f||"huddles-call-info"})).then(T=>{let{room:M}=T;return(0,n.Q)(M)}).catch(T=>(g.error(T,`Error while fetching call: ${y}`),null))).then(t.A)});m.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const c=(0,s.C6)("Join a calls / huddle room",(h,E,A)=>{let{channelId:v,roomId:f,threadTs:g,shouldFetchRegion:y,teamId:T,traceId:M,parentSpanId:O,reason:I,isMultiDevice:D=!1}=A;return(y?l.A.getInstance().getNearestChimeMediaRegion(T):d.S.resolve("")).then(P=>h((0,r.apiCall)({method:"rooms.join",args:{...f&&{id:f},...v&&{channel_id:v},...g&&{thread_ts:g},regions:P,multidevice:D},traceId:M,parentSpanId:O,reason:I||"calls-api/joinRoom"})).then(k=>{var R;return{server:(0,a.YY)(k.call),roomId:k.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:f,channelId:(R=k.huddle)===null||R===void 0?void 0:R.channels[0],...k.canvas&&k.canvas.root_thread_ts&&{rootThreadTs:k.canvas.root_thread_ts},...k.canvas&&k.canvas.canvas_file_id&&{canvasFileId:k.canvas.canvas_file_id}}}))});c.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const _=(0,s.C6)("Notify member to join huddle",(h,E,A)=>{let{reason:v,channelId:f,userId:g}=A;return h((0,r.apiCall)({method:"rooms.notifyMember",args:{channel_id:f,user_id:g},reason:v}))});_.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const p=(0,s.C6)("Set a huddle topic / rename the call",(h,E,A)=>{let{roomId:v,name:f}=A;return h((0,r.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:v,room_name:f}}))});p.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const u=(0,s.C6)("Get a link to a huddle",(h,E,A)=>{let{reason:v,channelId:f}=A;return h((0,r.apiCall)({method:"rooms.getLink",reason:v,args:{channel_id:f}}))});u.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},6580433553:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3297051565),n=e.n(t),s=e(5257368278),r=e(1269227002),d=e(6932877194),o=e(4423055085),a=e(6422693406),l=e(1874577777);let m=!1;const c=(0,s.A)("Sends a message",function(u,h){let{message:E,traceId:A,parentSpanId:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f={...E},g=h();return E.blocks&&typeof E.blocks=="object"&&(f.blocks=JSON.stringify(E.blocks)),E.unfurl&&typeof E.unfurl=="object"&&(f.unfurl=JSON.stringify(E.unfurl)),m?new a.K((y,T)=>{setTimeout(()=>{T(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):(0,l.A)(g)?u((0,d.apiCallPersisted)({method:"chat.postMessage",args:f,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:A,parentSpanId:v})):u((0,r.apiCall)({method:"chat.postMessage",args:f,reason:"webapp_message_send",EXPEDITED:!0,traceId:A,parentSpanId:v}))});c.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},c.propTypes={message:n().shape({channel:n().string.isRequired,client_msg_id:n().string}).isRequired,traceId:n().string,parentSpanId:n().string};const _=c,p=i(u=>{m=!!u},"setForceMessageFailure");(0,o.ul)("setForceMessageFailure",p)},9694536345:(Q,C,e)=>{"use strict";e.d(C,{O:()=>c});var t=e(8840779375),n=e(3297051565),s=e.n(n),r=e(5257368278),d=e(1269227002),o=e(796111729),a=e(5873468694),l=e(5795074931),m=e(5657872960);const c=(0,r.A)("Calls client.counts endpoint",function(_,p){let{reason:u="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _((0,d.apiCall)({method:"client.counts",args:{thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},reason:u})).then(h=>{if(!h||!h.ok)return{};try{const I=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],D=(0,l.WR)(p());if(I.indexOf(D)>-1){const P=(0,t.A)(h.ims,R=>({id:R.id})),k=(0,t.A)(h.mpims,R=>({id:R.id}));(0,o.Ay)({getState:p}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:P,mpim_list:k})}}catch(I){(0,o.Ay)({getState:p}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:I})}const{activity:E={},channels:A=[],ims:v=[],mpims:f=[],threads:g={},file_channels:y={has_unreads:!1,mention_count:0},channel_badges:T={},alerts:M=null}=h,O={activity:E,channels:A,ims:v.map(I=>({...I,is_im:!0})),mpims:f.map(I=>({...I,is_mpim:!0})),threads:g,alerts:M,fileChannels:y,channelBadges:T};return(0,m.c)(p())&&h.saved&&(O.saved=(0,a.XK)(h.saved)),O})});c.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"},c.propTypes={reason:s().string}},1194535350:(Q,C,e)=>{"use strict";e.d(C,{KO:()=>o,_J:()=>a,zx:()=>l});var t=e(3297051565),n=e.n(t),s=e(1269227002),r=e(5257368278),d=e(4318855015);const o=(0,r.A)("Fetch all available and installed emoji collections from the API",function(m,c){let{reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return m((0,s.apiCall)({method:"emoji.collections.list",reason:_,args:{installed_only:"0"}}))});o.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},o.propTypes={reason:n().string.isRequired};const a=(0,r.A)("Add an emoji collection",(m,c,_)=>{let{collectionId:p,reason:u}=_;return m((0,s.apiCall)({method:"emoji.addCollection",args:{collection_id:p},reason:u})).catch(h=>{if(h.name!=="already_installed")throw h})});a.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},a.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired};const l=(0,r.A)("Remove an emoji collection",(m,c,_)=>{let{collectionId:p,reason:u}=_;return m((0,d.$x)({collectionId:p})),m((0,s.apiCall)({method:"emoji.removeCollection",reason:u,args:{collection_id:p}}))});l.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},l.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired}},490494914:(Q,C,e)=>{"use strict";e.d(C,{Cl:()=>m,Is:()=>c,af:()=>l});var t=e(9706240641),n=e.n(t),s=e(5257368278),r=e(6892115804),d=e(8847766420),o=e(2149300053),a=e(1026257987);const l=(0,s.A)("Queries Flannel for a list of external connected orgs/teams",(_,p,u)=>{let{count:h,filter:E,marker:A}=u;return(0,o.P)((0,d.JY)(p()),{method:o.J8.EXTERNAL_TEAMS_LIST,args:{count:h,filter:E,marker:A}}).then(v=>v)});l.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const m=(0,s.A)("Queries Flannel for channel counts of external connected orgs/teams",(_,p,u)=>{let{teamIds:h,count:E,marker:A}=u;return(0,o.P)((0,d.JY)(p()),{method:o.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:h,count:E,marker:A}}).then(v=>v)});m.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const c=(0,s.A)("Fetches and upserts external teams that match a query",function(){var _=(0,t.coroutine)(function*(p,u,h){const E=(0,d.JY)(u());return(0,a.Cj)(E,h).then(A=>{let{objects:v,next_marker:f}=A;return p((0,r.OU)({teams:v})),{externalTeams:v,nextMarker:f}})});return function(p,u,h){return _.apply(this,arguments)}}());c.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},165535451:(Q,C,e)=>{"use strict";e.d(C,{iV:()=>v,ib:()=>y,oP:()=>p,oQ:()=>g,uV:()=>f});var t=e(2927826522),n=e(5873468694),s=e(1269227002),r=e(5257368278),d=e(796111729),o=e(6323355797),a=e(3246555800),l=e(3559164431),m=e(3554387543);const c=i(M=>{let{taxName:O,isVat:I,effectiveTaxPercentage:D=0,salesTaxAmt:P,taxPercentage:k}=M,R=o.Zt.sales_tax;O?R=o.Zt[O.toString().toLowerCase()]||o.Zt.sales_tax:I&&(R=o.Zt.vat);const V=D>0?D:null;return{value:P||0,type:R,percentage:V||k||0}},"formatTaxData"),_=i(M=>{const O=M.tax;return c({taxName:O==null?void 0:O.tax_name,isVat:O==null?void 0:O.is_vat,effectiveTaxPercentage:O==null?void 0:O.effective_tax_percentage,salesTaxAmt:O==null?void 0:O.sales_tax_amt,taxPercentage:O==null?void 0:O.tax_percentage})},"getTaxData"),p=i(M=>c(M),"getAddonTaxData"),u=i(M=>{var O;const I=M.term==="12m"?o.ck.yearly:o.ck.monthly,D=M.term==="12m"?o.OY.yearly:o.OY.monthly,P=(O=M.available_addons)===null||O===void 0?void 0:O.map(k=>({id:k.addon_id,addonType:k.addon_type,upfrontUnitCostPerM:k.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:k.upfront_unit_cost_per_term}));return{id:M.product_id,term:I,currency:M.currency,level:M.level,lengthOfTermInMonths:D,costPerMonth:M.cost_per_m,costPerTerm:M.cost_per_term,isInvoice:M.is_inv||!1,maxInvoiceSeats:M.max_invoice_seats,minInvoiceSeats:M.min_invoice_seats,availableAddons:P}},"getPlanDataInstance"),h=i(M=>Object.keys(M).reduce((O,I)=>{const D=M[I];return O.availablePlans[I]={[o.i6.standard.id]:{[o.uq.CREDIT_CARD]:{[o.ck.monthly]:{default:u(D.std_m)},[o.ck.yearly]:{default:u(D.std_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:u(D.inv_std_y)}}},[o.i6.plus.id]:{[o.uq.CREDIT_CARD]:{[o.ck.monthly]:{default:u(D.plus_m)},[o.ck.yearly]:{default:u(D.plus_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:u(D.inv_plus_y)}}},[o.i6.compliance.id]:{[o.uq.CREDIT_CARD]:{[o.ck.yearly]:{default:u(D.compliance_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:u(D.inv_compliance_y)}}}},O},{availablePlans:{}}),"parsePlanAPIResponse"),E=i(M=>{var O,I,D,P,k,R;const V=_(M),B={currentCredits:M.credits.total_credits,creditsRemaining:M.credits.credits_remaining,creditsApplied:M.credits.credits_applied,proratedRefundCredits:M.prorated_refund,totalCreditsRemaining:M.credits.total_credits_remaining||0,totalCreditsApplied:M.credits.total_credits_applied||0},W=M.discount?(0,t.A)(M.discount):void 0,L={purchase:!((O=M.addons)===null||O===void 0)&&O.purchase&&Object.keys((I=M.addons)===null||I===void 0?void 0:I.purchase).length>0?Object.entries((D=M.addons)===null||D===void 0?void 0:D.purchase).reduce((H,w)=>{let[F,j]=w;return[...H,{id:F,addonType:j.addon_type,baseUpfrontUnitCost:j.base_upfront_unit_cost,term:j.term,baseProratedSubtotal:j.base_prorated_subtotal,numUsers:j.num_users}]},[]):[],refund:!((P=M.addons)===null||P===void 0)&&P.refund&&Object.keys((k=M.addons)===null||k===void 0?void 0:k.refund).length>0?Object.entries((R=M.addons)===null||R===void 0?void 0:R.refund).reduce((H,w)=>{let[F,j]=w;return[...H,{id:F,addonType:j.addon_type,term:j.term,amount:j.amount,numUsers:j.num_users}]},[]):[]};return{activePlanCost:{id:M.product_id,subtotal:M.subtotal,undiscountedSubtotal:M.undiscounted_subtotal,billableActiveUsers:M.billable_active_users,discount:W,tax:V,credits:B,totalRecurring:M.total_recurring,totalDueToday:M.total_due_today,quotedTermEnd:M.quoted_term_end,quotedTermStart:M.quoted_term_start,paidSeats:M.paid_seats,outstandingInvoiceAmount:M.outstanding_invoice_amount||0,addons:L}}},"mapCostToPropsFromAPI"),A=i(M=>{const O=h(M.plans).availablePlans;if(M.additional_addon_info){const I={isSlackAiLanguageUnsupported:M.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:O,additionalAddonInfo:I}}return{availablePlans:O}},"parseRetailPlansAPIResponse"),v=(0,r.A)("Fetch Available Plans",(M,O,I)=>M((0,s.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:I})).then(D=>A(D)));v.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const f=(0,r.A)("Fetch Available Plans",(M,O,I)=>{let{productId:D,country:P,region:k,postalCode:R,street:V,isBusinessPurchase:B,isInvoice:W,numInvoiceSeats:L,isFinalReview:S,isFutureProductSwitch:H,vatId:w,regionalId:F,countryMap:j}=I;const J=O(),X=(0,a.KV)(j,P,k),q=(0,l.lK)(J),G=(0,l.IK)(J),ne=(0,m.L)(J);let te;if(G!=null&&G.length){const he=[];G.forEach(fe=>{const ve=ne.find(me=>me.addonType===fe);ve!=null&&ve.id&&he.push(ve.id)});try{te=he.length?JSON.stringify(he):void 0}catch(fe){(0,d.Wo)().error(`Error with JSON.stringify in fetchCost, ${fe}`)}}const le={state:k,product_id:D,addon_ids:te,is_final_review:S,checkout_step:q,is_future_switch:H,...S?{}:{country:P,street1:V,zip:R,is_business:X?!1:B,is_vat_registered:X?B:!1,vat_id:w||"",regional_tax_id:F},...W?{requested_invoice_seats:L}:{}};return M((0,s.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:le})).then(he=>{const fe=he.plan_cost;if(!fe)throw new Error("retail.cost: plan_cost is undefined");return E(fe)})});f.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const g=(0,r.A)("Fetch Cost Data for Addons Flow",(M,O,I)=>{let D;try{D=JSON.stringify([I.addonId])}catch(P){(0,d.Wo)().error(`Error with JSON.stringify in fetchCost, ${P}`)}return M((0,s.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:D}})).then(P=>i(R=>{var V;const B=R==null?void 0:R.addon_costs;if(!B)return null;const W=((V=B.addons)===null||V===void 0?void 0:V[I.addonId])||null;return W?{currency:B.currency,freeUsageLimit:W.free_usage_limit,upfrontUnitCost:W.base_upfront_unit_cost,usageUnitCost:W.base_usage_unit_cost,addonType:W.addon_type,term:W.term,recurringUpfrontSubtotal:W.recurring_upfront_subtotal,dueToday:(0,n.XK)(B.due_today),recurringCosts:(0,n.XK)(B.recurring_costs)}:null},"formatApiResponse")(P))});g.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const y=(0,r.A)("Fetch Plans Page Boot Data",M=>M((0,s.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));y.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const T={mapCostToPropsFromAPI:E,getTaxData:_,getAddonTaxData:p}},9109082163:(Q,C,e)=>{"use strict";e.d(C,{Rs:()=>p,eS:()=>_,xs:()=>c});var t=e(3297051565),n=e.n(t),s=e(8703681551),r=e(8571983633),d=e(5257368278),o=e(1269227002),a=e(9676369204),l=e(9101533895);const m={"pins.list":{}},c=(0,d.A)("Get pinned items for channel",function(h,E){let{channelId:A,reason:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=m["pins.list"];return f[A]||(f[A]=h((0,o.apiCall)({method:"pins.list",args:{channel:A},reason:v})),f[A].then(g=>{const y=E(),T=(0,l.OL)(y,A);T&&(0,a.YJ)(g,T)}),f[A].finally(()=>delete f[A])),f[A]});c.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},c.propTypes={channelId:n().string.isRequired,reason:n().string.isRequired};const _=(0,d.A)("Pin Message to channel",(h,E,A)=>{let{ts:v,fileId:f,fileCommentId:g,channelId:y,reason:T}=A;return h((0,o.apiCall)({method:"pins.add",reason:T,args:(0,s.A)({channel:y,timestamp:v,file:f,file_comment:g},r.A)}))});_.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},_.propTypes={channelId:n().string.isRequired,ts:n().string,fileId:n().string,fileCommentId:n().string,reason:n().string.isRequired};const p=(0,d.A)("Unpin Message from channel",(h,E,A)=>{let{ts:v,fileId:f,fileCommentId:g,channelId:y,reason:T}=A;return h((0,o.apiCall)({method:"pins.remove",reason:T,args:(0,s.A)({channel:y,timestamp:v,file:f,file_comment:g},r.A)}))});p.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},p.propTypes={channelId:n().string.isRequired,ts:n().string,fileId:n().string,fileCommentId:n().string,reason:n().string.isRequired};const u={resetActiveCalls:()=>{Object.keys(m).forEach(h=>{m[h]={}})}}},6987519067:(Q,C,e)=>{"use strict";e.d(C,{lp:()=>qe,SI:()=>Ts,DC:()=>Rn,Yb:()=>on,aw:()=>Ss,g2:()=>ns,U7:()=>Lt,eR:()=>st,sr:()=>dt,Do:()=>Sn,EM:()=>wn,AC:()=>vt,FF:()=>us,A$:()=>Ls,mi:()=>Oe,mK:()=>gs,bE:()=>Gt,AQ:()=>In,Cs:()=>qn,J6:()=>Y,LR:()=>ce,cD:()=>is,jl:()=>$e,QH:()=>Ze,DF:()=>jn,UC:()=>Ce,fx:()=>ke,lS:()=>rs,A1:()=>ln,H9:()=>Fn,ZD:()=>bs,$P:()=>Pt,G2:()=>Mn,S:()=>Pn});var t=e(8571983633),n=e(7715417323),s=e(7174777686),r=e(2141441167),d=e(897091071),o=e(1703559452),a=e(9113979368),l=e(9746734072),m=e(5503876160),c=e(4103274853),_=e(1566461842),p=e(6422693406),u=e(2664504268),h=e(5513050121),E=e(7599421656),A=e(6644049054),v=e(8956161330),f=e(2628468636),g=e(1190344069),y=e(1340402138),T=e(4446301238),M=e(6554371307),O=e(8017028002),I=e(490494914),D=e(5984521287),P=e(8419094353),k=e(9552526132),R=e(8352634987),V=e(4423055085),B=e(5613323535),W=e(735940183),L=e(571104883),S=e(7148679525),H=e(3677514771),w=e(3683888369),F=e(6839188756),j=e(1507833885);const J=new W.Ay("modals");function X(tt){return[{id:"downloads",name:J.t("Downloads"),icon:"download",isEnabled:()=>(0,L.y3)()},{id:"invite_to_workspace",name:J.t("Invite people to {workspaceName}",{workspaceName:(0,F.F1)((0,H.H7)(tt))}),icon:"add-user",isEnabled:()=>(0,S.Lz)(tt)},{id:"create_a_channel",name:J.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,j.MM)(tt)},{id:"create_a_canvas",name:J.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,w.l)(tt)}]}i(X,"getAllModals");function q(tt){return X(tt).filter(Ye=>Ye.isEnabled())}i(q,"getAllEnabledModals");var G=e(7940058138),ne=e(7520119303),te=e(8414867410),le=e(9884588328),he=e(1407713935),fe=e(5274604535),ve=e(2298581483),me=e(7969244833),oe=e(6007206761),N=e(6495946979),K=e(4001737397),x=e(1197508738),b=e(2188787324),z=e(5455782105),$=e(8170643398),Z=e(4562579337),U=e(5096647761),ee=e(3792998666),se=e(3479134063),de=e(6536982570),ue=e(9889493721),_e=e(6120301420),pe=e(9001455011),ae=e(340763958),Ee=e(3212336858),Le=e(2801540778),ye=e(2023092677),Te=e(4827886670),Ae=e(9931116838),Ie=e(3559837422),Ue=e(3307632080),Be=e(4919351998),we=e(411655882),re=e(2229186),ge=e(6244014364),De=e(2689960678),be=e(82287009),xe=e(9190452268),Re=e(5770715593),je=e(6030318713),Ge=e(352142497);const Qe=new W.Ay("ia4"),Xe={get[Ge.D.BrowseCanvases](){return Qe.t("All canvases",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Ge.D.BrowseChannels](){return Qe.t("All channels",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Ge.D.BrowsePeople](){return Qe.t("All people",{fallbackHash:"7aeeec03f7c076af275e9b7c0e187a40bd193acc",fallbackHashNs:"enterprise_dashboard"})},get[Ge.D.BrowseFiles](){return Qe.t("All files",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},get[Ge.D.ExternalWorkspaceAllowedOrgPane](){return Qe.t("Organization",{fallbackHash:"519255ae1f74ffc5ddd29979295c7572f048ad81",fallbackHashNs:"member_profile"})},get[Ge.D.RecentFiles](){return Qe.t("Recently Viewed Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Ge.D.FilesSharedWithYou](){return Qe.t("Files shared with you",{fallbackHash:"72f2b0dfa1e68a34813db5999ff8098f60ef699d",fallbackHashNs:"search"})},get[Ge.D.FilesCreatedByYou](){return Qe.t("Files created by you",{fallbackHash:"8c292710d9aa5d3b598cf24b70f804cb0341e24e",fallbackHashNs:"search"})},get[Ge.D.RecentCanvases](){return Qe.t("Recently Viewed Canvases",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Ge.D.CanvasesSharedWithYou](){return Qe.t("Canvases shared with you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Ge.D.CanvasesCreatedByYou](){return Qe.t("Canvases created by you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},[Ge.D.DeletedCanvases]:void 0,[Ge.D.DmsList]:void 0,[Ge.D.LaterList]:void 0,[Ge.D.Channel]:void 0,[Ge.D.AppSpace]:void 0,[Ge.D.BrowseApps]:void 0,get[Ge.D.ExternalOrganizations](){return Qe.t("External organizations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ge.D.ExternalOrganization](){return Qe.t("External organization",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ge.D.ExternalPeople](){return Qe.t("External people",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ge.D.SlackConnectChannels](){return Qe.t("Slack Connect channels",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ge.D.SlackConnectInvitations](){return Qe.t("Slack Connect invitations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},[Ge.D.BrowseExternalWorkspace]:void 0,[Ge.D.PostEvent]:void 0,[Ge.D.BrowseShortcuts]:void 0,[Ge.D.BrowseWorkflowsManagedByYou]:void 0,[Ge.D.BrowseYourWorkflowTemplates]:void 0,[Ge.D.BrowseWorkflowTemplates]:void 0,[Ge.D.BrowseUserGroups]:void 0,[Ge.D.OrgDirectory]:void 0,get[Ge.D.RecentPlatform](){return Qe.t("Recently used workflows",{fallbackHash:"f97d1ab1f281e78d5e61024eee5be84679fd60ac",fallbackHashNs:"search"})},[Ge.D.SlackConnect]:void 0,[Ge.D.Page]:void 0,[Ge.D.Threads]:void 0,[Ge.D.Thread]:void 0,[Ge.D.Profile]:void 0,[Ge.D.FileDetails]:void 0,[Ge.D.Help]:void 0,[Ge.D.UserGroup]:void 0,[Ge.D.KeyboardShortcuts]:void 0,[Ge.D.WhatsNew]:void 0,[Ge.D.Feedback]:void 0,[Ge.D.List]:void 0,[Ge.D.ListRecord]:void 0,[Ge.D.ListRecordDetails]:void 0,[Ge.D.ListRecordThread]:void 0,[Ge.D.ListRecordHistory]:void 0,[Ge.D.ComposeList]:void 0,[Ge.D.Compose]:void 0,[Ge.D.QuipCommentThread]:void 0,[Ge.D.QuipCommentStream]:void 0,[Ge.D.QuipActivityHistory]:void 0,[Ge.D.QuipAutomationsOverview]:void 0,[Ge.D.Quip]:void 0,[Ge.D.Canvas]:void 0,[Ge.D.ChannelCanvas]:void 0,[Ge.D.CanvasBrowser]:void 0,[Ge.D.HuddlePageCanvas]:void 0,[Ge.D.PaidBenefits]:void 0,[Ge.D.Setup]:void 0,[Ge.D.SearchEmpty]:void 0,[Ge.D.AboutWorkspace]:void 0,[Ge.D.Unknown]:void 0,[Ge.D.MorePeopleSidebar]:void 0,[Ge.D.MoreCanvasesSidebar]:void 0,[Ge.D.AppPopout]:void 0,[Ge.D.MorePlatformSidebar]:void 0,[Ge.D.Search]:void 0,[Ge.D.ChannelList]:void 0,[Ge.D.BrowseLists]:void 0,[Ge.D.DeletedLists]:void 0,[Ge.D.Tasks]:void 0,[Ge.D.AssignedTasks]:void 0,[Ge.D.Reminders]:void 0,[Ge.D.Saved]:void 0,[Ge.D.BrowseList]:void 0,[Ge.D.ActivityList]:void 0,[Ge.D.MoreFilesSidebar]:void 0,[Ge.D.MoreListsSidebar]:void 0,[Ge.D.MoreTodosSidebar]:void 0,[Ge.D.FilesPrototypeSidebar]:void 0,[Ge.D.MoreChannelsSidebar]:void 0,[Ge.D.MoreHuddlesSidebar]:void 0,[Ge.D.MoreExternalConnectionsSidebar]:void 0,[Ge.D.HelpBrowser]:void 0,[Ge.D.Huddle]:void 0,[Ge.D.BrowseHuddles]:void 0,[Ge.D.KeyboardShortcutsBrowser]:void 0,[Ge.D.WhatsNewBrowser]:void 0,[Ge.D.FeedbackBrowser]:void 0,[Ge.D.ExternalWorkspaceSidebar]:void 0,[Ge.D.ExternalWorkspacePeopleBrowser]:void 0,[Ge.D.ExternalWorkspaceChannelBrowser]:void 0,[Ge.D.AiSummaryDetails]:void 0,[Ge.D.DailyDigest]:void 0,[Ge.D.MoreAiSummarySidebar]:void 0,[Ge.D.SearchSummary]:void 0,[Ge.D.AssistantList]:void 0,[Ge.D.BrowseFilesPrototype]:void 0,[Ge.D.Today]:void 0,[Ge.D.Record]:void 0,[Ge.D.RecordChannelCreate]:void 0,[Ge.D.RecordChannelRelatedList]:void 0,[Ge.D.SalesAdministration]:void 0,[Ge.D.SalesBulkGrid]:void 0,[Ge.D.SalesHome]:void 0,[Ge.D.SalesListViewBrowser]:void 0,[Ge.D.SalesLogActivity]:void 0,[Ge.D.SalesNotifications]:void 0,[Ge.D.SalesSidebar]:void 0,[Ge.D.AssistantThread]:void 0,[Ge.D.Solutions]:void 0,[Ge.D.ChannelFiles]:void 0,[Ge.D.SlackKitPlayground]:void 0,[Ge.D.AiApp]:void 0,[Ge.D.BookmarksFolder]:void 0,[Ge.D.ActionItems]:void 0,[Ge.D.Inbox]:void 0,[Ge.D.HuddleTranscriptDetails]:void 0,get[Ge.D.WorkflowDetails](){return Qe.t("Workflow details",{fallbackHash:"badd385121c5861ac693b59ad8c160fdf7994344",fallbackHashNs:"channel_details"})},get[Ge.D.WorkflowEditor](){return Qe.t("Workflow Editor",{fallbackHash:"792c81a4cfdcb5b45d688cb03c2fd2e816f86d44",fallbackHashNs:"workflow_builder"})},[Ge.D.BBMMain]:void 0,[Ge.D.BBMWorkspaceSwitcher]:void 0,[Ge.D.SearchInChannel]:void 0,[Ge.D.BBMMore]:void 0},rt=i(tt=>tt in Xe?Xe[tt]:"","getDisplayNameForViewType");var it=e(4240442510),lt=e(6910192640),ot=e(505908973),Et=e(4096483543),At=e(5600190572),Ot=e(5276466411),Rt=e(7948868735),yt=e(6533394955),Mt=e(2947836378);class en extends Rt.F{fetchData(){return(0,yt.dispatchForTeamId)(this.teamId,(0,Ot.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(Ye=>((0,yt.dispatchForTeamId)(this.teamId,(0,Mt.b)({files:Ye.files})),Ye.files))}constructor(Ye,Yt){super(),this.teamId=Ye,this.timeoutMs=Yt}}i(en,"AutocompleteTopEngagedFilesCache");const Tt={};function xt(tt){let{teamId:Ye,timeoutMs:Yt}=tt;const pt=Ye||"_default";return Tt[pt]||(Tt[pt]=new en(Ye,Yt)),Tt[pt]}i(xt,"getAutocompleteTopEngagedFilesCache");var bt=e(8195161e3),nn=e(1948374838),dn=e(1917953477),Xt=e(181849556),jt=e(2825917518),_n=e(1072784641),ze=e(1399977320),Dt=e(8956261571),hn=e(4342685672),yn=e(1031947056),ht=e(8847766420),Bt=e(4119164726),wt=e(6451390137),Qt=e(2854654447),mn=e(5795074931),On=e(9107158149),zt=e(7688940281),nt=e(207659888),mt=e(2235302340),Ct=e(9101533895),Zt=e(6728717861),Ft=e(3829348308),Jt=e(4761125736),rn=e(937317117),gn=e(761034736),Fe=e(7478895768),Ke=e(4224126550),Ne=e(8276911661),He=e(5688490863),Je=e(8149648525),ft=e(2047021170),Kt=e(8515087389),St=e(136400070),cn=e(4135820365),An=e(6892115804),Ln=e(1835177371),It=e(6508028729);const qe={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeWorkflows:!1,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[nt.VZ.Standard]:!0,[nt.VH]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:hn.KV},fuzzyLimit:3,fuzzyJumpLimit:20,fuzzyCJK:!0,returnMetadata:!1};function ct(tt){let{query:Ye,options:Yt}=tt;var pt,Nt,Vt;const Ht=(Vt=Yt==null?void 0:Yt.entities)!==null&&Vt!==void 0?Vt:{},tn=Ht==null?void 0:Ht.members;let pn=!1;return tn&&tn!==!0&&(pn=!!(tn!=null&&tn.matchEmailField)),{source:Yt==null||(pt=Yt.sort)===null||pt===void 0?void 0:pt.source,tiered:Yt==null?void 0:Yt.tiered,is_searcher_sessions:!1,entities:Object.keys(Ht).filter(Dn=>!!Ht[Dn]).sort().toString(),query_length:Ye.length,is_member_email_search:(Yt==null||(Nt=Yt.sort)===null||Nt===void 0?void 0:Nt.source)==="use-team-and-people-search"&&pn}}i(ct,"getTraceTags");function vt(tt,Ye){var Yt,pt;const{excludeElmChannels:Nt,includePublic:Vt,includePrivate:Ht,includeFromAnotherTeam:tn,allowedInternalTeams:pn,shouldAllowedInternalTeamsMatchAny:Dn}=(pt=(Yt=Ye.entities)===null||Yt===void 0?void 0:Yt.channels)!==null&&pt!==void 0?pt:{};let En=[];return Vt&&(En=[...En,...(0,Ct.Wr)(tt,{includeFromAnotherTeam:!!tn})]),Ht&&(En=[...En,...(0,Ct.sE)(tt,{includeFromAnotherTeam:!!tn})]),Nt&&(En=En.filter(an=>!(0,Ue.A)(tt,an))),pn&&(En=En.filter(an=>{if((0,K.O)(an))return!!Dn;const Tn=(0,ve.R)(tt,an),Vn=Dn?Tn==null?void 0:Tn.some(Un=>pn.includes(Un)):Tn==null?void 0:Tn.every(Un=>pn.includes(Un));return(Tn==null?void 0:Tn.length)&&Vn})),En}i(vt,"getLocalChannels");function Oe(tt,Ye){var Yt;const pt=(0,ht.ZT)(tt),Nt=Ye==null||(Yt=Ye.entities)===null||Yt===void 0?void 0:Yt.teams;var Vt;const Ht=Object.values((Vt=It._===null||It._===void 0?void 0:(0,It._)())!==null&&Vt!==void 0?Vt:{}).filter(an=>an.id!==pt);if(Nt!=null&&Nt.onlyNavigable){const an=(0,cn._)(tt);return an.length?[...Ht,...an]:Ht}var tn;const pn=(tn=(0,H.iK)(tt))!==null&&tn!==void 0?tn:{},Dn=Ht.map(an=>an.id),En=Object.values(pn).filter(an=>!Dn.includes(an.id));return[...Ht,...En].filter(ln(tt,Nt))}i(Oe,"getLocalTeams");const Y=(0,yn.Ay)("Get channels from flannel by query",(tt,Ye,Yt)=>{let{query:pt,options:Nt}=Yt;var Vt,Ht,tn,pn;const{includeFromAnotherTeam:Dn,includeExternallyShared:En,includeOnlyExternallyShared:an,onlyExternallyShared:Tn,onlyFromTeamId:Vn,onlyFromExternalWorkspaceId:Un,allowedInternalTeams:bn,shouldAllowedInternalTeamsMatchAny:Hn,includeRecordChannels:kn}=(pn=(Vt=Nt.entities)===null||Vt===void 0?void 0:Vt.channels)!==null&&pn!==void 0?pn:{},vn=((Ht=Nt.entities)===null||Ht===void 0||(tn=Ht.channels)===null||tn===void 0?void 0:tn.remoteLimit)||Nt.limit,Zn=Ye(),Gn=[],os=" AND ",es={query:pt,count:vn||qe.limit||24,fuzz:(0,Jt._Z)(Zn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Jt._Z)(Zn,"searcher_flannel_cjk")==="cjk"};return Dn&&Gn.push("xws"),!(0,t.A)(En)&&!En&&Gn.push("NOT shared"),!(0,t.A)(an)&&!an&&Gn.push("NOT external"),!(0,t.A)(Tn)&&Tn&&Gn.push("shared"),Gn.length&&(es.filter=Gn.join(os)),Vn&&(es.external_team=Vn),Un&&(es.external_team=Un),bn&&(es.allowed_internal_teams=bn),Hn&&(es.should_allowed_internal_teams_match_any=Hn),kn&&!(0,g.Ht)(Zn)&&(es.include_record_channels=!0),tt((0,T.hq)({query:es})).timeout(2e3).catch(n.A)});Y.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const ce=(0,yn.Ay)("Get emoji from flannel by query",(tt,Ye,Yt)=>{let{query:pt,options:Nt}=Yt;var Vt,Ht;const tn=((Vt=Nt.entities)===null||Vt===void 0||(Ht=Vt.emoji)===null||Ht===void 0?void 0:Ht.remoteLimit)||Nt.limit;return tt((0,O.l8)({query:{query:pt,count:tn}})).timeout(2e3).catch(n.A)});ce.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const Ce=(0,yn.Ay)("Get user groups from the search.team endpoint by query",(tt,Ye,Yt)=>{let{query:pt,options:Nt}=Yt;var Vt,Ht,tn,pn,Dn,En;const an=((Vt=Nt.entities)===null||Vt===void 0||(Ht=Vt.userGroups)===null||Ht===void 0?void 0:Ht.remoteLimit)||Nt.limit;return tt((0,P.cn)({query:{query:pt,count:an,org_wide:(tn=Nt.entities)===null||tn===void 0||(pn=tn.userGroups)===null||pn===void 0?void 0:pn.includeFromAnotherTeam,channel:(Dn=Nt.entities)===null||Dn===void 0||(En=Dn.userGroups)===null||En===void 0?void 0:En.channel}})).timeout(2e3).catch(n.A)});Ce.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const ke=(0,yn.Ay)("Get remote triggers with query",(tt,Ye,Yt)=>{let{query:pt,includeAutomatedTriggers:Nt}=Yt;return tt((0,Fe.tP)({query:pt,includeAutomatedTriggers:Nt}))});ke.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const st=(0,yn.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(tt,Ye,Yt)=>{let{queries:pt,options:Nt}=Yt;var Vt,Ht,tn,pn,Dn,En;const an=((Vt=Nt.entities)===null||Vt===void 0||(Ht=Vt.userGroups)===null||Ht===void 0?void 0:Ht.remoteLimit)||Nt.limit;return tt((0,P.MZ)({query:{queries:pt,count:an,org_wide:(tn=Nt.entities)===null||tn===void 0||(pn=tn.userGroups)===null||pn===void 0?void 0:pn.includeFromAnotherTeam,channel:(Dn=Nt.entities)===null||Dn===void 0||(En=Dn.userGroups)===null||En===void 0?void 0:En.channel}})).timeout(2e3).catch(n.A)});st.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function dt(tt,Ye){const{includeArchived:Yt,includeRequired:pt,onlyIfMember:Nt,canPost:Vt,includeExternallyShared:Ht,includeOnlyExternallyShared:tn,onlyExternallyShared:pn,onlyFromTeamId:Dn,onlyFromExternalWorkspaceId:En}=Ye??{};return an=>{let Tn=!0;if(Yt||(Tn=Tn&&!(0,oe.F)(an)),!(0,t.A)(pt)&&!pt&&(Tn=Tn&&!(0,he.gx)(an)),pn&&(Tn=Tn&&(0,ae.ju)(an)),(!Ht||!tn)&&(Tn=Tn&&!(0,ae.ju)(an)),Nt&&(Tn=Tn&&(0,N.b)(an)),Vt&&(Tn=Tn&&(0,Te.E)(tt,an.id)),Dn){var Vn;Tn=Tn&&(((Vn=(0,fe.A)(tt,an))===null||Vn===void 0?void 0:Vn.includes(Dn))||!1)}return En&&(Tn=Tn&&(0,le.ne)(tt,an)===En),Tn}}i(dt,"getChannelFilterFunction");const Ze=(0,yn.Ay)("Get members from flannel by query",(tt,Ye,Yt)=>{let{query:pt,options:Nt}=Yt;var Vt,Ht,tn;const{includeDeleted:pn,matchEmailField:Dn,onlyExternal:En,includeExternal:an,includeAllExternal:Tn,includeBots:Vn,onlyFromExternalTeamId:Un,onlyFromExternalWorkspaceId:bn}=(tn=Nt.entities.members)!==null&&tn!==void 0?tn:{},Hn=((Vt=Nt.entities)===null||Vt===void 0||(Ht=Vt.members)===null||Ht===void 0?void 0:Ht.remoteLimit)||Nt.limit,kn=Ye(),vn=[],Zn=(0,F.r7)((0,H.H7)(kn))||!!(0,ht.jV)(kn),Gn=Zn?["NOT org"]:["NOT team"],os=Zn?["org"]:["team"],es=!pn,Yn=" AND ",as={query:pt,count:Hn||qe.limit||24,fuzz:(0,Jt._Z)(kn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||Nt.fuzzyLimit===0?0:1,uax29_tokenizer:(0,Jt._Z)(kn,"searcher_flannel_cjk")==="cjk"};return es&&vn.push("NOT deactivated"),(En||Un)&&vn.push(...Gn),(Un||bn)&&(as.external_team=Un||bn),Vn||vn.push("NOT bots"),an||vn.push(...os),an&&Tn&&(as.include_all_external=!0),Dn&&(as.search_email=!0),vn.length&&(as.filter=vn.join(Yn)),tt((0,D.Wr)({query:as})).timeout(2e3).catch(n.A)});Ze.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const Lt=(0,yn.Ay)("Get members from flannel by query",(tt,Ye,Yt)=>{let{queries:pt,options:Nt}=Yt;var Vt,Ht,tn,pn;const{includeDeleted:Dn,matchEmailField:En}=(pn=(Vt=Nt.entities)===null||Vt===void 0?void 0:Vt.members)!==null&&pn!==void 0?pn:{},an=((Ht=Nt.entities)===null||Ht===void 0||(tn=Ht.members)===null||tn===void 0?void 0:tn.remoteLimit)||Nt.limit||24,Tn=Ye(),Vn=[],Un=!Dn,bn=" AND ",Hn={queries:pt,count:an,fuzz:(0,Jt._Z)(Tn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Jt._Z)(Tn,"searcher_flannel_cjk")==="cjk"};return Un&&Vn.push("NOT deactivated"),En&&(Hn.match_email=!0),Vn.length&&(Hn.filter=Vn.join(bn)),tt((0,D.W9)({query:Hn})).timeout(2e3).catch(n.A)});Lt.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function Gt(tt,Ye){const{includeSelf:Yt,includeSlackbot:pt,includeBots:Nt,includeWorkflows:Vt,includeDeleted:Ht,includeExternal:tn,includeGuests:pn,includeProfileOnlyUsers:Dn,onlyLocalTeam:En,onlyExternal:an,onlyExternalFromTeams:Tn,onlyFromExternalTeamId:Vn}=Ye??{};return Un=>{let bn=!0;if(an&&(bn=bn&&(0,U.g)(Un)&&!(0,Z.A)(Un)),Yt||(bn=bn&&!(0,$.fy)(Un)),pt||(bn=bn&&!(0,se.U)(Un)),Tn)return(0,s.A)(Tn,(0,de.dQ)(Un));if(Vn)return Yt&&(0,$.fy)(Un)?!0:(0,U.g)(Un)&&(0,de.dQ)(Un)===Vn;if(Nt||(bn=bn&&!(0,Z.A)(Un)&&!(0,se.U)(Un)),Vt||(bn=bn&&!(0,$.v3)(Un)),Ht||(bn=bn&&!(0,$.oy)(Un)),tn||(bn=bn&&!(0,U.g)(Un)),pn||(bn=bn&&!(0,ee.P)(Un)),Dn||(bn=bn&&!(0,$.hh)(Un)),Dn&&(0,$.hh)(Un)&&(bn=bn&&!(0,$.oy)(Un)),En){const Hn=(0,ht.ZT)(tt);(0,$.hh)(Un)&&Dn||(bn=bn&&(0,de.nO)(Un,Hn))}return bn}}i(Gt,"getMemberFilterFunction");function ln(tt,Ye){var Yt;const{includeCurrentTeam:pt,includeExternal:Nt,onlyExternal:Vt,onlyCurrentOrg:Ht,onlyAvailableToCurrentOrg:tn,onlyMemberOnCurrentOrg:pn}=Ye??{},Dn=(0,ht.Kc)(tt),En=(0,mn.WR)(tt),an=(0,Ne.nv)(tt,En),Tn=(an==null||(Yt=an.enterprise_user)===null||Yt===void 0?void 0:Yt.teams)||[];return Vn=>!(!pt&&Vn.id===(0,ht.ZT)(tt)||Vt&&!(0,Le.z)(tt,Vn)||!Nt&&!Vt&&!tn&&(0,Le.z)(tt,Vn)||Ht===!0&&Vn.id!==Dn&&(0,F.Ss)(Vn)!==Dn||tn===!0&&Vn.id!==Dn&&(0,F.Ss)(Vn)!==Dn&&!(0,Le.z)(tt,Vn)||pn===!0&&!Tn.includes(Vn.id))}i(ln,"getTeamFilterFunction");function In(tt,Ye){const{onlyVisibleMpims:Yt,onlyExternallyShared:pt,includeExternallyShared:Nt,onlyFromTeamId:Vt}=Ye??{};return Ht=>{let tn=!0;if(Yt&&(tn=tn&&(0,le.w6)(tt,Ht)),pt&&(tn=tn&&(0,ae.ju)(Ht)),Nt===!1&&(tn=tn&&!(0,ae.ju)(Ht)),Vt){var pn;tn=tn&&(((pn=(0,fe.A)(tt,Ht))===null||pn===void 0?void 0:pn.includes(Vt))||!1)}return tn}}i(In,"getMpimFilterFunction");function wn(tt,Ye){const{onlyExternallyShared:Yt,includeExternallyShared:pt,onlyFromTeamId:Nt,onlyVisibleIms:Vt}=Ye??{};return Ht=>{let tn=!0;if(Vt&&(tn=tn&&(0,le.PE)(tt,Ht)),Yt&&(tn=tn&&(0,ae.ju)(Ht)),pt||(tn=tn&&!(0,ae.ju)(Ht)),Nt){var pn;tn=tn&&(((pn=(0,fe.A)(tt,Ht))===null||pn===void 0?void 0:pn.includes(Nt))||!1)}return tn}}i(wn,"getImFilterFunction");function Fn(tt,Ye){const{includeDeleted:Yt,includeFromAnotherTeam:pt,onlyFromExternalWorkspaceId:Nt}=Ye??{};return Vt=>{let Ht=!0;return pt||(Ht=Ht&&!(0,Ln.dk)(tt,Vt.id)),Yt||(Ht=Ht&&(0,ye.V1)(Vt)),Nt&&(Ht=Ht&&(0,ye.$Q)(Vt)===Nt),Ht}}i(Fn,"getUserGroupFilterFunction");function Sn(tt,Ye){const{onlyCanvases:Yt=!1,onlyLists:pt=!1,onlyWriteable:Nt=!1,onlyChannelCanvases:Vt=!1,onlyTemplateCanvases:Ht=!1,onlySlackNative:tn=!1,includeChannelCanvases:pn=!1,excludeTemplateCanvases:Dn=!1}=Ye??{},En=(0,_e.hq)(tt),an=(0,ht.Kc)(tt),Tn=(0,H._J)(tt,an),Vn=Tn&&!(0,F.qR)(Tn);return Un=>{let bn=!0;const Hn=(0,b.wL)(Un)&&!Vn||En&&pn&&(0,b.aD)(Un),kn=(0,b.l7)(Un);return Yt&&(bn=bn&&Hn,(0,b.dE)(Un)&&Dn)?!1:(En&&(Vt||Vn)&&(bn=bn&&!(0,b.wL)(Un)&&(0,b.aD)(Un)),Ht&&(bn=bn&&(0,b.dE)(Un)),pt&&(bn=bn&&kn),Nt&&(bn=bn&&(0,b.mW)(Un)),tn&&(bn=kn||Hn),bn)}}i(Sn,"getFileFilterFunction");const jn=(0,yn.Ay)("Get teams via API by query",(tt,Ye,Yt)=>{let{query:pt,options:Nt}=Yt;var Vt,Ht;const{onlyExternal:tn,includeExternal:pn,remoteLimit:Dn}=(Ht=(Vt=Nt.entities)===null||Vt===void 0?void 0:Vt.teams)!==null&&Ht!==void 0?Ht:{},En=Ye();if((0,Ie.DM)(En))return p.S.resolve();if(tn||pn)return tt((0,I.Is)(pt)).timeout(2e3).catch(n.A);const an=Dn||Nt.limit||24;return tt((0,An.vB)({query:pt,count:an})).timeout(2e3).catch(n.A)});jn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const is=(0,yn.Ay)("Get files via API by query",(tt,Ye,Yt)=>{let{query:pt,options:Nt}=Yt;var Vt,Ht;const{onlyCanvases:tn,onlyChannelCanvases:pn,onlyTemplateCanvases:Dn,onlyLists:En,excludeTemplateCanvases:an,bypassCache:Tn}=(Ht=(Vt=Nt.entities)===null||Vt===void 0?void 0:Vt.files)!==null&&Ht!==void 0?Ht:{};let Vn=pt;return Dn?Vn=`type:canvas_template ${pt}`:tn||pn?Vn=`${an?"type:quip -type:canvas_template":"type:quip"} ${pt}`:En&&(Vn=`type:list ${pt}`),tt((0,M.yF)({query:Vn,includeShares:!0,bypassCache:Tn})).timeout(2e3).catch(n.A)});is.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function gs(tt){const Ye=(0,te.A4)(),Yt={},pt=[];h.cw.forEach(Vt=>{const Ht=(0,it.A)({tab:Vt});(0,lt.A)(tt,Vt)&&Ht&&!(Ht in Yt)&&(pt.push({id:Vt,name:Ht,is_view:!0,is_tab_view:!0}),Yt[Ht]=Ht)}),h.g5.forEach(Vt=>{const Ht=rt(Vt);(0,ot.A)(tt,Vt)&&Ht&&!(Ht in Yt)&&(pt.push({id:Vt,name:Ht,is_view:!0,is_mva_view:!0}),Yt[Ht]=Ht)}),Ye.forEach(Vt=>{if(!(0,te.cH)(tt,Vt)&&!(Vt.id==="Pslack-connect"&&!(0,A.A)(tt))&&Vt.id!=="Pactivity"&&!(Vt.id===G.c.Apps&&!(0,pe.t)(tt))&&!(Vt.id===G.c.Shortcuts&&!(0,ue.Bf)(tt))&&!(Vt.id===G.c.BrowseWorkflowTemplates&&!(0,ue.fh)(tt))&&!(Vt.id===G.c.BrowseWorkflowsManagedByYou&&!(0,ue.EH)(tt))&&!(Vt.id===G.c.BrowseYourWorkflowTemplates&&!(0,ue.M7)(tt))&&((0,te.l1)(tt,Vt)||Vt.id==="Punreads"&&(0,ft.ty)(tt,"enable_unread_view"))){const Ht=(0,ne.yb)(tt,Vt);Ht&&!(Ht in Yt)&&(pt.push({...Vt,name:Ht,is_view:!0,is_page_view:!0}),Yt[Ht]=Ht)}});const Nt=(0,At.lI)("Vall_threads");return Nt&&(0,ft.ty)(tt,"enable_threads_view")&&!(0,y.R)(tt)&&pt.push(Nt),pt}i(gs,"getLocalViews");function Ls(tt){return q(tt)}i(Ls,"getLocalModals");function us(tt){return(0,Be.xf)(tt)?[{id:tt,score:0,item:{id:tt,value:tt,isEmail:!0}}]:[]}i(us,"getLocalEmails");function ns(tt,Ye){const Yt=!Ye;let pt=De.Ml;if(Ye){const Nt=(0,Ct.OL)(tt,Ye);pt=Nt&&(0,me.f)(tt,Nt)||De.Ml}return(0,wt.PL)(tt).flatMap(Nt=>{if(Nt.teams&&(pt.length||Yt)&&!Nt.isWorkspaceAgnostic){const Vt=Yt?Nt.teams:Nt.teams.filter(Ht=>pt.includes(Ht));if(Vt.length>1)return Vt.map(Ht=>{const tn=(0,H._J)(tt,Ht),pn=(0,F.F1)(tn);return{...Nt,name:`${Nt.name} ${pn}`,applicableTeamId:Ht}})}return[Nt]})}i(ns,"getAppActionsWithEntriesPerApplicableTeam");function rs(tt,Ye,Yt){const pt=(0,Ct.OL)(tt,Ye),Nt=pt?(0,me.f)(tt,pt)||[]:[];return(0,be.A_)(tt,Ye,!!Yt,!0).flatMap(Vt=>{if(Vt.teams&&Nt.length&&Vt.appName!=="Slack"&&!Vt.isWorkspaceAgnostic){const Ht=Vt.teams.filter(tn=>Nt.includes(tn));if(Ht.length>1)return Ht.map(tn=>({...Vt,id:(0,Ee.Bs)(Vt),isSlashCommand:!0,applicableTeamId:tn}))}return[{...Vt,id:(0,Ee.Bs)(Vt),isSlashCommand:!0}]})}i(rs,"getSlashCommandsListWithEntriesPerApplicableTeam");function ie(tt,Ye){let Yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";bs(Ye);const pt={},{members:Nt,channels:Vt,teams:Ht,userGroups:tn,appActions:pn,views:Dn,broadcastKeywords:En,emoji:an,files:Tn,topEngagedFiles:Vn,lists:Un,channelSections:bn,emails:Hn,modals:kn,shortcuts:vn,workflowTriggers:Zn,helpArticles:Gn,salesforceRecords:os,salesListViews:es}=Ye.entities;if(Vt&&(Vt.includePublic||Vt.includePrivate)&&(pt.channels=vt(tt,Ye)),Vt&&Vt.includeMpims&&(pt.mpims=(0,Ct.FS)(tt)),Vt&&Vt.includeIms&&(pt.ims=(0,Ct._B)(tt)),Nt&&(pt.members=Nt.onlyFromExternalWorkspaceId?De.Ml:(0,Ne.I_)(tt).filter(ss=>(0,On.zP)(tt,ss.id))),Ht&&(pt.teams=Oe(tt,Ye)),tn&&(pt.userGroups=(0,Ln.jJ)(tt)),pn&&(pt.appActions=(0,E.B)(tt)?(0,wt.PL)(tt):ns(tt,pn.channel)),Tn&&(pt.files=(0,rn.Gn)(tt)),(0,Jt._Z)(tt,"top_engaged_files_autocomplete")==="on"&&Vn){const ss=(0,ht.ZT)(tt),_s=36e5;if(ss){const Cs=xt({teamId:ss,timeoutMs:_s}).getStaleWhileRevalidate([]);pt.topEngagedFiles=Cs}}if(Un&&(pt.lists=(0,Ke.C0)(tt)),Dn&&(pt.views=gs(tt)),kn&&(pt.modals=Ls(tt)),En){var as;if(En.includeAll)pt.broadcastKeywords=(0,we.A)();else if(!(En==null||(as=En.currentChannel)===null||as===void 0)&&as.id){var Qn;pt.broadcastKeywords=(0,re.A)(tt,En==null||(Qn=En.currentChannel)===null||Qn===void 0?void 0:Qn.id)}else pt.broadcastKeywords=[]}if(an&&(pt.emoji=(0,Ft.Gt)(tt)),bn&&(pt.channelSections=(0,r.A)((0,mt.jV)(tt))),(vn!=null&&vn.slashCommands||vn!=null&&vn.fakeGlobalActions)&&!(vn!=null&&vn.isAnnounceOnly)&&(pt.slashCommands=(0,be.A_)(tt,vn.channel,!!vn.threadTs,!0).map(ss=>({...ss,id:(0,Ee.Bs)(ss),isSlashCommand:!0}))),vn!=null&&vn.slackGlobalActions&&(pt.slackGlobalActions=(0,be.Yk)(tt,vn.channel,vn.threadTs)),vn!=null&&vn.quipShortcutCommands&&(pt.quipShortcutCommands=(0,Bt.Aw)(tt,!!Yt)),vn!=null&&vn.channelActions&&(pt.channelActions=(0,zt.fo)(tt,vn.channel)),vn!=null&&vn.fakeGlobalActions&&(pt.fakeGlobalActions=(0,be.JL)(tt,vn.channel,vn.threadTs)),vn!=null&&vn.callActions&&(pt.callActions=(0,be.Uw)(tt,vn.channel,vn.threadTs,vn.isAnnounceOnly)),Zn){const ss=(0,be.NJ)(tt);Zn.includeAutomated?pt.workflowTriggers=ss:pt.workflowTriggers=ss.filter(_s=>_s.type===k.M.Shortcut)}Hn&&(pt.emails=us(Yt));const hs=(0,Re.dL)(tt);if(Gn&&hs&&(pt.helpArticles=(0,gn.Fb)(tt,"searcher/fetch_all_articles")),os&&(0,g.Ht)(tt)&&(pt.salesforceRecords=Object.values((0,Kt.Ie)(tt))),es){const{objectType:ss,salesforceOrgId:_s}=es,Cs=(0,He.Up)(tt),xs=ss?(0,He.Zs)(tt,_s,ss):(0,d.A)(Object.values((0,He.m3)(tt,_s)));pt.salesListViews=xs.map(As=>Cs[As])}return Pn(),pt}i(ie,"fetchLocal");const Se=(0,yn.Ay)("Search for local entities within Slack based on options",(tt,Ye,Yt)=>{let{query:pt,options:Nt,autoTraceId:Vt,parentSpanId:Ht}=Yt;var tn;const pn=Ye(),Dn=(tn=B.LI.get({label:B.gC.Searcher,id:Vt}))===null||tn===void 0?void 0:tn.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Ht}}),En=[],an=[],{channels:Tn,files:Vn,members:Un,teams:bn,userGroups:Hn,appActions:kn,emoji:vn,helpArticles:Zn,workflowTriggers:Gn,salesforceRecords:os,salesListViews:es}=Nt.entities;if(Un){const Qn=tt(Ze({query:pt,options:Nt}));Un.runaway?an.push(Qn):En.push(Qn)}if(Tn){const Qn=tt(Y({query:pt,options:Nt}));Tn.runaway?an.push(Qn):En.push(Qn)}if(vn){const Qn=tt(ce({query:pt,options:Nt}));vn.runaway?an.push(Qn):En.push(Qn)}if(Vn&&((0,je.A)(pt)||pt.length>3)){const Qn=(0,bt.G)(Ye());if(!Qn.contains(pt)&&!Qn.isRequestInFlight()){Qn.add(pt),Qn.setRequestInFlight();const hs=tt(is({query:pt,options:Nt}));Vn.runaway?an.push(hs):En.push(hs)}}if(Hn){const Qn=tt(Ce({query:pt,options:Nt}));Hn.runaway?an.push(Qn):En.push(Qn)}if(bn&&((0,z.k)(pn)||bn.onlyExternal||bn.includeExternal)&&!bn.onlyLocal){const Qn=tt(jn({query:pt,options:Nt}));bn.runaway?an.push(Qn):En.push(Qn)}if(Gn){const Qn=(0,nn.X)(pn);if(!Qn.contains(pt)&&!Qn.isRequestInFlight()){Qn.add(pt),Qn.setRequestInFlight();const hs=tt(ke({query:pt,includeAutomatedTriggers:Gn.includeAutomated}));hs&&(Gn.runaway?an.push(hs):En.push(hs))}}if((0,Ae.e)(pn)&&kn){const Qn=tt((0,Qt.G)()).timeout(2e3).catch(n.A);kn.runaway?an.push(Qn):En.push(Qn)}const Yn=(0,Re.dL)(pn);if(Zn&&Yn&&(0,gn.Fb)(pn,"searcher/fetch_all_articles"),(0,f.A)(pt)){if(os){var as;const Qn=(as=B.LI.get({label:B.gC.Searcher,id:Vt}))===null||as===void 0?void 0:as.createChildSpan({name:"searcher:fetch_salesforce_records",additionalSpanOptions:{parentSpanId:Dn==null?void 0:Dn.getId()}}),hs=tt((0,St.l)({query:pt,limit:5,reason:"Searcher"})).finally(()=>{Qn==null||Qn.close()});os.runaway?an.push(hs):En.push(hs)}if(es){const{objectType:Qn,salesforceOrgId:hs}=es;En.push(tt((0,Je.b)({query:pt,objectType:Qn,salesforceOrgId:hs})))}}return p.S.all(En).then(Qn=>{const hs=Ye(),ss=ie(hs,Nt,pt);if(ss.remoteIds=$e(Qn),Un&&Un.onlyFromExternalWorkspaceId){var _s,Cs;ss.members=(Cs=(_s=Qn.find(As=>!!As.members))===null||_s===void 0?void 0:_s.members)!==null&&Cs!==void 0?Cs:De.Ml}const xs=(0,o.A)((0,r.A)(ss),"length");return an.length&&!xs?p.S.all(an).then(()=>ie(Ye(),Nt)):(Dn==null||Dn.close(),ss)})});Se.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function $e(tt){const Ye={};return tt.forEach(Yt=>{Yt&&(Yt.appActions&&(Ye.appActions=new Set(Yt.appActions.map(pt=>pt.id))),Yt.channels&&(Ye.channels=new Set(Yt.channels.map(pt=>pt.id))),Yt.emoji&&(Ye.emoji=new Set(Yt.emoji.map(pt=>pt.name))),Yt.files&&(Ye.files=new Set(Yt.files.map(pt=>pt.id))),Yt.members&&(Ye.members=new Set(Yt.members.map(pt=>pt.id))),Yt.userGroups&&(Ye.userGroups=new Set(Yt.userGroups.map(pt=>pt.id))),Yt.teams&&(Ye.teams=new Set(Yt.teams.map(pt=>pt.id))))}),Ye}i($e,"getRemoteIds");const Pt=(0,yn.Ay)("Search for entities within Slack by query",(tt,Ye,Yt)=>{let{query:pt="",options:Nt=qe}=Yt;var Vt;if(!pt.length&&!Nt.allowEmptyQuery)return p.S.resolve([]);const Ht=Ye(),tn=(0,xe.Cy)({state:Ht}),pn=(0,u.A)();tn.mark(`modern-searcher-search-mark-${pn}`);const Dn=(0,dn.O)(pt,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var En;B.LI.start({label:B.gC.Searcher,id:pn,options:{teamId:(En=(0,ht.ZT)(Ht))!==null&&En!==void 0?En:null,tags:ct({query:Dn,options:Nt})}});const an=(Vt=B.LI.get({label:B.gC.Searcher,id:pn}))===null||Vt===void 0?void 0:Vt.createChildSpan({name:"searcher:search"}),Tn=Ss(Nt,qe,pt);if((0,a.A)(Tn))return p.S.resolve([]);if((0,x.x)(Ht)!==Zt.M9.ONLINE||!(Nt!=null&&Nt.allowEmptyQueryRemoteSearch)&&!Dn.length&&(0,Et.A)()&&(0,Jt._Z)(Ht,"searcher_local_empty_string")==="treatment")return p.S.resolve(Mn(Ht,{query:Dn,options:Tn,autoTraceId:pn,parentSpanId:an==null?void 0:an.getId()}));const Vn=p.S.delay(0).then(()=>tt(Se({query:Dn,options:Tn,autoTraceId:pn,parentSpanId:an==null?void 0:an.getId()}))).then(Un=>{const bn=Ye();return ms(bn,{query:Dn,data:Un,options:Tn,autoTraceId:pn,parentSpanId:an==null?void 0:an.getId()})});if(Tn.tiered){const Un=Mn(Ht,{query:Dn,options:Tn,autoTraceId:pn,parentSpanId:an==null?void 0:an.getId()}),bn=Vn.finally(()=>{an==null||an.close(),B.LI.stop({label:B.gC.Searcher,id:pn})}),Hn=Object.assign(Un,{promise:bn});return p.S.resolve(Hn).finally(()=>{tn.measureAndClear(`modern-searcher-search-mark-${pn}`,"modern-searcher-search-tiered")})}return Vn.finally(()=>{tn.measureAndClear(`modern-searcher-search-mark-${pn}`,"modern-searcher-search"),an==null||an.close(),B.LI.stop({label:B.gC.Searcher,id:pn})})});Pt.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function Mn(tt,Ye){let{query:Yt="",options:pt,autoTraceId:Nt,parentSpanId:Vt}=Ye;var Ht;let tn=Nt;if(!tn){tn=(0,u.A)();var pn;B.LI.start({label:B.gC.Searcher,id:tn,options:{teamId:(pn=(0,ht.ZT)(tt))!==null&&pn!==void 0?pn:null,tags:ct({query:Yt,options:pt})}})}const Dn=(Ht=B.LI.get({label:B.gC.Searcher,id:tn}))===null||Ht===void 0?void 0:Ht.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Vt}});if(!Yt.length&&!pt.allowEmptyQuery)return[];const En=Ss(pt,qe,Yt);if((0,a.A)(En))return[];const an=(0,dn.O)(Yt,{shouldTrimEmoji:!1}),Tn=ie(tt,En),Vn=ms(tt,{query:an,data:Tn,options:En,autoTraceId:tn,parentSpanId:Dn==null?void 0:Dn.getId()});return Dn==null||Dn.close(),Vn}i(Mn,"searchLocal");const Cn=15,Rn=i(tt=>{let{clogger:Ye,data:Yt}=tt;const{source:pt,query:Nt,results:Vt,selectedItemId:Ht,displayedItemIds:tn,openMethod:pn}=Yt,Dn=tn?tn.length:Vt.length,En=tn&&Ht?tn.indexOf(Ht):Vt.findIndex(Gn=>Gn.item.id===Ht);if(En<0)return;const an=Vt.find(Gn=>Gn.item.id===Ht);if(!an)return;const Tn=an.type||"other",Vn=(0,dn.O)(Nt),Un=an.source||"local";let bn;an.type==="mpim"?bn=an.scoreDetailsByMember:an.type==="member"&&Ht?bn={[Ht]:{is_exact_match:an.isExactMatch,exact_match_details:an.exactMatchDetails,score_details:an.scoreDetails}}:an.type==="emoji"&&Ht&&(bn={[Ht]:{is_exact_match:an.isExactMatch}});let Hn=[];Vt.some(Gn=>Gn.featureVector)&&(tn?Hn=tn.map(Gn=>{const os=Vt.find(es=>es.item.id===Gn);return os&&os.featureVector.serialize()||""}):Hn=Vt.map(Gn=>{var os,es;return Gn==null||(os=Gn.featureVector)===null||os===void 0||(es=os.serialize)===null||es===void 0?void 0:es.call(os)}));let vn;(0,l.A)(Nt)?vn=Nt.reduce((Gn,os)=>Gn+qn((0,dn.O)(os)),0):vn=qn(Vn);const Zn={source:pt,query_length:Vn.length?Vn.length:0,query_terms_length:vn,results_length:Dn,selected_position:En,selected_type:Tn,selected_source:Un,selected_match_details:bn,feature_vector_list:Hn.slice(0,Cn),open_method:pn};Ye.track(ge.EventId.SEARCHER_ACCEPT,Zn)},"clogSearcherAccept"),on=i(tt=>{let{clogger:Ye,data:Yt}=tt;const{source:pt,query:Nt,results:Vt,displayedItemIds:Ht}=Yt,tn=Ht!==void 0?Ht.length:Vt.length,pn=(0,dn.O)(Nt);let Dn;(0,l.A)(Nt)?Dn=Nt.reduce((an,Tn)=>an+qn((0,dn.O)(Tn)),0):Dn=qn(pn);const En={source:pt,query_length:pn.length?pn.length:0,query_terms_length:Dn,results_length:tn};Ye.track(ge.EventId.SEARCHER_REJECT,En)},"clogSearcherReject");function qn(tt){return tt?tt.split(jt.u).filter(Ye=>Ye.length).length:0}i(qn,"getQueryTermsLength");function ms(tt,Ye){let{query:Yt,data:pt,options:Nt,autoTraceId:Vt,parentSpanId:Ht}=Ye;var tn,pn,Dn,En,an;const Tn=(tn=B.LI.get({label:B.gC.Searcher,id:Vt}))===null||tn===void 0?void 0:tn.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Ht}});bs(Nt);const Vn=(0,Jt._Z)(tt,"searcher_avoid_exact_member_match")==="treatment",Un=(0,Jt._Z)(tt,"top_engaged_files_autocomplete")==="on",bn=(0,Jt._Z)(tt,"nerf_email_fuzzy_match")==="treatment",Hn={},kn=i((As,ks)=>{const Os=new Map;return[...As,...ks].forEach(Ws=>{Os.set(Ws.id,Ws)}),Array.from(Os.values())},"mergeAndDeduplicate"),vn=new _n.A({query:Yt,options:{...Nt,sort:{...Nt.sort,avoidExactMatchForMembers:Vn},fuzzyEmailSearchForwardOnly:bn}}),Zn=(0,xe.Cy)({state:tt});Zn.mark("modern-searcher-matching-mark");const Gn=(pn=B.LI.get({label:B.gC.Searcher,id:Vt}))===null||pn===void 0?void 0:pn.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Tn==null?void 0:Tn.getId()}});pt.channels&&(Hn.channels=vn.filterChannels(tt,pt.channels,dt(tt,Nt.entities.channels))),pt.members&&(Hn.members=vn.filterMembers(tt,pt.members,Gt(tt,Nt.entities.members))),pt.emails&&pt.members&&!(!(Hn==null||(Dn=Hn.members)===null||Dn===void 0)&&Dn.length)&&(Hn.emails=pt.emails),pt.mpims&&(Hn.mpims=vn.filterMpims(tt,pt.mpims,In(tt,Nt.entities.channels))),pt.ims&&(Hn.ims=vn.filterIms(tt,pt.ims,wn(tt,Nt.entities.channels))),pt.userGroups&&(Hn.userGroups=vn.filterUserGroups(tt,pt.userGroups,Fn(tt,Nt.entities.userGroups))),pt.teams&&(Hn.teams=vn.filterTeams(tt,pt.teams,ln(tt,Nt.entities.teams))),pt.views&&(Hn.views=vn.filterViews(tt,pt.views)),pt.modals&&(Hn.modals=vn.filterModals(tt,pt.modals)),pt.appActions&&(Hn.appActions=vn.filterAppActions(tt,pt.appActions)),pt.slashCommands&&(Hn.slashCommands=vn.filterShortcuts(tt,pt.slashCommands,!0)),pt.slackGlobalActions&&(Hn.slackGlobalActions=vn.filterShortcuts(tt,pt.slackGlobalActions)),pt.quipShortcutCommands&&(Hn.quipShortcutCommands=vn.filterShortcuts(tt,pt.quipShortcutCommands)),pt.channelActions&&(Hn.channelActions=vn.filterShortcuts(tt,pt.channelActions)),pt.fakeGlobalActions&&(Hn.fakeGlobalActions=vn.filterShortcuts(tt,pt.fakeGlobalActions)),pt.callActions&&(Hn.callActions=vn.filterShortcuts(tt,pt.callActions)),pt.workflowTriggers&&(Hn.workflowTriggers=vn.filterWorkflowTriggers(tt,pt.workflowTriggers)),pt.appActions&&(!(Nt==null||(En=Nt.entities)===null||En===void 0||(an=En.shortcuts)===null||an===void 0)&&an.apps)&&(Hn.apps=vn.filterApps(tt,pt.appActions,pt.fakeGlobalActions,pt.slashCommands)),pt.broadcastKeywords&&(Hn.broadcastKeywords=vn.filterBroadcastKeywords(tt,pt.broadcastKeywords)),pt.emoji&&(Hn.emoji=vn.filterEmoji(tt,pt.emoji)),pt.channelSections&&(Hn.channelSections=vn.filterChannelSections(tt,pt.channelSections,As=>{var ks,Os;return!!(!((ks=Nt.entities.channelSections)===null||ks===void 0||(Os=ks.includeTypes)===null||Os===void 0)&&Os[As.type])})),pt.files&&(Hn.files=vn.filterFiles(tt,pt.files,Sn(tt,Nt.entities.files))),pt.topEngagedFiles&&Un&&(Hn.topEngagedFiles=vn.filterFiles(tt,pt.topEngagedFiles,Sn(tt,Nt.entities.topEngagedFiles))),pt.lists&&(Hn.lists=vn.filterLists(tt,pt.lists));const os=(0,Re.dL)(tt);pt.helpArticles&&os&&(Hn.helpArticles=vn.filterHelpArticles(tt,pt.helpArticles)),pt.salesforceRecords&&(0,g.Ht)(tt)&&(Hn.salesforceRecords=vn.filterSalesforceRecordSuggestions(tt,pt.salesforceRecords)),pt.salesListViews&&(0,v.hx)(tt)&&(Hn.salesListViews=vn.filterSalesListViews(tt,pt.salesListViews)),Zn.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Gn==null||Gn.close();const es=Ts(Hn,pt.remoteIds||{});let Yn;Un&&(Yn=es.topEngagedFiles,delete es.topEngagedFiles);const as=500,Qn=3;var hs;const ss=Math.min(((hs=Nt==null?void 0:Nt.limit)!==null&&hs!==void 0?hs:1)*Qn,as);let _s=(0,d.A)(Object.values(es));if(Nt.sort&&!Nt.sort.bypassSorting){var Cs;let As=!1;_s.length<ss&&(As=!0);const ks=new ze.A({query:Yt,options:{modelOnly:As,...Nt.sort}}),Os=(Cs=B.LI.get({label:B.gC.Searcher,id:Vt}))===null||Cs===void 0?void 0:Cs.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Tn==null?void 0:Tn.getId()}});_s=ks.sort(tt,es),Os==null||Os.close(),Yn&&Un&&(Yn=(0,Xt.jW)(tt,{query:Yt,list:Yn,bonusPoints:ks.getFrecencyBonusPointsFunction(tt)}))}if(Yn&&Un&&(_s=kn(_s,Yn)),Nt.sort&&Nt.sort.frecency&&!Nt.sort.bypassSorting){var xs;const As=(xs=B.LI.get({label:B.gC.Searcher,id:Vt}))===null||xs===void 0?void 0:xs.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Tn==null?void 0:Tn.getId()}});_s=new Dt.A({query:Yt,options:{...Nt.sort},teamId:(0,ht.ZT)(tt),enterpriseId:(0,z.k)(tt)&&(0,ht.jV)(tt)?(0,ht.jV)(tt):void 0}).sort(tt,_s.slice(0,ss)),As==null||As.close()}return Nt.limit&&(_s=(0,m.A)(_s,Nt.limit)),Nt.returnMetadata||(_s=_s.map(As=>As.item)),Pn(),_s||[]}i(ms,"processFetchedEntities");function Ts(tt,Ye){return(0,c.A)(tt,(Yt,pt)=>{const Nt=Ps(pt),Vt=Ye[pt];let Ht=!1;return pt==="topEngagedFiles"&&(Ht=!0),Yt.map(tn=>{const pn=Vt&&Vt.has(tn.item.id)?"remote":"local";return{...tn,type:Nt,source:pn,isTopEngagedFile:Ht}})})}i(Ts,"addResultMetadata");function Ps(tt){switch(tt){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesforceRecords":return"salesforceRecord";case"salesListViews":return"salesListViews";default:return"other"}}i(Ps,"getTypeFromGroup");function Ss(tt,Ye,Yt){const{members:pt,channels:Nt,userGroups:Vt,broadcastKeywords:Ht,emoji:tn}=tt.entities,{members:pn,channels:Dn,userGroups:En}=Ye.entities;let an={},Tn="";Yt!=null&&Yt.length&&(Tn=Array.isArray(Yt)?"@":Yt.charAt(0)),(Tn==="@"||Tn==="\uFF20")&&(pt||Vt||Ht)?(pt&&(an.members=vs(pt,pn)),Vt&&(an.userGroups=vs(Vt,En)),Ht&&(an.broadcastKeywords=vs(Ht,{}))):(Tn==="#"||Tn==="\uFF03")&&Nt?an.channels=vs(Nt,Dn):Tn===":"&&tn?an.emoji=vs(tn,{}):an=Object.keys(tt.entities).reduce((hs,ss)=>{const _s=tt.entities[ss];return _s&&(hs[ss]=vs(_s,Ye.entities[ss])),hs},{});var Vn;const Un=vs((Vn=tt==null?void 0:tt.sort)!==null&&Vn!==void 0?Vn:{},Ye.sort);var bn;const Hn=(bn=tt.limit)!==null&&bn!==void 0?bn:Ye.limit;var kn;const vn=(kn=tt.fuzzyLimit)!==null&&kn!==void 0?kn:Ye.fuzzyLimit;var Zn;const Gn=(Zn=tt.fuzzyJumpLimit)!==null&&Zn!==void 0?Zn:Ye.fuzzyJumpLimit,os=tt.fuzzyCJK||Ye.fuzzyCJK,es=tt.tiered,Yn=tt.filter,as=tt.allowEmptyQuery,Qn=tt.returnMetadata||Ye.returnMetadata;return Un&&(Un.model=Un.model||(0,hn.In)()),{entities:an,sort:Un,limit:Hn,tiered:es,filter:Yn,allowEmptyQuery:as,fuzzyLimit:vn,fuzzyJumpLimit:Gn,fuzzyCJK:os,returnMetadata:Qn}}i(Ss,"getAllOptions");function vs(tt,Ye){if(!Ye||tt===!1)return tt;const Yt=tt===!0?{}:tt,pt=Ye===!0?{}:Ye;return(0,_.A)(Yt,pt)}i(vs,"mergeOptions");function bs(tt){const{members:Ye,channels:Yt,teams:pt,userGroups:Nt,appActions:Vt,files:Ht}=tt.entities;(Ye||Yt||pt||Nt||Vt||Ht)&&R.Ay.pauseRefetchIndefinitely()}i(bs,"pauseConditionalFetching");function Pn(){R.Ay.unpauseRefetchImmediately()}i(Pn,"unpauseConditionalFetching"),(0,V.ul)("searcher",{search:(tt,Ye)=>(0,yt.dispatchForTeamId)(tt,Pt({options:Ye})),searchLocal:(tt,Ye)=>{const Yt=(0,yt.getStateByTeamId)(tt);return Mn(Yt,{options:Ye})}})},3275490582:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5519146941);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])}return o},s.apply(this,arguments)}i(s,"_extends");function r(o){const a=o,l=t.forwardRef((m,c)=>t.createElement(n.A.Consumer,null,_=>{let{view:p,closeView:u,windowId:h,container:E,isMainWindow:A,isChildWindow:v,shouldUseNavigate:f,activeTab:g,forceTabWhenNavigating:y,getSiblingView:T,getPrimaryView:M,getSecondaryView:O,getViewSet:I}=_;return t.createElement(a,s({ref:c},m,{view:p,closeView:u,windowId:h,container:E,isMainWindow:A,isChildWindow:v,shouldUseNavigate:f,activeTab:g,forceTabWhenNavigating:y,getSiblingView:T,getPrimaryView:M,getSecondaryView:O,getViewSet:I}))}));return l.displayName=`withViewContainerContext(${a.displayName})`,l}i(r,"withViewContainerContext"),r.displayName="withViewContainerContext";const d=r},1149563359:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389),n=e(9053431150);function s(r,d){const{addFocusTransitionListener:o,removeFocusTransitionListener:a}=(0,t.useContext)(n.Ay);(0,t.useEffect)(()=>(o(r,d),()=>{a(r,d)}),[o,d,a,r])}i(s,"useFocusTransitionListener")},8369079536:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3134334389);function n(){const s=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(s.current=!0,()=>{s.current=!1})),s}i(n,"useMounted")},8362292758:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8300007136),n=e(5534420337);function s(){const{getState:r}=(0,t.Pj)();return(0,n.Ay)({getState:r})}i(s,"useLogger")},5204962244:(Q,C,e)=>{"use strict";e.d(C,{d:()=>n});var t=e(3134334389);function n(s){const r=(0,t.useRef)();return r.current===void 0&&(r.current=s()),r.current}i(n,"useRefCreator")},3107743571:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>n});var t=e(3134334389);const n=i(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const o=(0,t.useRef)(),a=(0,t.useCallback)(()=>{const l=o.current;l&&(window.clearTimeout(l),o.current=void 0)},[]);return(0,t.useEffect)(()=>(a(),o.current=window.setTimeout(s,r),a),[s,a,r].concat(d)),a},"useTimeout")},4003148341:(Q,C,e)=>{"use strict";e.d(C,{x:()=>s});var t=e(8300007136),n=e(3855029223);function s(){const{getState:r}=(0,t.Pj)();return(0,n.E)({getState:r})}i(s,"useTracer")},5519459863:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(8300007136),n=e(2047021170),s=e(387484329),r=e(2562405183);function d(o){const a=(0,t.wA)();return[(0,r.d4)(l=>(0,n.ty)(l,o)),l=>a((0,s.AZ)({pref:o,value:l}))]}i(d,"useUserPref")},3320454392:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){const s=i(()=>{window.Cypress||n()},"unloadHandler");window.addEventListener("beforeunload",s)}i(t,"addUnloadHandler")},9853754481:(Q,C,e)=>{"use strict";e.d(C,{Ep:()=>d,n2:()=>a,Ay:()=>m});var t=e(6313685253),n=e(7299481592);const s=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,d=6;function o(c){let _=1;for(;_*2<c;)_*=2;return _}i(o,"getPowerof2LessThan");function a(c){let p=.01;for(const h of c)p=Math.max(p,(h-128)/128);const u=(Math.log(.01)-Math.log(p))/Math.log(.01);return Math.min(Math.max(u,0),1)}i(a,"computeStrength");function l(c){return(0,t.A)(c,(_,p)=>{const u=p.getSettings().sampleRate;return u!==void 0&&_!==void 0?Math.max(_,u):u},void 0)}i(l,"getMaxTrackSampleRate");let m=i(class{getLevel(){var _;return(_=this.analyserNode)===null||_===void 0||_.getByteTimeDomainData(this.data),a(this.data)/d}stop(){var _;if(this.analyserNode){var p;(p=this.audioNode)===null||p===void 0||p.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(_=this.audioCtx)===null||_===void 0||_.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(_,p){(0,n.M)(p>=0,"Level poll interval must be positive"),this.audioCtx=new s;const u=_.getAudioTracks();(0,n.M)(!!u.length,"Need audio tracks to run analyser");const E=(l(u)||48e3)*p/1e3,A=Math.max(32,Math.min(32768,o(E)));this.data=new Uint8Array(A),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=A,this.audioNode=this.audioCtx.createMediaStreamSource(_),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},1829947126:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6267571562);class n{createPublisher(d){return this.publishers[d]=new t.G,this.publishers[d]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(d,o){const a=this.publishers[d];a&&a.publish(o)}publishAll(d,o){var a;const l={peerId:d,value:o};(a=this.allPublisher)===null||a===void 0||a.publish(l)}subscribe(d,o){(this.publishers[d]||this.createPublisher(d)).subscribe(o)}subscribeAll(d){this.createAllPublisher().subscribe(d)}unsubscribe(d,o){const a=this.publishers[d];a&&a.unsubscribe(o)}constructor(){this.publishers={}}}i(n,"PeerPubSub");const s=new n},9009528296:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6267571562);const n=new t.G},5046160032:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2016742660);const n=window.navigator&&typeof window.navigator.sendBeacon=="function";function s(r){let{apiUrl:d,method:o,token:a,args:l={},versionTs:m="",versionUid:c=""}=r,_=!1;const p=(0,t.DI)();let u=`${d}${o}?_x_id=${c.substring(0,8)}-${Date.now()/1e3}`;p!==null&&(u+=`&fp=${p}`);const h=new FormData;if(h.append("token",a),Object.keys(l).forEach(E=>h.append(E,l[E])),n)_=navigator.sendBeacon(u,h);else{const E=new XMLHttpRequest;E.addEventListener("load",()=>{const{readyState:A,status:v,DONE:f}=E;A===f&&v===200&&(_=!0)}),E.open("POST",u,!0),E.setRequestHeader("X-Slack-Version-Ts",m),E.send(h)}return _}i(s,"beaconApiCall")},8935621861:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(9706240641),n=e(6273911963),s=e(9687310625);function r(h){return d.apply(this,arguments)}i(r,"fetchNearestChimeMediaRegion");function d(){return d=(0,t.coroutine)(function*(h){const E=new n.A({url:h?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const A=yield new s.Ay().q(E);return JSON.parse(A).region}catch{return""}}),d.apply(this,arguments)}i(d,"_fetchNearestChimeMediaRegion");var o=e(6422693406),a=e(3390261877),l=e(3320454392),m=e(504058561),c=e(322597465),_=e(796111729);let p=i(class qs{writeRegions(E,A){const v=A?qs.GOV_REGION_STORAGE_KEY:qs.REGION_STORAGE_KEY,f={regions:E,timestamp:Date.now(),version:qs.VERSION};try{localStorage.setItem(v,JSON.stringify(f))}catch(g){(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",g.message)}}readRegions(E){const A=E?qs.GOV_REGION_STORAGE_KEY:qs.REGION_STORAGE_KEY,v=localStorage.getItem(A);if(!v)return null;let f=null;try{f=JSON.parse(v)}catch(g){return(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",g.message),null}return f.version!==qs.VERSION||this.ttl&&Date.now()-f.timestamp>this.ttl?null:f}constructor(E){this.ttl=E}},"ChimeRegionStorage");p.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",p.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",p.VERSION=1;let u=i(class Fs{static getInstance(){return Fs.instance||(Fs.instance=new Fs),Fs.instance}getNearestChimeMediaRegion(E){var A=this;return(0,t.coroutine)(function*(){return(E?(0,c.H)(E):!1)?A.getNearestChimeGovMediaRegion():A.getNearestChimeCommercialMediaRegion()})()}getNearestChimeCommercialMediaRegion(){var E=this;return(0,t.coroutine)(function*(){if(!E.commercialRegions){const A=E.storage.readRegions(!1);A&&(E.commercialRegions=A.regions)}return E.commercialRegions?E.commercialRegions:E.remoteGetNearestChimeMediaRegion(!1)})()}getNearestChimeGovMediaRegion(){var E=this;return(0,t.coroutine)(function*(){if(!E.govRegions){const A=E.storage.readRegions(!0);A&&(E.govRegions=A.regions)}return E.govRegions?E.govRegions:E.remoteGetNearestChimeMediaRegion(!0)})()}remoteGetNearestChimeMediaRegion(E){var A=this;return(0,t.coroutine)(function*(){const v=yield o.S.resolve(r(E));return E?A.govRegions=v:A.commercialRegions=v,A.storage.writeRegions(v,E),v})()}init(){if(this.initialized)return 0;this.initialized=!0;const E=(0,m.z$)();let A=Fs.INITIAL_LOAD_DELAY;const v=this.storage.readRegions(E);v&&(E?this.govRegions=v.regions:this.commercialRegions=v.regions,A=Math.max(Fs.INITIAL_LOAD_DELAY,Fs.REFRESH_INTERVAL-(Date.now()-v.timestamp)));var f=this;const g=setTimeout((0,t.coroutine)(function*(){yield f.remoteGetNearestChimeMediaRegion(E);const y=new a.A(Fs.REFRESH_INTERVAL);y.start((0,t.coroutine)(function*(){yield f.remoteGetNearestChimeMediaRegion(E)})),(0,l.A)(()=>{y.stop()})}),A);return(0,l.A)(()=>{clearTimeout(g)}),A}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new p(Fs.REFRESH_INTERVAL)}},"ChimeRegionProvider");u.REFRESH_INTERVAL=3*24*60*60*1e3,u.INITIAL_LOAD_DELAY=5*1e3},3390261877:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});let t=i(class{start(s){this.stop(),this.timer=setInterval(s,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(s){this.intervalMs=s,this.timer=null}},"IntervalScheduler")},6728003438:(Q,C,e)=>{"use strict";e.d(C,{F4:()=>P,GC:()=>W,lP:()=>B,no:()=>I});var t=e(9113979368),n=e(6533394955),s=e(4423055085),r=e(8847766420),d=e(3346431019),o=e(3855029223),a=e(2250002584),l=e(796111729),m=e(3158767748),c=e(8802876335),_=e(4798756512);const p="RTM-EVENT-METRICS",u=4;let h=!1,E;const A=50;function v(){return h?!0:(0,d.A)()?(E===void 0&&(E=(0,m.A)(A),E&&(0,l.Wo)({label:p}).info("Metrics collection enabled for the current interval.")),E):!1}i(v,"shouldSampleForInterval");let f={},g={},y={},T={},M={},O={};function I(F){let{teamOrEnterpriseId:j,rtmEventType:J,rtmEventSubtype:X,duration:q,msgs:G,fromEvtLog:ne}=F;var te;if(!v())return;const le=(0,r.Kc)((te=(0,n.getStoreOrSharedStoreInstanceByTeamOrEnterpriseId)(j))===null||te===void 0?void 0:te.getState());if(!le)return;const he=J==="message"?`message/${X}`:J;ne&&D({bucket:M,teamOrEnterpriseId:le,eventType:he,value:G.length}),D({bucket:g,teamOrEnterpriseId:le,eventType:he,value:1}),D({bucket:y,teamOrEnterpriseId:le,eventType:he,value:G.length}),D({bucket:T,teamOrEnterpriseId:le,eventType:he,value:q})}i(I,"incrementMetrics");function D(F){let{bucket:j,teamOrEnterpriseId:J,eventType:X,value:q}=F;var G;const ne=(G=j[J])!==null&&G!==void 0?G:{};var te;const le=(te=ne[X])!==null&&te!==void 0?te:0;ne[X]=le+q,j[J]=ne}i(D,"incrementBucket");function P(F,j){if((0,t.A)(y)&&(0,t.A)(f)){L();return}const J=Object.keys({...y,...f}),X=setInterval(()=>{const q=(0,l.Wo)({label:p}),G=J.pop();if(!G){q.info("Completed metrics aggregation",{traceId:F.getTraceId()}),clearInterval(X);return}q.info(`Sending metric report for id: ${G}`),V({teamOrEnterpriseId:G,clientMetricsTrace:F,performanceTracingTags:j}),R({teamOrEnterpriseId:G,clientMetricsTrace:F,performanceTracingTags:j}),S(G)},1e3)}i(P,"reportRtmMetrics");function k(F,j){const J=(0,n.getStateByTeamId)(F);return{...j,metric_version:u,slow_connection_count:(0,c.d4)(J)}}i(k,"getMetricsTraceMetatags");function R(F){let{teamOrEnterpriseId:j,clientMetricsTrace:J,performanceTracingTags:X}=F;const q=f[j];if(!q)return;const G=(0,o.E)({teamOrEnterpriseId:j}),ne=G.createMetricsTrace({label:"rtm_incoming",tags:k(j,X),traceId:J.getTraceId(),parentSpanId:J.getRootSpanId()});var te;const le=(te=O[j])!==null&&te!==void 0?te:{};let he=0,fe=0;Object.entries(q).forEach(ve=>{let[me,oe=0]=ve;var N;const K=(N=le[me])!==null&&N!==void 0?N:0;he+=oe,fe+=K,ne.store({name:"rtm_incoming:event_count",value:oe}).addTags({event_type:me,eventlog_count:K,socket_count:oe-K})}),ne.store({name:"rtm_incoming:total_event_count",value:he}),ne.store({name:"rtm_incoming:total_event_count:socket",value:he-fe}),ne.store({name:"rtm_incoming:total_event_count:eventlog",value:fe}),(0,l.Wo)({label:p}).info(`${j} total incoming event count: ${he}`),G.reportTrace(ne)}i(R,"maybeReportRawEventCount");function V(F){let{teamOrEnterpriseId:j,clientMetricsTrace:J,performanceTracingTags:X}=F;const q=y[j];if(!q)return;const G=(0,o.E)({teamOrEnterpriseId:j}),ne=G.createMetricsTrace({label:"rtm_dispatch",tags:k(j,X),traceId:J.getTraceId(),parentSpanId:J.getRootSpanId()});var te;const le=(te=g[j])!==null&&te!==void 0?te:{};var he;const fe=(he=T[j])!==null&&he!==void 0?he:{};var ve;const me=(ve=M[j])!==null&&ve!==void 0?ve:{};let oe=0,N=0;Object.entries(q).forEach(K=>{let[x,b]=K;const z=le[x],$=fe[x];if(z===void 0||$===void 0)return;var Z;const U=(Z=me[x])!==null&&Z!==void 0?Z:0;oe+=b,N+=U,ne.store({name:"rtm_dispatch:duration",value:$}).addTags({event_type:x,total_events:b,total_batches:z,per_event_duration:$/b,eventlog_count:U,socket_count:b-U})}),ne.store({name:"rtm_dispatch:total_event_count",value:oe}),ne.store({name:"rtm_dispatch:total_event_count:socket",value:oe-N}),ne.store({name:"rtm_dispatch:total_event_count:eventlog",value:N}),(0,l.Wo)({label:p}).info(`${j} total dispatch event count: ${oe}`),G.reportTrace(ne)}i(V,"maybeReportEventMetrics");function B(F){let{teamId:j,msgs:J}=F;if(!v())return;const X=(0,n.getStateByTeamId)(j);var q;const G=(q=(0,r.Kc)(X))!==null&&q!==void 0?q:j,ne=J.reduce((te,le)=>(!le||!le.type||(te[le.type]?te[le.type]+=1:te[le.type]=1),te),{});Object.entries(ne).forEach(te=>{let[le,he]=te;D({bucket:f,teamOrEnterpriseId:G,eventType:le,value:he}),D({bucket:O,teamOrEnterpriseId:G,eventType:le,value:he})})}i(B,"countRawEventsVolumeFromEventLog");function W(F){let{teamId:j,msg:J}=F;if(!v()||!J||!J.type)return;const X=(0,n.getStateByTeamId)(j);var q;const G=(q=(0,r.Kc)(X))!==null&&q!==void 0?q:j;D({bucket:f,teamOrEnterpriseId:G,eventType:J.type,value:1})}i(W,"countRawEventVolume");function L(){E=void 0,f={},y={},g={},T={},M={},O={},(0,l.Wo)({label:p}).info("Metrics collection sampling has been reset.")}i(L,"resetAllCollections");function S(F){E=void 0,delete f[F],delete y[F],delete g[F],delete T[F],delete M[F],delete O[F],(0,l.Wo)({label:p}).info(`Metrics collection sampling has been reset for id: ${F}`)}i(S,"resetCollections");const H=i(()=>({rawEventCountBuckets:f,eventCountBuckets:y,batchCountBuckets:g,durationBuckets:T,eventLogEventCountBuckets:M,eventLogRawEventCountBuckets:O}),"debugGetBuckets");(0,s.ul)("rtmEventMetrics",{debugGetBuckets:H,debugToggleSampling:()=>{h=!h,L(),(0,l.Wo)({label:p}).info(`Interval sampling: ${h?"ON":"OFF"}`)},debugReportMetrics:()=>{const F=(0,a.F)(),j=F.createMetricsTrace({samplingOptions:{sampleType:_.tS.ALWAYS}});P(j,{}),F.reportTrace(j)}}),Object.defineProperty({resetAllCollections:L,debugGetBuckets:H,reportRtmMetrics:P,intervalSampleCache:E},"intervalSampleCache",{get:()=>E,set:F=>{E=F}})},3945243579:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(5950652755),n=e(796111729);let s=!1;const r=i(m=>{var c;if(!m)return;let _="";const p=m.srcElement||m.target,u=n.Wo&&(0,n.Wo)();if(p&&p.nodeName){if(p.nodeName==="SCRIPT"){const A=p.src;_=`[${m.type||"error"}] from script at ${A} (failed to load?)`}else if(p.nodeName==="IMG"){const A=p.src||p.currentSrc||"unknown";u.warn(`<img> fired error with url = ${A}`);return}}if(m.message==="ResizeObserver loop limit exceeded"||m.message==="ResizeObserver loop completed with undelivered notifications"){u.warn("ResizeObserver observation target modified in handler");return}if(m.message==="can't access dead object"||m.message==="rambox is not defined")return;if(m.error&&m.error.stack&&(_+=` ${m.error.stack}`),m.filename){const A=m.filename,v=m.lineno,f=m.colno;_+=` from ${A}`,v&&(_+=` @ line ${v}, col ${f}`)}let h;if(m.error&&m.error.stack?h=_:h=`${m.message||""} ${_}`,h&&h.replace&&(h=h.replace(/\s+/g," ").trim()),!h||!h.length)if(p){const A=p.nodeName||"unknown";if(A==="VIDEO")return;h=`error event from node of ${A}, no message provided?`}else h="error event fired, no relevant message or node found";h=`\u{1F41E} ${h}`;const E=((c=m.error)===null||c===void 0?void 0:c.subtype)||"js_runtime_error";d({error:m.error||m,msg:h,subtype:E})},"globalErrorHandler");function d(m){const{error:c,msg:_,subtype:p}=m,u={subtype:p};(0,n.Wo)().error(c,_,u)}i(d,"logError");const a=i(m=>{const c=m||window;if(s)return;c.bootGlobalErrorHandler&&(c.removeEventListener("error",c.bootGlobalErrorHandler,!0),c.removeEventListener("unhandledrejection",c.bootGlobalUnhandledRejectionHandler),delete c.bootGlobalErrorHandler,delete c.bootGlobalUnhandledRejectionHandler);const _=!0,p=(0,t.A)(r,1e4);c.addEventListener("error",p,_),c.addEventListener("unhandledrejection",u=>{var h;const E=u==null||(h=u.detail)===null||h===void 0?void 0:h.reason;E&&E instanceof Error&&(E.constructor!==Error||E.subtype)&&r({error:E,filename:"promise_rejection"})}),s=!0},"registerGlobalErrorHandler"),l={globalErrorHandler:r};Object.defineProperty(l,"logError",{get:()=>d,set:m=>{d=m}}),Object.defineProperty(l,"hasRegisteredGlobalErrorHandler",{get:()=>s,set:m=>{s=m}})},7542104324:(Q,C,e)=>{"use strict";e.d(C,{dj:()=>rt,d1:()=>it,uH:()=>et,bo:()=>ot,lI:()=>Ft,sw:()=>rn,mt:()=>Jt,rH:()=>Ue});var t=e(9706240641),n=e(6422693406),s=e(3398586081),r=e(7715417323),d=e(796111729),o=e(1031947056),a=e(6533394955),l=e(8847766420),m=e(5795074931),c=e(8003339552),_=e(1658558415),p=e(4423055085),u=e(8352634987),h=e(4096483543),E=e(8233775522),A=e(6728003438),v=e(3078252698),f=e(9101533895),g=e(7042557635),y=e(4446301238),T=e(8040098042),M=e(7334104107),O=e(1407713935),I=e(9884588328);function D(Ne,He,Je){return!Ne.text||!(M.$2.test(Ne.text)||M.Oh.test(Ne.text)||M.K0.test(Ne.text)||M.y7.test(Ne.text))||!(0,f.hh)(Je(),Ne.channel)?n.K.resolve():He((0,g.L)({channelId:Ne.channel})).catch(r.A)}i(D,"maybeEnsureMemberCount");let P=function(){var Ne=(0,t.coroutine)(function*(He,Je){const ft=Je(),Kt=i(function(){for(var Ln=arguments.length,It=new Array(Ln),qe=0;qe<Ln;qe++)It[qe]=arguments[qe];return(0,a.dispatchForTeamId)((0,l.ZT)(ft),...It)},"dispatch"),St=He.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${He.type} and subtype: ${He.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${He.type}`,An=(0,v.A)(He.channel)&&(0,T.A)(He.channel)&&!(0,f.hh)(ft,He.channel)?Kt((0,y.pX)({ids:[He.channel],reason:St,callSource:y.aI.EnsureModelObsArePresent})):n.K.resolve();yield n.K.all([An,D(He,Kt,Je)]).catch(r.A)});return i(function(Je,ft){return Ne.apply(this,arguments)},"ensureModelObsInMessageArePresent")}();function k(Ne,He){return R.apply(this,arguments)}i(k,"ensureModelObsInMessageAreOpen");function R(){return R=(0,t.coroutine)(function*(Ne,He){if(Ne.subtype)return;const Je=!1,ft=(0,f.OL)(He(),Ne.channel,Je);ft&&(0,O.JM)(ft)&&((0,I.nT)(ft)||(yield(0,a.dispatchForTeamId)((0,l.ZT)(He()),(0,y.jP)({channel:ft.id,reason:"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))))}),R.apply(this,arguments)}i(R,"_ensureModelObsInMessageAreOpen");function V(Ne,He){return B.apply(this,arguments)}i(V,"preprocessRtmMessage");function B(){return B=(0,t.coroutine)(function*(Ne,He){if(Ne.type==="message")try{yield P(Ne,He),yield k(Ne,He)}catch{}}),B.apply(this,arguments)}i(B,"_preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:D,ensureModelObsInMessageAreOpen:k},"ensureModelObsInMessageArePresent",{get:()=>P,set:Ne=>{P=Ne}});var L=e(5154341017),S=e(6890312250),H=e(2240330919),w=e(5238395322),F=e(9190452268),j=e(2250002584),J=e(3158767748),X=e(4798756512),q=e(2791814261);const G=7;let ne;const te=[],le=[];let he,fe;(0,p.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:te.concat(he),backgroundTeams:le.concat(fe)}}));const ve=(0,s.A)(()=>(0,J.A)(1)||(0,q.c)());function me(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,h.A)()||!ve())return;const He=Math.floor(Date.now()/1e3);if(ne!==He){let Je=0;if(ne){const ft=He-ne;ft>60?(he=void 0,fe=void 0,te.length=0,le.length=0):ft>1&&(Je=He-ne)}if(ne=He,he!==void 0){te.push(he),le.push(fe);for(let Kt=0;Kt<Je;Kt++)te.push(0),le.push(0);const ft=15*60;if(te.length>=ft){const Kt=(0,F.rh)(),St=(0,L.A)((0,S.A)(te),1),cn=(0,H.A)(te)||0,An=(0,w.A)(te);(0,d.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${An} total, ${cn} per second at peak, ${St} per second average`);const It={is_count:!0,allow_zero:!0};Kt.store(`rtm_nq_at${G}_avg`,St,It),Kt.store(`rtm_nq_at${G}_max`,cn,It),Kt.store(`rtm_nq_at${G}_total`,An,It),te.length=0,le.length=0}}he=0,fe=0}he=(he||0)+Ne}i(me,"maybeMeasureEnqueueVelocity");let oe=0,N=0,K=Date.now(),x=Date.now();const b=5*60*1e3;function z(Ne){const He=Date.now();oe=Math.max(oe,Ne.length),K+b<He&&((0,F.rh)().count("rtm_queue_length_max",oe),oe=0,K=He)}i(z,"maybeMeasureMaxQueueLength");function $(Ne){const Je=Ne[0]._enqueuedAt,ft=Date.now(),Kt=Je&&ft-Je;if(N=Kt?Math.max(N,Kt):N,x+b<ft){const St=(0,j.F)(),cn=St.createMetricsTrace({label:"rtm_queue"});cn.store({name:"rtm_queue_delay_max",value:N}),St.reportTrace(cn),N=0,x=ft}}i($,"maybeMeasureMaxQueueDelay");function Z(Ne,He){const Je=(0,j.F)(),ft=Je.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:X.tS.CALL,sampleRate:.01}}),Kt=He?`${Ne}/${He}`:Ne;ft.count({name:`rtm_state_modified:${Kt}`}),Je.reportTrace(ft)}i(Z,"countRTMStateModified");var U=e(7578217447),ee=e(5071086688),se=e(5470425448),de=e(4761125736),ue=e(1462104702),_e=e(8634352961),pe=e(1763226059);const ae="RTM",Ee=100;let Le={};const ye=i(function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Le[`${Ne}${He?`_${He}`:""}`]||1},"getCurrentMaxBatchSize"),Te=i(function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;Le[`${Ne}${He?`_${He}`:""}`]=Je},"setCurrentMaxBatchSize");let Ae=!1;const Ie={},Ue=i(Ne=>{Ae=Ne},"setIsActiveHuddle"),Be=i(Ne=>{let{teamOrEnterpriseId:He,msg:Je}=Ne;Ie[He]||(Ie[He]=[]),Ie[He].push(Je)},"queueUntilHuddleEnds"),we=i(Ne=>{const He=Ie[Ne];Ie[Ne]=[],He.length&&Ft(Ne,He)},"drainHuddleQueue"),re=16;let ge={},De={},be={},xe={};function Re(Ne){var He;return(He=De[Ne])!==null&&He!==void 0?He:ge[Ne]}i(Re,"getHandler");function je(Ne){return Ne.__isShared}i(je,"isSharedHandler");function Ge(Ne){return Ne.teamOrEnterpriseId}i(Ge,"getTeamOrEnterpriseId");function Qe(Ne){let{messages:He,teamOrEnterpriseId:Je}=Ne;if(He.msgs.length===0)return;const ft=Re(He.rtmEventType);if(ft)return{handler:ft,messages:He,teamOrEnterpriseId:Je}}i(Qe,"getRoutedHandler");function Xe(Ne,He){if(be[Ne]){const ft=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${Ne}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${Ne}`;throw new Error(ft)}be[Ne]=He}i(Xe,"addRtmErrorHandler");function et(Ne,He){lt({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:Ne});const Je=Object.assign(He,{__isShared:!0});De[Ne]=Je}i(et,"addSharedRtmHandler");function rt(Ne,He){lt({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:Ne}),ge[Ne]=He}i(rt,"addBatchRtmHandler");function it(Ne,He){rt(Ne,(Je,ft,Kt)=>{for(const St of Je)He(St,ft,Kt)})}i(it,"addRtmHandler");function lt(Ne){let{functionName:He,handlersName:Je,rtmEventType:ft}=Ne;if(!ge[ft]&&!De[ft])return;const St=(0,c.A)()||(0,_.A)()?`${He}: duplicate call to add a handler for ${ft}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Je}', {});\` to work around it.`:`${He}: a handler is already registered for ${ft}`;throw new Error(St)}i(lt,"throwIfHandlerRegistered");function ot(Ne){return!!ge[Ne]}i(ot,"doesHandlerExist");function Et(){return ge}i(Et,"debugGetHandlers");function At(){return xe}i(At,"debugGetPendingMessages");const Ot=(0,s.A)(Ne=>{var He;if(!(0,pe.M)())return!1;const Je=(He=(0,a.getStoreInstanceByTeamId)(Ne))===null||He===void 0?void 0:He.getState();return Je&&(0,de._Z)(Je,"profile_rtm")==="on"});let Rt=null,yt={},Mt=null;function en(){yt={},Rt=new Profiler({maxBufferSize:1e4,sampleInterval:0}),Rt.addEventListener("samplebufferfull",i(function(){const He=this.sampleInterval,Je=yt;this.stop().then(ft=>{const Kt=performance.timeOrigin;for(const[St,cn]of Object.entries(Je)){if(!cn.length)continue;const An=new Date(Kt+cn[0].start),Ln=new Date(Kt+cn[cn.length-1].end);(0,ue.l)("rtm",St,(0,pe.W)(ft,cn),{from:An,until:Ln,sample_interval:He})}}),en()},"samplebufferfull"))}i(en,"startProfiling");let Tt=!1;function xt(Ne){try{if(Tt||!Ot(Ne))return;Rt||en(),Mt=performance.now()}catch(He){Tt=!0,(0,d.Ay)({label:ae,teamOrEnterpriseId:Ne}).warn("Unable to begin profiled section",He)}}i(xt,"beginProfiledSection");function bt(Ne){!Rt||Mt===null||(Ne in yt||(yt[Ne]=[]),yt[Ne].push({start:Mt,end:performance.now()}),Mt=null)}i(bt,"endProfiledSection");function nn(Ne){const{rtmEventType:He,rtmEventSubtype:Je,msgs:ft,fromEvtLog:Kt}=Ne.messages,St=Ge(Ne),cn=(0,d.Ay)({label:ae,teamOrEnterpriseId:St});xt(St);const An=performance.now();try{u.Ay.pauseRefetchIndefinitely();const qe=Ne.handler,ct=(0,a.getStoreInstanceByTeamId)(Ne.teamOrEnterpriseId),vt=ct==null?void 0:ct.getState();je(qe)?qe(ft,Ne.teamOrEnterpriseId):qe(ft,ct.dispatch,ct.getState);const Oe=ct==null?void 0:ct.getState();vt!==Oe&&Z(He,Je)}catch(qe){throw cn.error(`Error processing ${He}: ${qe.message}`),qe}finally{u.Ay.unpauseRefetchImmediately()}const Ln=performance.now();bt(St);const It=Ln-An;try{(0,A.no)({teamOrEnterpriseId:St,rtmEventType:He,rtmEventSubtype:Je,duration:It,msgs:ft,fromEvtLog:Kt}),ee.A.publish({type:se.lx.RtmMetrics,update:It})}catch{}if(It>re){let qe=`Processed ${ft.length} ${He}`;Je&&(qe+=`:${Je}`),qe+=" event(s)";const ct=[];ft.forEach(vt=>{var Oe;const Y=(Oe=vt)===null||Oe===void 0?void 0:Oe.channel;Y&&ct.push(Y)}),ct.length&&(qe+=` in channel(s) ${ct.join(",")}`),qe+=` over ${It.toFixed(2)}ms`,cn.info(qe)}}i(nn,"dispatchMessages");const dn=50,Xt=100,jt=.75,_n=1.1;function ze(Ne){return Ne>dn}i(ze,"shouldDefer");function Dt(Ne){return hn.apply(this,arguments)}i(Dt,"preprocessRtmMessagesWithTimeout");function hn(){return hn=(0,t.coroutine)(function*(Ne){let{msgs:He,getState:Je}=Ne;const ft={},Kt=3e4,St=n.S.delay(Kt,ft),cn=n.S.map(He,Ln=>V(Ln,Je).catch(r.A),{concurrency:1});(yield n.S.race([cn,St]))===ft&&(0,d.Ay)({getState:Je}).warn("Preprocessing messages took too long; continue to process queue")}),hn.apply(this,arguments)}i(hn,"_preprocessRtmMessagesWithTimeout");function yn(Ne){return ht.apply(this,arguments)}i(yn,"routeMessages");function ht(){return ht=(0,t.coroutine)(function*(Ne){let{messages:He,teamOrEnterpriseId:Je,elapsed:ft}=Ne;const Kt=Qe({messages:He,teamOrEnterpriseId:Je});return!Kt||gn(Je)?ft:Bt({routedHandler:Kt,elapsed:ft})}),ht.apply(this,arguments)}i(ht,"_routeMessages");function Bt(Ne){return wt.apply(this,arguments)}i(Bt,"dispatchMessagesWithPreprocessing");function wt(){return wt=(0,t.coroutine)(function*(Ne){let{routedHandler:He,elapsed:Je}=Ne;const ft=performance.now(),Kt=(0,a.getStoreInstanceByTeamId)(He.teamOrEnterpriseId);yield Dt({msgs:He.messages.msgs,getState:Kt.getState});const St=performance.now();nn(He);let cn=Je;return St-ft>dn&&(cn=0),cn+=performance.now()-St,cn}),wt.apply(this,arguments)}i(wt,"_dispatchMessagesWithPreprocessing");function Qt(Ne){return mn.apply(this,arguments)}i(Qt,"handleNextMessageFromQueue");function mn(){return mn=(0,t.coroutine)(function*(Ne){let{queue:He,teamOrEnterpriseId:Je,elapsed:ft=0}=Ne;for(var Kt;He&&He.length>0&&!(!((Kt=He[0])===null||Kt===void 0)&&Kt.type);)He.shift();if(!He||!He.length)return n.S.resolve();const St=(0,d.Ay)({teamOrEnterpriseId:Je,label:ae});try{z(He),$(He)}catch{}const cn=He[0].type,An=He[0].subtype,Ln=(0,U.Wu)(He[0]);let It=ye(cn,An);const qe=[He[0]],ct=[];for(let Ce=1;Ce<He.length&&qe.length<It&&ct.length<It;Ce++)if(He[Ce].type===cn&&He[Ce].subtype===An)qe.push(He[Ce]);else if(U.Sj.has(He[Ce].type))ct.push(He[Ce]);else break;const vt=qe.length;vt>1&&St.debug(ae,`Batch processing ${vt} of type ${cn}, skipping ${ct.length} interleaved events ${ct.map(Ce=>Ce.type).join(",")}`);let Oe=ft;try{Oe=yield yn({messages:{rtmEventType:cn,rtmEventSubtype:An,msgs:qe,fromEvtLog:Ln},teamOrEnterpriseId:Je,elapsed:Oe})}catch(Ce){St.error(`Error while processing ${vt} ${cn} event(s)`,Ce)}finally{vt!==qe.length&&(St.error(`Message batch size for type (${cn}) changed during handling`),St.warn(`Original batch size: ${vt} Post-handler batch size: ${qe.length}`));const Ce=vt+ct.length;He.splice(0,Ce,...ct)}const Y=ze(Oe),ce=document.visibilityState==="visible";return It=ye(cn,An),ce&&(Y?It>1&&Oe>Xt&&(Te(cn,An,Math.max(1,Math.floor(It*jt))),St.debug(ae,`Maximum batch size decreased to ${ye(cn,An)}`)):It<Ee&&qe.length===It&&(Te(cn,An,Math.min(Ee,Math.ceil(It*_n))),St.debug(ae,`Maximum batch size increased to ${ye(cn,An)}`))),He.length?ce&&Y?n.S.delay(dn).then(()=>{Zt(Je)}):Qt({queue:He,teamOrEnterpriseId:Je,elapsed:Oe}):n.S.resolve()}),mn.apply(this,arguments)}i(mn,"_handleNextMessageFromQueue");let On=0,zt,nt=100;function mt(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,d.Wo)();if(zt)return;const He=Date.now()-On;if(He<nt){const Je=Math.min(nt-He,nt),ft=(0,h.A)()&&!(0,E.ko)((0,a.getStateForClientStore)());ft&&Ne.info(ae,`Setting a timeout of ${Je} ms to process more rtm events`),zt=window.setTimeout(()=>{zt=void 0,ft&&Ne.info(ae,`Waited ${Je} ms, processing more rtm events now`),Ct()},Je);return}Ct()}i(mt,"maybeDrainQueues");function Ct(){On=Date.now(),i(()=>{const He=Object.keys(xe);for(const Je of He)Zt(Je)},"drainQueuesFn")()}i(Ct,"drainQueues");function Zt(Ne){!xe[Ne]||!xe[Ne].length||Qt({queue:xe[Ne],teamOrEnterpriseId:Ne})}i(Zt,"drainQueue");function Ft(Ne,He){var Je;let ft=0;const Kt=He.filter(An=>An!=null&&An.type?Ae&&(0,_e.Zr)(An)?(Be({teamOrEnterpriseId:Ne,msg:An}),!1):((0,U.Wu)(An)||(ft+=1),!0):((0,d.Ay)({teamOrEnterpriseId:Ne,label:ae}).warn("Received attempt to enqueue an invalid message; dropping it",An),!1));try{me(ft)}catch{}xe[Ne]=xe[Ne]||[];const St=xe[Ne].length,cn=Date.now();for(const An of Kt)An._enqueuedAt=cn;xe[Ne].push(...Kt),!St&&xe[Ne].length>0&&mt(),!Ae&&(!((Je=Ie[Ne])===null||Je===void 0)&&Je.length)&&we(Ne)}i(Ft,"enqueueMessages");const Jt=(0,o.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(Ne,He,Je)=>{const ft=(0,l.ZT)(He()),Kt=Qe({messages:{rtmEventType:Je.type,rtmEventSubtype:Je.subtype,msgs:[Je],fromEvtLog:(0,U.Wu)(Je)},teamOrEnterpriseId:ft});Kt&&nn(Kt)});Jt.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const rn=(0,o.Ay)("Calls the relevant handler for the given message",(Ne,He,Je)=>{if(!be[Je]){if(Je&&Je.includes&&Je.includes("started_with_org_token")){var ft;(0,d.Ay)({getState:He}).error(new Error(`Unexpected start error: ${Je}`),JSON.stringify({error:Je,pathname:window==null||(ft=window.location)===null||ft===void 0?void 0:ft.pathname}),{subtype:"gs_start_error"})}else(0,d.Ay)({getState:He}).error(new Error(`Unexpected start error: ${Je}`),JSON.stringify({error:Je}),{subtype:"gs_start_error"});return}be[Je](Je,Ne,He)});rn.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function gn(Ne){const He=(0,a.getStateByTeamId)(Ne);return(0,m.wx)(He)&&!(0,m.$U)(He)}i(gn,"shouldIgnoreRtmStream");const Fe=(0,o.Ay)("Fake an RTM event for testing only",(Ne,He,Je)=>{const ft=(0,l.ZT)(He()),Kt=Qe({messages:{rtmEventType:Je[0].type,rtmEventSubtype:Je[0].subtype,msgs:Je,fromEvtLog:(0,U.Wu)(Je[0])},teamOrEnterpriseId:ft});Kt&&nn(Kt)});Fe.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const Ke={handleNextMessageFromQueue:Qt,shouldIgnoreRtmStream:gn,errorHandlers:be,handlers:ge,sharedHandlers:De,currentMaxBatchSize:Le,drainQueues:Ct,drainQueue:Zt,maybeDrainQueues:mt,queueDrainTimeout:zt,lastQueueDrainTimestamp:On,pendingMessages:xe};Object.defineProperty(Ke,"handleNextMessageFromQueue",{get:()=>Qt,set:Ne=>{Qt=Ne}}),Object.defineProperty(Ke,"errorHandlers",{get:()=>be,set:Ne=>{be=Ne}}),Object.defineProperty(Ke,"handlers",{get:()=>ge,set:Ne=>{ge=Ne}}),Object.defineProperty(Ke,"sharedHandlers",{get:()=>De,set:Ne=>{De=Ne}}),Object.defineProperty(Ke,"currentMaxBatchSize",{get:()=>Le,set:Ne=>{Le=Ne}}),Object.defineProperty(Ke,"drainQueues",{get:()=>Ct,set:Ne=>{Ct=Ne}}),Object.defineProperty(Ke,"drainQueue",{get:()=>Zt,set:Ne=>{Zt=Ne}}),Object.defineProperty(Ke,"maybeDrainQueues",{get:()=>mt,set:Ne=>{mt=Ne}}),Object.defineProperty(Ke,"queueDrainTimeout",{get:()=>zt,set:Ne=>{zt=Ne}}),Object.defineProperty(Ke,"lastQueueDrainTimestamp",{get:()=>On,set:Ne=>{On=Ne}}),Object.defineProperty(Ke,"pendingMessages",{get:()=>xe,set:Ne=>{xe=Ne}}),(0,p.ul)("rtm",{handlers:ge,errorHandlers:be,interceptHandler:(Ne,He)=>{const Je=ge[Ne];ge[Ne]=function(){for(var ft=arguments.length,Kt=new Array(ft),St=0;St<ft;St++)Kt[St]=arguments[St];He(Je,...Kt)}},getPendingMessages:()=>xe,globalQueue:{drainQueues:Ct,drainQueue:Zt,maybeDrainQueues:mt,getCurrentMaxBatchSize:()=>Le,setCurrentMaxBatchSize:Ne=>{Le=Ne},setQueueDrainInterval:Ne=>{nt=Ne}}})},5387083734:(Q,C,e)=>{"use strict";e.d(C,{IE:()=>h});var t=e(862210999),n=e(4518410378),s=e(796111729),r=e(4473827453),d=e.n(r),o;(function(E){E.Background="background",E.UserVisible="user-visible",E.UserBlocking="user-blocking"})(o||(o={}));const a=(0,s.Wo)({label:"SCHEDULER"}),l="scheduler"in n.J&&(0,t.A)(n.J.scheduler.postTask),m=50;let c=0,_=null;const p=i((E,A)=>{let{label:v,priority:f,delay:g}=A;if(!l)return E();c+=1;const y=performance.now();return n.J.scheduler.postTask(()=>{const T=performance.now(),M=T-y,O=_?T-_:0;_=T,M-g>m&&a.debug(`${v} task (${f}) executed with delay of ${Math.round(M)}ms and a configured delay of ${g}ms - time since last task: ${O}ms - Task queue length: ${c}`);const D=E();return c-=1,D},{priority:f,delay:g})},"runWithPriority"),u=i(()=>{if(l)return c},"getTaskQueueLength"),h=i((E,A,v)=>p(A,{label:E,priority:o.Background,delay:(v==null?void 0:v.delay)||0}),"runWithBackgroundPriority")},607974335:(Q,C,e)=>{"use strict";e.d(C,{Fh:()=>n,dz:()=>s,nB:()=>d,vq:()=>o});var t=e(9762304444);const n=(0,t.Ay)("TS.members.getMemberProfileFieldDisplayName",a=>a&&a.profile&&a.profile.display_name||""),s=(0,t.Ay)("TS.members.legacyUpsertAndSignal",()=>{throw new Error("Not implemented")}),r=(0,t.Ay)("TS.members.legacyGetPrefCompliantMemberNameLowerCase",()=>{throw new Error("Not implemented")}),d=(0,t.Ay)("TS.members.invalidateMembersUserCanSeeArrayCaches"),o=(0,t.Ay)("TS.members.presence_changed_sig.dispatch")},2180140255:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(1251564078),r=e(3202757386),d=e(735940183),o=e(268083624),a=e(1610251172),l=e(6084388622),m=e(5249175977),c=e(9874616273),_=e(5057176955),p=e(2786906754);function u(){return u=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(f[T]=y[T])}return f},u.apply(this,arguments)}i(u,"_extends");const h=new d.Ay("find_team");function E(f,g){if((0,r.A)())return(0,p.M6)(location.href,"locale",g);const y=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return f==="en-us"?y:`/intl/${f}${y}`}i(E,"getUrlForLocale");let A=i(class extends t.Component{render(){const{hideRegionPicker:g,showLogo:y,govSlackTheme:T,joinerRedesignTreatment:M}=this.props,O=(0,n.A)("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":T}),I=(0,n.A)("full_width",{"p-refreshed_page__full_width_footer":M}),D=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(l.jV,{href:(0,s.v)("/legal"),className:O,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},h.rt("Privacy & Terms")),t.createElement(l.jV,{href:(0,s.v)("/help/requests/new"),className:O,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},h.rt("Contact Us")),!g&&t.createElement(m.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:P=>t.createElement(m.AM,u({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:h.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0},P),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},h.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},h.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:h.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:h.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:h.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(k=>{let{title:R,locales:V}=k;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:R},t.createElement("div",{className:"bold margin_bottom_50"},R),V.map(B=>{let{locale:W,geocode:L,name:S}=B;return t.createElement(l.jV,{key:W,href:E(L,W),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:W,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:W,geocode:L})},S)}))}))))},t.createElement("div",null,t.createElement(l.jV,{onClick:this.onClickChangeRegion,href:"#",className:O,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(a.A,{type:"globe",size:"inherit",className:"margin_right_25"}),h.rt("Change region"),t.createElement(a.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:I},t.createElement("div",{className:(0,n.A)("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":T})},t.createElement(t.Fragment,null,y&&t.createElement(c.A,{width:80,height:20,className:"p-app_slack_logo"}),D)))}constructor(g){super(g),this.onClickChangeRegion=y=>{y.preventDefault()},this.onClickLocale=y=>{let{locale:T,geocode:M}=y;return()=>{const O=(0,_.LL)((0,o.v8)("c")||"")||{};O.geocode=M;const I=(0,_.Zf)(O,{space:""});(0,o.n0)("i18n_locale",T,365*10,"slack.com"),I&&(0,o.n0)("c",I,365*10,"slack.com")}},this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");A.displayName="RefreshedFooter";const v=A},2308565927:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(5255740490);const s=i(d=>{let{children:o,heading:a,subHeading:l,titleImage:m,headingClassName:c,subHeadingClassName:_,dataQa:p,showFullWidthContent:u,className:h,isSharedWorkspaceInvite:E}=d;return t.createElement("div",{className:(0,n.A)("p-refreshed_page",{"p-refreshed_page--workspace":E,full_width:u},h),"data-qa":p},m&&m,a&&t.createElement("h1",{className:(0,n.A)("p-refreshed_page__heading",c,{margin_bottom_200:!l,full_width:u,"p-refreshed_page__heading--workspace":E})},a),l&&t.createElement("div",{className:(0,n.A)("p-refreshed_page__sub_heading",_,{full_width:u})},l),o)},"RefreshedPageContent");s.displayName="RefreshedPageContent";const r=s},9539184071:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(3134334389),n=e(2301861866),s=e.n(n),r=e(5255740490),d=e(6764196364),o=e(735940183),a=e(8739505998),l=e(6176558010),m=e(2527471159),c=e.n(m),_=e(7972463975),p=e.n(_),u=e(9994038664),h=e.n(u),E=e(8214116048);const A=new o.Ay("refreshed_header"),v={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},f={elementName:"header_signin",onClick:{enableClogAction:!0}},g={elementName:"header_create_account",onClick:{enableClogAction:!0}},y={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},T=c()&&p()?`${c()}, ${p()} 2x`:void 0,O=i(W=>{let{showSignInLink:L=!1,showCreateAccountLink:S=!1,showCreateWorkspaceLink:H=!1,showHorchataBackground:w=!1,confirmedEmailPill:F,hideLogo:j=!1,isSSBBrowserSignin:J=!1,showSfLogo:X=!1,isWarningBannerDisplayed:q=!1,govSlackTheme:G=!1,isLandingPage:ne=!1,clientTheme:te,joinerRedesignTreatment:le=!1}=W;return t.createElement("header",{className:(0,r.A)("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!F,"p-refreshed_page__header--is_horchata_landing_bg":w,"p-refreshed_page__header--no_logo":!!j,"p-refreshed_page__header--sf_slack_logo":X,"p-refreshed_page__header--display_warning_banner":q,"p-refreshed_page__header--gov_slack":G,"p-refreshed_page__header--landing":ne,"p-refreshed_page__full_background":le})},t.createElement("div",{className:"left-col"}),t.createElement("div",{className:"center-col"},X&&j&&t.createElement("img",{srcSet:T??void 0,src:c(),alt:""}),!j&&t.createElement(a.A,{href:(0,d.A)(),autoClogProps:v,target:"_self"},t.createElement("img",{alt:"Slack",src:G||te===E.Sx.Dark?h():s(),height:"26",title:"Slack"})),F),t.createElement("div",{className:"right-col"},L&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},A.t("Already have an account?"),t.createElement("br",null),t.createElement(a.A,{href:"/signin",className:"bold",autoClogProps:f,target:"_self"},A.t("Sign in instead"))),S&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},A.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(a.A,{href:`/signup${window.location.search}`,className:"bold",autoClogProps:g,target:"_self"},A.t("Create an account"))),H&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},A.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),t.createElement("br",null),t.createElement(a.A,{href:`${J?"/ssb":""}/get-started${window.location.search}#${l.EU.CreateNew}`,className:"bold",autoClogProps:y,target:"_self"},A.t("Create an account")))))},"RefreshedHeader");var I=e(2180140255),D=e(8178126019),P=e(7216810781);const k=i(W=>{let{inviteDetails:L,children:S}=W;return!L||!(0,D.YB)(L)?S:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(P.z,{invite:L,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},S))},"ExternalWorkspaceInviteBrandingWrapper");k.displayName="ExternalWorkspaceInviteBrandingWrapper";const R=k,V=i(W=>{let{children:L,showHorchataBackground:S,showSignInLink:H,showCreateAccountLink:w,showCreateWorkspaceLink:F,hideRegionPicker:j,clientTheme:J,hideFooter:X=!1,confirmedEmailPill:q,hideHeader:G=!1,isSSBBrowserSignin:ne=!1,showSfLogo:te=!1,isWarningBannerDisplayed:le=!1,govSlackTheme:he=!1,isLandingPage:fe=!1,joinerRedesignTreatment:ve=!1,inviteDetails:me}=W;return t.createElement(R,{inviteDetails:me},t.createElement(t.Fragment,null,!G&&t.createElement(O,{showSignInLink:H,showCreateAccountLink:w,showCreateWorkspaceLink:F,showHorchataBackground:S,confirmedEmailPill:q,isSSBBrowserSignin:ne,showSfLogo:te,hideLogo:te,isWarningBannerDisplayed:le,govSlackTheme:he,isLandingPage:fe,clientTheme:J,joinerRedesignTreatment:ve}),he?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},L):L,!X&&t.createElement(I.A,{hideRegionPicker:j,govSlackTheme:he,joinerRedesignTreatment:ve})))},"RefreshedPageLayout");V.displayName="RefreshedPageLayout";const B=V},6176558010:(Q,C,e)=>{"use strict";e.d(C,{EU:()=>n});var t=e(6244014364),n;(function(a){a.Start="/",a.Find="/find",a.Create="/create",a.CreateNew="/createnew",a.Confirm="/confirm",a.Check="/check",a.FindAgain="/find_again",a.Email="/email",a.Error="/error",a.ConfirmationCode="/confirmemail",a.DomainClaimed="/domain",a.Landing="/landing",a.ConfirmTrust="/confirmtrust",a.IgnoreInvite="/ignoreinvite",a.SignIn="/signin",a.Workspaces="/workspaces",a.SharedInviteLoggedOut="/sharedinvite",a.SharedInviteLanding="/sharedinvitelanding",a.SelectWorkspaces="/select",a.AppleSignIn="/apple",a.AddName="/addname"})(n||(n={}));var s;(function(a){a.SharedChannelInviteAlreadyAccepted="invite_used",a.SharedChannelInviteInvlidLink="invalid_link",a.DirectMessageInviteInactive="inactive_invite",a.Generic="generic"})(s||(s={}));const r={[n.Start]:t.UiStep.START_WITH_A_WORKSPACE,[n.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[n.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[n.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Check]:t.UiStep.CHECK_YOUR_EMAIL,[n.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Email]:t.UiStep.ENTER_EMAIL,[n.Confirm]:t.UiStep.ENTER_EMAIL,[n.Error]:t.UiStep.GET_STARTED_ERROR,[n.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[n.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[n.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[n.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[n.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[n.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[n.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[n.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[n.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[n.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[n.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[n.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var d;(function(a){a.Invited="invited",a.Joined="joined",a.Whitelisted="whitelisted"})(d||(d={}));var o;(function(a){a.Email="email",a.GoogleIdToken="google_id_token",a.Apple="apple_id_token"})(o||(o={}))},9490291234:(Q,C,e)=>{"use strict";e.d(C,{lS:()=>_,UU:()=>h,Ay:()=>A});var t=e(3134334389),n=e(344860614);function s(){return s=Object.assign||function(v){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])}return v},s.apply(this,arguments)}i(s,"_extends");const r=i(v=>{const f=v,g=t.forwardRef((y,T)=>{const M=(0,n.Zp)(),O=(0,n.wQ)(),I=(0,n.zy)(),D=(0,n.g)();return t.createElement(f,s({ref:T},y,{navigate:M,navigationType:O,location:I,params:D}))});return g.displayName=`withRouter(${f.displayName})`,g},"withRouter");r.displayName="withRouter";const d=r;var o=e(5255740490),a=e(735940183),l=e(1610251172),m=e(8739505998);const c=new a.Ay("team_creation");var _;(function(v){v.Unchecked="unchecked",v.Empty="empty-status",v.Processing="processing",v.Ratelimited="ratelimited",v.Expired="expired",v.RequestNewCode="request-new-code",v.Error="error",v.Blocked="ratelimited-blocked",v.GoogleTokenExpired="google-token-expired",v.Unknown="unknown",v.Success="success"})(_||(_={}));const u={RequestNewCode:"code_check_status_request_new_code_link"};class h extends t.Component{getStatusMessage(){const{status:f,onRequestNewCode:g}=this.props;let y=t.createElement(t.Fragment,null,t.createElement("i",{"aria-hidden":"true",className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},"\xA0"));switch(f){case _.Unchecked:y=t.createElement("span",{className:"small_desc"},c.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case _.Processing:y=t.createElement(t.Fragment,null,t.createElement(l.A,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.createElement("span",{className:"c-alert__message"},c.t("Checking your code...")));break;case _.Ratelimited:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,c.t("Whoa, you\u2019re going too fast!")),t.createElement("br",null),c.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case _.Error:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},c.t("That code wasn't valid. Give it another go!")));break;case _.Expired:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},c.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case _.Blocked:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,c.t("Temporarily blocked")),t.createElement("br",null),c.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case _.GoogleTokenExpired:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},c.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,T=>{let{text:M}=T;return t.createElement(m.A,{href:`/get-started${window.location.search}#create`},M)})));break;case _.RequestNewCode:g&&(y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},c.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},T=>{let{text:M}=T;return t.createElement(m.A,{"data-qa":u.RequestNewCode,onClick:g},M)}))));break;case _.Unknown:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},c.t("Oops! Looks like something went wrong.")));break;case _.Success:y=t.createElement("span",{className:"small_desc"},c.t("Success!"));break;default:break}return y}render(){const{status:f,isCentered:g,id:y,className:T}=this.props;if(!f)return null;const M=(0,o.A)("c-alert confirmation_code_state_message",T,{"c-alert--boxed":f!==_.Unchecked,"c-alert--level_default":f===_.Processing,"c-alert--level_warning":f===_.Ratelimited||f===_.Expired||f===_.RequestNewCode,"c-alert--level_error":f===_.Error||f===_.Blocked||f===_.Unknown,"invisible c-alert--level_default":f===_.Empty,"c-alert--align_center":g},f);return t.createElement("div",{className:"confirmation_code_checker","data-state":f,"data-qa":f,id:y},t.createElement("p",{className:M},this.getStatusMessage()))}}i(h,"CodeCheckStatus"),h.displayName="CodeCheckStatus";const A=d(i(class extends h{getStatusMessage(){return this.props.status===_.RequestNewCode?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},c.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},f=>{let{text:g}=f;return t.createElement(m.A,{href:"#",onClick:this.onClickRequestNewCode},g)}))):super.getStatusMessage()}constructor(...f){super(...f),this.onClickRequestNewCode=g=>{g.preventDefault();const{navigate:y}=this.props;y(-1)}}},"CodeCheckStatusWithRouter"))},4645337865:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(9867500491),s=e(735940183),r=e(5255740490),d=e(4505564445),o=e(219228829),a=e(3700949338);function l(){return l=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var E=arguments[h];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(u[A]=E[A])}return u},l.apply(this,arguments)}i(l,"_extends");let m=i(class extends t.Component{render(){const{isDisabled:h,isInvalid:E=!1,ariaDescribedBy:A,className:v}=this.props;return t.createElement("div",{className:(0,r.A)("split_input_item",v,{focused:this.props.hasFocus})},t.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":A,disabled:h,"aria-disabled":h,"aria-invalid":E}))}constructor(...h){super(...h),this.onKeyDown=E=>{switch(E.keyCode){case d.G_:{E.currentTarget.value||this.props.moveLeft();return}case d.UQ:return E.preventDefault(),this.props.moveLeft();case d.LE:return E.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=E=>{const{isNumbersOnly:A}=this.props;(A?!(0,a.A)(E.which):!(0,a.$)(E.which))&&E.charCode&&!(0,o.A)(E)&&E.preventDefault()},this.onChange=E=>{const A=E.target.value,{isNumbersOnly:v}=this.props;((v?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(A)||A==="")&&this.props.onChange(A.toUpperCase())},this.onPaste=E=>{E.preventDefault();const{isNumbersOnly:A}=this.props,v=window.clipboardData||E.clipboardData,f=v.getData("text")||v.getData("text/plain"),g=A?/\D/g:/[^a-zA-Z0-9]/g,y=f.replace(g,"");this.props.onPaste(y)}}},"CodeInput");m.displayName="CodeInput";const c=t.forwardRef((u,h)=>t.createElement(m,l({},u,{refToForward:h}))),_=new s.Ay("team_creation");let p=i(class extends t.Component{focusInput(h){const E=this.inputRefs[h];E&&E.current&&E.current.focus()}moveLeft(h){h<=0||this.focusInput(h-1)}moveRight(h){h>=this.state.values.length-1||this.focusInput(h+1)}isComplete(h){return!h.some(E=>!E)}clear(){this.setState(h=>({values:h.values.map(()=>"")})),this.focusInput(0)}onChange(h,E){const A=this.state.values.slice();A[h]=E,this.setState(()=>({values:A}),()=>{E&&!this.isComplete(this.state.values)&&this.moveRight(h)})}componentDidUpdate(h,E){if(!this.isComplete(E.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&E.values.join("")!==this.state.values.join("")){const A=this.state.values.join("");this.props.onFillCode(A)}else E.values.join(",")!==this.state.values.join(",")&&this.props.onChange();h.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(h,E){const{isDisabled:A,isNumbersOnly:v=!0,isInvalid:f=!1,ariaDescribedBy:g,govSlackTheme:y=!1}=this.props;return this.state.values.slice(h,E).map((T,M)=>{const O=M+h;return t.createElement(c,{isNumbersOnly:v,key:O,ref:this.inputRefs[O],moveLeft:()=>this.moveLeft(O),moveRight:()=>this.moveRight(O),onChange:I=>this.onChange(O,I),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:O})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===O,value:this.state.values[O],ariaLabel:_.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:O+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:g,isInvalid:f,isDisabled:A,className:y?"split_input_item--gov_slack":""})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(h){super(h),this.onPaste=E=>{const A=this.state.focusedInputIndex;if(A===-1)return;const v=this.state.values.length-A,f=E.substring(0,v).split(""),g=this.state.values.slice();f.forEach((y,T)=>{const M=T+A;g[M]=y}),this.setState(()=>({values:g}),()=>{this.focusInput(Math.min(this.state.values.length-1,A+f.length))})},this.state={values:(0,n.A)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"SplitInput");p.displayName="SplitInput",p.defaultProps={isNumbersOnly:!0}},3700949338:(Q,C,e)=>{"use strict";e.d(C,{$:()=>n,A:()=>t});function t(s){return s>=48&&s<=57}i(t,"isNumericKey");function n(s){const r=String.fromCharCode(s);return!!/[a-zA-Z0-9]/.test(r)}i(n,"isAlphaNumericKey")},7520119303:(Q,C,e)=>{"use strict";e.d(C,{K_:()=>T,XR:()=>g,yb:()=>y});var t=e(735940183),n=e(7909758472),s=e(7940058138),r=e(796111729),d=e(4465846026),o=e(847279891),a=e(7100005318),l=e(3856748711),m=e(760547858);const c=new t.Ay("channel_sidebar"),_=new t.Ay("app_launcher"),p=new t.Ay("setup_page"),u=new t.Ay("client"),h=new t.Ay("search"),E=new t.Ay("solution_guide"),A=new t.Ay("tenured_team_solutions"),v={[s.c.Composer]:()=>c.t("New message"),[s.c.Drafts]:()=>c.t("Drafts & sent"),[s.c.ScheduledMessages]:()=>c.t("Scheduled",{ns:"channel_sidebar"}),[s.c.Sent]:()=>c.t("Sent"),Pthread:()=>c.t("Thread"),[s.c.Empty]:()=>{},[s.c.Unreads]:()=>c.t("Unreads"),[s.c.Apps]:()=>_.t("Apps",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[s.c.Shortcuts]:()=>_.t("Workflows",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[s.c.BrowseWorkflowsManagedByYou]:M=>(0,d.oF)(M)?c.t("Workflows managed by you"):"",[s.c.BrowseYourWorkflowTemplates]:()=>c.t("Your workflow templates"),[s.c.BrowseWorkflowTemplates]:()=>_.t("Templates",{fallbackHash:"f25b700ed9f092123a43acb205a6869342cf9dd6",fallbackHashNs:"workflow_builder"}),[s.c.Activity]:()=>c.t("Activity"),[s.c.Saved]:()=>c.t("Saved items"),[s.c.PaidBenefits]:()=>c.t("Paid Plan Benefits"),[s.c.BrowseChannels]:()=>c.t("All channels"),[s.c.SetupTeamName]:()=>p.t("Setup Team Name"),[s.c.SetupProfile]:()=>p.t("Profile"),[s.c.SetupChannels]:()=>p.t("Setup Channels"),[s.c.SetupInvites]:()=>p.t("Setup Invites"),[s.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[s.c.SetupTada]:()=>"Setup Tada",[s.c.SetupWelcome]:()=>p.t("Setup Welcome"),[s.c.SetupPeople]:()=>p.t("Setup People"),[s.c.SetupStraightToPaidPlans]:()=>p.t("Setup Plans"),[s.c.JoinerLaunchpad]:()=>c.t("Get started"),[s.c.ResurrectedUserWelcome]:M=>(0,o.Yo)(M)?c.t("Welcome back"):"",[s.c.SolutionGuide]:M=>(0,a.qV)(M)?E.t("Set up your workspace"):"",[s.c.TenuredTeamSolutions]:M=>(0,m.OO)(M)?A.t("Tips for how you work"):"","Pbrowse-channels-prototype":()=>c.t("All channels"),[s.c.BrowseFiles]:()=>h.t("All files"),[s.c.Calendar]:M=>(0,n.A)(M)?c.t("Calendar"):"",[s.c.BrowsePeople]:()=>c.t("All people"),[s.c.BrowseExternalContacts]:()=>c.t("External people"),[s.c.BrowseUserGroups]:()=>c.t("User groups"),[s.c.BrowseExternalWorkspaces]:()=>c.t("External workspaces"),[s.c.AllDms]:()=>c.t("Direct messages"),[s.c.Search]:()=>u.t("Search Results",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"search"}),[s.c.SlackConnect]:()=>c.t("Slack Connect"),[s.c.SlackConnectInvitation]:()=>c.t("Slack Connect Invitation"),[s.c.OfflineOutbox]:()=>"Offline outbox",[s.c.Huddles]:()=>"Huddles",[s.c.BrowseHuddles]:()=>"Huddles",[s.c.Today]:()=>"Today",[s.c.Later]:()=>c.t("Later"),[s.c.BrowseOrgChart]:()=>h.t("Org chart"),"Pasync-modals":()=>"Modals",[s.c.BrowseCanvases]:()=>c.t("Canvases"),[s.c.BrowseLists]:()=>"Lists",[s.c.Todos]:()=>"Todos",[s.c.Recents]:()=>h.t("Recently viewed"),[s.c.DailyDigest]:()=>c.t("Recap"),[s.c.ActionItems]:M=>(0,l.y)(M)?c.t("Action items"):"Action items",[s.c.Inbox]:M=>(0,l.y)(M)?c.t("Inbox"):"Inbox"},f={Pdms:()=>c.t("All direct messages")};function g(M){return!M||!v[M]?((0,r.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${M}`),null):v[M]}i(g,"getLabelFunctionForPage");const y=i((M,O)=>g(O.id)(M),"getPageLabel");function T(M){if(M)return f[M]}i(T,"getAriaLabelFunctionForPage")},3639008527:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>p});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(6772985425),o=e(9132066222),a=e(735940183),l=e(4275787242),m=e(5060694341);const c=new a.Ay("tabbed-channel"),_={name:"warning"},p=(0,r.Ay)("Adds a new tab to a channel",function(){var u=(0,t.coroutine)(function*(h,E,A){let{channelId:v,type:f,data:g,label:y,reason:T}=A;const M=E(),O=(0,o.U6)(M);let I={ok:!1,tabs:[]};try{I=yield h((0,d.y)({type:f,data:g,channelId:v,label:y,reason:T}))}catch(D){let P;switch(D.name){case d.d.TooManyTabs:P=O?c.t("Maximum number of tabs added."):"Maximum number of tabs added.";break;default:P=O?c.t("Cannot add tab."):"Cannot add tab."}throw h((0,m.M)({element:s.createElement(l.A,{svgIconProps:_},s.createElement("span",null,P))})),D}return I});return function(h,E,A){return u.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkaddTabToChannel",description:"Adds a new tab to a channel"}},1049138627:(Q,C,e)=>{"use strict";e.d(C,{A:()=>L});var t=e(1031947056),n=e(9536404279),s=e(4350638406),r=e(2416684575),d=e(10127715),o=e(8847766420),a=e(7334104107),l=e(7201482752),m=e(6533394955),c=e(4096483543),_=e(1407713935),p=e(8517785520),u=e(5795074931),h=e(9101533895),E=e(3603672985),A=e(9290914927),v=e(4293996456),f=e(2802517438),g=e(3051870320),y=e(8161242485);const T=(0,y.Ay)((S,H)=>{var w,F;return(S==null||(w=S.messageActivity)===null||w===void 0||(F=w.recentActivity)===null||F===void 0?void 0:F[H])||[]});T.meta={name:"createSelector",key:"createSelectorselectMessageActivityForType",description:(S,H)=>{var w,F;return(S==null||(w=S.messageActivity)===null||w===void 0||(F=w.recentActivity)===null||F===void 0?void 0:F[H])||[]}};var M;(function(S){S.DM="dm"})(M||(M={}));var O=e(9012396182);function I(){if(!(0,c.A)()||!O.getFocusedWorkspace)return!1;const S=(0,m.getStateForClientStore)(),H=(0,O.getFocusedWorkspace)(S);return(0,f.A)((0,m.getStateByTeamId)(H))}i(I,"getFocusedWorkspacePrimaryView");const D=(0,t.Ay)("process dm messages for Megaphone client event",(S,H,w)=>{const F=H();if(!(0,_.LI)((0,h.OL)(F,(0,a.WY)(w))))return;const J=5,X=1,q=60*3,G=Date.now()/1e3,ne=M.DM,te=T(F,ne);te.push(w);const le=(0,u.WR)(F),he=I();let fe,ve=0,me=0,oe=[];te.forEach(N=>{const K=(0,a.WY)(N);if(he!==K)return;const x=+(0,p.j)(N);if(G-x>q)return;const b=(0,a.F6)(N);le===b?ve+=1:(me+=1,fe=b),oe.push(N)}),ve+me>=J&&ve>=X&&me>=X&&(0,A.gd)(F,fe)===v.hR&&(S((0,E.JL)({type:"messaging_activity"})),oe=[]),S((0,g.m)({type:ne,messages:oe}))});D.meta={name:"createThunk",key:"createThunkprocessDmMegaphoneClientEvent",description:"process dm messages for Megaphone client event"};const P=D,k=(0,t.Ay)("Process received/sent messages",(S,H,w)=>{if(!(0,c.A)()||!O.isFocusedWorkspaceInTeamOrEnterprise)return;const F=(0,o.JY)(H());if(!F)return;const j=(0,m.getStateForClientStore)();if(!(0,O.isFocusedWorkspaceInTeamOrEnterprise)(j,F))return;const J=I();J&&w.forEach(X=>{const q=X,G=(0,a.WY)(q);!G||J!==G||(0,l.A)(q)||(0,m.dispatchForTeamId)(F,P(q))})});k.meta={name:"createThunk",key:"createThunkprocessIncomingMessages",description:"Process received/sent messages"};const R=k;var V=e(4365697073),B=e(3110884894);const W=(0,t.Ay)("Appends raw / unprocessed messages to the messages and history stores",(S,H,w)=>{const F=S((0,r.A)({imsgs:w}));S((0,d.Kc)(F));const j=(0,o.JY)(H());if(!j)return;S(R(F));const J=new Map;for(const q of w)q.channel!=null&&(J.has(q.channel)||J.set(q.channel,[]),J.get(q.channel).push(q.ts));for(const[q,G]of J.entries()){const ne={channelId:q,timestamps:G,oldest:G[0],hasMore:!1,append:!0};S((0,n.VG)(ne)),(0,s.mY)(j,q,G)}const X=new Map;for(const q of w){if(!(0,V.n)(q))continue;const G=(0,B.Iu)(q.channel,q.thread_ts);G!=null&&(X.has(G)||X.set(G,[]),X.get(G).push(q.ts))}for(const[q,G]of X.entries())S((0,n.VG)({channelId:q,timestamps:G,oldest:G[0],hasMore:!1,append:!0}));return F});W.meta={name:"createThunk",key:"createThunkappendMessages",description:"Appends raw / unprocessed messages to the messages and history stores"};const L=W},7534004035:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(1031947056),n=e(3339229351),s=e(6987519067),r=e(9868740303),d=e(8847766420),o=e(4342685672);const a=(0,t.Ay)("Find channels that match a search query",function(m,c){let{query:_,limit:p=n.zE,searchViewContext:u,searcherKey:h="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E=c(),A={entities:{channels:{includePrivate:!0,includeFromAnotherTeam:!0,searchPreviousNames:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:p,tiered:!0,returnMetadata:!0,searchViewContext:u};return(0,o.nK)(E)?(0,r.A)({teamId:(0,d.ZT)(E),key:h}).search({query:_,options:A}):m((0,s.$P)({query:_,options:A}))});a.meta={name:"createThunk",key:"createThunkautocompleteChannels",description:"Find channels that match a search query"};const l=a},2232906703:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1031947056),n=e(3339229351),s=e(6987519067),r=e(9868740303),d=e(8847766420),o=e(4342685672);const a=i(c=>(c||"").replace(/:|\uFF1A/g,""),"getCleanQuery"),l=(0,t.Ay)("Find emoji that match a search query",function(c,_){let{query:p,limit:u=n.zE,useSearcherSessions:h=!0,searcherKey:E="texty-autocomplete",searchViewContext:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v={entities:{emoji:{matchKeywords:!0}},sort:{source:"texty-autocomplete"},limit:u,returnMetadata:!0,tiered:!0,searchViewContext:A},f=_();return h&&(0,o.nK)(f)?(0,r.A)({teamId:(0,d.ZT)(f),key:E}).search({query:a(p),options:v}):c((0,s.$P)({query:a(p),options:v}))});l.meta={name:"createThunk",key:"createThunkautocompleteEmoji",description:"Find emoji that match a search query"};const m=l},4227536814:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(1031947056),n=e(9101533895),s=e(3339229351),r=e(6987519067),d=e(9868740303),o=e(8847766420),a=e(4342685672),l=e(7383598433),m=e(2023092677);const c=(0,t.Ay)("Find members that match a search query",function(p,u){let{query:h,channelId:E,enableBots:A=!0,enableBroadcastKeywords:v=!0,enableFuzzyMatching:f=!0,enableUserGroups:g=!0,includeAllBroadcastKeywords:y=!1,limit:T=s.zE,searchViewContext:M,searcherKey:O="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=u();var D;const P=E&&(D=(0,n.OL)(I,E))!==null&&D!==void 0?D:void 0,k=v?{currentChannel:P,includeAll:y}:void 0,R=g&&(0,m.O9)(I),V={entities:{broadcastKeywords:k,userGroups:R&&{includeDeleted:!1,includeFromAnotherTeam:(0,l.J)(I)},members:{includeBots:A,includeSelf:!0,includeSlackbot:!1,includeProfileOnlyUsers:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete",currentChannel:P,preferChannelMembers:!!P},fuzzyLimit:f?void 0:0,limit:T,tiered:!0,returnMetadata:!0,searchViewContext:M};return(0,a.nK)(I)?(0,d.A)({teamId:(0,o.ZT)(I),key:O}).search({query:h,options:V}):p((0,r.$P)({query:h,options:V}))});c.meta={name:"createThunk",key:"createThunkautocompleteMembers",description:"Find members that match a search query"};const _=c},4066669727:(Q,C,e)=>{"use strict";e.d(C,{KH:()=>V,MC:()=>S,PL:()=>L,SV:()=>B,a$:()=>P,gO:()=>k});var t=e(9706240641),n=e.n(t),s=e(7542104324),r=e(2141099977),d=e(8802876335),o=e(796111729),a=e(6533394955),l=e(1345902898),m=e(8778137680),c=e(5795074931),_=e(7592559649),p=e(4949104520),u=e(6066600258),h=e(9240258658),E=e(1031947056),A=e(5332875232);const v="AWARENESS-MANAGER",f="AWARENESS-MANAGER-CHIME",g=`[${v}] unknown awareness subtype`,y=3e4,T=250,M=5e3,O=15,I=(0,E.Ay)("Query for awareness state from other users who are subscribed to the topic",function(){var w=(0,t.coroutine)(function*(F,j,J){const X=j();if(!(0,d.ON)(X))return;const q=(0,c.WR)(X),G={channel:J,type:"awareness",subtype:l.Pz.QUERY,user:q};try{F((0,r.tN)(G))}catch(ne){(0,o.Ay)({getState:j}).warn("Failed to send awareness query: ",ne)}});return function(F,j,J){return w.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const D=(0,E.Ay)("Send awareness state to other users who are subscribed to the topic",function(){var w=(0,t.coroutine)(function*(F,j,J){const X=j();if(!(0,d.ON)(X))return;const q=(0,c.WR)(X),G=(0,_.fL)(X,J,q),ne={channel:J,type:"awareness",subtype:l.Pz.BROADCAST,user:q,awareness_state:G};try{F((0,r.tN)(ne))}catch(te){(0,o.Ay)({getState:j}).warn("Failed to send awareness query: ",te)}});return function(F,j,J){return w.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const P=(0,E.Ay)("Temporarily subscribe to a topic for updates",(w,F,j)=>{const J=F();if((0,d.ON)(J))try{w((0,r.tN)({channel_id:j,type:"temp_channel_sub"}))}catch(X){(0,o.Ay)({getState:F}).warn("Failed to subscribe to awareness topic: ",X)}});P.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const k=(0,E.Ay)("Temporarily unsubscribe from topic updates",(w,F,j)=>{const J=F();if((0,d.ON)(J))try{w((0,r.tN)({channel_id:j,type:"temp_channel_unsub"}))}catch(X){(0,o.Ay)({getState:F}).warn("Failed to unsubscribe from awareness topic: ",X)}});k.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const R=(0,E.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",function(){var w=(0,t.coroutine)(function*(F,j,J){const X=j();if(!(0,d.ON)(X))return;const q=(0,c.WR)(X),G={channel:J,type:"awareness",subtype:l.Pz.CLOSE,user:q};try{F((0,r.tN)(G))}catch(ne){(0,o.Ay)({getState:j}).warn("Failed to send awareness query: ",ne)}});return function(F,j,J){return w.apply(this,arguments)}}());R.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class V{maybeSendCurrentAwarenessState(F){const j=(0,a.getStoreInstanceByTeamId)(this.teamId);return j?(j.dispatch(D(F)),!0):!1}maybeSendAwarenessQuery(F){const j=(0,a.getStoreInstanceByTeamId)(this.teamId);return j?(j.dispatch(I(F)),!0):!1}maybeSendAwarenessCloseState(F){const j=(0,a.getStoreInstanceByTeamId)(this.teamId);return j?(j.dispatch(R(F)),!0):!1}constructor({teamId:F}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=F}}i(V,"RtmBroadcaster");class B{onDisconnectDataChannel(){var F;(F=this.audioVideoFacade)===null||F===void 0||F.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(F){this.audioVideoFacade=F,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,o.Wo)().warn(f,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(F){}maybeSendCurrentAwarenessState(F){var j;if(!this.connected)return(0,o.Wo)().info(f,`${this.connected} ${F} Can't send yet, not connected`),!1;const J=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!J)return(0,o.Wo)().warn(f,`${this.connected} ${F} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const X=J.getState(),q=(0,c.WR)(X);J.dispatch((0,m.c6)({topicId:F,userId:q}));const G=(0,A.pL)(X),te=(0,_.fL)(X,F,q,G?"self":void 0).map(he=>new h.Y.AwarenessPayload({fieldName:he.field_name,fieldValue:he.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!he.field_timestamp_ms&&{fieldTimestampMs:he.field_timestamp_ms}})),le=new h.Y.AwarenessBroadcast({channel:F,user:(0,c.WR)(J.getState()),awarenessState:te});return(j=this.audioVideoFacade)===null||j===void 0||j.realtimeSendDataMessage(this.dataChannelTopic,h.Y.encode(new h.Y({awarenessBroadcast:le})).finish()),!0}maybeSendAwarenessQuery(F){var j;if(!this.connected)return(0,o.Wo)().info(f,`${this.connected} ${F} Can't send yet, not connected`),!1;(0,o.Wo)().warn(f,`${this.connected} ${F} Sending awareness query`);const J=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!J)return(0,o.Wo)().warn(f,`${this.connected} ${F} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const X=new h.Y.AwarenessQuery({channel:F,user:(0,c.WR)(J.getState())});return(j=this.audioVideoFacade)===null||j===void 0||j.realtimeSendDataMessage(this.dataChannelTopic,h.Y.encode(new h.Y({awarenessQuery:X})).finish()),!0}maybeSendAwarenessCloseState(F){var j;if(!this.connected)return(0,o.Wo)().info(f,`${this.connected} ${F} Can't send yet, not connected`),!1;(0,o.Wo)().warn(f,`${this.connected} ${F} Sending awareness query`);const J=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!J)return(0,o.Wo)().warn(f,`${this.connected} ${F} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const X=new h.Y.AwarenessClose({channel:F,user:(0,c.WR)(J.getState())});return(j=this.audioVideoFacade)===null||j===void 0||j.realtimeSendDataMessage(this.dataChannelTopic,h.Y.encode(new h.Y({awarenessClose:X})).finish()),!0}constructor({teamId:F,peerId:j,topicId:J,isHuddlesAwarenessTimestampEnabled:X}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=F,this.peerId=j,this.connected=!1,this.topicId=J,this.isHuddlesAwarenessTimestampEnabled=!!X}}i(B,"ChimeChannelBroadcaster");class W{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(j=>{(0,o.Wo)().debug(v,`Running TTL for ${j}`);const J=(0,a.getStoreInstanceByTeamId)(j);J&&J.dispatch((0,m._y)())}),this.watchedTopics.size===0&&((0,o.Wo)().info(v,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const F=(0,p.A)(O,-.25,.25);this.dirtyTopics.forEach(j=>{(0,u.A)(()=>{const J=this.dataChannels.get(j);J&&J.maybeSendCurrentAwarenessState(j)&&this.dirtyTopics.delete(j)},F)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,o.Wo)().info(v,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(F=>{const j=this.dataChannels.get(F);j&&j.maybeSendCurrentAwarenessState(F)&&this.dirtyTopics.delete(F)}),this.watchedTopics.size===0&&((0,o.Wo)().info(v,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(F=>{if(this.topicToTeamMap.get(F)){const J=this.dataChannels.get(F);J&&J.maybeSendAwarenessQuery(F)&&this.dirtyTopics.delete(F)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(F){if(!this.watchedTopics.has(F)){(0,o.Wo)().info(v,`Ignoring topic change for unwatched topic ${F}`);return}this.dirtyTopics.add(F),this.dirtyBroadcastTimeoutId||((0,o.Wo)().info(v,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),T)),this.perodicBroadcastTimeoutId||((0,o.Wo)().info(v,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),y)),this.periodicTTLId||((0,o.Wo)().info(v,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),M))}removeTopicId(F){this.dirtyTopics.delete(F),this.watchedTopics.delete(F)}watch(F,j,J){this.watchedTopics.add(j),this.topicToTeamMap.set(j,F),this.dataChannels.set(j,J),this.markTopicChanged(j),this.query()}unwatch(F){this.broadcastChanges(),this.removeTopicId(F)}unwatchAll(){if(this.watchedTopics.size){const F=[...this.watchedTopics].join(" ");(0,o.Wo)().warn(v,`Clearing unexpected remaining topics: ${F}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}i(W,"AwarenessManager");const L=new W;class S{onConnectDatachannel(F){this.audioVideoFacade=F,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,o.Wo)().warn(f,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(F){let j;try{j=h.Y.decode(F.data)}catch(J){(0,o.Wo)().debug(f,`Peer Message failed during decode, ignoring peer message.
				| Error: ${J}
				| Data Sender Attendee ID: ${F.senderAttendeeId}
				| Data Sender External Attendee ID: ${F.senderExternalUserId}
				| Topic: ${F.topic}`);return}if(j.awarenessQuery&&j.awarenessQuery.channel)L.markTopicChanged(j.awarenessQuery.channel);else if(j.awarenessBroadcast){const J=(0,a.getStoreInstanceByTeamId)(this.teamId),X=(0,A.pL)(J.getState()),q=j.awarenessBroadcast.user,G=j.awarenessBroadcast.channel,ne=j.awarenessBroadcast.awarenessState;if(q&&G&&ne){const te=ne.map(he=>{var fe,ve;return{field_name:(fe=he.fieldName)!==null&&fe!==void 0?fe:"unknown_field",field_value:(ve=he.fieldValue)!==null&&ve!==void 0?ve:"unknown_value",...!!he.fieldTimestampMs&&{field_timestamp_ms:he.fieldTimestampMs}}}),le={user:q,channel:G,awarenessEntries:te,...X&&{uniqueId:F.senderAttendeeId}};J&&J.dispatch((0,m.zZ)(le))}}else if(j.awarenessClose){const J=(0,a.getStoreInstanceByTeamId)(this.teamId),X=(0,A.pL)(J.getState()),q=j.awarenessClose.user,G=j.awarenessClose.channel;q&&G&&J&&J.dispatch((0,m.DQ)({topicId:G,userId:q,...X&&{uniqueId:F.senderAttendeeId}}))}}constructor({teamId:F}){this.dataChannelTopic="awareness-sync-channel",this.teamId=F}}i(S,"ChimeChannelListener");const H=i((w,F,j)=>{const J=j(),X=(0,c.WR)(J),q=w.awareness_state;switch(w.subtype){case"query":X!==w.user&&L.markTopicChanged(w.channel);break;case"broadcast":if(q&&X!==w.user){const G={user:w.user,channel:w.channel,awarenessEntries:q};F((0,m.zZ)(G))}break;case"close":X!==w.user&&F((0,m.DQ)({topicId:w.channel,userId:w.user}));break;default:throw new Error(g)}},"onAwarenessEvent");(0,s.d1)("awareness",H)},9781145568:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1031947056),n=e(7053828403),s=e(395285811),r=e(1407713935),d=e(9101533895),o=e(56548687),a=e(6244014364);const l=(0,t.Ay)("Clogs a message sent or resent",function(c,_){let{channelId:p,msgTs:u,resent:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E=_(),A=p?(0,d.OL)(E,p):null;let v={message_timestamp:u,channel_id:p,channel_type:p?p.charAt(0):null,channel_privacy_type:A?(0,r.K5)(A):null,is_file_channel:A?(0,s.jT)(A):null};const f=(0,n.ZR)(E);f!==null&&(v={...v,channel_session_id:f});const g=(0,o.e)({state:E}),y=h?a.EventId.MSG_RESENT:a.EventId.MSG_SENT;g.track(y,v)});l.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const m=l},5261636424:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(5258584090),n=e(4518410378),s=e(1031947056),r=e(2567914105),d=e(9003400431),o=e(9205400085);const a=(0,s.Ay)("Closes any open Texty modals",(m,c,_,p)=>{const u=c();let h;const E=p(t.S);(E==null?void 0:E.windowRef.deref())!==n.J&&(E!=null&&E.windowId)&&(h=E.windowId);const A=(0,r.wc)(u,h).map(v=>v.name);(0,o.A)(A)&&m((0,d.O)())});a.meta={name:"createThunk",key:"createThunkcloseTextyModals",description:"Closes any open Texty modals"};const l=a},5904726069:(Q,C,e)=>{"use strict";e.d(C,{r:()=>_});var t=e(3134334389),n=e(1031947056),s=e(4540171876),r=e(9236644324),d=e(5258584090),o=e(5060694341),a=e(4275787242),l=e(735940183),m=e(5332875232);const c=new l.Ay("huddles"),_=(0,n.Ay)("Copies Huddle link by Channel Id",(p,u,h,E)=>{let{channelId:A,suppressToast:v}=h;const{windowRef:f}=E(d.S),g=(0,m.Eo)(u());if(A&&(p((0,s.TE)({reason:"copy",channelId:A})).then(y=>{(0,r.x3)(y.link,f.deref())}),g&&!v)){const y={name:"check"};p((0,o.M)({element:t.createElement(a.A,{svgIconProps:y,duration:3e3},c.rt("Huddle link copied"))}))}});_.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},3694676182:(Q,C,e)=>{"use strict";e.d(C,{Q7:()=>N,TE:()=>ne.A,Uf:()=>de});var t=e(6422693406),n=e(362134992),s=e(7530630315),r=e(1031947056),d=e(5795074931),o=e(157328471),a=e(1827030018),l=e(9132245692),m=e(796111729),c=e(9665027958),_=e(9706240641),p=e(9113979368),u=e(8840779375),h=e(9746734072),E=e(2101927269),A=e(9101533895),v=e(5467378328),f=e(9530687876);const g=(0,r.Ay)(f.rd.BULK_UPDATE_CHANNELS,function(ue,_e){let{channels:pe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ae=_e();if(!pe||!pe.length||!(0,h.A)(pe))return;const Ee=(0,E.A)(pe,"id"),Le=[],ye=!1;Ee.length&&(Ee.forEach(Te=>{const Ae=(0,A.OL)(ae,Te.id,ye);Le.push({...Ae,...Te})}),ue((0,v.U)({channels:Le,reason:f.rd.BULK_UPDATE_CHANNELS})))});g.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:f.rd.BULK_UPDATE_CHANNELS};var y=e(6613382951),T=e(7438375976),M=e(4446301238),O=e(8455301571),I=e(8571983633),D=e(4013618389),P=e(7486305635),k=e(8802876335),R=e(3683482182),V=e(4459831283);const B=(0,r.Ay)("Update the unread counts in response to client.counts",(ue,_e,pe)=>{if(!pe)return;const ae=_e(),Ee={},Le={},ye={},Te=(0,V.FT)(ae);pe.forEach(Ae=>{const{id:Ie,unread_cnt:Ue,unread_highlight_cnt:Be}=Ae,we=Te&&!(0,I.A)(Ae==null?void 0:Ae.vip_count)?Ae==null?void 0:Ae.vip_count:void 0;Ee[Ie]={unreadCnt:Ue||0,unreadHighlightCnt:Be||0,unreadVIPMentionCnt:Te?we||0:void 0};const re=(0,A.OL)(ae,Ie);if(!Ue&&!Be||!(0,D.F)(ae,re))return;(0,P.d$)(ae,re)&&(ye[Ie]=!0);const ge=(0,D.v)(ae,re)?Ue:Be,{reachedEnd:De}=(0,O.tp)(ae,Ie),be=(0,k.UJ)(ae);De&&be?Le[Ie]=(0,R.Lh)(ae,Ie):Le[Ie]={unreadCnt:Ue,unreadHighlightCnt:ge||Be,unreadVIPMentionCnt:Te?we:void 0}}),ue((0,o.SO)({initialUnreads:Ee,countsPerChannel:Le,channelsToSuppress:ye}))});B.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};var W=e(4368281601),L=e(6007206761),S=e(9884588328),H=e(6495946979),w=e(395285811),F=e(1407713935),j=e(9762304444);const J=(0,j.Ay)("TS.ensureFullyBooted",()=>{throw new Error("Not implemented (and only ever intended for use in non-Sonic Land)")});var X=e(4096483543),q=e(1949656963),G=e(4191588167),ne=e(4660031767),te=e(6695353875);const le="COUNTS",he=(0,r.Ay)("Apply counts to channel objects and update stores",function(){var ue=(0,_.coroutine)(function*(_e,pe){let{counts:ae=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,X.A)()||(yield J());let Ee=pe();const Le=[],ye={},Te={},Ae=[],Ie=(0,k.UJ)(Ee),Ue=(0,k.yf)(Ee),Be=(0,te.lc)(Ee),we=(0,V.FT)(Ee);(0,m.Ay)({state:Ee}).info(le,`Applying counts to channels. wasLastConnectFast: ${Ue} isConnected: ${Ie}`);const re=ae.filter(De=>{let{has_unreads:be,mention_count:xe}=De;return be||xe}).filter(function(){let{id:De}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,A.hh)(Ee,De)}).map(function(){let{id:De}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return De});re.length&&(yield _e((0,M.pX)({ids:re,reason:"apply-counts-to-channels/ensure-channels",callSource:M.aI.ApplyCounts})),Ee=pe());const ge=(0,O.jg)(Ee);ae.forEach(De=>{const be=(0,A.OL)(Ee,De.id,!1);if(!be||(0,F.QR)(be)){if(!De.has_unreads&&!De.mention_count)return;(0,m.Ay)({state:Ee}).warn(le,{id:De.id,has_unreads:De.has_unreads,nonExistent:(0,F.QR)(be)},"applyCountsToChannels_missing_channel");return}if((0,L.F)(be)||(0,F.rW)(be)&&!(0,H.b)(be))return;if((0,w.jT)(be)){_e((0,W.k)({channelId:be.id,mentionCount:De.mention_count,shouldSuppress:(0,P.d$)(Ee,be)}));return}const xe={},{reachedEnd:Re}=(0,O.tp)(Ee,be.id),Ge=De.has_unreads?1:0;let Qe=0,Xe=0,et=0,rt=!1;(0,F.LI)(be)||(0,F.LI)(De)||(0,F.yz)(be)||(0,F.yz)(De)?Qe=De.mention_count||Ge:(rt=!0,Qe=Ge,Xe=De.mention_count||0,et=(De==null?void 0:De.vip_count)||0),!Qe&&Xe&&((0,m.Ay)({state:Ee}).warn(le,`Ignoring positive mention_count_display because has_unreads == false for ${be.id}`,{subtype:"ignoring_positive_mention_count_display"}),Xe=0),Te[be.id]={unreadCnt:Qe,unreadHighlightCnt:Xe,unreadVIPMentionCnt:we?et:void 0},!Be&&Re&&Ie?Ae.push(be.id):(Qe!==(0,S.$M)(be)&&(xe.unread_cnt=Qe),we&&et!==(0,S.OJ)(be)&&(xe.vip_count=et),rt&&Xe!==(0,S.BP)(be)&&(xe.unread_highlight_cnt=Xe)),De.updated&&De.history_invalid&&(ye[be.id]={historyInvalidTs:De.history_invalid,updatedTs:De.updated},ge!=null&&ge[be.id]&&_e((0,G.A)({channelId:be.id,newHistoryInvalidTs:De.history_invalid,newUpdatedTs:De.updated}))),(0,p.A)(xe)||(xe.id=be.id,Le.push(xe))}),(0,p.A)(Le)||_e(g({channels:Le})),(0,p.A)(ye)||_e((0,q.ih)({updates:ye})),_e((0,y.M)(ae)),_e((0,T.f)(ae.map(De=>({channelId:De.id,ts:De.last_read})))),_e((0,o.iz)(Te)),_e(B((0,u.A)(Te,function(){let{unreadCnt:De,unreadHighlightCnt:be,unreadVIPMentionCnt:xe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:arguments.length>1?arguments[1]:void 0,unread_cnt:De,unread_highlight_cnt:be,vip_count:we?xe:void 0}}))),Ae.forEach(De=>{_e((0,ne.A)({channelId:De}));const be=(0,A.OL)(pe(),De,!1);if(be){const xe={unreadCnt:(0,S.$M)(be),unreadHighlightCnt:(0,S.BP)(be),unreadVIPMentionCnt:(0,S.OJ)(be)};(0,m.Ay)({state:Ee}).info(le,`Recounted ${De}; initial: ${JSON.stringify(Te[De])}; after: ${JSON.stringify(xe)}`)}})});return function(_e,pe){return ue.apply(this,arguments)}}());he.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};const fe=he,ve="COUNTS",me=(0,r.Ay)("Apply counts to channels and threads",function(ue,_e){let{channels:pe,groups:ae,ims:Ee,mpims:Le,threads:ye,alerts:Te,saved:Ae,fileChannels:Ie,channelBadges:Ue}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Be=_e();if(!(0,d.TZ)(Be))return t.S.resolve();ue((0,o.iz)({})),ue((0,l.y)(Te||{}));const we=oe(Ie),re=(0,n.A)((0,s.A)(pe,ae,Ee,Le,we));return ue(fe({counts:re})).then(()=>{const ge=(0,m.Ay)({getState:_e});ye&&(ge.info(ve,`Threads has_unreads:${ye.has_unreads} mention_count:${ye.mention_count}`),ue((0,a._)({threadsHasUnreads:ye.has_unreads,threadsUnreadCountByChannel:ye.unread_count_by_channel,threadsMentionCountByChannel:ye.mention_count_by_channel}))),Ae&&ue((0,c.yO)(Ae)),Ue&&ue((0,o.$m)(Ue)),ge.info(ve,"Completed counts processing")})});me.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function oe(ue){if(!ue||!ue.quip)return[];const _e=ue.quip.mention_count_by_channel;return Object.keys(_e).map(Ee=>({id:Ee,mention_count:_e[Ee],has_unreads:!0}))}i(oe,"transformFileChannels");const N=me;var K=e(9290914927),x=e(6957597272),b=e(7606781622),z=e(8276911661),$=e(6866036454),Z=e(5899351761),U=e(4726390364);const ee="COUNTS",se=(0,r.Ay)("Update unread counts",function(ue,_e){let{channelId:pe,messageTs:ae}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ee=_e(),Le=!1,ye=(0,A.OL)(Ee,pe,Le);if(!ye||!(0,U.A)(ye,{countFileChannels:!0}))return t.S.resolve(!0);const Te=(0,z.cA)(Ee),Ae=(0,K.gd)(Ee,Te.id)==="away",Ie=Te._presence_last_changed||(0,d.tV)(Ee,"start_ms"),Ue=(0,Z.A)({state:Ee,messages:[(0,b.Ld)(Ee,ye.id,ae)],channel:ye,currentUserId:Te.id,userIsAway:Ae,userPresenceLastChanged:Ie,highlightWords:(0,$.A)(Ee)}),Be=Ue==null?void 0:Ue.unreadHighlightCnt;return Be!==ye.unread_highlight_cnt&&((0,m.Ay)({state:Ee}).info(ee,`Updated unread_highlight_cnt for ${ye.id}: ${Be}`),ue((0,x.b)({id:ye.id,unread_highlight_cnt:Be}))),t.S.resolve(!1)});se.meta={name:"createThunk",key:"createThunkupdateUnreadCountsForThreadMentionBroadcasts",description:"Update unread counts"};const de=se},7547876038:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(6422693406),n=e(3297051565),s=e.n(n),r=e(1269227002),d=e(5257368278);const o=(0,d.A)("API call for slack-action:// URL",(u,h,E)=>{let{botId:A,payload:v}=E;return u((0,r.apiCall)({method:"chat.action",args:{bot:A,payload:decodeURIComponent(v)}}))});o.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},o.propTypes={botId:s().string.isRequired,payload:s().string.isRequired};const a=o;var l=e(1031947056),m=e(8707546752),c=e(3339229351);const _=(0,l.Ay)("Execute slack-action:// URL",(u,h,E)=>{if((0,m.A)(E)){const A=E.replace(c.Rw,"").split("/"),v=A.shift(),f=A.join("/");return u(a({botId:v,payload:f}))}return t.K.reject(new Error("Not a Slack action URL"))});_.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},_.propTypes=s().string.isRequired;const p=_},574001087:(Q,C,e)=>{"use strict";e.d(C,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that fetches and upserts list records");n.meta={name:"createAction",key:"createActionfetchAndUpsertRecordsCircular",description:"Triggers a side-effect that fetches and upserts list records"};var s=null},6652001255:(Q,C,e)=>{"use strict";e.d(C,{q:()=>r});var t=e(1031947056),n=e(5267010247),s=e(8822892075);const r=(0,t.Ay)("Opens the user group details flexpane",(d,o,a)=>{let{groupId:l}=a;d((0,n.o)((0,s.cu)(l)))});r.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},2522627261:(Q,C,e)=>{"use strict";e.d(C,{w:()=>d});var t=e(1031947056),n=e(6244014364),s=e(56548687),r=e(497761763);const d=(0,t.Ay)("Clog the opening of a list",(o,a,l)=>{let{listId:m,source:c,openInNewWindow:_,channelId:p}=l;const u=(0,r.A)(m)?m:"";let h=n.UiComponentName.LISTS_MAIN_EMBED;_&&(h=n.UiComponentName.LISTS_NEW_WINDOW_EMBED),(0,s.e)({getState:a}).track(n.EventId.SLACK_LISTS,{contexts:{ui_context:{action:n.UiAction.CLICK,ui_properties:{element_name:c??"open_list"},ui_component_name:h,ui_step:n.UiStep.SLACK_LISTS_OPEN},core:{file_id:u,channel_id:p}}})});d.meta={name:"createThunk",key:"createThunkclogOpenList",description:"Clog the opening of a list"}},36177209:(Q,C,e)=>{"use strict";e.d(C,{B:()=>t});var t;(function(n){n.STARRED_LISTS_SIDEBAR="starred-lists-sidebar",n.CHANNEL_TAB="channel_tab",n.CANVAS_CREATE_LIST="canvas_create_list",n.CANVAS_LIST_UNFURL="canvas_list_unfurl",n.CANVAS_LIST_UNFURL_MENU="canvas_list_unfurl_menu",n.CANVAS_FROM_QUIP="canvas_from_quip",n.LISTS_PEEK_ITEM="lists_peek_item",n.LIST_TEMPLATE_PREVIEW="list_template_preview",n.LIST_RECORD_DETAIL_CONTENT="list_record_detail_content",n.LISTS_MY_ITEMS="lists_my_items",n.LISTS_DELETED_PAGE="lists_deleted_page",n.LISTS_BROWSE_PAGE_ITEM="lists_browse_page_item"})(t||(t={}))},4191588167:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1031947056),n=e(8847766420),s=e(4405788578),r=e(8455301571),d=e(4350638406),o=e(796111729),a=e(9536404279);const l=(0,t.Ay)("Possibly purge or invalidate channel history .",(c,_,p)=>{let{channelId:u,newHistoryInvalidTs:h,newUpdatedTs:E}=p;const A=_(),v=(0,s.Kq)(A,u),f=(0,s.QO)(A,u);h!=="0000000000.000000"&&(!v||h>v)?((0,o.Ay)({state:A}).info("COUNTS",`purging cached history for channel ${u} since counts history_invalid ${h} > cached historyInvalidTs ${v}`),c((0,a.bz)({channelId:u,includeThreads:!0}))):E!=="0000000000.000000"&&(!f||E>f)&&((0,o.Ay)({state:A}).info("COUNTS",`invalidating history for channel ${u} since counts updated ${E} > cached updatedTs ${f}`),(0,d.D1)((0,n.ZT)(A),u,(0,r.m3)(A,u)))});l.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const m=l},9609912577:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(1031947056),s=e(2375333597),r=e(3677514771),d=e(56548687),o=e(6244014364),a=e(4212246463),l=e(8847766420),m=e(3707193570),c=e(5795074931),_=e(6839188756);const p=(0,n.Ay)("Opens the apps browser modal",function(h,E){let{initialTab:A,emojiNameSuggestion:v,elementName:f,emojiUrl:g,megaphoneEventOnClose:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=E(),M=(0,l.JY)(T);let O;M&&(0,m.JV)(M)?O=(0,r.H2)(T):(0,c.u8)(T)&&(O=(0,_.mf)((0,r.H7)(T))),(0,d.e)({getState:E}).track(o.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:f}}}}),h((0,s.q)({element:t.createElement(a.A,{showEmojiPacks:!g,orgName:O,initialTab:A,emojiNameSuggestion:v,emojiUrl:g,megaphoneEventOnClose:y}),isStackable:!0}))});p.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const u=p},9786721596:(Q,C,e)=>{"use strict";e.d(C,{U:()=>p});var t=e(1031947056),n=e(8677230210),s=e(613926746),r=e(8847766420),d=e(3244118357),o=e(4910963364),a=e(8276911661),l=e(5267010247),m=e(8822892075),c=e(4427921758);const _=(0,t.Ay)("Shows message pane for bots",function(u,h){let{memberId:E,serviceId:A,botProfile:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var f;const{member:g,bot:y,memberIsHuman:T}=(0,n.Od)(h(),{userId:E,botId:A,botProfile:v}),M=(0,r.ZT)(h())||"",O=!T||A?(0,d.AW)({member:g||void 0,bot:y,botProfile:v,currentTeamId:M}):void 0,I=(0,o.G2)(h(),{serviceId:A,homeWorkspaceId:O,memberId:E});var D;const P=(0,a.nv)(h(),E||((D=I==null||(f=I.app_user)===null||f===void 0?void 0:f.id)!==null&&D!==void 0?D:void 0));var k;return u((0,s.Z)({memberId:(k=P==null?void 0:P.id)!==null&&k!==void 0?k:void 0}))});_.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const p=(0,t.Ay)("Shows the flexpane profile for humans or messages for bots",(u,h,E,A)=>{let{memberId:v,serviceId:f,botProfile:g}=E;const{currentTab:y,channelId:T}=A(c.j);return v&&(0,n.wC)(h(),v)?u(y?(0,l.o)((0,m.sL)((0,m.Fo)({memberId:v}),T,y.id)):(0,l.o)((0,m.Fo)({memberId:v}))):u(_({memberId:v,serviceId:f,botProfile:g}))});p.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},2327059915:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the ShareContactModal in client (noop)");n.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"};const s=n},4841770661:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(1031947056),s=e(2375333597),r=e(9003400431),d=e(387484329),o=e(735940183),a=e(980293773),l=e(7138682671),m=e(3989454579),c=e(6084388622),_=e(8739505998);const p=new o.Ay("message"),u=i(v=>{let{url:f,text:g,onClose:y,updateSuppressLinkWarning:T}=v;const[M,O]=(0,t.useState)(!1),I=g.length>25?`${g.substr(0,25)}\u2026`:g,D=f.length>50?`${f.substr(0,50)}\u2026`:f,P=p.t("Double-check this link"),k=p.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,L=>{let{tag:S}=L;return S==="label"?t.createElement(_.A,{href:f,onClick:y},I):t.createElement(_.A,{href:f,onClick:y},D)}),R=p.t("Continue"),V=p.t("Don\u2019t show this again"),B=(0,t.useCallback)(L=>{O(L.target.checked)},[]),W=(0,t.useCallback)(()=>{M&&T(),y()},[y,M,T]);return t.createElement(a.dW,{closeModal:y,isOpen:!0,centered:!0},t.createElement(a.rQ,null,t.createElement(a.Rc,{title:P})),t.createElement(a.$m,null,t.createElement(a.qf,null,t.createElement("p",{className:"break_word"},k),t.createElement("p",null,t.createElement(l.A,{text:V,type:"inline",cursor:"pointer",className:"normal"},t.createElement(m.A,{id:"suppress_link_warning",name:"suppress_link_warning",value:M.toString(),checked:!!M,onChange:B}))))),t.createElement(a.jl,null,t.createElement(a.ox,null,t.createElement(a.s_,{type:"outline"},"Cancel"),t.createElement(c.Ay,{type:"danger",href:f,onClick:W},R))))},"SuspiciousLinkWarning");u.displayName="SuspiciousLinkWarning";const h=u,E=(0,n.Ay)("Display a warning when clicking a suspicious link",(v,f,g)=>{let{text:y,url:T}=g;const M=t.createElement(h,{text:y,url:T,onClose:()=>{v((0,r.O)())},updateSuppressLinkWarning:()=>{v((0,d.AZ)({pref:"suppress_link_warning",value:!0}))}});v((0,s.q)({element:M}))});E.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};const A=E},728937959:(Q,C,e)=>{"use strict";e.d(C,{A:()=>H});var t=e(3134334389),n=e(3297051565),s=e.n(n),r=e(1031947056),d=e(2375333597),o=e(308057085),a=e(5143598415),l=e(8300007136),m=e(2562405183),c=e(4711108074),_=e.n(c),p=e(9003400431),u=e(2574761851),h=e(3170230049),E=e(6564475562),A=e(6244014364),v=e(512148710),f=e(7165234038),g=e(736397114),y=e(8533059483),T=e(1641606663),M=e(735940183),O=e(8739505998);const I=new M.Ay("message-input"),D={zIndex:1012},P=400,k=160,R=200,V=i((w,F)=>{const j=w.left+w.width/2,q=(F/2-j)/P*100,G=50-Math.round(q/10)*10;return Math.max(Math.min(G,90),10)},"offsetCoachmarkInNarrowViewport"),B=i((w,F)=>{const j=w.left+w.width/2,J=j+P-P*.1,X=j+P/2;return J<F?10:X<F?50:90},"offsetCoachmark");function W(w){let{quillRef:F,anchorElement:j,text:J,url:X,isTruncated:q,canBeTruncated:G,initialRange:ne,adjustedRange:te,initialBlocks:le,textIsEditable:he,source:fe,renderWorkflowBuilderEditLinkInput:ve,renderUrlWithWorkflowBuilderVariable:me}=w;const oe=(0,l.wA)(),N=(0,m.d4)(h.e),{windowRef:K}=(0,t.useContext)(T.M);let x=10;const b=K.deref(),z=b?b.document.documentElement.clientWidth-10:0,$=j?j.getBoundingClientRect():null;$&&(z<P+k?x=V($,z):x=B($,z));let Z=null;q&&(Z=I.t("Show full link")),G&&(Z=I.t("Shorten link"));const U=(0,t.useMemo)(()=>{let se=y.YC.Top;return $&&$.top<R&&(se=y.YC.Bottom),se},[$]);var ee;return t.createElement(g.Ay,{isOpen:!0,anchorElement:j,orientation:U,centerOnArrow:!0,offsetY:-5,closeCoachmark:()=>{var se,de;oe((0,p.O)()),F==null||(se=F.current)===null||se===void 0||se.focus(),F==null||(de=F.current)===null||de===void 0||de.setSelection(ne)},overlayStyle:D,primaryCallToActionText:I.t("Remove"),onClickPrimaryButton:()=>{var se,de;oe((0,p.O)()),F==null||(se=F.current)===null||se===void 0||se.formatText(te.index,te.length,{link:!1,unlink:!0}),N.track(A.EventId.MSG_FORMATTING_REMOVED,{input_context:(0,E.A)()?A.MsgFormattingInputContext.POST:A.MsgFormattingInputContext.MESSAGE,input_source:fe,input_format:v.Hm.link,is_selection:!0}),F==null||(de=F.current)===null||de===void 0||de.setSelection(ne.index+ne.length,0)},secondaryCallToActionText:I.t("Edit"),onClickSecondaryButton:()=>{oe((0,p.O)()),oe((0,u.A)({quill:F==null?void 0:F.current,initialBlocks:le,initialText:J,initialUrl:X,textIsEditable:he,range:te,source:fe,renderWorkflowBuilderEditLinkInput:ve}))},primaryCallToActionType:"danger",tertiaryCallToActionText:Z,onClickTertiaryButton:()=>{var se,de;const ue=(q?X:(0,f.A)(X||""))||"";F==null||(se=F.current)===null||se===void 0||se.updateContents(new(_())().retain(te.index).delete(te.length).insert(ue,{link:X||""})),F==null||(de=F.current)===null||de===void 0||de.setSelection(te.index+ue.length,0)},arrowPosition:x,isMegaphoneCoachmark:!1},t.createElement("div",{className:"overflow_ellipsis"},t.createElement("b",null,J)),t.createElement("div",{className:"p-composer_edit_link_popover__url"},t.createElement(O.A,{alwaysPerformDefaultOnClickBehavior:!0,href:X||""},(ee=me==null?void 0:me(X))!==null&&ee!==void 0?ee:X)))}i(W,"ComposerEditLinkPopover"),W.displayName="ComposerEditLinkPopover";const L=W,S=(0,r.Ay)("Opens the Texty edit link modal",(w,F,j)=>{let{quill:J,initialRange:X,adjustedRange:q,anchorElement:G,initialContents:ne,initialText:te,initialUrl:le,textIsEditable:he,source:fe,renderWorkflowBuilderEditLinkInput:ve,renderUrlWithWorkflowBuilderVariable:me}=j;const oe="composer_edit_link_popover",N=(0,o.uK)({insert:te,attributes:{link:le}}),K=he?null:(0,a.A)({delta:ne,state:F()}),x=!N&&le===te&&(0,f.A)(le)!==le,b=t.createElement(L,{quillRef:{current:J},anchorElement:G,text:te,url:le,isTruncated:N,canBeTruncated:x,initialRange:X,adjustedRange:q,initialBlocks:K,textIsEditable:he,source:fe,renderWorkflowBuilderEditLinkInput:ve,renderUrlWithWorkflowBuilderVariable:me});w((0,d.q)({element:b,name:oe,isStackable:!0}))});S.meta={name:"createThunk",key:"createThunkopenTextyEditLinkModal",description:"Opens the Texty edit link modal"},S.propTypes={quill:s().object.isRequired,initialRange:s().object.isRequired,adjustedRange:s().object.isRequired,anchorElement:s().instanceOf(Element).isRequired,initialBlocks:s().arrayOf(s().object),initialText:s().string,initialUrl:s().string,textIsEditable:s().bool.isRequired,source:s().number.isRequired};const H=S},3926774068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3297051565),n=e.n(t),s=e(4711108074),r=e.n(s),d=e(3078252698),o=e(2394306156),a=e(1031947056),l=e(728937959),m=e(2574761851),c=e(6244014364),_=e(3436445810),p=e(512148710),u=e(8841789548);const h=i(()=>{const y=p.Nb.map(T=>`\\${T}`);return y.push("\\s"),y.push("\\ue000"),new RegExp(`[${y.join("")}]+$`)},"trailingPunctuationRegex"),E=i(()=>{const y=p.Fh.map(T=>`\\${T}`);return y.push("\\s"),y.push("\\ue000"),new RegExp(`^[${y.join("")}]+`)},"leadingPunctuationRegex"),A=i(()=>{if(!A.resultMemo){const y=p.z1.reduce((T,M)=>({pairsByOpening:{...T.pairsByOpening,[M[0]]:M},pairsByClosing:{...T.pairsByClosing,[M[1]]:M}}),{pairsByOpening:{},pairsByClosing:{}});A.resultMemo=y}return A.resultMemo},"getPermissibleCharPairsByChar"),v=i(function(y){let{isTrailing:T=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=0;const O=T?h:E,I=y.match(O());if(!I)return M;const{pairsByOpening:D,pairsByClosing:P}=A(),k=y.split(""),R=[...k].reverse(),V=I[0].split("");for(let B=0;B<V.length;B+=1){const W=T?k.length-1-B:B,L=y[W],S=T?P[L]:D[L];if(!S){M+=1;continue}const[H,w]=S;let F=0;if(T?R.slice(B).forEach(j=>{j===w?F+=1:j===H&&(F-=1)}):k.slice(B).forEach(j=>{j===H?F+=1:j===w&&(F-=1)}),F>0)M+=1;else break}return M},"getTrimLength"),f=(0,a.Ay)("Opens the Texty create link or edit link dialogs based on the current selection",(y,T,M)=>{let{textyInstance:O,source:I,renderWorkflowBuilderEditLinkInput:D}=M;const P=O.getSelection(),k=O.getFormat(P);let R="";P.length>0&&(R=(0,u.A)(O.getContentsForRange(P.index,P.length).ops,{embedReplacement:"\uE000"}));const V=k.link&&(0,d.A)(k.link)?k.link:void 0;let B=(0,o.A)(P);const W=v(R);W&&(R=R.substr(W),B={index:B.index+W,length:R.length});const L=v(R,{isTrailing:!0});if(L&&(R=R.substr(0,R.length-L),B={index:B.index,length:R.length}),!B.length&&k.link){const[H]=O.quill.getLeaf(B.index),w=H&&H.domNode&&H.domNode.parentNode&&H.domNode.parentNode.closest("a");if(!w||!O.quill.root.contains(w))return;B=(0,_.A)(new(r())(O.getContents().contents),{index:B.index,length:0},O.getFormat({index:B.index,length:0}));const F=O.getContentsForRange(B.index,B.length);R=(0,u.A)(F.ops,{embedReplacement:"\uE000"});const j=R.indexOf("\uE000")===-1;O.setSelection(P.index,P.length),y((0,l.A)({initialRange:P,adjustedRange:B,anchorElement:w,initialText:R,initialUrl:k.link,textIsEditable:j,initialContents:F,source:c.MsgFormattingInputSource.TOOLBAR,quill:O.quill,renderWorkflowBuilderEditLinkInput:D}));return}const S=R.indexOf(`
`)===-1&&R.indexOf("\uE000")===-1;y((0,m.A)({initialText:R,initialContents:O.getContentsForRange(B.index,B.length),initialUrl:V,range:B,textIsEditable:S,source:I,quill:O.quill,renderWorkflowBuilderEditLinkInput:D}))});f.meta={name:"createThunk",key:"createThunkopenTextyLinkFormBasedOnSelection",description:"Opens the Texty create link or edit link dialogs based on the current selection"},f.propTypes={textyInstance:n().object.isRequired,source:n().number.isRequired};const g=f},2574761851:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ve});var t=e(3134334389),n=e(1031947056),s=e(2375333597),r=e(5143598415),d=e(1649982175),o=e(6696292586),a=e(2322735331),l=e(9391594207),m=e(4711108074),c=e.n(m),_=e(8847766420),p=e(9003400431),u=e(56548687),h=e(6564475562),E=e(6244014364),A=e(512148710),v=e(3726677001),f=e(4200148118),g=e(2219904496),y=e(7138682671),T=e(720935990);function M(){return M=Object.assign||function(me){for(var oe=1;oe<arguments.length;oe++){var N=arguments[oe];for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(me[K]=N[K])}return me},M.apply(this,arguments)}i(M,"_extends");const O={display:"none"};class I extends t.PureComponent{save(){const{isValid:oe,onGo:N,closeModal:K}=this.props;if(!oe)return;const x=N();x&&x.then&&x.then(()=>{K()})}submit(oe){oe.preventDefault(),this.save()}render(){const{children:oe,isValid:N,onGo:K,...x}=this.props;return t.createElement(T.Ay,M({},x,{goButtonIsDisabled:!N||x.goButtonIsDisabled,shouldCloseOnGo:!1,onGo:this.save}),t.createElement("form",{onSubmit:this.submit},oe,t.createElement("button",{style:O,type:"submit"},"Submit")))}constructor(oe){super(oe),this.submit=this.submit.bind(this),this.save=this.save.bind(this)}}i(I,"_FormDialog"),I.displayName="_FormDialog",I.defaultProps={isValid:!1};const D={closeModal:p.O},P=(0,l.N)(null,D)(I);var k=e(735940183),R=e(3078252698),V=e(6533394955),B=e(3339229351),W=e(6317044431),L=e(3982736577),S=e(3829348308);const w=i((me,oe)=>{if(!(0,R.A)(oe))return null;const N=me&&(0,V.getStateByTeamId)(me),K=(0,W.A)(me);return oe.replace(K,(x,b,z,$)=>{if($>0&&oe.charAt($-1)===B._x)return x;const Z=(0,L.A)(x)||"",U=(0,S.qJ)(N,Z);return U?`:${U}:`:x})},"replaceNativeEmojiWithText");var F=e(4807041128),j=e(1191942715),J=e(4565603227),X=e(4226192540);const q=new k.Ay("message-input");let G=i(class extends t.Component{onChange(oe,N){const{initialText:K,initialUrl:x}=this.props;oe==="text"?this.setState(()=>({text:N,inputIsDirty:N!==K})):oe==="url"&&this.setState(()=>({url:N,inputIsDirty:N!==x}))}onSubmit(){const{initialText:oe,teamId:N}=this.props,{text:K,url:x}=this.state;let b=x?x.trim().replace(/ /g,"%20"):"";if(!b.length){this.removeLink();return}const z=(0,F.A)(b),$=z&&z.length===1&&z[0].text===b,Z=(0,J.t)([(0,X.Mx)(),(0,X.cL)(),(0,X.fE)()],"gi"),U=(x||"").match(Z);$?b=`mailto:${b}`:!b.match(/^[a-zA-Z]{0,63}:(\/\/)?.+/)&&!U&&(b=`${b.substr(0,2)==="//"?"http:":"http://"}${b}`);const ee=!K||!K.length||K.match(/^\s+$/)?x:K,se=w(N,ee||"");this.saveLink({didTextChange:se!==oe,text:se||"",url:b})}saveLink(oe){let{didTextChange:N,text:K,url:x}=oe;var b,z,$,Z;const{quillRef:U,range:ee,source:se,clogger:de}=this.props;if(!ee)return;let ue=ee.index+K.length;const _e=new(c());if(ee.index>0&&_e.retain(ee.index),!N&&ee.length>0){var pe;U==null||(pe=U.current)===null||pe===void 0||pe.getContents(ee).forEach(Le=>{const ye=(0,v.A)(Le);(0,f.A)(Le)?_e.retain(ye):_e.retain(ye,{link:x,slackmention:!1,unlink:!1})})}else{var ae;const Le=(0,d.A)((U==null||(ae=U.current)===null||ae===void 0?void 0:ae.getFormat(ee))||{},["slackmention","link"]);ee.length&&_e.delete(ee.length),_e.insert(K,{...Le,link:x,unlink:!1})}ee.length===0&&(_e.insert(" "),ue+=1);const Ee=U==null||(b=U.current)===null||b===void 0?void 0:b.getModule("slacklink");Ee&&(Ee.skipNextTextChange=!0),U==null||(z=U.current)===null||z===void 0||z.updateContents(_e),U==null||($=U.current)===null||$===void 0||$.setSelection(ue,0),U==null||(Z=U.current)===null||Z===void 0||Z.focus(),(0,o.A)(se)&&de.track(E.EventId.MSG_FORMATTING_ADDED,{input_context:(0,h.A)()?E.MsgFormattingInputContext.POST:E.MsgFormattingInputContext.MESSAGE,input_source:se,input_format:A.Hm.link,is_selection:ee.length>0})}removeLink(){var oe,N;const{quillRef:K,range:x,source:b,clogger:z}=this.props;this.props.closeModal(),x&&(K==null||(oe=K.current)===null||oe===void 0||oe.formatText(x.index,x.length,{link:!1,unlink:!0}),z.track(E.EventId.MSG_FORMATTING_REMOVED,{input_context:(0,h.A)()?E.MsgFormattingInputContext.POST:E.MsgFormattingInputContext.MESSAGE,input_source:b,input_format:A.Hm.link,is_selection:!0}),K==null||(N=K.current)===null||N===void 0||N.setSelection(x.index+x.length,0))}isValid(){const{url:oe}=this.state;return!(oe&&oe.trim().match(/^javascript:/gi)||oe&&oe.trim().match(/^about:/gi))}render(){const{quillRef:oe,initialUrl:N,initialBlocks:K,textIsEditable:x,focusTextOnMount:b,focusUrlOnMount:z,renderWorkflowBuilderEditLinkInput:$}=this.props,{text:Z,url:U,inputIsDirty:ee}=this.state,se=x?t.createElement(y.A,{text:q.t("Text"),htmlFor:"composer-link-modal-text",id:"composer-link-modal-text-1"},t.createElement(g.A,{name:"composer-link-modal-text",id:"composer-link-modal-text",onChange:ue=>this.onChange("text",ue),size:"medium",value:Z,focusOnMount:b})):t.createElement(t.Fragment,null,t.createElement(y.A,{text:q.t("Text")}),t.createElement("div",{className:"margin_bottom_125 half_opacity"},t.createElement(j.A,{richTextBlock:K.blocks?K.blocks[0]:null})));var de;return t.createElement(P,{title:N?q.t("Edit link"):q.t("Add link"),goButtonText:q.t("Save"),cancelText:q.t("Cancel"),onGo:this.onSubmit,onClose:()=>{var ue;oe==null||(ue=oe.current)===null||ue===void 0||ue.focus()},isValid:this.isValid(),goButtonIsDisabled:!ee},se,t.createElement(y.A,{text:q.t("Link"),htmlFor:"composer-link-modal-url",id:"composer-link-modal-url-1",className:"p-composer_edit_link_popover__builder_texty","data-qa":"composer-link-modal-label"},(de=$==null?void 0:$({id:"composer-link-modal-url-builder-input",onChange:this.onChange.bind(this),url:U,ariaLabel:q.t("Link"),focusUrlOnMount:z}))!==null&&de!==void 0?de:t.createElement(g.A,{name:"composer-link-modal-url",id:"composer-link-modal-url",onChange:ue=>this.onChange("url",ue),size:"medium","data-qa":"composer-link-modal-url",value:U,focusOnMount:z})))}constructor(oe){super(oe),this.state={text:oe.initialText,url:oe.initialUrl,inputIsDirty:!1},(0,a.v)(this,["onChange","onSubmit","isValid"])}},"ComposerLinkModal");G.displayName="ComposerLinkModal",G.defaultProps={quillRef:void 0,range:void 0,initialBlocks:void 0,initialText:void 0,initialUrl:void 0,textIsEditable:!0,focusTextOnMount:!1,focusUrlOnMount:!1,teamId:void 0,source:void 0};const ne=i(me=>({teamId:(0,_.ZT)(me),clogger:(0,u.e)({state:me})}),"mapStateToProps"),te=i(me=>({closeModal:function(){for(var oe=arguments.length,N=new Array(oe),K=0;K<oe;K++)N[K]=arguments[K];return me((0,p.O)(...N))}}),"mapDispatchToProps"),le=(0,l.N)(ne,te)(G),he="composer_link_modal",fe=(0,n.Ay)("Opens the Texty link form modal",(me,oe,N)=>{let{quill:K,initialContents:x,initialText:b,initialUrl:z,textIsEditable:$,range:Z,source:U,renderWorkflowBuilderEditLinkInput:ee}=N;const se=$?null:(0,r.A)({delta:x,state:oe()}),de=t.createElement(le,{quillRef:{current:K},initialBlocks:se,initialText:b,initialUrl:z,textIsEditable:$,focusTextOnMount:!b||!b.length,focusUrlOnMount:!!(b&&b.length),range:Z,source:U,renderWorkflowBuilderEditLinkInput:ee});me((0,s.q)({element:de,name:he,isStackable:!0}))});fe.meta={name:"createThunk",key:"createThunkopenTextyLinkFormModal",description:"Opens the Texty link form modal"};const ve=fe},5241075893:(Q,C,e)=>{"use strict";e.d(C,{ET:()=>A,Fd:()=>f,Wb:()=>g,xz:()=>v});var t=e(3297051565),n=e.n(t),s=e(5950652755),r=e(1031947056),d=e(2141099977),o=e(796111729),a=e(8847766420),l=e(4423055085),m=e(440999534),c=e(8802876335);const _="PRESENCE-MANAGER",p={},u=i((M,O)=>{const I=(0,a.ZT)(O()),D=Object.keys(p[I]),P={type:"presence_sub",ids:D},k=(0,o.Ay)({getState:O});k.debug(_,`Sending a 'presence_sub' event with the following ids: ${D}`),M((0,d.tN)(P)).catch(R=>{R&&R.message===m.qk||k.error(`Received an error while trying to send 'presence_sub' with the following ids: ${D}, error = ${R}`)})},"sendMessageEvent");let h;function E(){return h||(h=(0,s.A)(u,100,{leading:!1})),h}i(E,"getThrottledSendMessageEvent");const A=(0,r.Ay)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(M,O)=>{if(!(0,c.ON)(O())){(0,o.Ay)({getState:O}).debug(_,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}E()(M,O)});A.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const v=(0,r.Ay)("Adds the member to the presence subscription or increments the associated count",function(M,O){let{memberId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!I||I==="USLACKBOT")return;const D=(0,a.ZT)(O());if(p[D]||(p[D]={}),p[D][I]){(0,o.Ay)({getState:O}).debug(_,`Increasing the count for ${I} by 1`),p[D][I]+=1;return}(0,o.Ay)({getState:O}).debug(_,`Adding ${I} to the presence subscription`),p[D][I]=1,M(A())});v.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},v.propTypes={memberId:n().string.isRequired};const f=(0,r.Ay)("Removes the member from the presence subscription or decrements the associated count",function(M,O){let{memberId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!I)return;const D=(0,a.ZT)(O());if(!(!p[D]||!p[D][I])){if(p[D][I]>1){(0,o.Ay)({getState:O}).debug(_,`Decreasing the count for ${I} by 1`),p[D][I]-=1;return}(0,o.Ay)({getState:O}).debug(_,`Removing ${I} from the presence subscription`),delete p[D][I],M(A())}});f.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},f.propTypes={memberId:n().string.isRequired};const g=i(M=>p[M],"getPresenceSubscriptionByTeamId"),y=i(M=>{delete p[M]},"deletePresenceSubscriptionByTeamId"),T={sendMessageEvent:u};(0,l.ul)("presenceManager",{getPresenceSubscriptionByTeamId:g})},5583430912:(Q,C,e)=>{"use strict";e.d(C,{Ap:()=>r,Pv:()=>n,Ui:()=>s});var t=e(7223729463);const n=new t.a;function s(){return n.entries().filter(d=>d.value&&!d.value.isRejected()&&!d.value.isCancelled()).length}i(s,"getActiveCollabClientCount");const r=i(d=>{const o=n.get(d);return o!=null&&o.isFulfilled()?o.value():void 0},"getInitializedClient")},2580646391:(Q,C,e)=>{"use strict";e.d(C,{P:()=>t});var t;(function(n){n.BOOKMARK_BAR="bookmark_bar",n.COMPOSE_BUTTON="compose_button",n.SIDEBAR_CANVAS_CMD_CLICK="sidebar_canvas_cmd_click",n.SIDEBAR_ADD_BUTTON="sidebar_add_button",n.SIDEBAR_CONTEXT_MENU="sidebar_context_menu",n.QUIP_FILE_BROWSER_NUX_CREATE_DOC="quip_file_browser_nux_create_doc",n.SHORTCUT_MENU="shortcut_menu",n.QUIP_SHORTCUT_MENU="quip_shortcut_menu",n.HEADER_OVERFLOW_MENU="header_overflow_menu",n.QUIP_CANVAS_CABINET_CREATE_DOC="quip_canvas_cabinet_create_doc",n.SHORTCUT="shortcut",n.CANVAS_PAGE_EMPTY_STATE_FREEMIUM="canvas_page_empty_state_freemium",n.TRIAL_OFFER_MODAL="trial_offer_modal",n.HUDDLE_ATTACHMENTS_CREATE="huddle_attachments_create",n.QUIP_FILE_BROWSER_CREATE_DOC="quip_file_browser_create_doc",n.BOOKMARKS_BAR_CREATE="bookmarks_bar_create",n.CREATE_CHANNEL_SPACE="create-channel-space",n.QUICKSWITCHER="quickswitcher",n.FILE_MENU="file_menu",n.CREATE_MENU="create_menu",n.MORE_CANVASES_SIDEBAR="more_canvases_sidebar",n.SLACK_DOCS_SIDEBAR="slack_docs_sidebar",n.CALL_ATTACHMENTS_CREATE="call_attachments_create",n.INSERT_CANVAS_MODAL_CREATE="insert_canvas_modal_create",n.CREATE_HUDDLE_NOTES_DOC="create_huddles_notes_doc",n.CREATE_SIDECAR_NOTES="create_sidecar_notes",n.QUIP_BOOT_HOOKS="quip_boot_hooks",n.INSERT_CANVAS_SHORTCUTS_MENU="insert_canvas_shortcuts_menu",n.SHORTCUTS_MENU_V2_ITEM_CLICK="shortcuts_menu_v2_item_click",n.INTERNAL_TEST="internal_test",n.CANVASES_PEEK_VIEW="canvases_peek_view",n.SLACK_DOCS_PEEK_VIEW="slack_docs_peek_view",n.RESURRECTED_USER_WELCOME="resurrected_user_welcome",n.SLASH_COMMAND="slash_command",n.CREATE_DOC_FROM_LIST="create_doc_from_list",n.CREATE_TEMPLATE="create_template",n.CREATE_CANVAS_FROM_MESSAGE="create_canvas_from_message",n.HUDDLE_MEETING_NOTES_AUTO_OPEN="huddle_meeting_notes_auto_open",n.CREATE_MEETING_NOTES_FROM_PLACEHOLDER="create_meeting_notes_from_placeholder"})(t||(t={}))},4849735859:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(9706240641),n=e(6422693406),s=e(4761125736),r=e(1031947056),d=e(3577873706),o=e(2985066322),a=e(1552255081),l=e(82287009),m=e(5534420337),c=e(6244014364),_=e(56548687);const p=(0,r.Ay)("Clog the creation of a doc",(T,M,O)=>{let{fileId:I,source:D}=O;(0,_.e)({getState:M}).track(c.EventId.QUIP_DOC_CREATION,{contexts:{ui_context:{ui_properties:{element_name:D},ui_component_name:c.UiComponentName.QUIP_MAIN_EMBED,ui_step:c.UiStep.QUIP_CREATION},core:{quip_file_id:I,file_id:I}}})});p.meta={name:"createThunk",key:"createThunkclogCreateDoc",description:"Clog the creation of a doc"};const u=p;var h=e(5492559860),E=e(2832209848),A=e(2494018541);const v=40*1e3,f=(0,r.Ay)("Finalize a temporary document",function(){var T=(0,t.coroutine)(function*(M,O,I){let{tempId:D,finalId:P,onCreate:k,source:R}=I;const V=yield M((0,d.A)({quipThreadId:P,reason:"finalize-quip-doc"}));M((0,A.O)({fileId:V,tempId:D})),M((0,o.A)({fileId:V,lastReadByUser:Date.now()})),k&&(R!=="create-channel-space"&&M(u({fileId:V,source:R})),k({tempId:D,finalId:P,fileId:V}))});return function(M,O,I){return T.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkfinalizeDoc",description:"Finalize a temporary document"};const g=(0,r.Ay)("Create a Quip doc",function(){var T=(0,t.coroutine)(function*(M,O,I){let{onCreate:D,options:P,isChannelCanvas:k,source:R}=I;const V=(0,s._Z)(O(),"canvas_tab_customization_ga")==="on";if(!(0,a.F)(O()))return(0,m.Ay)({getState:O}).error(new Error("Failed to create a canvas - user does not have permission")),n.S.reject(new Error("Cannot create canvas"));const W={usesOnlyInlineTextComments:!0,...P},S=yield(yield M((0,l.lN)())).docs.create(W);if(S.isCreated())M(f({tempId:"",finalId:S.id.get(),onCreate:D,source:R}));else{const H=setTimeout(()=>{(0,m.Ay)({getState:O}).error(new Error("createDoc timeout"),{source:R,isChannelCanvas:k})},v),w=i((F,j)=>{S.isCreated()&&(clearTimeout(H),M(f({tempId:F,finalId:j,onCreate:D,source:R})),S.id.unlisten(w))},"listener");S.id.listen(w)}return V&&!k&&M((0,h.z)({component:E.G7.CanvasTabCanvasCreated,type:E.X8.Click,reason:"canvas-created"})),S});return function(M,O,I){return T.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkcreateDoc",description:"Create a Quip doc"};const y=g},4119164726:(Q,C,e)=>{"use strict";e.d(C,{Aw:()=>f,Zj:()=>h,vK:()=>E});var t=e(3385422400),n=e(735940183),s=e(9421999304),r=e(4761125736),d=e(8079225585),o=e(7731278967),a=e(9084547259),l=e(4843305308),m=e(5244168417),c=e(3677514771),_=e(6839188756),p=e(6642124196);const u=new n.Ay("quip_shortcut_handlers");var h;(function(g){g[g.BASICS=0]="BASICS",g[g.MEDIA=1]="MEDIA",g[g.SLACK=2]="SLACK",g[g.LAYOUT=3]="LAYOUT"})(h||(h={}));const E=i(()=>({[h.BASICS]:u.t("Basics"),[h.MEDIA]:u.t("Media"),[h.SLACK]:u.t("Slack"),[h.LAYOUT]:u.t("Layout")}),"getCategoryDetailsV2"),A=i(g=>{let{currentTeam:y,experimentCanvasInsertWorkflowMenuGroupOn:T,experimentCanvasDateMentionsGroupOn:M,experimentCanvasSetReminderFromDatePickerOn:O,experimentCanvasCreateListPrototypeGroupOn:I,teamHasListsAccess:D}=g;const P=(0,_.qR)(y),k=E(),R=k[h.BASICS],V=k[h.MEDIA],B=k[h.SLACK],W=k[h.LAYOUT],L=i((S,H,w,F)=>({id:S,name:H,canonicalName:w,hideOnEmptyQuery:F,autocomplete:!0,icon:(0,l.P)(o.r.DATE_MENTION).name,category:h.BASICS}),"dateShortcut");return[{id:m.SlackShortcutCommandType.CANVAS,name:(0,d.O)(o.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,l.P)(o.r.CANVAS).name,category:h.BASICS,aliases:[R]},{id:m.SlackShortcutCommandType.CHECKLIST,name:(0,d.O)(o.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,l.P)(o.r.CHECK_LIST).name,category:h.BASICS,aliases:[R]},{id:m.SlackShortcutCommandType.H1,name:(0,d.O)(o.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,l.P)(o.r.H1).name,category:h.BASICS,aliases:["h1",R]},{id:m.SlackShortcutCommandType.H2,name:(0,d.O)(o.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,l.P)(o.r.H2).name,category:h.BASICS,aliases:["h2",R]},{id:m.SlackShortcutCommandType.H3,name:(0,d.O)(o.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,l.P)(o.r.H3).name,category:h.BASICS,aliases:["h3",R]},{id:m.SlackShortcutCommandType.PLAIN,name:(0,d.O)(o.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,l.P)(o.r.PARAGRAPH).name,category:h.BASICS,aliases:[u.t("plain"),R]},{id:m.SlackShortcutCommandType.TABLE,name:(0,d.O)(o.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,l.P)(o.r.TABLE).name,category:h.BASICS,aliases:[u.t("grid"),u.t("spreadsheet"),R]},{id:m.SlackShortcutCommandType.DIVIDER,name:(0,d.O)(o.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,l.P)(o.r.DIVIDER).name,category:h.BASICS,aliases:[u.t("horizontal line"),R]},{id:m.SlackShortcutCommandType.BULLET_LIST,name:(0,d.O)(o.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,l.P)(o.r.BULLET_LIST).name,category:h.BASICS,aliases:[R]},{id:m.SlackShortcutCommandType.ORDERED_LIST,name:(0,d.O)(o.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,l.P)(o.r.ORDERED_LIST).name,category:h.BASICS,aliases:[R]},{id:m.SlackShortcutCommandType.BLOCKQUOTE,name:(0,d.O)(o.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,l.P)(o.r.BLOCKQUOTE).name,category:h.BASICS,aliases:[R]},{id:m.SlackShortcutCommandType.CODE,name:(0,d.O)(a.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,l.P)(a.L.CODE).name,category:h.BASICS,aliases:[R]},...M?[{...L(m.SlackShortcutCommandType.DATE_GENERIC,(0,d.O)(o.r.DATE_MENTION),"/date"),aliases:[R]},L(m.SlackShortcutCommandType.DATE_TODAY,u.t("Today"),"/today",!0),L(m.SlackShortcutCommandType.DATE_TOMORROW,u.t("Tomorrow"),"/tomorrow",!0),L(m.SlackShortcutCommandType.DATE_YESTERDAY,u.t("Yesterday"),"/yesterday",!0)]:[],...O?[{...L(m.SlackShortcutCommandType.DATE_GENERIC,u.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:[R]}]:[],{id:m.SlackShortcutCommandType.VIDEO,name:(0,d.O)(o.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,l.P)(o.r.VIDEO_CLIP).name,category:h.MEDIA,aliases:[V]},{id:m.SlackShortcutCommandType.AUDIO,name:(0,d.O)(o.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,l.P)(o.r.AUDIO_CLIP).name,category:h.MEDIA,aliases:[V]},{id:m.SlackShortcutCommandType.IMAGE,name:(0,d.O)(o.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,l.P)(o.r.IMAGE).name,category:h.MEDIA,aliases:[V]},{id:m.SlackShortcutCommandType.FILE,name:(0,d.O)(o.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:h.MEDIA,aliases:[V]},...T&&P?[{id:m.SlackShortcutCommandType.WORKFLOW,name:(0,d.O)(o.r.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:T}),canonicalName:"/workflow",autocomplete:!0,icon:(0,l.P)(o.r.WORKFLOW).name,category:h.SLACK,aliases:[B]}]:[],...I&&D?[{id:m.SlackShortcutCommandType.LIST,name:(0,d.O)(o.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,l.P)(o.r.LIST).name,category:h.SLACK,aliases:[B]}]:[],{id:m.SlackShortcutCommandType.PROFILE,name:u.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:h.SLACK,aliases:[B,u.t("user"),u.t("mention")]},{id:m.SlackShortcutCommandType.CHANNEL,name:u.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:h.SLACK,aliases:[B]},{id:m.SlackShortcutCommandType.TWO_COLUMNS,name:(0,d.O)(o.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,l.P)(o.r.LAYOUT_2_COLUMNS).name,category:h.LAYOUT,aliases:[W]},{id:m.SlackShortcutCommandType.THREE_COLUMNS,name:(0,d.O)(o.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,l.P)(o.r.LAYOUT_3_COLUMNS).name,category:h.LAYOUT,aliases:[W]},{id:m.SlackShortcutCommandType.CODEBLOCK,name:(0,d.O)(o.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,l.P)(o.r.CODE_BLOCK).name,category:h.LAYOUT,aliases:[W]}]},"getCommandsV2");function v(g){return{...g,type:"client"}}i(v,"formatShortcut");const f=(0,t.Mz)([c.H7,g=>(0,r._Z)(g,"canvas_insert_workflow_menu")==="on",g=>(0,r._Z)(g,"canvas_date_mentions")==="on",g=>(0,r._Z)(g,"canvas_set_reminder_from_date_picker")==="on",g=>(0,r._Z)(g,"canvas_create_list_prototype")==="on",g=>(0,p.teamHasFullListsAccess)(g),()=>(0,s.JK)(),(g,y)=>y],(g,y,T,M,O,I,D,P)=>A({currentTeam:g,experimentCanvasInsertWorkflowMenuGroupOn:y,experimentCanvasDateMentionsGroupOn:T,experimentCanvasSetReminderFromDatePickerOn:M,experimentCanvasCreateListPrototypeGroupOn:O,teamHasListsAccess:I}).map(v).filter(R=>P||!R.hideOnEmptyQuery))},7102510068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,h:()=>n});var t=e(5244168417);const n=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:t.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:t.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:t.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:t.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:t.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:t.CollabUrlType.SLACK_WORKFLOW},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/lists\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_LIST}];let s=i(class{constructor(){this.supportedUrlParsers=n}},"QuipUrlParsersProvider")},9121476043:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(1031947056),n=e(9536404279),s=e(10127715),r=e(7606781622),d=e(3164289453),o=e(3110884894);const a=(0,t.Ay)("Remove a message and its timestamp",function(m,c){let{channelId:_,ts:p,threadTs:u,broadcastDelete:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!_||!p))if(h)m((0,s.E$)({channelId:_,ts:p}));else{m((0,n.Np)({channelId:_,timestamp:p}));const E=!1,A=(0,r.Ld)(c(),_,p,E),v=A&&A.thread_ts||u;if(v){const f=(0,o.Iu)(_,v)||"";m((0,n.Np)({channelId:f,timestamp:p}))}m((0,s.QN)({message:{channel:_,ts:p}})),m((0,d.A)({channelId:_,item:A}))}});a.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const l=a},3164289453:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3297051565),n=e.n(t),s=e(2140362605);const r=(0,s.Ay)("(noop) Remove a pinned item via side-effect");r.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},r.propTypes=n().shape({item:n().object.isRequired,channelId:n().string.isRequired}).isRequired;const d=r},8391820676:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(6422693406),n=e(6696292586),s=e(8086952004),r=e(12126472),d=e(3398586081),o=e(5950652755),a=e(1031947056),l=e(6533394955),m=e(5795074931),c=e(8847766420),_=e(2155512519),p=e(1116859610),u=e(9101533895),h=e(9536404279),E=e(1407713935),A=e(1581380967),v=e(3110884894),f=e(10127715),g=e(3087402890),y=e(6704899486),T=e(796111729),M=e(8802876335);const O=1e3,I=i((B,W,L)=>{if(W==="Vall_threads")return(0,l.dispatchForTeamId)(B,(0,g.r8)()),t.K.resolve();const S=!1,H=(0,u.OL)((0,l.getStateByTeamId)(B),W,S);if(!H)return t.K.resolve();if(L)return D(B,W,L);const w=(0,E.mz)(H);return(0,l.dispatchForTeamId)(B,(0,_.Ay)({channelId:W,type:w,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:F,hasMore:j,isLimited:J,pinCount:X,deleted:q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const G=(0,l.getStateByTeamId)(B);(0,M.UJ)(G)&&!(0,y.N)(G,W)&&!(0,y.N)(G,(0,m.WR)(G))||((0,l.dispatchForTeamId)(B,(0,h.Jt)({channelId:W})),(0,l.dispatchForTeamId)(B,(0,p.A)({msgs:F,channelId:W,isLimited:J,pinCount:X,hasMore:{hasMoreStart:j,hasMoreEnd:!1},oldest:null,latest:null,deleted:q})),(0,n.A)(X)&&(0,l.dispatchForTeamId)(B,(0,A.K)({channelId:W,count:X})))}).catch(F=>{(0,T.Ay)({state:(0,l.getStateByTeamId)(B)}).error(`Failed to fetch offline history for ${W}: ${F}`)})},"fetchOfflineHistory");function D(B,W,L){const S=(0,v.Iu)(W,L);return(0,l.dispatchForTeamId)(B,(0,_.$b)({channelId:W,threadTs:L,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:H,deleted:w,hasMore:F}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const j=(0,l.getStateByTeamId)(B);if((0,M.UJ)(j)&&!(0,y.N)(j,W)&&!(0,y.N)(j,(0,m.WR)(j)))return;let J=H;const X=(0,s.A)(H,{ts:L});F&&(J=(0,r.A)(H,{ts:L})),(0,l.dispatchForTeamId)(B,(0,h.Jt)({channelId:S})),(0,l.dispatchForTeamId)(B,(0,p.A)({msgs:J,channelId:S,hasMore:{hasMoreStart:F,hasMoreEnd:!1},oldest:null,latest:null,deleted:w})),X&&(0,l.dispatchForTeamId)(B,(0,f.Kc)([X]))})}i(D,"fetchOfflineHistoryForThread");const P=(()=>{const B=(0,d.A)(()=>(0,o.A)(I,O),function(){for(var W=arguments.length,L=new Array(W),S=0;S<W;S++)L[S]=arguments[S];return JSON.stringify(L)});return function(){for(var W=arguments.length,L=new Array(W),S=0;S<W;S++)L[S]=arguments[S];return B(...L)(...L)}})(),k=(0,a.Ay)("Request offline history",function(B,W){let{channelId:L,threadTs:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P((0,c.ZT)(W()),L,S)});k.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},k.propTypes={};const R=k,V={fetchOfflineHistory:I,fetchOfflineHistoryForThread:D}},4587446194:(Q,C,e)=>{"use strict";e.d(C,{NU:()=>K,e8:()=>x,Ay:()=>ue,IY:()=>ee});var t=e(2003990933),n=e(7174777686),s=e(3571452446),r=e(1649982175),d=e(3110884894),o=e(5795074931),a=e(8847766420),l=e(9536404279),m=e(9101533895),c=e(10127715),_=e(6483201417),p=e(6704899486),u=e(1031947056),h=e(796111729),E=e(9190452268),A=e(3855029223),v=e(3158767748),f=e(7715417323),g=e(9762304444);const y=(0,g.Ay)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",f.A);var T=e(2664504268),M=e(662226046),O=e(9121476043),I=e(8391820676),D=e(6422693406),P=e(6580433553),k=e(6533394955),R=e(2872463257);const V={},B="cse-message-send",W="cse-message-send";let L=i(class{_send(){var pe;const{message:ae,trace:Ee,parentSpanId:Le}=this._activeRequest||{};(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${ae==null?void 0:ae.client_msg_id}`);const ye=i(()=>{var Te;return(Te=this._store)===null||Te===void 0?void 0:Te.dispatch((0,P.A)({message:ae,traceId:Ee==null?void 0:Ee.getTraceId(),parentSpanId:Le}))},"postMessageP");return(pe=this._maybeTraceMessageSend(ye))===null||pe===void 0?void 0:pe.then(this._activeRequest?this._activeRequest.resolve:f.A).catch(this._activeRequest?this._activeRequest.reject:f.A).finally(()=>this.resolve(ae))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:pe}=this._activeRequest||{};return pe==null||pe.addTags({count:this._queue.length}),pe==null||pe.close(),this._send(),(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(pe){var ae;if(!this.shouldTraceMessageSend())return pe();const Ee=(ae=this._tracer)===null||ae===void 0?void 0:ae.createTrace({traceName:B,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:R.nl.ALWAYS}}),Le=i(()=>{var Te;Ee&&((Te=this._tracer)===null||Te===void 0||Te.clearTrace(Ee))},"onResolve"),ye=i((Te,Ae)=>{var Ie;const Ue={state:R.$m.ERROR};Ae.status&&(Ue.status=Ae.status),Ae.message&&(Ue.message=Ae.message),Ae.data&&Ae.data.error&&(Ue.reason=Ae.data.error),Te==null||Te.addTags(Ue),Te==null||Te.close(),Ee&&((Ie=this._tracer)===null||Ie===void 0||Ie.reportTrace(Ee))},"onError");return Ee==null?void 0:Ee.traceFn({name:W,onError:ye,onResolve:Le},pe)}enqueue(pe){let{trace:ae,parentSpanId:Ee}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new D.S((Le,ye)=>{const Te=ae==null?void 0:ae.startSpan("message_send_attempt:enqueue",{parentSpanId:Ee});this._queue.push({message:pe,messageEnqueueSpan:Te,trace:ae,parentSpanId:Ee,resolve:Le,reject:ye}),(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${pe.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(pe){return!pe||!this._activeRequest||!this._activeRequest.message||pe.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${pe.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(pe){if(!pe)throw new Error("MessageQueue requires a teamId.");if(this._teamId=pe,this._activeRequest=null,this._queue=[],this._store=(0,k.getStoreInstanceByTeamId)(pe),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${pe} found.`);const ae=this._store.getState();this._tracer=(0,A.E)({state:ae})}},"MessageQueue");function S(_e){return V[_e]||(V[_e]=new L(_e)),V[_e]}i(S,"getInstance");const H={MESSAGE_SEND_TRACE_LABEL:B,MESSAGE_SEND_SPAN_LABEL:W};var w=e(9781145568),F=e(8802876335),j=e(5345057011),J=e(5774398667),X=e(4177200783),q=e(7759525289),G=e(4761125736);const ne=6,te=7,le=8,he="restricted_action_read_only_channel",fe="restricted_action_thread_only_channel",ve="restricted_action_non_threadable_channel",me="ekm_access_denied",oe="dlp_user_warning",N="message_limit_exceeded";var K;(function(_e){_e.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",_e.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",_e.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",_e.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(K||(K={}));var x;(function(_e){_e.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",_e.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",_e.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(x||(x={}));const b={[he]:ne,[fe]:te,[ve]:le};function z(_e,pe){_e((0,c.Kc)([pe]));const ae={channelId:pe.channel,timestamps:[pe.ts],oldest:pe.ts,hasMore:!1,append:!0};if(_e((0,l.VG)(ae)),pe.thread_ts){const Ee=(0,d.Iu)(pe.channel,pe.thread_ts);_e((0,l.VG)({...ae,channelId:Ee}))}}i(z,"addMsgToEnd");const $={};function Z(_e,pe,ae){$[_e]||($[_e]={}),$[_e][pe]=ae}i(Z,"addResolutionTimer");function U(_e,pe){!$[_e]||!$[_e][pe]||(clearTimeout($[_e][pe]),delete $[_e][pe])}i(U,"cancelResolutionTimer");function ee(_e,pe,ae,Ee){const Le=(0,a.ZT)(_e())||"",ye=(0,J.I)(_e(),Ee.client_msg_id);if(ye){(0,h.Ay)({getState:_e}).action("MESSAGE",`Resolved a message with clientMsgId ${Ee.client_msg_id} in ${ae.channel} with ts ${Ee.ts}`),pe((0,j.s)(ye.clientMsgId)),U(Le,ye.clientMsgId),pe((0,O.A)({channelId:ye.channelId,ts:ye.ts}));const Te=!1;(0,m.OL)(_e(),ae.channel,Te)&&pe((0,w.A)({channelId:ae.channel,msgTs:ae.ts,resent:!1}))}S(Le).resolve(Ee)}i(ee,"resolveMessage");const se="cse-message-send:send",de=(0,u.Ay)("Send a message",(_e,pe,ae)=>{let{messageSendTrace:Ee,notificationTracePassthroughData:Le,skipDLPUserWarning:ye,...Te}=ae;const Ae=(0,A.E)({getState:pe});let Ie,Ue;Ee&&(Ie=Ee.startSpan("message_send_attempt:send"),Ue=Ee.startSpan("message_send_attempt:placeholder",{parentSpanId:Ie==null?void 0:Ie.getId()}));const Be=Ae.createMetricsTrace({label:"cse-message-send"});Be.count({name:se,label:"pending"}),Ae.reportTrace(Be);const we=(0,v.A)(1),{channel:re,reply_broadcast:ge,thread_ts:De,client_msg_id:be,xArgs:xe}=Te,Re=(0,h.Ay)({getState:pe}),je=(0,a.ZT)(pe())||"",Ge=De?{_hidden_reply:!0,_was_reply_broadcast:ge}:null,Qe=be||(0,T.A)();Le&&(0,M.qe)(pe(),{notificationTracePassthroughData:Le,clientMsgId:Qe});const Xe=(0,G._Z)(pe(),"fe_message_rendering_perf_m1")==="on",et=Te.blocks,rt={...Te,...Ge,user:(0,o.WR)(pe()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:Qe,blocksProcessed:(0,q.R)({blocks:et,experimentFeMessageRenderingPerfM1GroupOn:Xe})};Re.action("MESSAGE",`Sent a message to ${re} via HTTP, clientMsgId: ${Qe}`);const it={...Te,...xe,include_channel_perm_error:!0,client_msg_id:Qe,skip_dlp_user_warning:ye};we&&Z(je,Qe,window.setTimeout(()=>{if((0,J.I)(pe(),rt.client_msg_id)){const Et=pe();(0,F.UJ)(Et)&&(0,E.Cy)({state:Et}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const lt=S((0,a.ZT)(pe())||"").enqueue(it,{trace:Ee,parentSpanId:Ie==null?void 0:Ie.getId()});z(_e,rt),_e((0,j.T)({clientMsgId:rt.client_msg_id,channelId:rt.channel,ts:rt.ts})),De||_e((0,_.A)({ts:null})),Ue==null||Ue.close();const ot=(0,G._Z)(pe(),"ecompl_custom_dlp_text")==="on";return lt.tap(()=>{const Et=pe();(!(0,F.UJ)(Et)||(0,p.N)(Et,re)||(0,p.N)(Et,(0,o.WR)(Et)))&&(_e((0,I.A)({channelId:re,threadTs:De})),ge&&_e((0,I.A)({channelId:re}))),Be.count({name:se,label:"success"}),Ae.reportTrace(Be),Ee&&(Ee.addTags({success:!0}),Ie==null||Ie.close(),Ae.reportTrace(Ee))}).catch(Et=>{const At=(0,t.A)(Et,"data.error"),Ot=ot?(0,t.A)(Et,"data.dlp_custom_message"):void 0;Be.count({name:se,label:"failure"}).setTag("error",At||(Et==null?void 0:Et.message)),Ae.reportTrace(Be);const Rt=At===me,yt=At===oe,Mt=At===N,en=Object.values(x).includes(At)?At:void 0,Tt=Object.values(K).includes(At)?At:void 0;if(!At&&!(0,J.I)(pe(),rt.client_msg_id)){Re.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}const xt=b[At];let bt=!0;const nn=!0,dn=[ne,te,le,he,fe,ve];(0,n.A)(dn,At)&&(y(re,xt,"send-message/sendMessage.catch"),bt=!1),Rt&&(bt=!1),Tt&&(bt=!1),Mt&&(bt=!1,_e((0,X.A)())),en&&(bt=!1);const Xt="Message failed to send",jt=(0,s.A)(Et,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);jt.client_msg_id=Qe,jt.channel=re,jt.thread_ts=De;const _n=Et&&Et.status===429?"message_send_ratelimit":"message_send_fail";Re.error(jt instanceof Error?jt:new Error(Xt),`${Xt}: ${At} | ${JSON.stringify(jt)}`,{subtype:_n});const ze=At?(0,r.A)(jt,["response"]):Et;Re.error("MESSAGE",Xt,At,ze);const Dt={...rt,showResend:bt,showCancel:nn,isEKMError:Rt,isDLPUserWarningError:yt,canvasSharingError:en,blockFileLinkSharingError:Tt,...ot?{dlpCustomMessage:Ot}:{}};(0,J.I)(pe(),rt.client_msg_id)?_e((0,c.Kc)([Dt])):z(_e,Dt),!bt&&we&&U(je,rt.client_msg_id),Ee&&(bt?(Ee.addTags({success:!1}),Ie==null||Ie.close(),Ae.reportTrace(Ee)):Ae.clearTrace(Ee))})});de.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const ue=de},5363983309:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(8212623464),s=e(1031947056),r=e(6533394955),d=e(8847766420),o=e(2567914105),a=e(2375333597),l=e(8726613433),m=e(5258584090),c=e(4518410378);function _(){return _=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var v in A)Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}return h},_.apply(this,arguments)}i(_,"_extends");const u=i((h,E)=>(0,s.Ay)(`XWS open ${h.displayName} modal`,(A,v,f,g)=>{const{modalName:y,allowMultiple:T=!0,isStackable:M=!1,renderInChildWindow:O=!1}=E||{};let I,D=O;const P=g(m.S);if((P==null?void 0:P.windowRef.deref())!==c.J&&(P!=null&&P.windowId)&&(D=!0,I=P.windowId),!T&&y&&(0,o.wc)(v(),I).find(H=>{let{name:w}=H;return w===y}))return;const k=(0,d.ZT)(v()),R=(0,l.vB)(v()),V=(0,r.getStoreInstanceByTeamId)(k);let B,W=t.createElement(h,_({},f,{closeModal:()=>B==null?void 0:B()}));D||(W=t.createElement(n.Kq,{store:V},W));let L;return D?L=A((0,a.q)({element:W,name:y||void 0,isStackable:M})):L=(0,r.dispatchForTeamId)(R,(0,a.q)({element:W,name:y||void 0,isStackable:M})),B=L.close,L}),"createXWSModalThunk")},9488048047:(Q,C,e)=>{"use strict";e.d(C,{z:()=>B});var t=e(166097325),n=e(1031947056),s=e(6601726845),r=e(1839426804),d=e(2708016366),o=e(9327462766),a=e(296612764),l=e(8585228397),m=e(2768794130),c=e(5078909337),_=e(2036289572),p=e(2505585477),u=e(6729174604),h=e(832411022);const E=i((W,L,S)=>W&&Object.values(L).includes(W)?W:L[S],"validateMessageSearchSort"),A=i((W,L,S)=>W&&Object.values(L).includes(W)?W:L[S],"validateFileSearchSort"),v=i((W,L,S)=>W&&Object.values(L).includes(W)?W:L[S],"validateChannelSearchSort"),f=i((W,L,S)=>W&&Object.values(L).includes(W)?W:L[S],"validatePeopleSearchSort"),g=i((W,L,S)=>W&&Object.values(L).includes(W)?W:L[S],"validateResultCountToggle");var y=e(57760199),T=e(197186845),M=e(30533254),O=e(5446033290),I=e(532953487),D=e(2864477491),P=e(8847766420),k=e(5513050121),R=e(9752307e3),V=e(4761125736);const B=(0,n.Ay)("Runs search from given encoded search state string",(W,L,S)=>{let{encodedSearchString:H}=S;if(!H)return;const w=L(),F=(0,I.$)(w),j=(0,D.GJ)(w),J=h.Jx.OMNISWITCHER,X=(0,V._Z)(w,"omniswitcher_delta")==="treatment",q=(0,V._Z)(w,"search_mixed_results_v2")==="on";if(j&&H===F)return;const G=(0,s.Wj)(H),{requestQuery:ne,tab:te,page:le,messageAndFileSearchExcludeBots:he,messageAndFileSearchOnlyMyChannels:fe,activeEnterpriseTeamIdFilter:ve,channelSearchFilterType:me,channelSearchOrgFilters:oe,channelSearchHideMemberChannels:N,peopleSearchFilterType:K,peopleSearchOrgFilters:x,peopleSearchHideDeactivatedUsers:b,messageSearchSort:z,fileSearchSort:$,channelSearchSort:Z,peopleSearchSort:U,resultCountToggle:ee,peopleSearchLocationFilters:se,peopleSearchDivisionFilters:de,peopleSearchDepartmentFilters:ue,peopleSearchTitleFilters:_e,peopleSearchCelebrationFilters:pe,salesforceSearchFilterOrgId:ae,salesforceSearchFilterRecordType:Ee,salesforceSearchFilterCreatedByMe:Le}=G,ye=R.dn.fromString(w,ne);W(X?(0,u.N9)({queryOps:ye.toTextyOps(),query:"",inputId:J}):(0,u.N9)({query:ye.toTextyString(),inputId:J}));const Te=(0,M.vA)(w,ne);W((0,_.c3)({queryFilter:Te}));const Ae=E(z,h.kK,"relevantMessages"),Ie=A($,h.VU,"relevant"),Ue=v(Z,h.aJ,"relevant"),Be=f(U,h.iO,"relevant"),we=g(ee,h.LV,20);Ae!==(0,o.WJ)(w)&&W((0,a.g)({sort:Ae})),Ie!==(0,l.r)(w,h.c5.FILES)&&W((0,m.f)({sort:Ie})),Ue!==(0,o.Kn)(w)&&W((0,d.Ak)({sort:Ue})),Be!==(0,o.y6)(w)&&W((0,d.Yn)({sort:Be})),we!==(0,o.jn)(w)&&W((0,d.BS)({count:we})),W((0,r.O6)({tab:te})),W((0,r.BL)({moduleType:h.Sv[te],page:le}));const{requestQuery:re,messageAndFileSearchExcludeBots:ge,messageAndFileSearchOnlyMyChannels:De,activeEnterpriseTeamIdFilter:be,channelSearchFilterType:xe,channelSearchOrgFilters:Re,channelSearchHideMemberChannels:je,peopleSearchFilterType:Ge,peopleSearchOrgFilters:Qe,peopleSearchHideDeactivatedUsers:Xe,messageSearchSort:et,fileSearchSort:rt,channelSearchSort:it,peopleSearchSort:lt,resultCountToggle:ot,peopleSearchDepartmentFilters:Et,peopleSearchDivisionFilters:At,peopleSearchLocationFilters:Ot,peopleSearchTitleFilters:Rt,peopleSearchCelebrationFilters:yt,salesforceSearchFilterOrgId:Mt,salesforceSearchFilterRecordType:en,salesforceSearchFilterCreatedByMe:Tt}=(0,s.Wj)(F||""),xt=(0,p._G)(w,{module:q&&te==="mixedResults"?h.gs.MESSAGES:te});if(te===h.gs.CHANNELS&&(me&&W((0,r.Ev)({type:me})),oe&&W((0,r.H)({orgFilters:oe}))),te===h.gs.PEOPLE&&(K&&W((0,r.kC)({type:K})),x&&W((0,r.XT)({orgFilters:x})),se&&W((0,r.Ic)({locations:se})),_e&&W((0,r.t_)({titles:_e})),ue&&W((0,r.Vm)({departments:ue})),de&&W((0,r.qV)({divisions:de})),pe&&W((0,r.H4)({celebrations:pe}))),ae&&W((0,r.lu)({salesforceOrgId:ae})),Ee&&W((0,r.xJ)({salesforceRecordType:Ee})),Le&&W((0,r.jf)({salesforceCreatedByMe:Le})),he!==ge&&W((0,d.V1)({value:!!he})),fe!==De&&W((0,d.le)({value:!!fe})),ve!==be&&ve&&W((0,r.y0)({selectedEnterpriseTeamId:ve})),K===h.Dx.guests){const nn=(0,P.s_)(w);nn&&W((0,r.y0)({selectedEnterpriseTeamId:nn}))}N!==je&&W((0,d.kZ)({value:!!N})),b!==Xe&&W((0,d.sA)({value:!!b})),Ae!==et&&W((0,a.g)({sort:Ae})),Ie!==rt&&W((0,m.f)({sort:Ie})),Ue!==it&&W((0,d.Ak)({sort:Ue})),Be!==lt&&W((0,d.Yn)({sort:Be})),we!==ot&&W((0,d.BS)({count:we}));const bt=he!==ge||fe!==De||ve!==be||me!==xe||!(0,t.A)(oe,Re)||N!==je||K!==Ge||!(0,t.A)(x,Qe)||b!==Xe||!(0,t.A)(se,Ot)||!(0,t.A)(_e,Rt)||!(0,t.A)(de,At)||!(0,t.A)(ue,Et)||!(0,t.A)(pe,yt)||!(0,t.A)(ae,Mt)||!(0,t.A)(Ee,en)||!(0,t.A)(Le,Tt);ne!==re?W((0,c.A)({query:ne,page:le,encodedSearchString:H})):xt!=null&&xt.items&&(xt!=null&&xt.items[le])?bt?((0,y.d1)(W,L,"search-filters-history-stack"),W((0,O.b)({value:H}))):Ae!==et?(W((0,T.u3)({module:"messages",reason:"search-message-sort-changed-history-stack",context:k.Oj.MessagesTab})),W((0,O.b)({value:H}))):Ie!==rt?(W((0,T.u3)({module:"files",reason:"search-files-sort-changed-history-stack",context:k.Oj.FilesTab})),W((0,O.b)({value:H}))):Ue!==it?(W((0,T.u3)({module:"channels",reason:"search-channels-sort-changed-history-stack",context:k.Oj.ChannelsTab})),W((0,O.b)({value:H}))):Be!==lt?(W((0,T.u3)({module:"people",reason:"search-people-sort-changed-history-stack",context:k.Oj.PeopleTab})),W((0,O.b)({value:H}))):we!==ot?((0,y.d1)(W,L,"result-count-toggle-history-stack"),W((0,O.b)({value:H}))):W((0,O.b)({value:H})):W((0,c.A)({query:ne,module:h.Sv[te],page:le,encodedSearchString:H}))});B.meta={name:"createThunk",key:"createThunkrunSearchFromEncodedSearchState",description:"Runs search from given encoded search state string"}},8010516507:(Q,C,e)=>{"use strict";e.d(C,{L:()=>o});var t=e(1031947056),n=e(5446033290),s=e(6601726845),r=e(5267010247),d=e(8822892075);const o=(0,t.Ay)("Adds a search history item and updates the url with its id",(a,l)=>{const m=l(),c=(0,s._t)(m);c&&(a((0,n.b)({value:c})),a((0,r.o)((0,d.oV)(c))))});o.meta={name:"createThunk",key:"createThunkrunSearchFromReduxState",description:"Adds a search history item and updates the url with its id"}},57760199:(Q,C,e)=>{"use strict";e.d(C,{$q:()=>F,AW:()=>L,CK:()=>he,F2:()=>j,F5:()=>P,FG:()=>w,HE:()=>le,HX:()=>te,Hj:()=>W,J0:()=>ve,Jv:()=>y,O7:()=>ne,OH:()=>X,T9:()=>D,VX:()=>T,V_:()=>J,YV:()=>b,_I:()=>I,ap:()=>N,bQ:()=>R,cI:()=>K,cf:()=>q,d1:()=>g,dY:()=>S,g:()=>k,iX:()=>B,lN:()=>H,m0:()=>$,mh:()=>O,s7:()=>oe,sf:()=>V,v6:()=>me,w2:()=>M,wr:()=>x,yH:()=>fe,yU:()=>G});var t=e(1031947056),n=e(197186845),s=e(2199762179),r=e(2036289572),d=e(2505585477),o=e(7435861102),a=e(832411022),l=e(296612764),m=e(2768794130),c=e(5234724663),_=e(9436609557),p=e(1839426804),u=e(2708016366),h=e(8847766420),E=e(8010516507),A=e(304127728),v=e(8538260492),f=e(5513050121);function g(U,ee,se){let de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const ue=(0,d.iq)(ee()),_e=ue?ue.query:"";return U((0,r.p4)({windowId:A.I})),de&&U((0,o.z)()),U((0,n.Ad)({query:_e,reason:se,fetchSuggestions:!0}))}i(g,"refetchAllSearchResults");const y=(0,t.Ay)("Message/file search: exclude bots checkbox changed",(U,ee,se)=>{let{value:de}=se;U((0,u.V1)({value:de})),g(U,ee,"search-exclude-bots-changed"),U((0,E.L)())});y.meta={name:"createThunk",key:"createThunkmessageAndFileSearchExcludeBotsChanged",description:"Message/file search: exclude bots checkbox changed"};const T=(0,t.Ay)("Message/file search: only my channels checkbox changed",(U,ee,se)=>{let{value:de}=se;U((0,u.le)({value:de})),de&&U((0,u.kZ)({value:!1})),g(U,ee,"search-only-my-channels-changed"),U((0,E.L)())});T.meta={name:"createThunk",key:"createThunksearchOnlyMyChannelsChanged",description:"Message/file search: only my channels checkbox changed"};const M=(0,t.Ay)("Channel search: hide member channels flag changed",(U,ee,se)=>{let{value:de,refetch:ue=!0}=se;U((0,u.kZ)({value:de})),de&&U((0,u.le)({value:!1})),ue&&g(U,ee,"search-hide-member-channels-changed"),U((0,E.L)())});M.meta={name:"createThunk",key:"createThunkchannelSearchHideMemberChannelsChanged",description:"Channel search: hide member channels flag changed"};const O=(0,t.Ay)("Mixed results search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&(U((0,c.Yj)({sortValue:a.Ok[de],entity:a.c5.MESSAGES})),U((0,c.Yj)({sortValue:a.mg[de],entity:a.c5.FILES}))),U((0,l.g)({sort:a.Ok[de]})),U((0,m.f)({sort:a.mg[de]})),U((0,u.aG)({sort:de})),g(U,ee,"mixed-results-sort-changed",!1),ue&&U((0,E.L)())});O.meta={name:"createThunk",key:"createThunkmixedResultsSearchSortChanged",description:"Mixed results search: sort changed"};const I=(0,t.Ay)("Message search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"messages"})),U((0,l.g)({sort:de})),U((0,n.u3)({module:"messages",reason:"search-messages-sort-changed",context:f.Oj.MessagesTab})),ue&&U((0,E.L)())});I.meta={name:"createThunk",key:"createThunkmessageSearchSortChanged",description:"Message search: sort changed"};const D=(0,t.Ay)("File search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"files"})),U((0,m.f)({sort:de})),U((0,n.u3)({module:"files",reason:"search-files-sort-changed",context:f.Oj.FilesTab})),ue&&U((0,E.L)())});D.meta={name:"createThunk",key:"createThunkfileSearchSortChanged",description:"File search: sort changed"};const P=(0,t.Ay)("Canvas search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"files"})),U((0,m.f)({sort:de})),U((0,n.u3)({module:"canvases",reason:"search-canvases-sort-changed",context:f.Oj.CanvasesTab})),ue&&U((0,E.L)())});P.meta={name:"createThunk",key:"createThunkcanvasSearchSortChanged",description:"Canvas search: sort changed"};const k=(0,t.Ay)("Lists search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"lists"})),U((0,m.f)({sort:de})),U((0,n.u3)({module:"lists",reason:"search-lists-sort-changed",context:f.Oj.ListsTab})),ue&&U((0,E.L)())});k.meta={name:"createThunk",key:"createThunklistsSearchSortChanged",description:"Lists search: sort changed"};const R=(0,t.Ay)("List records search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"listRecords"})),U((0,m.f)({sort:de})),U((0,n.u3)({module:"listRecords",reason:"search-list-records-sort-changed",context:f.Oj.ListsTab})),ue&&U((0,E.L)())});R.meta={name:"createThunk",key:"createThunklistRecordsSearchSortChanged",description:"List records search: sort changed"};const V=(0,t.Ay)("Channel search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"channels"})),U((0,u.Ak)({sort:de})),U((0,n.u3)({module:"channels",reason:"search-channels-sort-changed",context:f.Oj.ChannelsTab})),ue&&U((0,E.L)())});V.meta={name:"createThunk",key:"createThunkchannelSearchSortChanged",description:"Channel search: sort changed"};const B=(0,t.Ay)("People search: sort changed",(U,ee,se)=>{let{sort:de,shouldUpdateUrl:ue=!0,shouldClogSearchSort:_e=!0}=se;_e&&U((0,c.Yj)({sortValue:de,entity:"people"})),U((0,u.Yn)({sort:de})),U((0,n.u3)({module:"people",reason:"search-people-sort-changed",context:f.Oj.PeopleTab})),ue&&U((0,E.L)())});B.meta={name:"createThunk",key:"createThunkpeopleSearchSortChanged",description:"People search: sort changed"};const W=(0,t.Ay)("result count toggle changed",(U,ee,se)=>{let{count:de}=se;U((0,u.BS)({count:de})),g(U,ee,"result-count-toggle-changed",!1),U((0,p.Cr)({windowId:A.I})),U((0,p.Di)({windowId:A.I})),U((0,E.L)())});W.meta={name:"createThunk",key:"createThunkresultCountToggleChanged",description:"result count toggle changed"};const L=(0,t.Ay)("Channel search: filter type changed",(U,ee,se)=>{let{type:de}=se;U((0,p.Ev)({type:de})),g(U,ee,"search-channels-filter-type-changed"),U((0,E.L)())});L.meta={name:"createThunk",key:"createThunkchannelSearchFilterTypeChanged",description:"Channel search: filter type changed"};const S=(0,t.Ay)("Channel search: filter type changed",(U,ee,se)=>{let{type:de}=se;U((0,p.HR)({type:de})),g(U,ee,"search-channels-filter-record-type-changed"),U((0,E.L)())});S.meta={name:"createThunk",key:"createThunkchannelSearchFilterRecordTypeChanged",description:"Channel search: filter type changed"};const H=(0,t.Ay)("Channel search: filter type changed",(U,ee,se)=>{let{onlyRecordChannels:de}=se;U((0,p.z8)({onlyRecordChannels:de})),g(U,ee,"search-channels-filter-by-record-channel-changed"),U((0,E.L)())});H.meta={name:"createThunk",key:"createThunkchannelSearchFilterOnlyRecordChannelsChanged",description:"Channel search: filter type changed"};const w=(0,t.Ay)("Salesforce record search: filter Salesforce org id changed",(U,ee,se)=>{let{salesforceOrgId:de}=se;U((0,s.T)({salesforceOrgId:de})),U((0,p.lu)({salesforceOrgId:de})),g(U,ee,"search-salesforce-org-id-changed"),U((0,E.L)())});w.meta={name:"createThunk",key:"createThunksalesforceSearchFilterOrgIdChanged",description:"Salesforce record search: filter Salesforce org id changed"};const F=(0,t.Ay)("Salesforce record search: filter record type changed",(U,ee,se)=>{let{salesforceRecordType:de}=se;U((0,p.xJ)({salesforceRecordType:de})),g(U,ee,"search-salesforce-record-type-changed"),U((0,E.L)())});F.meta={name:"createThunk",key:"createThunksalesforceSearchFilterRecordTypeChanged",description:"Salesforce record search: filter record type changed"};const j=(0,t.Ay)("Salesforce record search: filter created by me changed",(U,ee,se)=>{let{salesforceCreatedByMe:de}=se;U((0,p.jf)({salesforceCreatedByMe:de})),g(U,ee,"search-salesforce-created-by-me-changed"),U((0,E.L)())});j.meta={name:"createThunk",key:"createThunksalesforceSearchFilterCreatedByMeChanged",description:"Salesforce record search: filter created by me changed"};const J=(0,t.Ay)("All of search: search by selected enterprise team id",(U,ee,se)=>{let{value:de,refetch:ue=!0}=se;U((0,p.y0)({selectedEnterpriseTeamId:de})),ue&&g(U,ee,"search-only-by-enterprise-team-id"),U((0,E.L)())});J.meta={name:"createThunk",key:"createThunksearchOnlyByEnterpriseTeamId",description:"All of search: search by selected enterprise team id"};const X=(0,t.Ay)("Channel search: bulk update an external org filter",(U,ee,se)=>{let{teamIds:de}=se;const ue=ee(),_e=(0,_.tL)(ue);U((0,p.RR)({teamIds:Array.from(new Set([..._e,...de]))})),U((0,p.H)({orgFilters:de})),g(U,ee,"search-channels-org-filter-bulk-changed"),U((0,E.L)())});X.meta={name:"createThunk",key:"createThunksetChannelSearchOrgFilter",description:"Channel search: bulk update an external org filter"};const q=(0,t.Ay)("Channel search: update an external org filter",(U,ee,se)=>{let{teamId:de,value:ue}=se;const _e=ee();let pe=[...(0,_.lB)(_e)];const ae=(0,_.tL)(_e);ue?pe.push(de):pe=pe.filter(Ee=>Ee!==de),U((0,p.RR)({teamIds:Array.from(new Set([...ae,de]))})),U((0,p.H)({orgFilters:pe})),g(U,ee,"search-channels-org-filter-changed"),U((0,E.L)())});q.meta={name:"createThunk",key:"createThunktoggleChannelSearchOrgFilter",description:"Channel search: update an external org filter"};const G=(0,t.Ay)("People search: bulk update an external org filter",(U,ee,se)=>{let{teamIds:de}=se;const ue=ee(),_e=(0,_.tw)(ue);U((0,p.PZ)({teamIds:Array.from(new Set([..._e,...de]))})),U((0,p.XT)({orgFilters:de})),g(U,ee,"search-people-org-filter-changed"),U((0,E.L)())});G.meta={name:"createThunk",key:"createThunksetPeopleSearchOrgFilter",description:"People search: bulk update an external org filter"};const ne=(0,t.Ay)("People search: update an external org filter",(U,ee,se)=>{let{teamId:de,value:ue}=se;const _e=ee();let pe=[...(0,_.fL)(_e)];const ae=(0,_.tw)(_e);ue?pe.push(de):pe=pe.filter(Ee=>Ee!==de),U((0,p.PZ)({teamIds:Array.from(new Set([...ae,de]))})),U((0,p.XT)({orgFilters:pe})),g(U,ee,"search-people-org-filter-changed"),U((0,E.L)())});ne.meta={name:"createThunk",key:"createThunktogglePeopleSearchOrgFilter",description:"People search: update an external org filter"};const te=(0,t.Ay)("People search: bulk update location filter",(U,ee,se)=>{let{values:de}=se;U((0,p.Ic)({locations:de})),g(U,ee,"search-people-location-filter-changed"),U((0,E.L)())});te.meta={name:"createThunk",key:"createThunksetPeopleSearchLocationFilter",description:"People search: bulk update location filter"};const le=(0,t.Ay)("People search: update location filter",(U,ee,se)=>{let{location:de,value:ue}=se;const _e=ee();let pe=[...(0,_.aJ)(_e)];ue?pe.push(de):pe=pe.filter(ae=>ae!==de),U((0,p.Ic)({locations:pe})),g(U,ee,"search-people-location-filter-changed"),U((0,E.L)())});le.meta={name:"createThunk",key:"createThunktogglePeopleSearchLocationFilter",description:"People search: update location filter"};const he=(0,t.Ay)("People search: bulk update title filter",(U,ee,se)=>{let{values:de}=se;U((0,p.t_)({titles:de})),g(U,ee,"search-people-title-filter-changed"),U((0,E.L)())});he.meta={name:"createThunk",key:"createThunksetPeopleSearchTitleFilter",description:"People search: bulk update title filter"};const fe=(0,t.Ay)("People search: update title filter",(U,ee,se)=>{let{title:de,value:ue}=se;const _e=ee();let pe=[...(0,_.LX)(_e)];ue?pe.push(de):pe=pe.filter(ae=>ae!==de),U((0,p.t_)({titles:pe})),g(U,ee,"search-people-title-filter-changed"),U((0,E.L)())});fe.meta={name:"createThunk",key:"createThunktogglePeopleSearchTitleFilter",description:"People search: update title filter"};const ve=(0,t.Ay)("People search: bulk update division filter",(U,ee,se)=>{let{values:de}=se;U((0,p.qV)({divisions:de})),g(U,ee,"search-people-division-filter-changed"),U((0,E.L)())});ve.meta={name:"createThunk",key:"createThunksetPeopleSearchDivisionFilter",description:"People search: bulk update division filter"};const me=(0,t.Ay)("People search: update division filter",(U,ee,se)=>{let{division:de,value:ue}=se;const _e=ee();let pe=[...(0,_.YM)(_e)];ue?pe.push(de):pe=pe.filter(ae=>ae!==de),U((0,p.qV)({divisions:pe})),g(U,ee,"search-people-division-filter-changed"),U((0,E.L)())});me.meta={name:"createThunk",key:"createThunktogglePeopleSearchDivisionFilter",description:"People search: update division filter"};const oe=(0,t.Ay)("People search: bulk update department filter",(U,ee,se)=>{let{values:de}=se;U((0,p.Vm)({departments:de})),g(U,ee,"search-people-department-filter-changed"),U((0,E.L)())});oe.meta={name:"createThunk",key:"createThunksetPeopleSearchDepartmentFilter",description:"People search: bulk update department filter"};const N=(0,t.Ay)("People search: update department filter",(U,ee,se)=>{let{department:de,value:ue}=se;const _e=ee();let pe=[...(0,_.DL)(_e)];ue?pe.push(de):pe=pe.filter(ae=>ae!==de),U((0,p.Vm)({departments:pe})),g(U,ee,"search-people-department-filter-changed"),U((0,E.L)())});N.meta={name:"createThunk",key:"createThunktogglePeopleSearchDepartmentFilter",description:"People search: update department filter"};const K=(0,t.Ay)("People search: bulk update celebration filter",(U,ee,se)=>{let{values:de}=se;U((0,p.H4)({celebrations:de})),g(U,ee,"search-people-celebration-filter-changed"),U((0,E.L)())});K.meta={name:"createThunk",key:"createThunksetPeopleSearchCelebrationFilter",description:"People search: bulk update celebration filter"};const x=(0,t.Ay)("People search: update celebration filter",(U,ee,se)=>{let{celebration:de,value:ue}=se;const _e=ee();let pe=[...(0,_.Lq)(_e)];ue?pe.push(de):pe=pe.filter(ae=>ae!==de),U((0,p.H4)({celebrations:pe})),g(U,ee,"search-people-celebration-filter-changed"),U((0,E.L)())});x.meta={name:"createThunk",key:"createThunktogglePeopleSearchCelebrationFilter",description:"People search: update celebration filter"};const b=(0,t.Ay)("People search: filter type changed",(U,ee,se)=>{let{type:de,refetch:ue=!0}=se;const _e=ee(),pe=(0,h.s_)(_e),ae=(0,_.Xh)(_e);U((0,p.kC)({type:de})),de===a.Dx.guests&&pe?U((0,p.y0)({selectedEnterpriseTeamId:pe})):de===v.Qg.ORG_OWNERS||de===v.Qg.ORG_ADMINS?U((0,p.y0)({selectedEnterpriseTeamId:""})):(de===v.Qg.WORKSPACE_OWNERS||de===v.Qg.WORKSPACE_ADMINS)&&!ae&&pe&&U((0,p.y0)({selectedEnterpriseTeamId:pe})),ue&&g(U,ee,"search-people-filter-type-changed"),U((0,E.L)())});b.meta={name:"createThunk",key:"createThunkpeopleSearchFilterTypeChanged",description:"People search: filter type changed"};const z=(0,t.Ay)("People search: custom filter changed",(U,ee,se)=>{let{id:de,value:ue,checked:_e}=se;U((0,p.FI)({id:de,value:ue,checked:_e})),g(U,ee,"search-people-custom-filter-changed")});z.meta={name:"createThunk",key:"createThunkpeopleSearchCustomFilterChanged",description:"People search: custom filter changed"};const $=(0,t.Ay)("People search: hide deactivated users pref changed",(U,ee,se)=>{let{value:de,refetch:ue=!0}=se;U((0,u.sA)({value:de})),ue&&g(U,ee,"search-people-hide-deactivated-users-changed"),U((0,E.L)())});$.meta={name:"createThunk",key:"createThunkpeopleSearchHideDeactivatedUsersChanged",description:"People search: hide deactivated users pref changed"};const Z=(0,t.Ay)("People search: timezone filter changed",(U,ee,se)=>{let{label:de,value:ue,checked:_e}=se;U((0,p.pU)({label:de,value:ue,checked:_e})),g(U,ee,"search-people-timezone-filter-changed")});Z.meta={name:"createThunk",key:"createThunkpeopleSearchTimezoneFilterChanged",description:"People search: timezone filter changed"}},2708016366:(Q,C,e)=>{"use strict";e.d(C,{Ak:()=>o,BS:()=>l,V1:()=>c,Yn:()=>a,aG:()=>d,kZ:()=>r,le:()=>_,sA:()=>m});var t=e(1031947056),n=e(387484329),s=e(832411022);const r=(0,t.Ay)("Channel search: set hide my channels",(p,u,h)=>{let{value:E}=h;p((0,n.AZ)({pref:s.gT,value:E}))});r.meta={name:"createThunk",key:"createThunksetChannelSearchHideMemberChannels",description:"Channel search: set hide my channels"};const d=(0,t.Ay)("Mixed Results Search: set sort method",(p,u,h)=>{let{sort:E}=h;p((0,n.AZ)({pref:s.x3,value:E}))});d.meta={name:"createThunk",key:"createThunksetMixedResultsSearchSort",description:"Mixed Results Search: set sort method"};const o=(0,t.Ay)("Channel Search: set sort method",(p,u,h)=>{let{sort:E}=h;p((0,n.AZ)({pref:s.UB,value:E}))});o.meta={name:"createThunk",key:"createThunksetChannelSearchSort",description:"Channel Search: set sort method"};const a=(0,t.Ay)("People Search: set sort method",(p,u,h)=>{let{sort:E}=h;p((0,n.AZ)({pref:s.gZ,value:E}))});a.meta={name:"createThunk",key:"createThunksetPeopleSearchSort",description:"People Search: set sort method"};const l=(0,t.Ay)("Setting result Count Toggle",(p,u,h)=>{let{count:E}=h;p((0,n.AZ)({pref:"result_count_toggle",value:E}))});l.meta={name:"createThunk",key:"createThunksetResultCountToggle",description:"Setting result Count Toggle"};const m=(0,t.Ay)("People search: set hiding deactivated users",(p,u,h)=>{let{value:E}=h;p((0,n.AZ)({pref:s.Sj,value:E}))});m.meta={name:"createThunk",key:"createThunksetPeopleSearchHideDeactivatedUsers",description:"People search: set hiding deactivated users"};const c=(0,t.Ay)("Message/File search: set exclude bots",(p,u,h)=>{let{value:E}=h;p((0,n.AZ)({pref:s.jv,value:E}))});c.meta={name:"createThunk",key:"createThunksetMessageAndFileSearchExcludeBots",description:"Message/File search: set exclude bots"};const _=(0,t.Ay)("Message/File search: search only my channels",(p,u,h)=>{let{value:E}=h;p((0,n.AZ)({pref:s.wA,value:E}))});_.meta={name:"createThunk",key:"createThunksetSearchOnlyMyChannelsChanged",description:"Message/File search: search only my channels"}},296612764:(Q,C,e)=>{"use strict";e.d(C,{g:()=>o});var t=e(1031947056),n=e(387484329),s=e(796111729),r=e(832411022);const d="IMPROVED_SEARCH",o=(0,t.Ay)("Message Search: set sort method",(a,l,m)=>{let{sort:c}=m;(0,s.Ay)({getState:l}).info(d,`Set message sort method. messageSort: ${c}`),a((0,n.AZ)({pref:r.Mn,value:c}))});o.meta={name:"createThunk",key:"createThunksetMessageSort",description:"Message Search: set sort method"}},7549504934:(Q,C,e)=>{"use strict";e.d(C,{N:()=>t.N});var t=e(9391594207)},2371143272:(Q,C,e)=>{"use strict";e.d(C,{b:()=>d,i:()=>r});var t=e(3398586081),n=e(6917917245),s=e(1658558415);const r="sentry_fe_perf",d=(0,t.A)(()=>(0,s.A)()?!1:(0,n.fW)(r))},7206394193:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(8571983633),n=e(9686962598),s=e(6926388022),r=e(1527536225),d=e(5219503691);const o=(0,r.Ay)("Logs helpful messages to the console if you do something incorrect",(l,m,c)=>{if((0,t.A)(c)||(0,n.A)(c))return d.Qs&&(0,s.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(c.isThunkCreator||c.isActionCreator){if(d.Qs){const _=c.isThunkCreator?"thunk":"action",p=c.meta?c.meta.name:`${_}Creator`;(0,s.z3)(`
	It looks like you dispatched a ${_} creator instead of the ${_} itself!
	This is a common mistake, and the solution is to call dispatch(${p}(payload)) instead of just dispatch(${p}), note the extra parens at the end.
				`)}return null}return(0,d.ZR)(c),m(c)});o.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const a=o},773865333:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(862210999),n=e(796111729),s=e(4724591729),r=e(1527536225),d=e(4423055085);let o=[];const a=(0,n.Wo)(),l=(0,r.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(p,u,h)=>{const E=[],A=p.getState();o.forEach(g=>{E.push(g(A,h))});const v=u(h),f=p.getState();return o.forEach((g,y)=>{const T=g(f,h);if(E[y]!==T){const M=["Redux Watcher:",`Value has changed! 
Action: `,h,`
Before: `,E[y],`
After:  `,T];if(E[y]!==void 0&&T!==void 0){const O=E[y]===void 0?{}:E[y],I=T===void 0?{}:T;M.push(`
Diff: `,Object.keys({...O,...I}).filter(D=>O[D]!==I[D]).map(D=>({key:D,before:O[D],after:I[D]})))}if(a.warn(...M),(0,s.Cu)()||(0,s.b3)())debugger}}),v});l.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const m=l;function c(p){if(!(0,t.A)(p)){a.error("watcherFn passed in to addWatcher must be a function");return}o.push(p)}i(c,"addWatcher");function _(){o=[]}i(_,"clearAllWatchers"),(0,d.ul)("reduxWatcher",{addWatcher:c,clearAllWatchers:_})},7156104699:(Q,C,e)=>{"use strict";e.d(C,{N:()=>p,A:()=>_});var t=e(1527536225),n=e(6152845331),s=e(8161242485);const r=(0,s.Ay)(u=>{var h;return u==null||(h=u.sideEffects)===null||h===void 0?void 0:h.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:u=>{var h;return u==null||(h=u.sideEffects)===null||h===void 0?void 0:h.sideEffectsMap}};const d=(0,s.Ay)(u=>{var h;return u==null||(h=u.clientSideEffects)===null||h===void 0?void 0:h.clientSideEffectsMap});d.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:u=>{var h;return u==null||(h=u.clientSideEffects)===null||h===void 0?void 0:h.clientSideEffectsMap}};var o=e(796111729),a=e(6422693406);function l(){return(0,t.Ay)("Handle client side effects",(u,h,E)=>{var A;if(!((A=E.__test)===null||A===void 0)&&A.disableSideEffects)return h(E);const v=u.getState(),f=d(v);return c({store:u,action:E,sideEffectsMap:f}),h(E)})}i(l,"createClientSideEffectsMiddleware");function m(){return(0,t.Ay)("Handle side effects",(u,h,E)=>{var A;if(!((A=E.__test)===null||A===void 0)&&A.disableSideEffects)return h(E);const v=u.getState(),f=r(v);return c({store:u,action:E,sideEffectsMap:f}),h(E)})}i(m,"createSideEffectsMiddleware");function c(u){let{store:h,action:E,sideEffectsMap:A}=u;const v=A&&A[E.type],f=i(g=>((0,n.S$)(E,g),h.dispatch(g)),"wrappedDispatch");v!=null&&v.length&&a.S.resolve().then(()=>{v.forEach(g=>{if(!g)return;const{thunk:y}=g;try{f(y(E))}catch(T){(0,o.Ay)({getState:h.getState}).error("SIDE-EFFECTS",`Error in side effect for '${E.type}'`,T,{subtype:"side_effect_error"})}})})}i(c,"runSideEffects");const _=m(),p=l()},8333842125:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1416482128),n=e(4724591729),s=e(3202757386),r=e(4157777698);const d=i(c=>{switch(c.type){case r.f0.getType():return{...c,payload:"Channel bulk add payload is too big to output to redux devtools"};default:return c}},"actionSanitizer"),o=(0,s.A)()?void 0:()=>({apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"}),l={autoPause:!0,actionSanitizer:d,stateSanitizer:o,maxAge:1e3,features:{pause:!0}};function m(c){let{teamOrEnterpriseId:_,appName:p="",customEnhancers:u,middlewares:h,disableDevTools:E}=c;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!E&&((0,n.Cu)()||(0,n.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({...l,name:["Slack",_,p].filter(f=>f&&f.length>0).join("-")}):t.Zz)((0,t.Tw)(...h??[]),...u??[])}i(m,"configureEnhancers")},582577127:(Q,C,e)=>{"use strict";e.d(C,{g:()=>n});var t=e(3371371503);function n(s){const o={sideEffectsMap:{},clientSideEffectsMap:{}};return!s||!s.length?o:s.reduce((a,l)=>{const{actions:m,scope:c}=l;let _;switch(c){case t.RE.client:_=a.clientSideEffectsMap;break;default:case t.RE.workspace:_=a.sideEffectsMap;break}return m.forEach(p=>{var u;const h=p==null||(u=p.getType)===null||u===void 0?void 0:u.call(p);h&&(_[h]=_[h]||[],_[h].push(l))}),a},o)}i(n,"generateSideEffectsMaps")},2732935554:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9139930183),n=e(1004520977);const s={hasKeyboardFocus:!1},d=(0,t.Ay)({},s,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(n.w,function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.hasKeyboardFocus===a?o:{...o,hasKeyboardFocus:a}})},5105455463:(Q,C,e)=>{"use strict";e.d(C,{As:()=>d,N9:()=>n,V_:()=>s,WB:()=>c,X8:()=>r,bb:()=>l,c7:()=>_,dH:()=>a,lf:()=>m,og:()=>t,rf:()=>o});const t="(prefers-contrast: more)",n="useAriaApplicationForListViews",s="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",d="messageSpacing",o="messageTextWordSpacing",a="conversationIncomingMessageSound",l="conversationSentMessageSound",m="conversationIncomingMessageAnnouncement",c="peeksEnabledOnMouseEnter",_=!0},3034787354:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3245843483),n=e(8646192222),s=e(9139930183),r=e(25586007),d=e(5105455463),o=e(8439865561),a=e(9733150292);let l=!1;(0,n.Nu)()?l=window.matchMedia(d.og).matches:(0,n.hk)()&&(l=(0,t.oQe)("settings","shouldUseHighContrastColors"));let m=!1;try{m=!!(0,a.W6)(d.N9)}catch{}let c;try{c=(0,a.W6)(d.V_)}catch{}let _;try{_=(0,a.W6)(d.X8)||1}catch{}let p;try{p=(0,a.W6)(d.As)||1}catch{}let u;try{u=(0,a.W6)(d.rf)||"0"}catch{}let h;try{var E;h=(E=(0,a.W6)(d.dH))!==null&&E!==void 0?E:""}catch{h=""}let A;try{var v;A=(v=(0,a.W6)(d.bb))!==null&&v!==void 0?v:""}catch{A=""}let f;try{f=(0,a.W6)(d.lf)}catch{f=void 0}let g;try{var y;g=(y=(0,a.W6)(d.WB))!==null&&y!==void 0?y:d.c7}catch{g=d.c7}const T={screenReaderEnabled:!1,shouldUseHighContrastColors:l,useARIAApplicationForListViews:m,composerUpArrowShortcutBehavior:c,messageTextLineSpacing:_,messageSpacing:p,messageTextWordSpacing:u,conversationIncomingMessageSound:h,conversationSentMessageSound:A,conversationIncomingMessageAnnouncement:f,peeksEnabledOnMouseEnter:g},O=(0,s.Ay)({},T,{storeKey:"accessibility",persistenceEnabled:!1}).on(o.rl,(I,D)=>D!=null&&D.message?{...I,announcerAPIAnnouncement:D}:I).on(o.Jq,(I,D)=>typeof D!="boolean"||D===I.screenReaderEnabled?I:{...I,screenReaderEnabled:D}).on(o.N,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof D!="boolean"||D===I.shouldUseHighContrastColors?I:{...I,shouldUseHighContrastColors:D}}).on(o.KQ,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...I,useARIAApplicationForListViews:D}}).on(o.Tv,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.v.LIST;return{...I,composerUpArrowShortcutBehavior:D}}).on(o.C_,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...I,messageTextLineSpacing:D}}).on(o.XE,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...I,messageSpacing:D}}).on(o.Mq,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...I,messageTextWordSpacing:D}}).on(o.Sr,(I,D)=>({...I,conversationIncomingMessageSound:D})).on(o.mw,(I,D)=>({...I,conversationSentMessageSound:D})).on(o.Ap,(I,D)=>({...I,conversationIncomingMessageAnnouncement:D})).on(o.V_,(I,D)=>({...I,peeksEnabledOnMouseEnter:D}))},8365110903:(Q,C,e)=>{"use strict";e.d(C,{T:()=>o});var t=e(1031947056),n=e(4134037340),s=e(5105455463),r=e(8439865561),d=e(9733150292);const o=(0,t.Ay)("Set the behavior of the up arrow shortcut when focus is in the MessageInput",(a,l,m)=>{if((0,n.A)(l()))try{(0,d.q9)(s.V_,m)}catch{}a((0,r.Tv)(m))});o.meta={name:"createThunk",key:"createThunksetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"}},2633701976:(Q,C,e)=>{"use strict";e.d(C,{p:()=>o});var t=e(1031947056),n=e(4134037340),s=e(5105455463),r=e(8439865561),d=e(9733150292);const o=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,l,m)=>{if((0,n.A)(l()))try{(0,d.q9)(s.lf,m)}catch{}a((0,r.Ap)(m))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},2517531287:(Q,C,e)=>{"use strict";e.d(C,{R:()=>o,r:()=>a});var t=e(1031947056),n=e(4134037340),s=e(5105455463),r=e(8439865561),d=e(9733150292);const o=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(l,m,c)=>{if((0,n.A)(m()))try{(0,d.q9)(s.dH,c)}catch{}l((0,r.Sr)(c))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const a=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(l,m,c)=>{if((0,n.A)(m()))try{(0,d.q9)(s.bb,c)}catch{}l((0,r.mw)(c))});a.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},25586007:(Q,C,e)=>{"use strict";e.d(C,{v:()=>t});var t;(function(n){n[n.LIST=1]="LIST",n[n.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",n[n.EDIT=3]="EDIT"})(t||(t={}))},3087402890:(Q,C,e)=>{"use strict";e.d(C,{FX:()=>o,X5:()=>d,ZY:()=>u,cD:()=>m,cQ:()=>c,cw:()=>l,dj:()=>_,fe:()=>r,lB:()=>p,qK:()=>n,r8:()=>a,s2:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Set the thread root keys");n.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const s=(0,t.Ay)("Append more thread root keys");s.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const r=(0,t.Ay)("Insert a thread at the beginning");r.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const d=(0,t.Ay)("Increments totalUnreadReplies");d.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const o=(0,t.Ay)("Sets totalNewThreads to 0");o.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const a=(0,t.Ay)("Increments allThreadsRefreshCounter");a.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const l=(0,t.Ay)("Set the thread key that should be focused");l.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const m=(0,t.Ay)("Set the thread timestamp that should be focused");m.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const c=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");c.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const _=(0,t.Ay)("set object of threads that have been manually marked as unread");_.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const p=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");p.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const u=(0,t.Ay)("Sets manuallyMarkedUnread to empty");u.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"}},6082887833:(Q,C,e)=>{"use strict";e.d(C,{S:()=>n});var t=e(8161242485);const n=(0,t.Ay)((s,r)=>s.ambientMessages[r]);n.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(s,r)=>s.ambientMessages[r]}},8778137680:(Q,C,e)=>{"use strict";e.d(C,{DQ:()=>d,Lm:()=>a,RZ:()=>m,S:()=>u,X$:()=>r,_y:()=>c,c6:()=>_,fv:()=>o,rk:()=>s,yT:()=>p,z7:()=>l,zZ:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set Awareness State for another user");n.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const s=(0,t.Ay)("Set Awareness State for me");s.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=(0,t.Ay)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const d=(0,t.Ay)("Clear the full awareness state for a user");d.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const o=(0,t.Ay)("Set my screenshare view");o.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const a=(0,t.Ay)("Remove my screenshare view");a.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const l=(0,t.Ay)("Set my sticky reaction");l.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const m=(0,t.Ay)("Remove my sticky reaction");m.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const c=(0,t.Ay)("Clear any stale awareness entries");c.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const _=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");_.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const p=(0,t.Ay)("Set my active song");p.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const u=(0,t.Ay)("Remove my active song");u.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},7592559649:(Q,C,e)=>{"use strict";e.d(C,{$G:()=>g,Ae:()=>M,Fb:()=>f,M3:()=>A,b1:()=>T,fL:()=>v,gV:()=>y,sW:()=>E,xP:()=>h});var t=e(8161242485),n=e(3385422400),s=e(6418055367),r=e(166097325),d=e(9113979368),o=e(2689960678),a=e(1345902898),l=e(6324645806);const m=(0,n.Ad)(s.UI,r.A),c=i(I=>{var D;return(I==null||(D=I.awareness)===null||D===void 0?void 0:D.awarenessEntries)||o.Ml},"selectAwarenessEntries"),_=(0,n.Mz)([c,(I,D)=>D,(I,D,P)=>P,(I,D,P,k)=>k],(I,D,P,k)=>{if(D===void 0)return o.t0;const R=I.filter(B=>{const W=B.channel===D,L=B.fieldName===P,S=k?B.uniqueId===k:!0,H=!(0,l.h)(B);return W&&L&&S&&H}).map(B=>[B.user,B.fieldValue]),V=Object.fromEntries(R);return(0,d.A)(V)?o.t0:V}),p=(0,n.Mz)([c,(I,D)=>D,(I,D,P)=>P],(I,D,P)=>{if(D===void 0)return o.t0;const k=I.filter(V=>{const B=V.channel===D,W=V.fieldName===P,L=!(0,l.h)(V);return B&&W&&L}).map(V=>[V.uniqueId,[V.user,V.fieldValue]]),R=Object.fromEntries(k);return(0,d.A)(R)?o.t0:R}),u=(0,n.Mz)([c,(I,D)=>D,(I,D,P)=>P],(I,D,P)=>{if(D===void 0)return o.t0;var k,R;const V=I.filter(W=>{const L=W.channel===D,S=W.fieldName===P,H=!(0,l.h)(W);return L&&S&&H}).sort((W,L)=>((k=W.fieldTimestampMs)!==null&&k!==void 0?k:Number.MAX_SAFE_INTEGER)-((R=L.fieldTimestampMs)!==null&&R!==void 0?R:Number.MAX_SAFE_INTEGER)).map(W=>[W.user,W.fieldValue]);return Object.fromEntries(V)}),h=(0,t.Ay)((I,D)=>{const P=u(I,D,a.p4.STICKYEMOJI);return(0,d.A)(P)?o.t0:P});h.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(I,D)=>{const P=u(I,D,a.p4.STICKYEMOJI);return(0,d.A)(P)?o.t0:P}};const E=(0,t.Ay)((I,D)=>_(I,D,a.p4.CONTENTVIEW));E.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(I,D)=>_(I,D,a.p4.CONTENTVIEW)};const A=(0,t.Ay)((I,D)=>p(I,D,a.p4.CONTENTVIEW));A.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(I,D)=>p(I,D,a.p4.CONTENTVIEW)};const v=(0,t.Ay)((I,D,P,k)=>{var R;return(I==null||(R=I.awareness)===null||R===void 0?void 0:R.awarenessEntries).filter(W=>{const L=W.channel===D,S=W.user===P,H=!k||(0,l.I)(W.fieldName)?!0:W.uniqueId===k,w=!(0,l.h)(W);return L&&S&&H&&w}).map(W=>({field_name:W.fieldName,field_value:W.fieldValue,...!!W.fieldTimestampMs&&{field_timestamp_ms:W.fieldTimestampMs}}))});v.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(I,D,P,k)=>{var R;return(I==null||(R=I.awareness)===null||R===void 0?void 0:R.awarenessEntries).filter(W=>{const L=W.channel===D,S=W.user===P,H=!k||(0,l.I)(W.fieldName)?!0:W.uniqueId===k,w=!(0,l.h)(W);return L&&S&&H&&w}).map(W=>({field_name:W.fieldName,field_value:W.fieldValue,...!!W.fieldTimestampMs&&{field_timestamp_ms:W.fieldTimestampMs}}))}};const f=(0,t.Ay)((I,D,P,k)=>{const R=v(I,D,P,k);for(const V of R)if(V.field_name===a.p4.STICKYEMOJI)return V;return null});f.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(I,D,P,k)=>{const R=v(I,D,P,k);for(const V of R)if(V.field_name===a.p4.STICKYEMOJI)return V;return null}};const g=(0,t.Ay)((I,D)=>{let{callId:P,userId:k,uniqueId:R}=D;return P?_(I,P,a.p4.STICKYEMOJI,R)[k]:void 0});g.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(I,D)=>{let{callId:P,userId:k,uniqueId:R}=D;return P?_(I,P,a.p4.STICKYEMOJI,R)[k]:void 0}};const y=(0,t.Ay)((I,D)=>{let{callId:P,userId:k}=D;if(!P)return;const R=_(I,P,a.p4.HUDDLE_ACTIVE_SONG);if((0,d.A)(R))return;if(k)return R[k];const V=Object.values(R);if(V.length!==0)return V[0]});y.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(I,D)=>{let{callId:P,userId:k}=D;if(!P)return;const R=_(I,P,a.p4.HUDDLE_ACTIVE_SONG);if((0,d.A)(R))return;if(k)return R[k];const V=Object.values(R);if(V.length!==0)return V[0]}};const T=(0,t.Ay)((I,D)=>{let{callId:P,userId:k,uniqueId:R}=D;return P?_(I,P,a.p4.STEPS,R)[k]:void 0});T.meta={name:"createSelector",key:"createSelectorgetStepsByUserId",description:(I,D)=>{let{callId:P,userId:k,uniqueId:R}=D;return P?_(I,P,a.p4.STEPS,R)[k]:void 0}};const M=m([c,(I,D,P,k,R)=>`${D},${P},${k},${R}`],(I,D)=>{const[P,k,R,V]=D.split(","),B=I.filter(W=>{const L=W.channel===P,S=W.user!==k,H=W.fieldName===a.p4.ACTIVE_CELL&&W.fieldValue&&W.fieldValue.rowId===R&&W.fieldValue.colId===V,w=!(0,l.h)(W);return L&&S&&H&&w}).map(W=>[[`${W.fieldValue.rowId},${W.fieldValue.colId}`],W.user]);return B.length?Object.fromEntries(B):o.t0}),O=(0,n.Mz)([c,(I,D)=>D],(I,D)=>D===void 0?o.Ml:I.filter(k=>{const R=k.channel===D,V=k.fieldName===a.p4.ACTIVE_CELL;return R&&V}).map(k=>k.user))},1345902898:(Q,C,e)=>{"use strict";e.d(C,{Pz:()=>t,mO:()=>s,p4:()=>n});var t;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(t||(t={}));var n;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong",r.STEPS="steps"})(n||(n={}));const s=60*1e3},6324645806:(Q,C,e)=>{"use strict";e.d(C,{I:()=>s,h:()=>n});var t=e(1345902898);const n=i(r=>{const d=Date.now();var o;return d-((o=r.updatedTimestamp)!==null&&o!==void 0?o:d)>=t.mO},"isAwarenessEntryExpired"),s=i(r=>r?[t.p4.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},3749529250:(Q,C,e)=>{"use strict";e.d(C,{K:()=>s,z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Enable big button mode");n.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const s=(0,t.Ay)("Disable big button mode");s.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},4614661813:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>r});var t=e(9139930183),n=e(3749529250);const s={enabled:!1},r=(0,t.Ay)({},s,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(n.z,d=>({...d,enabled:!0})).on(n.K,d=>({...d,enabled:!1}))},8677230210:(Q,C,e)=>{"use strict";e.d(C,{pO:()=>E,AF:()=>h,E6:()=>g,vu:()=>f,wC:()=>A,Od:()=>v});var t=e(3037015781),n=e(8161242485),s=e(9464746668),r=e(4588963228),d=e(8847766420),o=e(2762206868),a=e(8276911661);const l=["B01","BSLACKBOT","B03"];var m=e(3447104916),c=e(4562579337);function _(y){return!!(y&&(0,t.uz)(y)&&!(0,c.A)(y))}i(_,"isMemberHuman");var p=e(9887599716),u=e(9354158662);const h=(0,n.Ay)(function(y,T){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const O=(0,d.ZT)(y);if(!T)return!1;const I=(0,p.o)(y,T);return!I&&(0,r.A)(T)&&M&&l.indexOf(T)<0?(0,m.Ss)().fetchObjectWithId(O,T):((0,m.ez)(O,T),I||!1)});h.meta={name:"createSelector",key:"createSelectorgetBotById",description:function(y,T){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const O=(0,d.ZT)(y);if(!T)return!1;const I=(0,p.o)(y,T);return!I&&(0,r.A)(T)&&M&&l.indexOf(T)<0?(0,m.Ss)().fetchObjectWithId(O,T):((0,m.ez)(O,T),I||!1)}};const E=(0,n.Ay)((y,T)=>{if(!T)return;const M=(0,u.iO)(y);let O;return M&&(O=Object.values(M).find(I=>I.app_id===T)),O});E.meta={name:"createSelector",key:"createSelectorgetBotByAppId",description:(y,T)=>{if(!T)return;const M=(0,u.iO)(y);let O;return M&&(O=Object.values(M).find(I=>I.app_id===T)),O}};const A=(0,n.Ay)((y,T)=>{const M=(0,a.nv)(y,T);return _(M)});A.meta={name:"createSelector",key:"createSelectorgetMemberIsHuman",description:(y,T)=>{const M=(0,a.nv)(y,T);return _(M)}};const v=(0,n.Ay)(function(y){let{userId:T,botId:M,botProfile:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I,D;T&&(I=(0,a.nv)(y,T)),M&&(D=h(y,M)||void 0);const P=I?_(I):!1;let k;!(0,t.uz)(D)&&(0,t.uz)(I)&&(k=(0,s.A)(y,I),k&&k!==M&&(D=h(y,k)||void 0));let R;if(!(0,t.uz)(D)&&O&&(R=O.id,R&&R!==k&&R!==M&&(D=h(y,R)||void 0),(0,t.uz)(D)||(D=O)),!(0,t.uz)(I)&&(0,t.uz)(D)&&D.app_id){const V=(0,o.sO)(y,D.app_id);if((0,t.uz)(V)){const B=V.app_user_id;B&&B!==T&&(I=(0,a.nv)(y,B))}}return{bot:D,member:I,memberIsHuman:P}});v.meta={name:"createSelector",key:"createSelectormaybeGetBotAndMemberByIds",description:function(y){let{userId:T,botId:M,botProfile:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I,D;T&&(I=(0,a.nv)(y,T)),M&&(D=h(y,M)||void 0);const P=I?_(I):!1;let k;!(0,t.uz)(D)&&(0,t.uz)(I)&&(k=(0,s.A)(y,I),k&&k!==M&&(D=h(y,k)||void 0));let R;if(!(0,t.uz)(D)&&O&&(R=O.id,R&&R!==k&&R!==M&&(D=h(y,R)||void 0),(0,t.uz)(D)||(D=O)),!(0,t.uz)(I)&&(0,t.uz)(D)&&D.app_id){const V=(0,o.sO)(y,D.app_id);if((0,t.uz)(V)){const B=V.app_user_id;B&&B!==T&&(I=(0,a.nv)(y,B))}}return{bot:D,member:I,memberIsHuman:P}}};const f=(0,n.Ay)((y,T)=>{const M=h(y,T);if(M&&M.name)return M.name});f.meta={name:"createSelector",key:"createSelectorgetBotNameById",description:(y,T)=>{const M=h(y,T);if(M&&M.name)return M.name}};const g=(0,n.Ay)((y,T)=>{if(!y||!T)return null;const M=(0,a.nv)(y,T.user),O=T.bot_id||(0,s.A)(y,M);if(!O)return null;if(T.bot_profile)return T.bot_profile.id!==O?{...T.bot_profile,id:O}:T.bot_profile;const I=h(y,O);return I||null});g.meta={name:"createSelector",key:"createSelectorgetBotByMsg",description:(y,T)=>{if(!y||!T)return null;const M=(0,a.nv)(y,T.user),O=T.bot_id||(0,s.A)(y,M);if(!O)return null;if(T.bot_profile)return T.bot_profile.id!==O?{...T.bot_profile,id:O}:T.bot_profile;const I=h(y,O);return I||null}}},8980478045:(Q,C,e)=>{"use strict";e.d(C,{HR:()=>r,Pf:()=>s,Vp:()=>d});var t=e(8161242485);const n=(0,t.Ay)((o,a)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byChannelId[a]});n.meta={name:"createSelector",key:"createSelectorgetByChannelIdState",description:(o,a)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byChannelId[a]}};const s=(0,t.Ay)((o,a)=>{var l;return(l=n(o,a))===null||l===void 0?void 0:l.tempId});s.meta={name:"createSelector",key:"createSelectorgetChannelCanvasTempId",description:(o,a)=>{var l;return(l=n(o,a))===null||l===void 0?void 0:l.tempId}};const r=(0,t.Ay)((o,a)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byTempId[a]});r.meta={name:"createSelector",key:"createSelectorgetChannelIdForTempId",description:(o,a)=>{var l;return(l=o.channelCanvas)===null||l===void 0?void 0:l.byTempId[a]}};const d=(0,t.Ay)((o,a)=>{var l,m;return(m=(l=n(o,a))===null||l===void 0?void 0:l.waitingForLock)!==null&&m!==void 0?m:!1});d.meta={name:"createSelector",key:"createSelectorgetChannelCanvasWaitingForLock",description:(o,a)=>{var l,m;return(m=(l=n(o,a))===null||l===void 0?void 0:l.waitingForLock)!==null&&m!==void 0?m:!1}}},9536404279:(Q,C,e)=>{"use strict";e.d(C,{CD:()=>a,Jt:()=>d,Np:()=>s,VG:()=>n,bz:()=>r,fp:()=>o,hX:()=>l});var t=e(2140362605);const n=(0,t.Ay)("Add timestamps to channel history");n.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const s=(0,t.Ay)("Remove timestamps from channel history");s.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const r=(0,t.Ay)("Remove all history for a channel");r.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const d=(0,t.Ay)("Was disconnected; reset reachedEnd to false");d.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const o=(0,t.Ay)("Drop messages from before a given timestamp");o.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const a=(0,t.Ay)("Drop old messages if there are too many");a.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const l=(0,t.Ay)("Remove all history for every channel");l.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},4350638406:(Q,C,e)=>{"use strict";e.d(C,{Hw:()=>fe,e3:()=>N,mY:()=>te,D1:()=>le,Zc:()=>oe,ez:()=>ne});var t=e(3398586081),n=e(7715417323),s=e(6533394955),r=e(8352634987);function d(K,x){return`${K}:${x}`}i(d,"serialize_serialize");function o(K){const[x,b]=K.split(":");return{channelId:x,ts:b}}i(o,"deserialize");var a=e(4423055085),l=e(2208015175),m=e(1703559452),c=e(9816084745),_=e(8289365785),p=e(8786006583),u=e(6422693406),h=e(1031947056),E=e(796111729),A=e(7334104107),v=e(6457401668),f=e(4919145213),g=e(9986847041),y=e(4365697073),T=e(3110884894),M=e(7606781622),O=e(8040098042),I=e(2155512519),D=e(12126472),P=e(1116859610);const k="HISTORY-CFM";function R(K,x){return i(function b(){let{channelId:z,oldest:$,latest:Z,cursor:U="",msgsInRange:ee=[],deletedInRange:se=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const de={channelId:z,oldest:$,latest:Z,cursor:U,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return K((0,I.Ay)(de)).then(function(){let{msgs:ue=[],deleted:_e=[],isLimited:pe,hasMore:ae,responseMetadata:Ee={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ee.push(...ue),se.push(..._e),ae&&!pe&&Ee.next_cursor?b({channelId:z,oldest:$,latest:Z,cursor:Ee.next_cursor,msgsInRange:ee,deletedInRange:se}):(K((0,P.A)({msgs:ee,channelId:z,isLimited:pe,latest:Z,oldest:$,deletedInRange:se})),u.S.resolve())})},"fetchHistoryRangeHelper")(x)}i(R,"fetchHistoryRange");function V(K,x){return i(function b(){let{channelId:z,threadTs:$,oldest:Z,latest:U,cursor:ee="",msgsInRange:se=[],deletedInRange:de=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ue={channelId:z,threadTs:$,oldest:Z,latest:U,cursor:ee,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return K((0,I.$b)(ue)).then(function(){let{msgs:_e=[],deleted:pe=[],hasMore:ae,responseMetadata:Ee={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(se.push(...ee?(0,D.A)(_e,{ts:$}):_e),de.push(...pe),ae&&Ee.next_cursor)return b({channelId:z,threadTs:$,oldest:Z,latest:U,cursor:Ee.next_cursor,msgsInRange:se,deletedInRange:de});const ye=Z===$||U===$?se:(0,D.A)(se,{ts:$});return K((0,P.A)({msgs:ye,channelId:(0,T.Iu)(z,$),latest:U,oldest:Z,deletedInRange:de})),u.S.resolve()})},"fetchRepliesRangeHelper")(x)}i(V,"fetchRepliesRange");const B=(0,h.Ay)("Fetches a range of messages",(K,x,b)=>{let{channelId:z,oldest:$,latest:Z}=b;return(0,E.Ay)({getState:x,label:k}).info(`Re-fetching ${z} ${$} - ${Z}`),(0,O.A)(z)?R(K,{channelId:z,oldest:$,latest:Z}):V(K,{...(0,T.Sb)(z),oldest:$,latest:Z})});B.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var W=e(8455301571);function L(K){const x={};return K.forEach(b=>{const{channelId:z,ts:$}=o(b);x[z]=x[z]||[],x[z].push($)}),x}i(L,"groupTimestampsByChannel");function S(K){let x,b;return(0,l.A)(K,(z,$)=>{x===void 0&&(x=$),b===void 0&&(b=$),$<x&&(x=$),$>b&&(b=$)}),{minTs:x,maxTs:b}}i(S,"getMinAndMaxTs");function H(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,m.A)(x,(b,z)=>K[z])}i(H,"hasIntersection");function w(K,x){return(0,c.A)(x,(b,z)=>K[z])}i(w,"isSuperset");function F(K){let{ranges:x={},tsMaps:b=[]}=K;const z={...x};let $=b[0];return b.forEach(Z=>{$!==Z&&(H($,Z)?w($,Z)?delete z[Z.rangeId]:w(Z,$)?(delete z[$.rangeId],$=Z):(0,l.A)(Z,(U,ee)=>delete $[ee]):$=Z)}),Object.values(z)}i(F,"dedupe");function j(K,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const z=(0,E.Ay)({state:K,label:k}),$={},Z=[];return b.sort().forEach(U=>{const se=(0,M.Ld)(K,x,U,!1);if(!se){z.warn(`No message for ${U} in ${x}`);return}if((0,A.aw)(se)||(0,f.A)(se))return;const de=[];(!(0,y.n)(se)||(0,A.jX)(se)||(0,v.SM)(se))&&de.push(x),((0,A.jX)(se)||(0,y.n)(se))&&de.push((0,T.Iu)(x,(0,g.L)(se))),de.forEach(ue=>{if(!ue)return;const _e=(0,W.tp)(K,ue,U);if(!_e||_e===W.Vl)return;const{start:pe,end:ae,timestamps:Ee}=_e,Le=`${pe}-${ae}`;if(!$[Le]){const Te={};Object.defineProperty(Te,"rangeId",{enumerable:!1,value:Le}),$[Le]={id:ue,firstTs:(0,_.A)(Ee),lastTs:(0,p.A)(Ee),start:pe,end:ae,tsMap:Te},Z.push(Te)}const ye=$[Le];ye.tsMap[U]=!0})}),{ranges:$,tsMaps:Z}}i(j,"segment");function J(K,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(F(j(K,x,b))||[{}]).map($=>{let{id:Z,firstTs:U,lastTs:ee,start:se,end:de,tsMap:ue}=$;const{minTs:_e,maxTs:pe}=S(ue);return{id:Z,oldest:_e===U?se:_e,latest:pe===ee?de:pe}})}i(J,"rangify");const X=(0,h.Ay)("Fetches chunks of channel history for the given message IDs",(K,x,b)=>{let{ids:z}=b;const $=L(z),Z={};return(0,l.A)($,(U,ee)=>{const se=J(x(),ee,U);Z[ee]=u.S.map(se,de=>{let{oldest:ue,latest:_e,id:pe}=de;return K(B({channelId:pe,oldest:ue,latest:_e}))})}),u.S.all(Object.values(Z))});X.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const q=X,G=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:(K,x)=>(0,s.dispatchForTeamId)(K,q({ids:x})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),ne=i((K,x,b)=>G().maybeRefetch(K,d(x,b)),"maybeRefetch"),te=i((K,x,b)=>G().markObjectsAsFresh(K,b.map(z=>d(x,z))),"markObjectsAsFresh"),le=i((K,x,b)=>G().markObjectsAsStale(K,b.map(z=>d(x,z))),"markObjectsAsStale"),he=i((K,x,b)=>G().isObjectFresh(K,serialize(x,b)),"isObjectFresh"),fe=i(K=>G().getFreshObjects(K).map(o),"getFreshObjects");(0,a.zv)("conditionalFetchManagerChannelHistory",G);const ve="reachedEnd",me=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:n.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),oe=i(K=>me().markObjectsAsFresh(K,[ve]),"markReachedEndAsFresh"),N=i(K=>me().isObjectFresh(K,[ve]),"isReachedEndFresh")},7097022175:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>s,r:()=>n});var t=e(7933637612);const{addObjects:n,removeObjects:s}=t.o1},7933637612:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>o,Tp:()=>d,o1:()=>r});var t=e(7538465478);const n={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:s,actions:r,selectors:d}=(0,t.A)(n,{idKey:"channelId",transform:a=>{const{channelId:l,...m}=a;return{id:l,object:m}}}),o=s},8298125694:(Q,C,e)=>{"use strict";e.d(C,{Ah:()=>r,Qr:()=>d,c:()=>o});var t=e(8161242485),n=e(7933637612);const{getObjectById:s}=n.Tp,r=i((l,m)=>s(l,m),"innerGetChannelLoadingDataById"),d=(0,t.Ay)((l,m)=>{var c;return!!(!((c=r(l,m))===null||c===void 0)&&c.loading)});d.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(l,m)=>{var c;return!!(!((c=r(l,m))===null||c===void 0)&&c.loading)}};const o=(0,t.Ay)((l,m)=>{const c=r(l,m);return!!(c!=null&&c.loading&&(c!=null&&c.loadingOlder))});o.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(l,m)=>{const c=r(l,m);return!!(c!=null&&c.loading&&(c!=null&&c.loadingOlder))}};const a={innerGetChannelLoadingDataById:r}},3528815215:(Q,C,e)=>{"use strict";e.d(C,{f:()=>s});var t=e(1031947056),n=e(7097022175);const s=(0,t.Ay)("Finished loading history for a channel",(r,d,o)=>{const{channelId:a}=o||{};r((0,n.Y)({ids:[a]}))});s.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},1284885799:(Q,C,e)=>{"use strict";e.d(C,{v:()=>r});var t=e(1031947056),n=e(8298125694),s=e(7097022175);const r=(0,t.Ay)("Started loading history for a channel",(d,o,a)=>{const{channelId:l,loadingOlder:m,request:c}=a||{},_=(0,n.Ah)(o(),l);_&&_.loading&&_.request&&_.request.cancel(),d((0,s.r)({objects:[{channelId:l,loading:!0,loadingOlder:m,request:c}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},1949656963:(Q,C,e)=>{"use strict";e.d(C,{U:()=>s,ih:()=>r,k9:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the history invalid timestamp for a channel");n.meta={name:"createAction",key:"createActionsetHistoryInvalidTimestamp",description:"Set the history invalid timestamp for a channel"};const s=(0,t.Ay)("Set the updated timestamp for a channel");s.meta={name:"createAction",key:"createActionsetUpdatedTimestamp",description:"Set the updated timestamp for a channel"};const r=(0,t.Ay)("Bulk update the history invalid timestamps for a channel");r.meta={name:"createAction",key:"createActionbulkUpdateMutationTimestamps",description:"Bulk update the history invalid timestamps for a channel"}},4405788578:(Q,C,e)=>{"use strict";e.d(C,{Kq:()=>d,QO:()=>r});var t=e(8161242485);const n=(0,t.Ay)(o=>o==null?void 0:o.channelMutationTimestamps);n.meta={name:"createSelector",key:"createSelectorgetAllMutationTimestamps",description:o=>o==null?void 0:o.channelMutationTimestamps};const s=(0,t.Ay)((o,a)=>{var l;return(l=n(o))===null||l===void 0?void 0:l[a]});s.meta={name:"createSelector",key:"createSelectorgetMutationTimestampsByChannelId",description:(o,a)=>{var l;return(l=n(o))===null||l===void 0?void 0:l[a]}};const r=(0,t.Ay)((o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.updatedTs});r.meta={name:"createSelector",key:"createSelectorgetUpdatedTimestamp",description:(o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.updatedTs}};const d=(0,t.Ay)((o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.historyInvalidTs});d.meta={name:"createSelector",key:"createSelectorgetHistoryInvalidTimestamp",description:(o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.historyInvalidTs}}},3273285825:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>n,j:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Update the last channel switch trigger");n.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const s=(0,t.Ay)("Update the last channel focus time");s.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},8233490363:(Q,C,e)=>{"use strict";e.d(C,{v:()=>m});var t=e(8161242485),n=e(3677514771),s=e(8847766420),r=e(6839188756),d=e(918457931),o=e(9884588328),a=e(2298581483),l=e(766806);const m=(0,t.Ay)((c,_)=>{let{channel:p,xwsAlpha:u=!1}=_;if(u&&(0,d.M)(p)){const E=(0,a.R)(c,p),A=(0,s.kN)(c),v=(0,l.wc)(c,"always_show_workspace_name"),f=v==null?void 0:v.filter(y=>A==null?void 0:A.includes(y)),g=E==null?void 0:E.map(y=>(0,n._J)(c,y)).filter(y=>f!=null&&f.length?!!(f!=null&&f.includes((0,r.ZT)(y)))&&!(0,r.t8)(y):!0).sort((y,T)=>{const M=(0,r.F1)(y),O=(0,r.F1)(T);return M.localeCompare(O)});if(g!=null&&g[0])return g[0]}const h=!(0,d.M)(p)&&(0,o.ne)(c,p);return(h?(0,n._J)(c,h):void 0)||(0,n.H7)(c)});m.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(c,_)=>{let{channel:p,xwsAlpha:u=!1}=_;if(u&&(0,d.M)(p)){const E=(0,a.R)(c,p),A=(0,s.kN)(c),v=(0,l.wc)(c,"always_show_workspace_name"),f=v==null?void 0:v.filter(y=>A==null?void 0:A.includes(y)),g=E==null?void 0:E.map(y=>(0,n._J)(c,y)).filter(y=>f!=null&&f.length?!!(f!=null&&f.includes((0,r.ZT)(y)))&&!(0,r.t8)(y):!0).sort((y,T)=>{const M=(0,r.F1)(y),O=(0,r.F1)(T);return M.localeCompare(O)});if(g!=null&&g[0])return g[0]}const h=!(0,d.M)(p)&&(0,o.ne)(c,p);return(h?(0,n._J)(c,h):void 0)||(0,n.H7)(c)}}},8146089001:(Q,C,e)=>{"use strict";e.d(C,{a:()=>r});var t=e(8161242485),n=e(6839188756),s=e(8233490363);const r=(0,t.Ay)((d,o)=>{let{channel:a,xwsAlpha:l=!1}=o;const m=(0,s.v)(d,{channel:a,xwsAlpha:l});return(0,n.F1)(m)});r.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(d,o)=>{let{channel:a,xwsAlpha:l=!1}=o;const m=(0,s.v)(d,{channel:a,xwsAlpha:l});return(0,n.F1)(m)}}},9606603587:(Q,C,e)=>{"use strict";e.d(C,{B:()=>r});var t=e(1031947056),n=e(3430841143),s=e(9530687876);const r=(0,t.Ay)(s.rd.ADD_CHANNEL,function(d,o){let{channel:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!a||!a.id||d((0,n.F)({channel:a,reason:s.rd.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:s.rd.ADD_CHANNEL}},1761027239:(Q,C,e)=>{"use strict";e.d(C,{t:()=>l});var t=e(6422693406),n=e(1031947056),s=e(4446301238),r=e(3430841143),d=e(9530687876),o=e(5267010247),a=e(8822892075);const l=(0,n.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(m,c,_)=>{let{channelId:p,users:u,subteams:h,inviteAll:E,force:A,propagateInviteResult:v}=_;return m((0,s.wb)({channelId:p,reason:d.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m((0,r.F)({channel:f,reason:d.rd.CHILD_CHANNEL_CREATED})),m((0,o.o)((0,a.pr)(f.id))),v?E||u||h?m((0,s.Cw)({channelId:f.id,users:u,subteams:h,inviteAll:E,force:A})).then(g=>({channel:f,inviteResult:g})):t.S.resolve({channel:f,inviteResult:{ok:!0}}):(m((0,s.Cw)({channelId:f.id,users:u,subteams:h})),t.S.resolve({channel:f}))})});l.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},4288405498:(Q,C,e)=>{"use strict";e.d(C,{N:()=>m});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(1131121),d=e(5267010247),o=e(3430841143),a=e(9530687876),l=e(8822892075);const m=(0,s.Ay)(a.rd.GET_RECORD_CHANNEL_AND_NAVIGATE,function(){var c=(0,t.coroutine)(function*(_,p,u){let{recordId:h}=u;if(!h)return;const E=yield _((0,r.V)({record:h,reason:"get-record-channel"}));if(!E.channel)return _((0,d.o)((0,l.Id)({recordId:h})));const A=_((0,o.F)({channel:E.channel}));return _((0,d.o)((0,l.pr)(A.id)))});return function(_,p,u){return c.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkgetRecordChannelAndNavigate",description:a.rd.GET_RECORD_CHANNEL_AND_NAVIGATE}},613926746:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>s});var t=e(1031947056),n=e(7631186994);const s=(0,t.Ay)("Create or open an IM",function(r,d){let{memberId:o,shouldNavigateToChannel:a=!0,reason:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=o?[o]:[];return r((0,n.r)({memberIds:m,shouldNavigateToChannel:a,reason:l}))});s.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},7631186994:(Q,C,e)=>{"use strict";e.d(C,{r:()=>p});var t=e(6422693406),n=e(9113979368),s=e(235108050),r=e(1031947056),d=e(5795074931),o=e(9884588328),a=e(4446301238),l=e(8822892075),m=e(9101533895),c=e(3430841143),_=e(5267010247);const p=(0,r.Ay)("Create or open an MPIM",function(u,h){let{memberIds:E,shouldNavigateToChannel:A=!0,isQuiet:v=!1,reason:f="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,n.A)(E))return t.S.resolve();const g=h(),y=i(O=>(u((0,_.o)((0,l.pr)(O.id))),t.S.resolve(O)),"navigateToChannel");let T,M;if(E.length===1)M=E,T=(0,m.Pu)(g,E[0]);else{const O=(0,d.WR)(g);M=(0,s.A)([O,...E]),T=(0,m.FB)(g,M)}return(0,o.nT)(T)?A?y(T):t.S.resolve(T):u((0,a.jP)({isQuiet:v,memberIds:M,reason:f})).then(O=>!O||!O.channel?t.S.reject(new Error("missing-channel")):(u((0,c.F)({channel:O.channel})),A?y(O.channel):t.S.resolve(O.channel)))});p.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},4711657482:(Q,C,e)=>{"use strict";e.d(C,{CS:()=>c,HM:()=>r,IX:()=>h,JC:()=>f,JT:()=>O,Kv:()=>W,MC:()=>T,MD:()=>le,Ov:()=>y,PV:()=>G,RS:()=>D,Ri:()=>F,VM:()=>M,Xr:()=>E,Xu:()=>a,Y5:()=>ne,Ye:()=>g,Yr:()=>n,Yy:()=>I,Z8:()=>q,_Q:()=>s,ai:()=>L,e0:()=>R,f:()=>J,fc:()=>k,fl:()=>A,ho:()=>H,i9:()=>l,kB:()=>u,ke:()=>v,l3:()=>j,mP:()=>B,mt:()=>te,qC:()=>P,r5:()=>X,r6:()=>_,rl:()=>w,uN:()=>m,uX:()=>p,vp:()=>d,yK:()=>V,yQ:()=>o,yg:()=>S});var t=e(2140362605);const n=(0,t.Ay)("Checkout Address Form Data Loaded");n.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const s=(0,t.Ay)("Checkout Credit Card Form Loaded");s.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const r=(0,t.Ay)("Checkout States and Countries Data Loaded");r.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const d=(0,t.Ay)("Checkout Company Address Data Loaded");d.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const o=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");o.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const a=(0,t.Ay)("Update Company Address Field");a.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const l=(0,t.Ay)("Update is country from auto detect");l.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const m=(0,t.Ay)("Company Address Validated");m.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const c=(0,t.Ay)("Company Address Form Field Validated");c.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const _=(0,t.Ay)("Clear Company Address Form Field Validation Errors");_.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const p=(0,t.Ay)("Toggles if we are showing banner stating Stripe is down");p.meta={name:"createAction",key:"createActionupdateShowStripeDownBanner",description:"Toggles if we are showing banner stating Stripe is down"};const u=(0,t.Ay)("Upgrade Response Received");u.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const h=(0,t.Ay)("Purchase Attempt Response Received");h.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const E=(0,t.Ay)("Addon Purchase Attempt Response Received");E.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const A=(0,t.Ay)("Purchase Attempt Confirmation Response Received");A.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const v=(0,t.Ay)("Update Stripe API Key");v.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const f=(0,t.Ay)("Update Invoice Data Field");f.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const g=(0,t.Ay)("Invoice Data Validated");g.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const y=(0,t.Ay)("Invoice Form Field Validated");y.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const T=(0,t.Ay)("Clear Any Existing Payment Status or Errors");T.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const M=(0,t.Ay)("Self User Data Loaded");M.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const O=(0,t.Ay)("Update Is Processing Payment");O.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const I=(0,t.Ay)("Update Payment Method Selected");I.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const D=(0,t.Ay)("Update Show App Disconnect Dialog");D.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const P=(0,t.Ay)("Update Active Checkout Step");P.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const k=(0,t.Ay)("Update Active Checkout Step");k.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const R=(0,t.Ay)("Update Active Country");R.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const V=(0,t.Ay)("Checkout configuration data loaded");V.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const B=(0,t.Ay)("Update Checkout Flow API Error Indicator");B.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const W=(0,t.Ay)("Update checkout store values with configuration data");W.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const L=(0,t.Ay)("Redeem partner promo code failed");L.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const S=(0,t.Ay)("Redeem partner promo code success");S.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const H=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");H.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const w=(0,t.Ay)("Sets Active Payment Method Id");w.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const F=(0,t.Ay)("Sets Active Stripe Customer Id");F.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const j=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");j.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const J=(0,t.Ay)("Sets Payment Methods");J.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const X=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");X.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const q=(0,t.Ay)("Stripe UPE credit card form is complete");q.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const G=(0,t.Ay)("Stripe UPE credit card form has interactiono");G.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const ne=(0,t.Ay)("Is address form collapsed and not editable");ne.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const te=(0,t.Ay)("Select or deselect an addon by type");te.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const le=(0,t.Ay)("Select or deselect an addon by type");le.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},6460545324:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>a,bE:()=>o,eM:()=>r,gW:()=>d,x:()=>n,xj:()=>s});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_success:"trial_success"},n={overview:"overview",address:"address",payment:"payment",review:"review"},s=200,r={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",canvas_freemium_tenured_team_promo:"canvas_freemium_tenured_team_promo",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",new_year_discount_v2:"new_year_discount_v2",milestone_tenured_team_promo:"milestone_tenured_team_promo",winback_promo:"winback_promo",pricing_and_packaging_promo:"pricing_and_packaging_promo"},d="partner_growth",o={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},a=t},3559164431:(Q,C,e)=>{"use strict";e.d(C,{$3:()=>v,BD:()=>_e,Bj:()=>ve,Bo:()=>m,Cb:()=>Ee,D5:()=>ne,E$:()=>A,EX:()=>U,Ex:()=>H,GG:()=>ye,Hg:()=>Le,IK:()=>Ue,J5:()=>p,Ju:()=>Te,M:()=>I,MA:()=>M,Oe:()=>b,S_:()=>a,U$:()=>u,VE:()=>B,VV:()=>_,Vs:()=>V,WP:()=>G,Wq:()=>l,X:()=>le,YW:()=>h,Yv:()=>o,Zl:()=>f,Zn:()=>F,bB:()=>g,bW:()=>se,bm:()=>ae,c9:()=>K,cR:()=>te,ch:()=>$,d2:()=>J,fD:()=>we,fx:()=>pe,gr:()=>O,h0:()=>he,hy:()=>Ie,iD:()=>Z,k7:()=>E,kr:()=>me,lK:()=>x,oi:()=>L,oy:()=>S,p:()=>N,qR:()=>oe,qn:()=>P,r2:()=>Ae,r8:()=>w,rn:()=>j,t5:()=>W,tG:()=>c,vO:()=>ee,wz:()=>y,y4:()=>Be,zj:()=>D,zk:()=>X});var t=e(8161242485),n=e(5597672932),s=e(9113979368),r=e(6323355797),d=e(2689960678);const o=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.companyAddress||!re.checkoutFlow.companyAddress.validationErrors?!1:Object.values(re.checkoutFlow.companyAddress.validationErrors).some(ge=>ge));o.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.companyAddress||!re.checkoutFlow.companyAddress.validationErrors?!1:Object.values(re.checkoutFlow.companyAddress.validationErrors).some(ge=>ge)};const a=(0,t.Ay)(re=>{var ge;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.activeStripeCustomerId)||null});a.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:re=>{var ge;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.activeStripeCustomerId)||null}};const l=(0,t.Ay)(re=>{var ge;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.isFetchingCurrencyAfterCountryChange)||!1});l.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:re=>{var ge;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.isFetchingCurrencyAfterCountryChange)||!1}};const m=(0,t.Ay)(re=>{var ge,De;return!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.activeStripeCustomerId)||!(!(re==null||(De=re.checkoutFlow)===null||De===void 0)&&De.activePaymentMethodIdMap)?null:re.checkoutFlow.activePaymentMethodIdMap[re.checkoutFlow.activeStripeCustomerId]});m.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:re=>{var ge,De;return!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.activeStripeCustomerId)||!(!(re==null||(De=re.checkoutFlow)===null||De===void 0)&&De.activePaymentMethodIdMap)?null:re.checkoutFlow.activePaymentMethodIdMap[re.checkoutFlow.activeStripeCustomerId]}};const c=(0,t.Ay)(re=>{var ge;return!re||!re.checkoutFlow?null:(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.activePaymentMethodIdMap});c.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:re=>{var ge;return!re||!re.checkoutFlow?null:(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.activePaymentMethodIdMap}};const _=(0,t.Ay)(re=>{var ge;return!re||!re.checkoutFlow?null:(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.paymentMethodTypes});_.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:re=>{var ge;return!re||!re.checkoutFlow?null:(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.paymentMethodTypes}};const p=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.paymentMethods);p.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.paymentMethods};const u=(0,t.Ay)(re=>{const ge=m(re);if(!ge||(0,s.A)(ge))return null;const De=p(re);return!ge||!Array.isArray(De)?null:De.find(be=>be.id===ge)});u.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:re=>{const ge=m(re);if(!ge||(0,s.A)(ge))return null;const De=p(re);return!ge||!Array.isArray(De)?null:De.find(be=>be.id===ge)}};const h=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.companyAddress?null:re.checkoutFlow.companyAddress);h.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.companyAddress?null:re.checkoutFlow.companyAddress};const E=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isAddressFormCollapsed)});E.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isAddressFormCollapsed)}};const A=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isPaymentMethodSectionDisplayed)});A.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isPaymentMethodSectionDisplayed)}};const v=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:re.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);v.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:re.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const f=(0,t.Ay)(re=>{var ge,De;return!(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.config)===null||De===void 0)&&De.countryMap?re.checkoutFlow.config.countryMap:null});f.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:re=>{var ge,De;return!(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.config)===null||De===void 0)&&De.countryMap?re.checkoutFlow.config.countryMap:null}};const g=(0,t.Ay)(re=>{var ge;return re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.paymentElementError});g.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:re=>{var ge;return re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.paymentElementError}};const y=(0,t.Ay)(re=>{const ge=h(re);return ge?ge.country:null});y.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:re=>{const ge=h(re);return ge?ge.country:null}};const T=(0,t.Ay)(re=>{const ge=h(re);return!ge||!ge.validationErrors||!ge.validationErrors.country?null:ge.validationErrors.country.errorText});T.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:re=>{const ge=h(re);return!ge||!ge.validationErrors||!ge.validationErrors.country?null:ge.validationErrors.country.errorText}};const M=(0,t.Ay)(re=>{var ge,De,be;return(ge=h(re))===null||ge===void 0||(De=ge.validationErrors)===null||De===void 0||(be=De.vatId)===null||be===void 0?void 0:be.errorText});M.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:re=>{var ge,De,be;return(ge=h(re))===null||ge===void 0||(De=ge.validationErrors)===null||De===void 0||(be=De.vatId)===null||be===void 0?void 0:be.errorText}};const O=(0,t.Ay)(re=>{const ge=h(re);return ge?ge.postalCode:null});O.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:re=>{const ge=h(re);return ge?ge.postalCode:null}};const I=(0,t.Ay)(re=>{const ge=h(re);return ge?ge.region:null});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:re=>{const ge=h(re);return ge?ge.region:null}};const D=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.config?null:re.checkoutFlow.config);D.meta={name:"createSelector",key:"createSelectorgetConfig",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.config?null:re.checkoutFlow.config};const P=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration?null:re.checkoutFlow.checkoutConfiguration);P.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration?null:re.checkoutFlow.checkoutConfiguration};const k=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.currentTerm?null:re.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly);k.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.currentTerm?null:re.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly};const R=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:re.checkoutFlow.checkoutConfiguration.currentPlanLevel);R.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:re.checkoutFlow.checkoutConfiguration.currentPlanLevel};const V=(0,t.Ay)(re=>{var ge,De;return(De=re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.isCheckoutConfigurationDataLoaded)!==null&&De!==void 0?De:!1});V.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:re=>{var ge,De;return(De=re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.isCheckoutConfigurationDataLoaded)!==null&&De!==void 0?De:!1}};const B=(0,t.Ay)(re=>{var ge,De;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0)&&De.isFutureSwitch)});B.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:re=>{var ge,De;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0)&&De.isFutureSwitch)}};const W=(0,t.Ay)(re=>{var ge,De;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0?void 0:De.availableTerms)||null});W.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:re=>{var ge,De;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0?void 0:De.availableTerms)||null}};const L=(0,t.Ay)(re=>{var ge,De;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0?void 0:De.upeSelectedAvailableTerms)||null});L.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:re=>{var ge,De;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0?void 0:De.upeSelectedAvailableTerms)||null}};const S=(0,t.Ay)(re=>{var ge,De;return re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0?void 0:De.redirectUrl});S.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:re=>{var ge,De;return re==null||(ge=re.checkoutFlow)===null||ge===void 0||(De=ge.checkoutConfiguration)===null||De===void 0?void 0:De.redirectUrl}};const H=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isCheckoutAddressFormDataLoaded)});H.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isCheckoutAddressFormDataLoaded)}};const w=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isCountryFromAutoDetect)});w.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isCountryFromAutoDetect)}};const F=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isCheckoutCreditCardFormLoaded)});F.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isCheckoutCreditCardFormLoaded)}};const j=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isStripeUpeComplete)});j.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.isStripeUpeComplete)}};const J=(0,t.Ay)(re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.hasUPEInteraction)});J.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:re=>{var ge;return!!(!(re==null||(ge=re.checkoutFlow)===null||ge===void 0)&&ge.hasUPEInteraction)}};const X=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.isShowingStripeDownBanner);X.meta={name:"createSelector",key:"createSelectorselectShowStripeDownBanner",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.isShowingStripeDownBanner};const q=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.paymentStatus);q.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.paymentStatus};const G=(0,t.Ay)(re=>{const ge=q(re);return ge?ge.ok===!0&&!ge.error&&!ge.isActionRequiredOnPurchaseAttempt:!1});G.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:re=>{const ge=q(re);return ge?ge.ok===!0&&!ge.error&&!ge.isActionRequiredOnPurchaseAttempt:!1}};const ne=(0,t.Ay)(re=>{const ge=q(re);return ge?ge.error&&ge.msg?ge.msg:ge.error:""});ne.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:re=>{const ge=q(re);return ge?ge.error&&ge.msg?ge.msg:ge.error:""}};const te=(0,t.Ay)(re=>{const ge=q(re);return!!(ge!=null&&ge.isProcessingPayment)});te.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:re=>{const ge=q(re);return!!(ge!=null&&ge.isProcessingPayment)}};const le=(0,t.Ay)(re=>{const ge=D(re);return ge?ge.stripeApiKey:null});le.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:re=>{const ge=D(re);return ge?ge.stripeApiKey:null}};const he=(0,t.Ay)(re=>{const ge=D(re);return ge?ge.sourcesPayable:null});he.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:re=>{const ge=D(re);return ge?ge.sourcesPayable:null}};const fe=(0,t.Ay)((re,ge)=>{if(ge===null)return{};const De=he(re);if(!De)return{};const be=Object.values(De).find(xe=>xe.id===ge);return be||{}});fe.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:(re,ge)=>{if(ge===null)return{};const De=he(re);if(!De)return{};const be=Object.values(De).find(xe=>xe.id===ge);return be||{}}};const ve=(0,t.Ay)(re=>{const ge=D(re);return!ge||!ge.user?!1:ge.user.is_owner});ve.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:re=>{const ge=D(re);return!ge||!ge.user?!1:ge.user.is_owner}};const me=(0,t.Ay)(re=>{const ge=D(re);return!ge||!ge.user||!re||!re.checkoutFlow});me.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:re=>{const ge=D(re);return!ge||!ge.user||!re||!re.checkoutFlow}};const oe=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.invoiceData);oe.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.invoiceData};const N=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.paymentMethodSelected);N.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.paymentMethodSelected};const K=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.isAppDisconnectedDialogShown);K.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.isAppDisconnectedDialogShown};const x=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.activeCheckoutStep);x.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.activeCheckoutStep};const b=(0,t.Ay)(re=>{var ge;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.activeSteppedCheckoutStep)||null});b.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:re=>{var ge;return(re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.activeSteppedCheckoutStep)||null}};const z=(0,t.Ay)(re=>{var ge;return re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.promoCodeRedeem});z.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:re=>{var ge;return re==null||(ge=re.checkoutFlow)===null||ge===void 0?void 0:ge.promoCodeRedeem}};const $=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.failed)||!1});$.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.failed)||!1}};const Z=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.errorName)||""});Z.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.errorName)||""}};const U=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.discountName)||""});U.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.discountName)||""}};const ee=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.discountPercentage)||0});ee.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.discountPercentage)||0}};const se=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.discountDuration)||0});se.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.discountDuration)||0}};const de=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.attempted)||!1});de.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.attempted)||!1}};const ue=(0,t.Ay)(re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.code)||null});ue.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:re=>{var ge;return((ge=z(re))===null||ge===void 0?void 0:ge.code)||null}};const _e=(0,t.Ay)(re=>!re||!re.checkoutFlow?null:re.checkoutFlow.isCheckoutFlowAPIError);_e.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:re=>!re||!re.checkoutFlow?null:re.checkoutFlow.isCheckoutFlowAPIError};const pe=(0,t.Ay)(re=>{const ge=q(re);return!!(ge!=null&&ge.isActionRequiredOnPurchaseAttempt)});pe.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:re=>{const ge=q(re);return!!(ge!=null&&ge.isActionRequiredOnPurchaseAttempt)}};const ae=(0,t.Ay)(re=>{const ge=q(re);return ge&&ge.intentSecret||""});ae.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:re=>{const ge=q(re);return ge&&ge.intentSecret||""}};const Ee=(0,t.Ay)(re=>{const ge=q(re);return ge&&ge.billingItemId||""});Ee.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:re=>{const ge=q(re);return ge&&ge.billingItemId||""}};const Le=(0,t.Ay)(re=>(0,n.x)(re,"self_serve_select"));Le.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:re=>(0,n.x)(re,"self_serve_select")};const ye=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.addons?null:re.checkoutFlow.checkoutConfiguration.addons[0].id);ye.meta={name:"createSelector",key:"createSelectorselectAddonId",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.addons?null:re.checkoutFlow.checkoutConfiguration.addons[0].id};const Te=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration?!1:re.checkoutFlow.checkoutConfiguration.isPayingByInvoice);Te.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration?!1:re.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const Ae=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.addons?null:re.checkoutFlow.checkoutConfiguration.addons.map(ge=>ge.id));Ae.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.addons?null:re.checkoutFlow.checkoutConfiguration.addons.map(ge=>ge.id)};const Ie=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.addons?null:re.checkoutFlow.checkoutConfiguration.addons[0].type);Ie.meta={name:"createSelector",key:"createSelectorselectAddonType",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.addons?null:re.checkoutFlow.checkoutConfiguration.addons[0].type};const Ue=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.selectedAddonTypes?d.Ml:re.checkoutFlow.selectedAddonTypes);Ue.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.selectedAddonTypes?d.Ml:re.checkoutFlow.selectedAddonTypes};const Be=(0,t.Ay)(re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:re.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);Be.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:re=>!re||!re.checkoutFlow||!re.checkoutFlow.checkoutConfiguration||!re.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:re.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const we=(0,t.Ay)(re=>{var ge;return!re||!re.checkoutFlow?null:(ge=re.checkoutFlow.checkoutConfiguration)===null||ge===void 0?void 0:ge.isEligibleForDataDeletion});we.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:re=>{var ge;return!re||!re.checkoutFlow?null:(ge=re.checkoutFlow.checkoutConfiguration)===null||ge===void 0?void 0:ge.isEligibleForDataDeletion}}},8368515877:(Q,C,e)=>{"use strict";e.d(C,{l:()=>f});var t=e(9706240641),n=e(1031947056),s=e(3048437087),r=e(1649982175),d=e(9113979368),o=e(2927826522),a=e(6422693406),l=e(165535451),m=e(7520484642);const c=(0,n.Ay)("fetches all available pricing plans for the team.",(g,y,T)=>new a.S(M=>{g((0,l.iV)(T)).then(O=>{g((0,m.wt)(O)),M()})}));c.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const _=c;var p=e(6460545324),u=e(4711657482),h=e(6323355797);const E=i(g=>{var y,T;const M=((y=g.product)===null||y===void 0?void 0:y.level)===g.current_product.level,O=((T=g.product)===null||T===void 0?void 0:T.term)===g.current_product.term,I=g.selected_payment_method===h.uq.CREDIT_CARD;return M&&O&&I?[h.uq.CREDIT_CARD]:g.allowed_payment_methods},"filterAllowedPaymentMethods"),A=i(g=>{var y,T;const M=((y=g.product)===null||y===void 0?void 0:y.level)===g.current_product.level,O=((T=g.product)===null||T===void 0?void 0:T.term)===g.current_product.term;return g.selected_payment_method===h.uq.INVOICE&&M?O?[h.ck.monthly]:[h.ck.yearly]:g.available_terms},"getUpeSelectedAvailableTerms"),v=(0,n.Ay)("Load configuration data for checkout",function(){var g=(0,t.coroutine)(function*(y,T,M){let{checkoutConfigData:O}=M,I=(0,r.A)(O,["clientRequestId","requestId","args","method","ok"]);const D=!(0,d.A)(I);if(D){var P,k,R,V,B;I=Object.assign(I,{planLevel:(P=I.product)===null||P===void 0?void 0:P.level,term:(k=I.product)===null||k===void 0?void 0:k.term,isTrial:(R=I.product)===null||R===void 0?void 0:R.is_trial,isPayingByInvoice:I.current_product.is_invoice,currency:(V=I.product)===null||V===void 0?void 0:V.currency,productId:(B=I.product)===null||B===void 0?void 0:B.id,currentPlanLevel:I.current_product.level,currentTerm:I.current_product.term,currentIsTrial:I.current_product.is_trial,currentCurrency:I.current_product.currency,currentProductId:I.current_product.id,allowedPaymentMethods:E(I),upeSelectedAvailableTerms:A(I),isEligibleForDataDeletion:I.is_eligible_for_data_deletion}),delete I.product,delete I.current_product}I=(0,o.A)(I),y((0,u.yK)(I)),D&&(y((0,u.Kv)(I)),yield y(_({checkout_step:p.Ay.form})))});return function(y,T,M){return g.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const f=(0,n.Ay)("Fetch configuration data for checkout",function(){var g=(0,t.coroutine)(function*(y,T,M){let{productId:O=null}=M;const I="fetchConfigurationData",D=yield y((0,s.n)(O?{productId:O,reason:I}:{reason:I}));yield y(v({checkoutConfigData:D}))});return function(y,T,M){return g.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},2222994823:(Q,C,e)=>{"use strict";e.d(C,{I:()=>o});var t=e(2774532222),n=e(6323355797),s=e(4252064756),r=e(8234448831);const d=i(l=>{const m=(0,r.Ay)(l),c=m&&m.pathname;return(0,s.D)(m)&&(0,t.A)(c,(0,n.hZ)())},"isPlansAppUrl"),o=i(l=>l&&!d(l),"shouldCheckoutRedirect"),a={isPlansAppUrl:d}},4653418008:(Q,C,e)=>{"use strict";e.d(C,{LA:()=>r,Th:()=>d,kl:()=>s,yg:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the current theme field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const s=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const d=(0,t.Ay)("Set the client typeface");d.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},5922222922:(Q,C,e)=>{"use strict";e.d(C,{C3:()=>s,k4:()=>t,u7:()=>n});const t="slack-client-theme",n="slack-client-theme-os-sync",s="client-typeface"},5923036663:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(1703559452),n=e(796111729),s=e(4096483543),r=e(958961878),d=e(3245843483),o=e(9139930183),a=e(6533394955),l=e(5922222922),m=e(4653418008),c=e(3328068409),_=e(767804497),p=e(3564619745),u=e(9012396182),h=e(9733150292);let E="light",A=!1,v="light",f;try{f=(0,h.W6)(l.C3)||void 0}catch{}try{r.w2&&(0,s.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(T=>{const M=T.matches?"dark":"light";v=M,A&&(E=v);const O=(0,a.getClientStoreInstance)();if(O){const I=O.getState(),D=(0,u.getBootedWorkspaces)(I),P=(0,t.A)(D.map(k=>(0,r.Ay)((0,a.getStateByTeamId)(k))));O.dispatch((0,m.LA)(M)),P&&(0,c.FW)(I)&&O.dispatch((0,_.P)(M))}})}catch(T){(0,n.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",T)}try{const T=window.localStorage.getItem(l.k4),M=window.localStorage.getItem(l.u7);E=T||"light",r.w2&&(M?A=M==="true":A=!T,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(v="dark"),A&&(E=v)),(0,d.g9M)()&&((0,d.cGU)({name:"userTheme",value:E}),(0,d.cGU)({name:"systemThemeSyncEnabled",value:A}))}catch(T){(0,n.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",T)}const y=(0,o.Ay)({},{clientTheme:E,systemSync:A,systemTheme:v,clientTypeface:f},{storeKey:"clientTheme",persistenceEnabled:!1}).on(m.yg,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...T,clientTheme:M}}).on(m.kl,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...T,systemSync:M}}).on(m.LA,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...T,systemTheme:M}}).on(m.Th,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.mZ;return{...T,clientTypeface:M}})},767804497:(Q,C,e)=>{"use strict";e.d(C,{P:()=>o});var t=e(796111729),n=e(3245843483),s=e(1031947056),r=e(5922222922),d=e(4653418008);const o=(0,s.Ay)("Set the current theme for the device",function(a,l){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.k4,m)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}a((0,d.yg)(m)),(0,n.cGU)({name:"userTheme",value:m})});o.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},5670953896:(Q,C,e)=>{"use strict";e.d(C,{$_:()=>h,Ci:()=>d,Dn:()=>r,F8:()=>c,N2:()=>l,RX:()=>a,Xc:()=>u,ij:()=>s,pq:()=>_,qE:()=>o,rj:()=>p,sR:()=>n,vN:()=>m});var t=e(2140362605);const n=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");n.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const s=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");s.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const r=(0,t.Ay)("Upserts a Slack Connect Invite");r.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const d=(0,t.Ay)("Upserts a pending Slack Connect Invite");d.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const o=(0,t.Ay)("Removes a Slack Connect Invite");o.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const a=(0,t.Ay)("Removes a pending Slack Connect Invite");a.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const l=(0,t.Ay)("Sets freshness flag for Slack Connect invites");l.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const m=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");m.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const c=(0,t.Ay)("Sets whether logged-in member's email verification has failed");c.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const _=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");_.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const p=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");p.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const u=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");u.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const h=(0,t.Ay)("Sets whether we are currently switching workspaces");h.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},1496122061:(Q,C,e)=>{"use strict";e.d(C,{d:()=>c});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(320199792),d=e(5914498199),o=e(5670953896),a=e(1605540670),l=e(3243667193),m=e(2368561198);const c=(0,s.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",function(){var _=(0,t.coroutine)(function*(p,u,h){let{reason:E}=h,A;const v=[l.k.Channel,l.k.Im];(0,m.i)(u())&&v.push(l.k.Workspace);const g=yield p((0,a.O)({reason:E,inviteTypes:v,onlyPendingInvites:!0}));if(g!=null&&g.connect_invites){A=g.connect_invites;const y=A.filter(r.Ef),T=A.filter(r.I4);p((0,d.R)({connectInvites:A})),p((0,o.ij)({pendingInboundConnectInvites:y,pendingOutboundConnectInvites:T}))}return A||[]});return function(p,u,h){return _.apply(this,arguments)}}());c.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},6111266013:(Q,C,e)=>{"use strict";e.d(C,{p:()=>c});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(3622175906),d=e(1605540670),o=e(5914498199),a=e(5670953896),l=e(3243667193),m=e(2368561198);const c=(0,s.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",function(){var _=(0,t.coroutine)(function*(p,u,h){let{reason:E,direction:A,includeInviteRequests:v}=h,f;const g=[l.k.Channel,l.k.Im];(0,m.i)(u())&&g.push(l.k.Workspace);const T=yield p((0,d.O)({reason:E,direction:A,inviteTypes:g,includeInviteRequests:v}));if(T!=null&&T.connect_invites){f=T.connect_invites,p((0,o.R)({connectInvites:f}));const M={inboundConnectInvites:A===r.D.Incoming?f:void 0,outboundConnectInvites:A===r.D.Outgoing?f:void 0};p((0,a.sR)(M))}return f||[]});return function(p,u,h){return _.apply(this,arguments)}}());c.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},5914498199:(Q,C,e)=>{"use strict";e.d(C,{R:()=>o});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(7679955939),d=e(320199792);const o=(0,s.Ay)("Upsert any non-local members referenced in the specified connect invites",function(){var a=(0,t.coroutine)(function*(l,m,c){let{connectInvites:_}=c;const p=[];_.forEach(u=>{const h=(0,d.$N)(u);if((0,d.I4)(u)&&h&&h.forEach(E=>{p.push((0,d.mZ)(E))}),(0,d.Ef)(u)){p.push((0,d.y1)(u));const E=(0,d.kR)(u);E&&p.push(E)}}),l((0,r.Ay)({members:p}))});return function(l,m,c){return a.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},6591744424:(Q,C,e)=>{"use strict";e.d(C,{A8:()=>E,IC:()=>m,If:()=>h,S_:()=>p,Uf:()=>u,Z3:()=>g,cf:()=>l,nT:()=>y,tD:()=>c,zm:()=>A});var t=e(8161242485),n=e(3385422400),s=e(2047021170),r=e(8262898118),d=e(5873468694),o=e(796111729);const a=(0,t.Ay)(T=>{var M;return T==null||(M=T.siwsDomains)===null||M===void 0?void 0:M.domainsCollection});a.meta={name:"createSelector",key:"createSelectorgetDomains",description:T=>{var M;return T==null||(M=T.siwsDomains)===null||M===void 0?void 0:M.domainsCollection}};const l=(0,t.Ay)(T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.loading});l.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.loading}};const m=i(T=>{const M=(0,s.ty)(T,"identity_links_prefs");if(M)try{return JSON.parse(M)}catch{return(0,o.Ay)({state:T}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),c=(0,n.Mz)(m,Object.keys),_=(0,t.Ay)(T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.apps});_.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.apps}};const p=(0,n.Mz)(c,_,(T,M)=>T.filter(O=>!M[O])),u=(0,n.Mz)(m,_,r.pf,function(T,M){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(T).map(P=>M[P]?{...M[P].profile||{},...(0,d.XK)(T[P])||{},domain:O[P]||{}}:null).filter(P=>Boolean(P))}),h=(0,n.Mz)(u,T=>T.filter(M=>M==null?void 0:M.completedTransfer).sort((M,O)=>O.dateCompletedTransfer-M.dateCompletedTransfer)),E=(0,n.Mz)(u,T=>T.filter(M=>M==null?void 0:M.dateDisconnected).sort((M,O)=>O.dateDisconnected-M.dateDisconnected)),A=(0,n.Mz)(u,T=>T.filter(M=>(M==null?void 0:M.numSkipped)&&!(M!=null&&M.completedTransfer)).sort((M,O)=>O.dateLastSkipped-M.dateLastSkipped)),v=i(T=>{const M=(0,s.ty)(T,"identity_links_global_prefs");if(M)try{return(0,d.XK)(JSON.parse(M))}catch{return(0,o.Ay)({state:T}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),f=(0,n.Mz)(v,T=>T==null?void 0:T.dateDisabled),g=(0,n.Mz)(f,T=>!T),y=(0,t.Ay)(T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.error});y.meta={name:"createSelector",key:"createSelectorselectError",description:T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.error}}},6168781067:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9139930183),n=e(2456103428);const s={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},d=(0,t.Ay)({},s,{storeKey:"connectivity",persistenceEnabled:!1}).on(n.pm,(o,a)=>({...o,serviceOnline:!!a})).on(n.Uj,o=>o===s?{...o,lastSocketActivity:Date.now()}:(o.lastSocketActivity=Date.now(),o)).on(n.p9,(o,a)=>({...o,clientOnline:!!a,lastClientConnection:Date.now()})).on(n.hM,o=>({...o,lastSocketConnection:Date.now()}))},1314103953:(Q,C,e)=>{"use strict";e.d(C,{b:()=>s,k:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");n.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const s=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");s.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},9469211187:(Q,C,e)=>{"use strict";e.d(C,{d:()=>s,f:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Remove prefs for a given channel");n.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const s=(0,t.Ay)("Set channel prefs associated with a given channel");s.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},7914670207:(Q,C,e)=>{"use strict";e.d(C,{Dq:()=>h,YO:()=>E,im:()=>v});var t=e(9706240641),n=e.n(t),s=e(3398586081),r=e(6639221719),d=e(8352634987),o=e(6422693406),a=e(4423055085),l=e(1031947056),m=e(6533394955),c=e(9469211187),_=e(8081461848);const p=(0,l.Ay)("Fetch and upsert channel list prefs",function(){var g=(0,t.coroutine)(function*(y,T,M){let{channelId:O,teamId:I}=M;const D=yield y((0,r.U)({channel:O,reason:"client_redux_store"})),{prefs:P}=D;y((0,c.d)({channelId:O,prefs:P})),A(I,O)});return function(y,T,M){return g.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const u=(0,s.A)(()=>new d.Ay({storeKey:_.U,fetch:(g,y)=>o.S.map(y,T=>(0,m.dispatchForTeamId)(g,p({channelId:T,teamId:g}))),isEnabled:()=>!0,metricsName:_.U})),h=i((g,y)=>u().markObjectsAsStale(g,[y]),"markConversationsListPrefsAsStale"),E=i((g,y)=>u().markObjectsAsStale(g,y),"markConversationsListPrefsAsStaleForMultipleChannels"),A=i((g,y)=>u().markObjectsAsFresh(g,[y]),"markConversationsListPrefsAsFresh"),v=i((g,y)=>u().maybeRefetch(g,y),"maybeRefetchConversationsListPrefs"),f={fetchAndUpsertConversationsListPrefs:p};(0,a.zv)("conditionalFetchManagerConversationsListPrefs",u)},8081461848:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o,U:()=>s});var t=e(9139930183),n=e(9469211187);const s="conversationsListPrefs",r={},o=(0,t.Ay)({},r,{storeKey:s,persistenceEnabled:!0}).on(n.f,(a,l)=>{let{channelId:m}=l;if(!m||!a[m])return a;const c={...a};return delete c[m],c}).on(n.d,(a,l)=>{let{channelId:m,prefs:c}=l;return m?{...a,[m]:c}:a})},2527994834:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>o});var t=e(3385422400),n=e(8847766420),s=e(7914670207),r=e(8040098042);const d=i((a,l)=>{var m;const c=(0,n.ZT)(a);if(!c||!(0,r.A)(l))return null;(0,s.im)(c,l);var _;return(_=a==null||(m=a.conversationsListPrefs)===null||m===void 0?void 0:m[l])!==null&&_!==void 0?_:null},"getConversationsListPrefsByChannelId"),o=(0,t.Mz)((a,l,m)=>d(a,m),(a,l)=>l,(a,l)=>a==null?void 0:a[l])},330221449:(Q,C,e)=>{"use strict";e.d(C,{Ot:()=>s,S9:()=>d,X8:()=>n,d$:()=>a,d1:()=>l,en:()=>o,gx:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Adds the new set of custom emoji to the existing store");n.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const s=(0,t.Ay)("Resets the array of custom emoji in the store");s.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=(0,t.Ay)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const d=(0,t.Ay)("Renames a disabled custom emoji");d.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const o=(0,t.Ay)("Set the loading status for the API request when a new page is loading");o.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const a=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");a.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const l=(0,t.Ay)("Set the current sort category and direction for the table");l.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},1484767411:(Q,C,e)=>{"use strict";e.d(C,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Record that a message was deleted");n.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},6739248722:(Q,C,e)=>{"use strict";e.d(C,{k:()=>n});var t=e(8161242485);const n=(0,t.Ay)((s,r)=>{let{channelId:d,ts:o}=r;return s&&s.deletedMessages&&s.deletedMessages[d]&&!!s.deletedMessages[d][o]});n.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(s,r)=>{let{channelId:d,ts:o}=r;return s&&s.deletedMessages&&s.deletedMessages[d]&&!!s.deletedMessages[d][o]}}},1378315125:(Q,C,e)=>{"use strict";e.d(C,{$3:()=>l,Bt:()=>o,Ez:()=>s,LS:()=>c,Mk:()=>r,NN:()=>p,XF:()=>d,Y$:()=>u,Yv:()=>n,_F:()=>m,jC:()=>_,n9:()=>h,oR:()=>A,um:()=>E,yz:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Sets the highlight property of a download");n.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const s=(0,t.Ay)("An update of the desktop state from the desktop app");s.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=(0,t.Ay)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const d=(0,t.Ay)("Starts a download on the desktop app");d.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const o=(0,t.Ay)("Pauses a download on the desktop app");o.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const a=(0,t.Ay)("Resumes a download on the desktop app");a.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const l=(0,t.Ay)("Cancels a download on the desktop app");l.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const m=(0,t.Ay)("Clears all stopped downloads for the active team");m.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const c=(0,t.Ay)("Removes a download on the desktop app");c.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const _=(0,t.Ay)("Retries a download on the desktop app");_.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const p=(0,t.Ay)("Opens a file downloaded by the desktop app");p.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const u=(0,t.Ay)("Shows the folder that contains the downloaded file");u.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const h=(0,t.Ay)("Toggles the performance monitor");h.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const E=(0,t.Ay)("Sets the currently active team in the SSB");E.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const A=(0,t.Ay)("Update canvas system text settings in the SSB");A.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},7902571278:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(9139930183),n=e(4103274853),s=e(3571452446),r=e(2003990933),d=e(7715417323),o=e(3245843483),a=e(1378315125);const l=i((u,h)=>(0,n.A)(u,(E,A)=>(0,n.A)(E,(v,f)=>h(A,f,v))),"mapDownloads"),m=i(u=>({...{app:{},environment:{},settings:{},...(0,s.A)(u,["app","settings","environment"]),windows:(0,n.A)((u==null?void 0:u.windows)||{},E=>({frame:(0,s.A)(E.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:l((u==null?void 0:u.downloads)||{},(E,A,v)=>({...v,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,r.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),c=(0,o.g9M)()?m((0,r.A)(window,"desktop.redux.getState",d.A)()):null,p=(0,t.Ay)({},c,{storeKey:"desktop",persistenceEnabled:!1}).on(a.Ez,(u,h)=>{const E=h.downloads?l(h.downloads,(A,v,f)=>({...f,highlight:(0,r.A)(u.downloads,[A,v,"highlight"],!1)})):u.downloads;return{...u,...h,downloads:E}}).on(a.Mk,(u,h)=>{let{windowId:E,property:A,value:v}=h;var f,g,y;return{...u,windows:{...u.windows,[E]:{...((f=u.windows)===null||f===void 0?void 0:f[E])||{},frame:{...((g=u.windows)===null||g===void 0||(y=g[E])===null||y===void 0?void 0:y.frame)||{},[A]:v}}}}}).on(a.Yv,(u,h)=>{let{fileId:E,teamId:A,highlight:v}=h;return(0,r.A)(u.downloads,[A,E])?{...u,downloads:{...u.downloads,[A]:{...u.downloads[A],[E]:{...u.downloads[A][E],highlight:v}}}}:u}).on(a.n9,u=>({...u,debug:{...u.debug,isPerformanceMonitorEnabled:!u.debug.isPerformanceMonitorEnabled}})).on(a.um,(u,h)=>h?{...u,activeTeamId:h}:u)},700984029:(Q,C,e)=>{"use strict";e.d(C,{AS:()=>s,Fb:()=>n,J3:()=>f,NH:()=>v,Oh:()=>l,Yr:()=>A,ZY:()=>_,cH:()=>c,e$:()=>g,er:()=>E,in:()=>p,lW:()=>u,px:()=>m,tG:()=>h,u7:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Add an array of devices to the device store");n.meta={name:"createAction",key:"createActionclobberDevices",description:"Add an array of devices to the device store"};const s=(0,t.Ay)("Set the sink device for media elements");s.meta={name:"createAction",key:"createActionsetSinkDevice",description:"Set the sink device for media elements"};const r=(0,t.Ay)("Notify middleware of a new preferred device");r.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware of a new preferred device"};const d=(0,t.Ay)("");d.meta={name:"createAction",key:"createActionrequestPreviewStreamForDeviceId",description:""};const o=(0,t.Ay)("Stop preview streams");o.meta={name:"createAction",key:"createActionstopPreviewStreams",description:"Stop preview streams"};const a=(0,t.Ay)("");a.meta={name:"createAction",key:"createActionsetPreviewStreams",description:""};const l=(0,t.Ay)("Get screen thumbnails");l.meta={name:"createAction",key:"createActiongetScreenThumbnails",description:"Get screen thumbnails"};const m=(0,t.Ay)("The browser has blocked getUserMedia for cameras");m.meta={name:"createAction",key:"createActionsetCameraIsBlockedByBrowser",description:"The browser has blocked getUserMedia for cameras"};const c=(0,t.Ay)("The browser has blocked getUserMedia for microphones");c.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedByBrowser",description:"The browser has blocked getUserMedia for microphones"};const _=(0,t.Ay)("The browser has granted getUserMedia access for microphones");_.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedByBrowser",description:"The browser has granted getUserMedia access for microphones"};const p=(0,t.Ay)("The browser has granted getUserMedia access for cameras");p.meta={name:"createAction",key:"createActionsetCameraIsGrantedByBrowser",description:"The browser has granted getUserMedia access for cameras"};const u=(0,t.Ay)("The browser has blocked getUserMedia for screen recording");u.meta={name:"createAction",key:"createActionsetScreenRecordingIsBlockedByBrowser",description:"The browser has blocked getUserMedia for screen recording"};const h=(0,t.Ay)("The system has blocked getUserMedia access for microphones");h.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedBySystem",description:"The system has blocked getUserMedia access for microphones"};const E=(0,t.Ay)("The system has granted getUserMedia access for microphones");E.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedBySystem",description:"The system has granted getUserMedia access for microphones"};const A=(0,t.Ay)("The system has blocked getUserMedia access for cameras");A.meta={name:"createAction",key:"createActionsetCameraIsBlockedBySystem",description:"The system has blocked getUserMedia access for cameras"};const v=(0,t.Ay)("The system has granted getUserMedia access for cameras");v.meta={name:"createAction",key:"createActionsetCameraIsGrantedBySystem",description:"The system has granted getUserMedia access for cameras"};const f=(0,t.Ay)("The system has blocked screen recording");f.meta={name:"createAction",key:"createActionsetScreenshareRecordingIsBlockedBySystem",description:"The system has blocked screen recording"};const g=(0,t.Ay)("Check for system media access");g.meta={name:"createAction",key:"createActionmaybeCheckSystemMediaAccess",description:"Check for system media access"};const y=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");y.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const T=(0,t.Ay)("Notify middleware that noise suppression setting has changed");T.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"}},9365970888:(Q,C,e)=>{"use strict";e.d(C,{AZ:()=>_,Ae:()=>u,Hc:()=>M,IO:()=>D,JM:()=>P,SR:()=>O,aA:()=>k,f3:()=>p,ly:()=>c,oG:()=>o,ql:()=>l,yp:()=>v});var t=e(8289365785),n=e(1703559452),s=e(3385422400),r=e(8736071954),d=e(2384831516);const o=(0,d.Mz)(R=>R.device.devices);o.meta={name:"createSelector",key:"createSelectorgetDevices",description:R=>R.device.devices};const a=(0,d.Mz)(R=>R.device.sinkDevice);a.meta={name:"createSelector",key:"createSelectorgetSinkDevice",description:R=>R.device.sinkDevice};const l=(0,d.Mz)((R,V)=>(0,t.A)(R.device.devices[V]));l.meta={name:"createSelector",key:"createSelectorgetPreferredDevice",description:(R,V)=>(0,t.A)(R.device.devices[V])};const m=(0,d.Mz)(R=>R.device.isMicrophoneBlockedByBrowser);m.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedByBrowser",description:R=>R.device.isMicrophoneBlockedByBrowser};const c=(0,d.Mz)(R=>R.device.isCameraBlockedByBrowser);c.meta={name:"createSelector",key:"createSelectorisCameraBlockedByBrowser",description:R=>R.device.isCameraBlockedByBrowser};const _=(0,s.Mz)(o,m,(R,V)=>E(R)&&!V),p=(0,s.Mz)(o,c,(R,V)=>A(R)&&!V),u=(0,s.Mz)(o,c,(R,V)=>{var B,W;if(!(!A(R)||V))return R==null||(B=R.camera)===null||B===void 0||(W=B[0])===null||W===void 0?void 0:W.id}),h=(0,d.Mz)(R=>R.device.previewStreams);h.meta={name:"createSelector",key:"createSelectorgetPreviewStreams",description:R=>R.device.previewStreams};function E(R){return R.microphone.length>0}i(E,"isMicrophoneAvailableInDevices");function A(R){return R.camera.length>0}i(A,"isCameraAvailableInDevices");function v(R){var V;return R==null||(V=R.microphone)===null||V===void 0?void 0:V.some(B=>B.label!==void 0)}i(v,"isMicrophoneAvailableForCapturingInDevices");function f(R){return R.camera.some(V=>V.label!==void 0)}i(f,"isCameraAvailableForCapturingInDevices");function g(R){return R.output.some(V=>V.label!==void 0)}i(g,"isOutputAvailableForDisplay");const y=(0,d.Mz)(R=>R.device.isMicrophoneBlockedBySystem);y.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedBySystem",description:R=>R.device.isMicrophoneBlockedBySystem};const T=(0,d.Mz)(R=>R.device.isCameraBlockedBySystem);T.meta={name:"createSelector",key:"createSelectorisCameraBlockedBySystem",description:R=>R.device.isCameraBlockedBySystem};const M=(0,s.Mz)(m,y,(R,V)=>R||V),O=(0,s.Mz)(c,T,(R,V)=>R||V),I=i(R=>{if(!R)return!1;const V=["bluetooth","hands-free","airpods","wireless"];return(0,n.A)(V,B=>R==null?void 0:R.toLowerCase().includes(B))},"doesLabelHintBluetooth"),D=(0,d.Mz)(R=>{const V=R.device.devices,B=(0,t.A)(V[r.lW.Microphone]);return I(B==null?void 0:B.label)});D.meta={name:"createSelector",key:"createSelectorisSelectedMicrophoneBluetooth",description:R=>{const V=R.device.devices,B=(0,t.A)(V[r.lW.Microphone]);return I(B==null?void 0:B.label)}};const P=(0,d.Mz)(R=>{const V=R.device.devices,B=(0,t.A)(V[r.Q4]);return I(B==null?void 0:B.label)});P.meta={name:"createSelector",key:"createSelectorisSelectedSpeakerBluetooth",description:R=>{const V=R.device.devices,B=(0,t.A)(V[r.Q4]);return I(B==null?void 0:B.label)}};const k=(0,d.Mz)(R=>{const V=R.device.devices,B=(0,t.A)(V[r.lW.Microphone]),W=(0,t.A)(V[r.Q4]);return!!B&&!!W&&B.groupId===W.groupId});k.meta={name:"createSelector",key:"createSelectorisAudioOnSameDevice",description:R=>{const V=R.device.devices,B=(0,t.A)(V[r.lW.Microphone]),W=(0,t.A)(V[r.Q4]);return!!B&&!!W&&B.groupId===W.groupId}}},7600673124:(Q,C,e)=>{"use strict";e.d(C,{y:()=>n});var t=e(5818203962);const n=i((s,r)=>(0,t.I$)(s,r),"getIsMemberDisconnectedById")},4318855015:(Q,C,e)=>{"use strict";e.d(C,{$x:()=>d,H9:()=>n,at:()=>a,j_:()=>m,jy:()=>l,o2:()=>r,qw:()=>s,su:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");n.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const s=(0,t.Ay)("Set and replace emoji collections");s.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=(0,t.Ay)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const d=(0,t.Ay)("Signals that an emoji collection has been uninstalled");d.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const o=(0,t.Ay)("Signals that badges should be added post-install");o.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const a=(0,t.Ay)("Signals that the message input badge should be removed");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const l=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");l.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const m=(0,t.Ay)("Increments emoji click count");m.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},3004085654:(Q,C,e)=>{"use strict";e.d(C,{Cs:()=>p,Ur:()=>A,_J:()=>v,_o:()=>h,fl:()=>f,nQ:()=>u,pG:()=>E,uI:()=>_});var t=e(2101927269),n=e(9113979368),s=e(2141441167),r=e(2048121586),d=e(6696292586),o=e(8161242485),a=e(3385422400),l=e(2047021170);const m=60*60*24*14,c=(0,o.Ay)((g,y)=>g&&g.emojiCollections&&g.emojiCollections.collections&&g.emojiCollections.collections[y]);c.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(g,y)=>g&&g.emojiCollections&&g.emojiCollections.collections&&g.emojiCollections.collections[y]};const _=(0,o.Ay)(g=>g&&g.emojiCollections&&g.emojiCollections.collections);_.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:g=>g&&g.emojiCollections&&g.emojiCollections.collections};const p=(0,a.Mz)(_,g=>(0,t.A)(g,y=>y.installed)),u=(0,o.Ay)(g=>g&&g.emojiCollections&&g.emojiCollections.hasFetched);u.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:g=>g&&g.emojiCollections&&g.emojiCollections.hasFetched};const h=(0,o.Ay)(g=>g&&g.emojiCollections&&g.emojiCollections.inputBadge);h.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:g=>g&&g.emojiCollections&&g.emojiCollections.inputBadge};const E=(0,o.Ay)(g=>g&&g.emojiCollections&&g.emojiCollections.tabBadge);E.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:g=>g&&g.emojiCollections&&g.emojiCollections.tabBadge};const A=(0,o.Ay)(g=>g&&g.emojiCollections&&g.emojiCollections.emojiClickCount);A.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:g=>g&&g.emojiCollections&&g.emojiCollections.emojiClickCount};const v=(0,o.Ay)(g=>{const y=_(g);if((0,n.A)(y))return null;const T=(0,s.A)(y);return(0,r.A)(T,M=>M.date_create)});v.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:g=>{const y=_(g);if((0,n.A)(y))return null;const T=(0,s.A)(y);return(0,r.A)(T,M=>M.date_create)}};const f=(0,o.Ay)(g=>{const y=(0,l.ty)(g,"emoji_packs_most_recent_available_time");if(!(0,d.A)(y))return!1;const T=y+m;return Date.now()/1e3<T});f.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:g=>{const y=(0,l.ty)(g,"emoji_packs_most_recent_available_time");if(!(0,d.A)(y))return!1;const T=y+m;return Date.now()/1e3<T}}},7564917982:(Q,C,e)=>{"use strict";e.d(C,{H:()=>u});var t=e(7156798807),n=e(1031947056),s=e(1194535350),r=e(4724591729),d=e(3004085654),o=e(4318855015),a=e(2048121586),l=e(2047021170),m=e(5510392579),c=e(387484329);const _=(0,n.Ay)("handle updating prefs if new emoji pack has become available",(h,E,A)=>{let{collections:v}=A;const f=E(),g=(0,m.h3)(f),y=(0,l.ty)(f,"emoji_packs_most_recent_available_time")||0,T=(0,a.A)(v,D=>D.date_create),{date_create:M,installed:O}=T||{};(g||O)&&M>y&&h((0,c.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});_.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const p=_,u=(0,n.Ay)("Process and add emoji collections",(h,E,A)=>{let{reason:v}=A;const f=E();(0,d.nQ)(f)||(h((0,o.H9)({hasFetched:!0})),h((0,s.KO)({reason:v})).then(g=>{const y=g.installed||[],T=g.available||[],M=(0,t.A)(y,"id"),O=T.map(I=>({...I,installed:!!M[I.id],localEmoji:M[I.id]?M[I.id].emoji:I.emoji}));h(p({collections:O})),(0,r.Cu)()?h((0,o.qw)({collections:O.filter(I=>!["1044122771874","11"].includes(I.id))})):h((0,o.qw)({collections:O}))}).catch(()=>{h((0,o.H9)({hasFetched:!1}))}))});u.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},4060284745:(Q,C,e)=>{"use strict";e.d(C,{D:()=>n,V:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Add ephemeral message reference to store");n.meta={name:"createAction",key:"createActionaddToEphemeralMessageMap",description:"Add ephemeral message reference to store"};const s=(0,t.Ay)("Remove ephemeral message reference");s.meta={name:"createAction",key:"createActionremoveFromEphemeralMessageMap",description:"Remove ephemeral message reference"}},5468652247:(Q,C,e)=>{"use strict";e.d(C,{F:()=>t});const t={disconnectedFeedback:"disconnected_feedback",createdGoogleDriveDocument:"created_google_drive_document",enablePopups:"enable_popups",generalPostingRestricted:"general_posting_restricted",genericPostingRestricted:"generic_posting_restricted",fileTypeHasNoHandler:"file_type_has_no_handler",boxFilePickerError:"box_file_picker_error",gdriveShareFileError:"gdrive_share_file_error",onedriveSdkError:"onedrive_sdk_error",tempSlashCmdFeedback:"temp_slash_cmd_feedback",threadsTempSlashCmdFeedback:"threads_temp_slash_cmd_feedback",uncaughtThirdPartyCallError:"uncaught_third_party_call_error",findAnAdminPrompt:"find_an_admin_prompt",unhandledGdriveCreate:"unhandled_gdrive_create",fileCreatedViaBookmark:"file_created_via_bookmark",scheduleSendError:"schedule_send_error"}},1479277172:(Q,C,e)=>{"use strict";e.d(C,{H:()=>m});var t=e(6313685253),n=e(3571452446),s=e(2208015175),r=e(8161242485),d=e(796111729),o=e(7606781622);const a="EPHEMERAL MESSAGES",l=(0,r.Ay)(c=>c.ephemeralMessages);l.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesState",description:c=>c.ephemeralMessages};const m=(0,r.Ay)((c,_)=>{const{ephemeralType:p,channelId:u,threadTs:h}=_,E=(0,d.Ay)({state:c});if(h&&!u)return E.error(a,"Can't remove ephemeral messages by thread without channel ID"),[];_.channel&&!u&&E.warn(a,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const v=l(c)[p];return(0,t.A)(u?(0,n.A)(v,[u]):v,(f,g,y)=>((0,s.A)(g,(T,M)=>{if(!T)return;const O=(0,o.Ld)(c,y,M);O&&(!h||O.thread_ts===h)&&f.push(O)}),f),[])});m.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesByType",description:(c,_)=>{const{ephemeralType:p,channelId:u,threadTs:h}=_,E=(0,d.Ay)({state:c});if(h&&!u)return E.error(a,"Can't remove ephemeral messages by thread without channel ID"),[];_.channel&&!u&&E.warn(a,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const v=l(c)[p];return(0,t.A)(u?(0,n.A)(v,[u]):v,(f,g,y)=>((0,s.A)(g,(T,M)=>{if(!T)return;const O=(0,o.Ld)(c,y,M);O&&(!h||O.thread_ts===h)&&f.push(O)}),f),[])}}},359615813:(Q,C,e)=>{"use strict";e.d(C,{F:()=>a});var t=e(1031947056),n=e(9608395637),s=e(1049138627),r=e(4060284745),d=e(4241074559);const o=(0,t.Ay)("Add an ephemeral message to messages-store and ephemeral message map",(l,m,c)=>{let{ephemeralType:_,message:p}=c;const u=m(),h=(0,d.$)(u,p);h.ts||(h.ts=(0,n.A)()),_&&(h._ephemeral_type=_),l((0,s.A)([h])),_&&l((0,r.D)({ephemeralType:_,channelId:h.channel,ts:h.ts}))});o.meta={name:"createThunk",key:"createThunkaddEphemeralMessage",description:"Add an ephemeral message to messages-store and ephemeral message map"};const a=(0,t.Ay)("Add an ephemeral message from a bot (defaults to Slackbot)",(l,m,c)=>{let{ephemeralType:_,message:p}=c,u;p.username?u={...p,subtype:"bot_message"}:u={...p,user:"USLACKBOT"},l(o({ephemeralType:_,message:u}))});a.meta={name:"createThunk",key:"createThunkaddEphemeralBotMessage",description:"Add an ephemeral message from a bot (defaults to Slackbot)"}},7610481478:(Q,C,e)=>{"use strict";e.d(C,{w:()=>a});var t=e(8786006583),n=e(1031947056),s=e(10127715),r=e(4241074559),d=e(359615813),o=e(1479277172);const a=(0,n.Ay)("Add or update the last ephemeral message of a certain type",(l,m,c)=>{let{ephemeralType:_,message:p,ignoreExistingMessage:u=!1}=c;const h=m(),E=p.channel,A=p.thread_ts;if(_){const v=_&&(0,t.A)((0,o.H)(h,{ephemeralType:_,channelId:E,threadTs:A}));if(v&&v.ts&&!u){l((0,s.Kc)([{...(0,r.$)(h,p),ts:v.ts,channel:E,thread_ts:A}]));return}}l((0,d.F)({ephemeralType:_,message:p}))});a.meta={name:"createThunk",key:"createThunkaddOrFlashEphemeralBotMsg",description:"Add or update the last ephemeral message of a certain type"}},5221490142:(Q,C,e)=>{"use strict";e.d(C,{P:()=>d});var t=e(1031947056),n=e(9121476043),s=e(1479277172),r=e(4060284745);const d=(0,t.Ay)("Remove ephemeral messages by type, channel, and/or thread",(o,a,l)=>{const m=a();(0,s.H)(m,l).forEach(_=>{o((0,n.A)({channelId:_.channel,ts:_.ts||""})),o((0,r.V)({ephemeralType:l.ephemeralType,channelId:_.channel,ts:_.ts}))})});d.meta={name:"createThunk",key:"createThunkremoveEphemeralMsgsByType",description:"Remove ephemeral messages by type, channel, and/or thread"}},4241074559:(Q,C,e)=>{"use strict";e.d(C,{$:()=>n});var t=e(6333950786);const n=i((s,r)=>{const d={...r,type:"message",is_ephemeral:!0,text:(0,t.A)(s,r.text,{isInternalMessage:!0})};return d.username?d.subtype="bot_message":d.user="USLACKBOT",d},"buildBotMessage")},1835683237:(Q,C,e)=>{"use strict";e.d(C,{N:()=>n,Y:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Overwrites our store of the teams in a given externally shared channel");n.meta={name:"createAction",key:"createActionupdateExtSharedChannelTeams",description:"Overwrites our store of the teams in a given externally shared channel"};const s=(0,t.Ay)("Updates whether or not disconnect is in progress for the given team");s.meta={name:"createAction",key:"createActionupdateIsDisconnectInProgressForTeam",description:"Updates whether or not disconnect is in progress for the given team"}},642120761:(Q,C,e)=>{"use strict";e.d(C,{D1:()=>l,ap:()=>m,ez:()=>a});var t=e(6422693406),n=e(3398586081),s=e(8352634987),r=e(6533394955),d=e(7212217314);const o=(0,n.A)(()=>new s.Ay({storeKey:"extSharedChannelTeams",fetch:(c,_)=>{const p=_.slice(0,5);return t.S.map(p,u=>(0,r.dispatchForTeamId)(c,(0,d.N)({channelId:u})))},isEnabled:()=>!0,metricsName:"team-connections"})),a=i((c,_)=>{!c||!_||o().maybeRefetch(c,_)},"maybeRefetch"),l=i((c,_)=>o().markObjectsAsStale(c,_),"markObjectsAsStale"),m=i((c,_)=>o().isObjectFresh(c,_),"isObjectFresh")},6303366080:(Q,C,e)=>{"use strict";e.d(C,{NQ:()=>u,dE:()=>h,df:()=>p,kz:()=>E,s3:()=>c,xT:()=>_});var t=e(8161242485),n=e(3385422400),s=e(8847766420),r=e(642120761),d=e(5373179915),o=e(2689960678),a=e(2105507084);function l(A,v){var f;if(!(0,d.x)(A,v))return(0,r.ez)((0,s.ZT)(A),v),A==null||(f=A.extSharedChannelTeams)===null||f===void 0?void 0:f[v]}i(l,"getBaseState");const m=(0,n.Mz)((A,v)=>(0,a.X)(A,v),A=>A.length?A.map(v=>({teamId:v})):o.Ml),c=(0,t.Ay)((A,v)=>{var f;return(0,d.x)(A,v)?m(A,v):((f=l(A,v))===null||f===void 0?void 0:f.connections)||o.Ml});c.meta={name:"createSelector",key:"createSelectorgetTeamConnectionsForChannelId",description:(A,v)=>{var f;return(0,d.x)(A,v)?m(A,v):((f=l(A,v))===null||f===void 0?void 0:f.connections)||o.Ml}};const _=(0,t.Ay)((A,v)=>{var f;return(0,d.x)(A,v)?o.Ml:((f=l(A,v))===null||f===void 0?void 0:f.pendingConnections)||o.Ml});_.meta={name:"createSelector",key:"createSelectorgetPendingTeamConnectionsForChannelId",description:(A,v)=>{var f;return(0,d.x)(A,v)?o.Ml:((f=l(A,v))===null||f===void 0?void 0:f.pendingConnections)||o.Ml}};const p=(0,t.Ay)((A,v)=>{var f;return(0,d.x)(A,v)?o.Ml:((f=l(A,v))===null||f===void 0?void 0:f.previousConnections)||o.Ml});p.meta={name:"createSelector",key:"createSelectorgetPreviousTeamConnectionsForChannelId",description:(A,v)=>{var f;return(0,d.x)(A,v)?o.Ml:((f=l(A,v))===null||f===void 0?void 0:f.previousConnections)||o.Ml}};const u=(0,t.Ay)((A,v)=>{var f;if(!(0,d.x)(A,v))return(f=l(A,v))===null||f===void 0?void 0:f.conversationHostId});u.meta={name:"createSelector",key:"createSelectorgetConversationHostTeamIdForChannelId",description:(A,v)=>{var f;if(!(0,d.x)(A,v))return(f=l(A,v))===null||f===void 0?void 0:f.conversationHostId}};const h=(0,t.Ay)((A,v)=>{var f;return!v||(0,d.x)(A,v)?!1:!!(!((f=l(A,v))===null||f===void 0)&&f.isChannelSponsored)});h.meta={name:"createSelector",key:"createSelectorgetChannelIsSponsored",description:(A,v)=>{var f;return!v||(0,d.x)(A,v)?!1:!!(!((f=l(A,v))===null||f===void 0)&&f.isChannelSponsored)}};const E=(0,t.Ay)((A,v)=>{var f,g,y;if((0,d.x)(A,v))return!!(0,a.X)(A,v).length;const T=l(A,v),M=(T==null||(f=T.connections)===null||f===void 0?void 0:f.length)||0,O=(T==null||(g=T.pendingConnections)===null||g===void 0?void 0:g.length)||0,I=(T==null||(y=T.previousConnections)===null||y===void 0?void 0:y.length)||0;return M>1||O>0||I>0});E.meta={name:"createSelector",key:"createSelectordoesChannelHaveExternalTeamConnections",description:(A,v)=>{var f,g,y;if((0,d.x)(A,v))return!!(0,a.X)(A,v).length;const T=l(A,v),M=(T==null||(f=T.connections)===null||f===void 0?void 0:f.length)||0,O=(T==null||(g=T.pendingConnections)===null||g===void 0?void 0:g.length)||0,I=(T==null||(y=T.previousConnections)===null||y===void 0?void 0:y.length)||0;return M>1||O>0||I>0}}},7212217314:(Q,C,e)=>{"use strict";e.d(C,{N:()=>a});var t=e(1031947056),n=e(6422693406),s=e(1835683237),r=e(8040098042),d=e(796111729),o=e(8864306005);const a=(0,t.Ay)("Fetch teams connected to a shared channel and upsert into frontend store.",(l,m,c)=>{let{channelId:_,reason:p="fetchAndUpsertSharedChannelTeamConnections"}=c;return(0,r.A)(_)?l((0,o.I)({reason:p,channel:_})).then(u=>{const{channel:h,connections:E=[],pending_connections:A=[],previous_connections:v=[]}=u;return l((0,s.N)({id:h.id,conversationHostId:h.conversation_host_id,isChannelSponsored:h.is_sponsored,connections:E,pendingConnections:A,previousConnections:v})),u}).catch(u=>{throw u}):((0,d.Ay)({getState:m}).warn(`fetchAndUpsertSharedChannelTeamConnections called with incorrect channelId type: ${_}`),n.S.resolve())});a.meta={name:"createThunk",key:"createThunkfetchAndUpsertSharedChannelTeamConnections",description:"Fetch teams connected to a shared channel and upsert into frontend store."}},1890276164:(Q,C,e)=>{"use strict";e.d(C,{R:()=>n,t:()=>r});var t=e(8161242485);const n=(0,t.Ay)((o,a)=>{var l;return!!(!((l=o.externalTeamIds)===null||l===void 0)&&l[a])});n.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(o,a)=>{var l;return!!(!((l=o.externalTeamIds)===null||l===void 0)&&l[a])}};var s;const r=(0,t.Ay)(o=>!!Object.keys((s=o.externalTeamIds)!==null&&s!==void 0?s:{}).length);var d;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:o=>!!Object.keys((d=o.externalTeamIds)!==null&&d!==void 0?d:{}).length}},5549390246:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>h});var t=e(9113979368),n=e(8161242485),s=e(2188787324),r=e(8276911661),d=e(8677230210),o=e(8170643398),a=e(9464746668),l=e(3244118357),m=e(1002129445),c=e(4910963364),_=e(8847766420),p=e(735940183);const u=new p.Ay("files"),h=(0,n.Ay)((E,A)=>{if(!A||!(0,s.Vx)(A))return null;let v=u.t("External App");const f=(A==null?void 0:A.bot_user_id)||(A==null?void 0:A.user);if(f){var g;const y=(g=(0,r.nv)(E,f))!==null&&g!==void 0?g:void 0;if((0,o.po)(y)){const T=(0,a.A)(E,y),M=(0,d.AF)(E,T)||void 0,O=(0,l.Hg)(M);if(v=O||v,(0,t.A)(O)&&T){const I=(0,c.G2)(E,{serviceId:T,homeWorkspaceId:(0,l.AW)({bot:M,member:y,currentTeamId:(0,_.ZT)(E)})});v=(0,m.fj)(I)||v}}}return v});h.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(E,A)=>{if(!A||!(0,s.Vx)(A))return null;let v=u.t("External App");const f=(A==null?void 0:A.bot_user_id)||(A==null?void 0:A.user);if(f){var g;const y=(g=(0,r.nv)(E,f))!==null&&g!==void 0?g:void 0;if((0,o.po)(y)){const T=(0,a.A)(E,y),M=(0,d.AF)(E,T)||void 0,O=(0,l.Hg)(M);if(v=O||v,(0,t.A)(O)&&T){const I=(0,c.G2)(E,{serviceId:T,homeWorkspaceId:(0,l.AW)({bot:M,member:y,currentTeamId:(0,_.ZT)(E)})});v=(0,m.fj)(I)||v}}}return v}}},6415612447:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>l,r:()=>a});var t=e(8161242485),n=e(9101533895),s=e(3634593162),r=e(497761763),d=e(2960290117),o=e(6078549397);const a=i(m=>{if((0,d.Ay)(m)){const{fileIdOrQuipThreadId:p=null}=(0,o.EX)(m)||{};if(p&&(0,r.A)(p)){const u=p,h=(0,s.p)(u);return{fileId:u,channelId:h}}}if((0,r.A)(m)){const p=m,u=(0,s.p)(p);return{fileId:p,channelId:u}}const c=m;return{fileId:(0,s.l)(c),channelId:c}},"getIds"),l=(0,t.Ay)(function(m,c){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:p}=a(c);return(0,n.OL)(m,p,_)});l.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(m,c){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:p}=a(c);return(0,n.OL)(m,p,_)}}},6403218297:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8086952004),n=e(3571452446),s=e(6217320234),r=e(6626377467),d=e(7231740695);function o(a,l){if(!a||!l)return l;const m=l.comments||[],c=(0,t.A)(m,v=>v.id===a.id),_=(0,n.A)(c,["is_starred","_rxn_key"]),p={...c,...a,..._},u=(0,s.A)((0,r.A)([p,...m],"id"),"timestamp"),h=l.initial_comment&&a.id===l.initial_comment.id,E=h?p:l.initial_comment;c||(0,d.bG)(l,a),h&&(0,d.Sx)(l);const A={...l,comments:u};return E&&(A.initial_comment=E),A}i(o,"addCommentToFile")},56562029:(Q,C,e)=>{"use strict";e.d(C,{G:()=>r});var t=e(9139930183),n=e(848813706);const s={enabled:!1,container:void 0},r=(0,t.Ay)({},s,{storeKey:"fullscreen",persistenceEnabled:!1}).on(n.K$,d=>({...d,enabled:!0})).on(n.sM,d=>({...d,enabled:!1,container:void 0})).on(n.Hm,(d,o)=>d.container===o?d:{...d,container:o})},2332058678:(Q,C,e)=>{"use strict";e.d(C,{r:()=>t,u:()=>n});const t={openCount:0,unreadCount:0},n={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},761034736:(Q,C,e)=>{"use strict";e.d(C,{fE:()=>le,ZL:()=>ve,Fb:()=>F,wB:()=>ne,Cb:()=>q,sv:()=>G,wg:()=>te,tL:()=>he,aN:()=>me,Mu:()=>fe,Kb:()=>j,cN:()=>X,ZO:()=>J,Eq:()=>oe,PN:()=>N});var t=e(8161242485),n=e(8847766420),s=e(3398586081),r=e(2141441167),d=e(8352634987),o=e(6533394955),a=e(4848430086),l=e(1031947056),m=e(930270247),c=e(7629299684),_=e(2927826522);const p=(0,l.Ay)("Fetch product release cards into the store",(x,b,z)=>{let{locale:$}=z;return x((0,m.l)({count:3,type:"product_release_card",locale:$,reason:"client/fetch_published_product_release_cards"})).then(Z=>{let{cards:U}=Z;x((0,c.M0)((0,_.t)(U)))})});p.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var u=e(9532047472);const h=(0,l.Ay)("Fetch helpdesk articles into the store",(x,b,z)=>{let{locale:$,reason:Z}=z;return x((0,u.a)({locale:$,reason:Z})).then(U=>{let{articles:ee}=U;x((0,c.NX)((0,_.t)(ee))),x((0,c.a4)($))})});h.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var E=e(9706240641),A=e(3593297427),v=e(138202077),f=e(6422693406);const g=(0,l.Ay)("Fetch recommended articles into the store",(x,b,z)=>{let{locale:$,reason:Z}=z;return x((0,v.H)({reason:Z})).then(function(){var U=(0,E.coroutine)(function*(ee){let{articles:se,request_id:de}=ee;const ue=yield f.S.all(se.map(function(){var _e=(0,E.coroutine)(function*(pe){return x((0,A.w)({articleId:pe.id,locale:$,reason:Z})).then(ae=>{let{article:Ee}=ae;return{id:Ee.article_id,title:Ee.title}})});return function(pe){return _e.apply(this,arguments)}}()));x((0,c.LV)({articles:ue,requestId:de??""}))});return function(ee){return U.apply(this,arguments)}}())});g.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var y=e(8745755260);const T=(0,l.Ay)("Fetch help sections into the store",(x,b,z)=>{let{categoryId:$,locale:Z,reason:U}=z;return x((0,y.h)({categoryId:$,locale:Z,reason:U})).then(ee=>{let{sections:se}=ee;return x((0,c.CK)((0,_.t)(se)))})});T.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var M=e(6936450040);const O=(0,l.Ay)("Fetch help categories into the store",(x,b,z)=>{let{locale:$,reason:Z}=z;return x((0,M.G)({locale:$,reason:Z})).then(U=>{let{categories:ee}=U;x((0,c.KO)((0,_.t)(ee))),x((0,c.WL)($))})});O.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const I=(0,s.A)(()=>new d.Ay({storeKey:"help",fetch:x=>(0,o.dispatchForTeamId)(x,(0,a.w)()),isEnabled:()=>!0})),D=(0,s.A)(x=>new d.Ay({storeKey:"help",fetch:b=>(0,o.dispatchForTeamId)(b,p({locale:x})),isEnabled:()=>!0})),P=(0,s.A)((x,b)=>new d.Ay({storeKey:"help",fetch:z=>(0,o.dispatchForTeamId)(z,h({locale:x,reason:b})),isEnabled:()=>!0})),k=(0,s.A)((x,b)=>new d.Ay({storeKey:"help",fetch:z=>(0,o.dispatchForTeamId)(z,g({locale:x,reason:b})),isEnabled:()=>!0,maxAge:()=>86400})),R=(0,s.A)((x,b,z)=>new d.Ay({storeKey:"help",fetch:$=>(0,o.dispatchForTeamId)($,T({categoryId:x,locale:b,reason:z})),isEnabled:()=>!0}),(x,b)=>(0,r.A)([x,b]).join("_")),V=(0,s.A)((x,b)=>new d.Ay({storeKey:"help",fetch:z=>(0,o.dispatchForTeamId)(z,O({locale:x,reason:b})),isEnabled:()=>!0}));var B=e(2332058678),W=e(735940183),L=e(9907843289);const S=new W.Ay("help"),H="",w=(0,t.Ay)(x=>x&&x.help||B.u);w.meta={name:"createSelector",key:"createSelectorgetHelpState",description:x=>x&&x.help||B.u};const F=(0,t.Ay)((x,b)=>{const z=(0,n.ZT)(x),$=(0,L.db)();return w(x).zdLocale!==$&&P($,b).markObjectsAsStale(z,[$]),P($,b).maybeRefetch(z,$),w(x).helpSearchArticles||[]});F.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(x,b)=>{const z=(0,n.ZT)(x),$=(0,L.db)();return w(x).zdLocale!==$&&P($,b).markObjectsAsStale(z,[$]),P($,b).maybeRefetch(z,$),w(x).helpSearchArticles||[]}};const j=(0,t.Ay)(x=>{const b=(0,n.ZT)(x),z=(0,W.Yp)();return w(x).locale!==z&&D(z).markObjectsAsStale(b,[z]),D(z).maybeRefetch(b,z),w(x).productReleaseCards||[]});j.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:x=>{const b=(0,n.ZT)(x),z=(0,W.Yp)();return w(x).locale!==z&&D(z).markObjectsAsStale(b,[z]),D(z).maybeRefetch(b,z),w(x).productReleaseCards||[]}};const J=(0,t.Ay)((x,b)=>{var z;const $=(0,n.ZT)(x),Z=(0,W.Yp)();return w(x).locale!==Z&&k(Z,b).markObjectsAsStale($,[Z]),k(Z,b).maybeRefetch($,Z),((z=w(x).recommendedArticles)===null||z===void 0?void 0:z.articles)||[]});J.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(x,b)=>{var z;const $=(0,n.ZT)(x),Z=(0,W.Yp)();return w(x).locale!==Z&&k(Z,b).markObjectsAsStale($,[Z]),k(Z,b).maybeRefetch($,Z),((z=w(x).recommendedArticles)===null||z===void 0?void 0:z.articles)||[]}};const X=(0,t.Ay)(x=>{var b;return((b=w(x).recommendedArticles)===null||b===void 0?void 0:b.requestId)||""});X.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:x=>{var b;return((b=w(x).recommendedArticles)===null||b===void 0?void 0:b.requestId)||""}};const q=(0,t.Ay)(x=>w(x).helpNavigation||B.u.helpNavigation);q.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:x=>w(x).helpNavigation||B.u.helpNavigation};const G=(0,t.Ay)((x,b,z)=>{var $,Z;const U=(0,n.ZT)(x),ee=(0,W.Yp)(),se=w(x).locale,de=z??(($=w(x).helpNavigation)===null||$===void 0?void 0:$.categoryId),ue=(Z=w(x).helpSections[0])===null||Z===void 0?void 0:Z.categoryId;return de?(ue&&de!==ue?(R(de,ee,b).markObjectsAsStale(U,[de.toString()]),R(de,ee,b).maybeRefetch(U,de.toString())):se!==ee&&R(de,ee,b).markObjectsAsStale(U,[ee]),R(de,ee,b).maybeRefetch(U,ee),w(x).helpSections||[]):w(x).helpSections||[]});G.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(x,b,z)=>{var $,Z;const U=(0,n.ZT)(x),ee=(0,W.Yp)(),se=w(x).locale,de=z??(($=w(x).helpNavigation)===null||$===void 0?void 0:$.categoryId),ue=(Z=w(x).helpSections[0])===null||Z===void 0?void 0:Z.categoryId;return de?(ue&&de!==ue?(R(de,ee,b).markObjectsAsStale(U,[de.toString()]),R(de,ee,b).maybeRefetch(U,de.toString())):se!==ee&&R(de,ee,b).markObjectsAsStale(U,[ee]),R(de,ee,b).maybeRefetch(U,ee),w(x).helpSections||[]):w(x).helpSections||[]}};const ne=(0,t.Ay)((x,b)=>{const z=(0,n.ZT)(x),$=(0,W.Yp)();return w(x).locale!==$&&V($,b).markObjectsAsStale(z,[$]),V($,b).maybeRefetch(z,$),w(x).helpCategories||[]});ne.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(x,b)=>{const z=(0,n.ZT)(x),$=(0,W.Yp)();return w(x).locale!==$&&V($,b).markObjectsAsStale(z,[$]),V($,b).maybeRefetch(z,$),w(x).helpCategories||[]}};const te=(0,t.Ay)(x=>w(x).helpTour||B.u.helpTour);te.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:x=>w(x).helpTour||B.u.helpTour};const le=(0,t.Ay)(x=>w(x).anchorId||B.u.anchorId);le.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:x=>w(x).anchorId||B.u.anchorId};const he=(0,t.Ay)(x=>w(x).isArticleLoaded||B.u.isArticleLoaded);he.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:x=>w(x).isArticleLoaded||B.u.isArticleLoaded};const fe=(0,t.Ay)(x=>{var b,z;if(!((b=x.desktop)===null||b===void 0||(z=b.app)===null||z===void 0)&&z.updateInfo){var $;const{releaseName:Z}=x.desktop.app.updateInfo;if(!(($=x.desktop)===null||$===void 0)&&$.environment){const{appVersion:U}=x.desktop.environment;if(Z.endsWith(U))return null}return Z}return null});fe.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:x=>{var b,z;if(!((b=x.desktop)===null||b===void 0||(z=b.app)===null||z===void 0)&&z.updateInfo){var $;const{releaseName:Z}=x.desktop.app.updateInfo;if(!(($=x.desktop)===null||$===void 0)&&$.environment){const{appVersion:U}=x.desktop.environment;if(Z.endsWith(U))return null}return Z}return null}};const ve=(0,t.Ay)(x=>{if(x.desktop&&x.desktop.app&&x.desktop.app.updateInfo){const{releaseName:b,releaseNotes:z,releaseDate:$}=x.desktop.app.updateInfo;return{timestamp:$?$.getTime():Date.now(),title:b,description:S.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:z,url_title:S.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});ve.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:x=>{if(x.desktop&&x.desktop.app&&x.desktop.app.updateInfo){const{releaseName:b,releaseNotes:z,releaseDate:$}=x.desktop.app.updateInfo;return{timestamp:$?$.getTime():Date.now(),title:b,description:S.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:z,url_title:S.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const me=(0,t.Ay)(x=>{const b=ve(x)||null;return b?b.timestamp:-1});me.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:x=>{const b=ve(x)||null;return b?b.timestamp:-1}};const oe=(0,t.Ay)(x=>{const b=(0,n.ZT)(x);return I().maybeRefetch(b,H),w(x).stats||B.r});oe.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:x=>{const b=(0,n.ZT)(x);return I().maybeRefetch(b,H),w(x).stats||B.r}};const N=(0,t.Ay)(x=>oe(x).unreadCount);N.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:x=>oe(x).unreadCount};const K=(0,t.Ay)(x=>w(x).isHelpTipHistoryTourActive||B.u.isHelpTipHistoryTourActive);K.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:x=>w(x).isHelpTipHistoryTourActive||B.u.isHelpTipHistoryTourActive}},4848430086:(Q,C,e)=>{"use strict";e.d(C,{w:()=>r});var t=e(1031947056),n=e(8726791251),s=e(7629299684);const r=(0,t.Ay)("Fetch and upsert ticket stats into the store",d=>d((0,n.I)({reason:"fetchAndUpsertTicketStats"})).then(o=>{const a={unreadCount:o.unread_count||0,openCount:o.open_count||0};return d((0,s.SX)(a)),a}));r.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},6121742712:(Q,C,e)=>{"use strict";e.d(C,{NJ:()=>le,Fv:()=>te,cw:()=>ne,uQ:()=>L,q1:()=>H,Yl:()=>oe,pM:()=>q,N6:()=>X,zZ:()=>G,bn:()=>V,Rz:()=>he,nd:()=>B,ad:()=>W,i8:()=>S,qC:()=>j,Iy:()=>fe,VT:()=>J,jo:()=>F});var t=e(2101927269),n=e(2141441167),s=e(4423055085),r=e(8161242485),d=e(4813703725),o=e(3385422400),a=e(8847766420),l=e(2569545045),m=e(1521013946),c=e(2823938397),_=e(9706240641),p=e(6422693406),u=e(3398586081),h=e(3037015781),E=e(6533394955),A=e(4947933789),v=e(5209876365),f=e(5380461521);const g=(0,u.A)(()=>new h.Ay({fetch:y,metricsName:"hermesTriggers",upsertKnown:T,upsertNonExistent:T}));function y(N){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return p.S.map(K,function(){var x=(0,_.coroutine)(function*(b){try{return(yield(0,E.dispatchForTeamId)(N,(0,A.B)({triggerId:b,includeWorkflowDetails:!0,reason:"hermes_triggers_ufm"}))).trigger}catch(z){return{id:b,error:z.name}}});return function(b){return x.apply(this,arguments)}}())}i(y,"fetchTriggersForTeamId");function T(N,K){const x=K.map(b=>b.id);(0,f.X)().markObjectsAsFresh(N,x),(0,E.dispatchForTeamId)(N,(0,v.z4)({triggers:K}))}i(T,"upsertTriggersForTeamId");var M=e(2689960678),O=e(8481467080),I=e(9552526132),D=e(3799600789),P=e(3906734293);const k=(0,r.Ay)(N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.triggersById});k.meta={name:"createSelector",key:"createSelectorgetTriggersById",description:N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.triggersById}};const R=(0,r.Ay)(N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.recentlyRunTriggerIds});R.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerIds",description:N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.recentlyRunTriggerIds}};const V=(0,d.eI)((N,K,x)=>{let{triggerId:b}=K;var z,$;const Z=N==null||(z=N.hermesTriggers)===null||z===void 0||($=z.triggersById)===null||$===void 0?void 0:$[b],U=(0,a.ZT)(N);return U?Z?((0,f.X)().maybeRefetch(U,b),Z):x?g().fetchObjectWithId(U,b):(0,c.WQ)(b):(0,c.WQ)(b)}),B=(0,d.eI)((N,K)=>{let{triggerIds:x}=K;const b=(0,a.ZT)(N);return b?x.length?x.map(z=>{var $,Z;const U=N==null||($=N.hermesTriggers)===null||$===void 0||(Z=$.triggersById)===null||Z===void 0?void 0:Z[z];return U?((0,f.X)().maybeRefetch(b,z),U):g().fetchObjectWithId(b,z)}):M.Ml:x.map(z=>(0,c.WQ)(z))}),W=(0,r.Ay)(N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.workflowPickerSearchResults)||M.Ml});W.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResults",description:N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.workflowPickerSearchResults)||M.Ml}};const L=(0,r.Ay)(N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.channelPrimaryActionSearchResults)||M.Ml});L.meta={name:"createSelector",key:"createSelectorgetChannelPrimaryActionSearchResults",description:N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.channelPrimaryActionSearchResults)||M.Ml}};const S=(0,r.Ay)((N,K)=>{const x=k(N)||{},b=new RegExp(K,"i"),z=Object.keys(x).map(Z=>x[Z]||{});return(0,t.A)(z,Z=>Z&&((Z==null?void 0:Z.name)||"").match(b))||[]});S.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResultsCached",description:(N,K)=>{const x=k(N)||{},b=new RegExp(K,"i"),z=Object.keys(x).map(Z=>x[Z]||{});return(0,t.A)(z,Z=>Z&&((Z==null?void 0:Z.name)||"").match(b))||[]}};const H=(0,r.Ay)((N,K)=>{const x=k(N)||{},b=new RegExp(K,"i"),z=Object.keys(x).map(Z=>x[Z]||{});return(0,t.A)(z,Z=>Z&&Z.type===I.M.Shortcut&&((Z==null?void 0:Z.name)||"").match(b))||[]});H.meta={name:"createSelector",key:"createSelectorgetChannelPrimaryActionSearchResultsCached",description:(N,K)=>{const x=k(N)||{},b=new RegExp(K,"i"),z=Object.keys(x).map(Z=>x[Z]||{});return(0,t.A)(z,Z=>Z&&Z.type===I.M.Shortcut&&((Z==null?void 0:Z.name)||"").match(b))||[]}};const w=(0,r.Ay)(N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||null});w.meta={name:"createSelector",key:"createSelectorgetGuidedTourCoachmark",description:N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||null}};const F=(0,r.Ay)(N=>{var K;const x=(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||"";return x==="platform-coachmark-tour"||x==="announce-only-platform-coachmark-tour"});F.meta={name:"createSelector",key:"createSelectorisWorkflowCoachmarkOpen",description:N=>{var K;const x=(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||"";return x==="platform-coachmark-tour"||x==="announce-only-platform-coachmark-tour"}};const j=(0,r.Ay)(N=>{var K;return((N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||"")==="announce-only-platform-coachmark-tour"});j.meta={name:"createSelector",key:"createSelectorisAnnounceOnlyWorkflowCoachmarkOpen",description:N=>{var K;return((N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||"")==="announce-only-platform-coachmark-tour"}};const J=(0,r.Ay)(N=>{var K;return((N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||"")==="slash-commands-coachmark-tour"});J.meta={name:"createSelector",key:"createSelectorisSlashCommandsCoachmarkOpen",description:N=>{var K;return((N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.openTourId)||"")==="slash-commands-coachmark-tour"}};const X=(0,r.Ay)(N=>{var K;return(K=R(N))===null||K===void 0?void 0:K.map(x=>V(N,{triggerId:x}))});X.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggers",description:N=>{var K;return(K=R(N))===null||K===void 0?void 0:K.map(x=>V(N,{triggerId:x}))}};const q=(0,r.Ay)(N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.recentlyRunTriggerTimestamps)||{}});q.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerTimestamps",description:N=>{var K;return(N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.recentlyRunTriggerTimestamps)||{}}};const G=(0,r.Ay)(N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.recentlyRunTriggerWorkflowActivity});G.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggersWorkflowActivity",description:N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.recentlyRunTriggerWorkflowActivity}};const ne=(0,r.Ay)(N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.triggersAvailableForWorkflowBuilder});ne.meta={name:"createSelector",key:"createSelectorgetAvailableTriggersForWorkflowBuilder",description:N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.triggersAvailableForWorkflowBuilder}};const te=(0,r.Ay)(N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.triggerCategoriesAvailableForWorkflowBuilder});te.meta={name:"createSelector",key:"createSelectorgetAvailableTriggerCategoriesForWorkflowBuilder",description:N=>{var K;return N==null||(K=N.hermesTriggers)===null||K===void 0?void 0:K.triggerCategoriesAvailableForWorkflowBuilder}};const le=(0,o.Mz)(N=>k(N),N=>{if(!N)return M.Ml;const K=(0,n.A)(N);return(0,t.A)(K,b=>!(!(0,P.G)(b)||b.workflow_details&&!b.workflow_details.is_published))}),he=(0,r.Ay)((N,K)=>{let{appId:x}=K;const b=k(N)||{};return Object.values(b).find($=>{var Z;return($==null||(Z=$.workflow)===null||Z===void 0?void 0:Z.app_id)===x})});he.meta={name:"createSelector",key:"createSelectorgetTriggerFromSlackAppId",description:(N,K)=>{let{appId:x}=K;const b=k(N)||{};return Object.values(b).find($=>{var Z;return($==null||(Z=$.workflow)===null||Z===void 0?void 0:Z.app_id)===x})}};const fe=(0,r.Ay)((N,K)=>{const x=(0,m.$N)(N,K);return x?(x==null?void 0:x.type)===m.im.SHORTCUT_LINK_TRIGGER:!1});fe.meta={name:"createSelector",key:"createSelectorisHermesLinkTriggerFormat",description:(N,K)=>{const x=(0,m.$N)(N,K);return x?(x==null?void 0:x.type)===m.im.SHORTCUT_LINK_TRIGGER:!1}};const ve=(0,r.Ay)((N,K)=>{let{triggerId:x}=K;const b=V(N,{triggerId:x},!1);return b==null?void 0:b.shortcut_url});ve.meta={name:"createSelector",key:"createSelectorgetShortcutUrl",description:(N,K)=>{let{triggerId:x}=K;const b=V(N,{triggerId:x},!1);return b==null?void 0:b.shortcut_url}};const me=(0,r.Ay)((N,K)=>{let{triggerId:x}=K;var b;return!!(!(N==null||(b=N.hermesTriggers)===null||b===void 0)&&b.triggersMarkedStaleInSession[x])});me.meta={name:"createSelector",key:"createSelectorhasTriggerBeenMarkedStaleInSession",description:(N,K)=>{let{triggerId:x}=K;var b;return!!(!(N==null||(b=N.hermesTriggers)===null||b===void 0)&&b.triggersMarkedStaleInSession[x])}};const oe=(0,r.Ay)((N,K)=>{let{block:x}=K;var b;const z=x.functionTriggerId,$=(0,O.U)(x);if(!me(N,{triggerId:z}))return $;const U=V(N,{triggerId:z},!0),ee=U==null||(b=U.workflow)===null||b===void 0?void 0:b.workflow_id,se=ee?(0,l.g)(N,ee):void 0;return(0,c.mX)(U)||!se||(0,c.mX)(se)?$:(0,D.V)({passedShortcutInfo:$,trigger:U,workflow:se})});oe.meta={name:"createSelector",key:"createSelectorgetFreshShortcutInfoForShareShortcutBlock",description:(N,K)=>{let{block:x}=K;var b;const z=x.functionTriggerId,$=(0,O.U)(x);if(!me(N,{triggerId:z}))return $;const U=V(N,{triggerId:z},!0),ee=U==null||(b=U.workflow)===null||b===void 0?void 0:b.workflow_id,se=ee?(0,l.g)(N,ee):void 0;return(0,c.mX)(U)||!se||(0,c.mX)(se)?$:(0,D.V)({passedShortcutInfo:$,trigger:U,workflow:se})}},(0,s.ul)("hermesTriggers",function(N,K){let{triggerId:x}=K,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return V(N,{triggerId:x},b)})},7478895768:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>v,tP:()=>A});var t=e(9706240641),n=e.n(t),s=e(8840779375),r=e(9268023148),d=e(6494470131),o=e(1031947056),a=e(5380461521),l=e(8847766420),m=e(5209876365),c=e(796111729),_=e(1948374838),p=e(6121742712);const u=(0,o.Ay)("Fetch triggers with query",function(){var g=(0,t.coroutine)(function*(y,T,M){let{query:O,currentChannelId:I,useLegacyCacheing:D=!1,includeAutomatedTriggers:P=!1,strictExposureRules:k=!0}=M;const R=T(),V=(0,l.ZT)(R),B=(0,_.X)(R),W=P?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(B.containsPrefixOf(O)){if(D){const L=P?(0,p.i8)(R,O):(0,p.q1)(R,O);return y(P?(0,m.we)({results:L}):(0,m.S8)({results:L})),L}}else try{const S=(yield y((0,d.v)({query:O,currentChannelId:I,strictExposureRules:k,triggerTypes:W,reason:"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,H=5;return S.length<H&&(B.addAsPrefix(O),B.clearRequestInFlight()),V&&(0,a.X)().markObjectsAsFresh(V,(0,s.A)(S,"id")),y((0,m.z4)({triggers:S})),D&&y(P?(0,m.we)({results:S}):(0,m.S8)({results:S})),S}catch(L){return(0,c.Wo)().error(L,"There was an issue fetching triggers with query"),[]}return[]});return function(y,T,M){return g.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const h=500,E=(0,r.A)((g,y)=>{let{query:T,includeAutomatedTriggers:M,strictExposureRules:O}=y;return g(u({query:T,includeAutomatedTriggers:M,strictExposureRules:O}))},h,{leading:!0,trailing:!0}),A=(0,o.Ay)("debounced fetch and upsert triggers with query",(g,y,T)=>{let{query:M,includeAutomatedTriggers:O,strictExposureRules:I}=T;return E(g,{query:M,includeAutomatedTriggers:O,strictExposureRules:I})});A.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const v=u,f={DEBOUNCE_MS:h}},5492254797:(Q,C,e)=>{"use strict";e.d(C,{P:()=>d,S:()=>o});var t=e(3398586081),n=e(796111729),s=e(6244014364);const r=i(a=>{try{return JSON.stringify(a)}catch(l){return(0,n.Wo)().error("stringify-error-constructing-link-trigger-context-from-message",l),""}},"stringifyObject"),d=(0,t.A)(a=>a!=null&&a.channelId?{location:"message",channelId:a.channelId,messageTs:(a==null?void 0:a.ts)||""}:{location:"markdown_link"},r),o=(0,t.A)((a,l)=>({eventId:s.EventId.HERMES_LINK_TRIGGER,uiComponentName:s.UiComponentName.LINK_TRIGGER_URL,entryPoint:a?"message":"other",workflowTriggerId:l.triggerId,channelId:a==null?void 0:a.channelId,onClick:{enableClogAction:!0}}),r)},2569545045:(Q,C,e)=>{"use strict";e.d(C,{g:()=>v,R:()=>f});var t=e(8161242485),n=e(2823938397),s=e(8847766420),r=e(8032027544),d=e(9706240641),o=e(3398586081),a=e(8840779375),l=e(6422693406),m=e(3037015781),c=e(6533394955),_=e(3118461857),p=e(4134951078);const u=(0,o.A)(()=>new m.Ay({fetch:h,upsertKnown:E,upsertNonExistent:E,isEnabled:()=>!0}));function h(g,y){return l.S.map(y,function(){var T=(0,d.coroutine)(function*(M){try{return(yield(0,c.dispatchForTeamId)(g,(0,_.D)({workflowId:M,reason:"hermes_workflows_store_unknown_fetching"}))).workflow}catch{var O;const D=(O=(0,c.getStateByTeamId)(g).hermesWorkflows)===null||O===void 0?void 0:O[M];return(0,m.GU)(D)?null:D}});return function(M){return T.apply(this,arguments)}}()).filter(T=>T)}i(h,"fetchWorkflowsForTeamId");function E(g,y){(0,r.G)().markObjectsAsFresh(g,(0,a.A)(y,"id")),(0,c.dispatchForTeamId)(g,(0,p.uY)({workflows:y}))}i(E,"upsertWorkflowsForTeamId");const A={fetchWorkflowsForTeamId:h,upsertWorkflowsForTeamId:E},v=(0,t.Ay)(function(g,y){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var M;const O=(0,s.ZT)(g),I=(M=g.hermesWorkflows)===null||M===void 0?void 0:M[y];return O?I?((0,r.G)().maybeRefetch(O,y),I):T?u().fetchObjectWithId(O,y):(0,n.WQ)(y):(0,n.WQ)(y)});v.meta={name:"createSelector",key:"createSelectorgetWorkflowById",description:function(g,y){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var M;const O=(0,s.ZT)(g),I=(M=g.hermesWorkflows)===null||M===void 0?void 0:M[y];return O?I?((0,r.G)().maybeRefetch(O,y),I):T?u().fetchObjectWithId(O,y):(0,n.WQ)(y):(0,n.WQ)(y)}};const f=(0,t.Ay)((g,y)=>{const T=v(g,y);return(0,n.GU)(T)?[]:T.steps});f.meta={name:"createSelector",key:"createSelectorgetWorkflowStepsById",description:(g,y)=>{const T=v(g,y);return(0,n.GU)(T)?[]:T.steps}}},8239363237:(Q,C,e)=>{"use strict";e.d(C,{GF:()=>m,Tk:()=>c,UI:()=>A,X_:()=>_,iN:()=>E,pm:()=>u,t6:()=>v,vc:()=>p,xA:()=>h});var t=e(3385422400),n=e(2188787324),s=e(937317117),r=e(1990810649),d=e(387328355);const o=i((f,g)=>{var y;return g?(y=(0,s.Lp)(f,g))===null||y===void 0?void 0:y.localUpdated:null},"getFileLocalUpdated"),a=i(f=>(0,d.lt)(f),"getFileId"),l=i(f=>(0,t.Mz)([g=>(0,d.JC)(g),g=>{const y=a(g);return o(g,y)},g=>{const y=a(g);return y?(0,s.Lp)(g,y):null}],(g,y,T)=>T!=null&&T.id&&(g===r.cM.CanvasFile||g===r.cM.QuipFile)?f(T):null),"selectFromUpdatedFile"),m=l(f=>f),c=l(f=>f==null?void 0:f.id),_=l(f=>f?(0,n.sJ)(f):!1),p=l(f=>f?(0,n.uO)(f):!1),u=l(f=>f?(0,n.WP)(f):null),h=l(f=>f==null?void 0:f.user),E=l(f=>!!f),A=l(f=>f?(0,n.l7)(f):!1),v=l(f=>f?(0,n.wL)(f):!1)},5145584581:(Q,C,e)=>{"use strict";e.d(C,{x:()=>f});var t=e(8628145494),n=e(1031947056),s=e(6533394955),r=e(4250409994),d=e(5286203919),o=e(387328355),a=e(1990810649),l=e(7434063642),m=e(6251210828),c=e(7723800688),_=e(2664504268),p=e(6470070112),u=e(6244014364),h=e(56548687),E=e(5737576046),A=e(7884000776);const v=i((y,T,M,O)=>{const I=(0,s.getStateForClientStore)(),D=(0,d.E9)(I),P=(0,p.$t)(T,{huddleId:D}),k=(0,p.kn)(I),R=(0,p.UE)(I),V=(0,m.Ec)(T,{huddleId:D});let B,W,L=null,S=null,H=null;if(M===a.cM.None)B=c.Hi.FOCUS_CLOSE,W=(0,m.U7)(T,{key:c.Hi.FOCUS_OPEN});else{var w;switch(B=c.Hi.FOCUS_OPEN,W=(0,_.A)(),H=(O==null||(w=O.item)===null||w===void 0?void 0:w.id)||null,M){case a.cM.Screenshare:L="focus_screenshare",S="screenshare";break;default:L="focus_file",S="file"}y((0,l.Mn)({key:c.Hi.FOCUS_OPEN,value:W}))}(0,h.e)({state:T}).track(u.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:V?V.toString():null,ui_properties:{element_name:B},action:u.UiAction.IMPRESSION},calls:R},...P,...k,interaction_id:W,canvas_dimension_marker:L,type:S,item_file_id:H})},"clogCanvasEvent"),f=(0,n.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(y,T,M)=>{if(!M||(0,t.A)(M.contentViewType))return;const O=T(),I=M.contentViewType,D=!1;if(I===a.cM.Screenshare){const k=(0,o.JC)(O),R=g(O);k===a.cM.None&&!R&&y((0,l.fI)({isThreadOpen:!1})),y((0,l.Zx)({userId:""}))}y((0,l.YC)({isFullscreen:D})),y((0,l.s7)({isNotesOpen:I===a.cM.QuipFile}));const P=M.contentViewType===a.cM.None||!M.contentViewConfig?{}:M.contentViewConfig;y((0,o.sK)({id:M.peerId,contentViewType:I,contentViewConfig:P})),(0,s.dispatchForClientStore)((0,r.xq)({contentViewType:I,contentViewConfig:P})),v(y,O,I,P)});f.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function g(y){const T=(0,s.getStateForClientStore)(),M=(0,d.E9)(T),O=(0,d.hc)(T),I=(0,m.fG)(y,{huddleId:M});if(!(I!=null&&I.ts)||!O)return!1;const D=(0,E.zC)({viewContext:A.Y.HUDDLE_THREADS,channelId:O,threadTs:I.ts});return(D==null?void 0:D.hasFocus())||!1}i(g,"doesThreadInputHaveFocus")},6758774099:(Q,C,e)=>{"use strict";e.d(C,{Lm:()=>r,T3:()=>s,U$:()=>d,WO:()=>n,dD:()=>a,h2:()=>o,jL:()=>l});var t=e(2140362605);const n=(0,t.Ay)("Enable huddle event log");n.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const s=(0,t.Ay)("Disable huddle event log");s.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=(0,t.Ay)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const d=(0,t.Ay)("Add non-transcription event");d.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const o=(0,t.Ay)("Update with latest transcription events");o.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const a=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");a.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const l=(0,t.Ay)("Set enabled state for huddle closed captions view");l.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},8409540889:(Q,C,e)=>{"use strict";e.d(C,{u:()=>n,y:()=>t});const t=2e3,n=2e3},4988306802:(Q,C,e)=>{"use strict";e.d(C,{Cb:()=>_,M3:()=>l,TP:()=>o,VN:()=>m,gL:()=>a,iv:()=>p});var t=e(3385422400),n=e(8161242485),s=e(8409540889),r=e(8783285437);const d=(0,n.Ay)(u=>u.huddleEvents);d.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:u=>u.huddleEvents};const o=(0,n.Ay)(u=>d(u).enabled);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:u=>d(u).enabled};const a=(0,n.Ay)(u=>d(u).isLoading);a.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:u=>d(u).isLoading};const l=(0,n.Ay)(u=>u.huddleEvents.isSideBySideEnabled);l.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:u=>u.huddleEvents.isSideBySideEnabled};const m=(0,n.Ay)(u=>u.huddleEvents.isClosedCaptionsEnabled);m.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:u=>u.huddleEvents.isClosedCaptionsEnabled};const c=(0,n.Ay)(u=>u.huddleEvents.isClosedCaptionsEnabled);c.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:u=>u.huddleEvents.isClosedCaptionsEnabled};const _=(0,t.Mz)(u=>d(u).events,u=>{const h=[];let E,A=[];const v=i(()=>{E&&h.push({...E,content:A.join(" ")})},"maybeCommit");return u.forEach(f=>{E&&f.type===r.v.TRANSCRIBE&&E.memberId===f.memberId&&f.timestampMs-E.endTimeMs<s.y?(A.push(f.content),E.endTimeMs=f.endTimeMs):(v(),f.type===r.v.TRANSCRIBE?(E={type:r.v.TRANSCRIBE,resultId:"",memberId:f.memberId,content:"",timestampMs:f.timestampMs,endTimeMs:f.endTimeMs},A=[f.content]):(E=null,A=[],h.push(f)))}),v(),h}),p=(0,t.Mz)(u=>_(u),u=>u.filter(h=>h.type===r.v.TRANSCRIBE||h.type===r.v.START_TRANSCRIPTION).slice(-5))},1889537412:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(727128009),d=e(6422693406),o=e(9640070512),a=e(2527782504),l=e(6758774099),m=e(4988306802),c=e(7004355564),_=e(6533394955),p=e(796111729),u=e(5286203919),h=e(8783285437),E=e(6694086724),A=e(8872167513),v=e(2709531527);const f=(0,s.Ay)("Start transcription for current huddle",function(){var y=(0,t.coroutine)(function*(T,M){if((0,m.TP)(M())||(0,m.gL)(M()))return d.S.resolve();const O=(0,_.getStateForClientStore)(),I=(0,u.E9)(O);return I?(T((0,l.WO)()),T((0,l.Lm)(!0)),yield(0,c.A)(),T((0,E.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),T((0,r.i)({reason:"start-event-log",callId:I})).catch(D=>{var P;if(((P=D.data)===null||P===void 0?void 0:P.error)==="permission_denied")return d.S.delay(5e3).then(()=>T((0,r.i)({reason:"start-event-log/retry",callId:I})));throw D}).catch(D=>{(0,p.Ay)({getState:M}).error(D),T((0,l.T3)())}).finally(()=>{T((0,l.Lm)(!1)),T((0,o.H)({focusKey:a.Ay.HUDDLE_CAPTIONS_TAB})),T((0,l.U$)({type:h.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:Date.now()}));const{huddleEventsTrace:D}=(0,A.A)().getAllTraceHandlers();D==null||D.update({name:v.p.TRANSCRIPT,type:v.G.START})})):d.S.reject(new Error("No active call ID for huddle"))});return function(T,M){return y.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const g=f},6855917924:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(1031947056),n=e(580220061),s=e(6422693406),r=e(6758774099),d=e(4988306802),o=e(6533394955),a=e(5286203919),l=e(8872167513),m=e(2709531527);const c=(0,t.Ay)("Stop transcription for current huddle",(p,u)=>{if(!(0,d.TP)(u())||(0,d.gL)(u()))return s.S.resolve();const h=(0,o.getStateForClientStore)(),E=(0,a.E9)(h);return E?(p((0,r.T3)()),p((0,r.Lm)(!0)),p((0,n.W)({reason:"stop-event-log",callId:E})).finally(()=>{p((0,r.Lm)(!1));const{huddleEventsTrace:A}=(0,l.A)().getAllTraceHandlers();A==null||A.update({name:m.p.TRANSCRIPT,type:m.G.STOP})})):s.S.reject(new Error("No active call ID for huddle"))});c.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const _=c},8783285437:(Q,C,e)=>{"use strict";e.d(C,{v:()=>t});var t;(function(n){n.JOIN="JOIN",n.LEAVE="LEAVE",n.SCREENSHARE_START="SCREENSHARE_START",n.SCREENSHARE_STOP="SCREENSHARE_STOP",n.TRANSCRIBE="TRANSCRIBE",n.SEND_REACTION="SEND_REACTION",n.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},4250409994:(Q,C,e)=>{"use strict";e.d(C,{Ag:()=>j,B5:()=>U,Bk:()=>R,Db:()=>b,Dj:()=>_e,Gx:()=>he,HC:()=>I,HF:()=>O,Hg:()=>se,I9:()=>m,JM:()=>me,Jc:()=>E,Ko:()=>V,Lx:()=>K,M4:()=>_,OA:()=>x,QZ:()=>T,Rb:()=>k,Rh:()=>h,Rr:()=>M,Sd:()=>d,Sn:()=>g,TK:()=>de,VU:()=>s,WB:()=>W,WM:()=>w,WY:()=>N,YA:()=>y,Yi:()=>B,_H:()=>te,_I:()=>o,_U:()=>X,_u:()=>oe,aO:()=>H,bV:()=>q,bk:()=>ve,cx:()=>fe,f2:()=>S,fP:()=>f,hB:()=>A,kg:()=>ee,kn:()=>r,nI:()=>Z,nU:()=>c,nw:()=>z,o9:()=>$,og:()=>Be,ol:()=>D,pl:()=>l,qW:()=>a,qr:()=>G,so:()=>p,t2:()=>ue,u8:()=>v,xf:()=>u,xq:()=>J,yR:()=>P,yi:()=>le});var t=e(2140362605),n=e(1031947056);const s=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");s.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const r=(0,t.Ay)("Stores audio reference that will be passed to SDK");r.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const d=(0,t.Ay)("Start video shariing");d.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const o=(0,t.Ay)("Stop video shariing");o.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const a=(0,t.Ay)("Connect to Huddle media server");a.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const l=(0,t.Ay)("Leave the huddle and stop media transmission");l.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const m=(0,t.Ay)("Enable or disable local microphone");m.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const c=(0,t.Ay)("Send an emoji reaction");c.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const _=(0,t.Ay)("Send a sticky emoji reaction");_.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const p=(0,t.Ay)("Send a mute request");p.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const u=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");u.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const h=(0,t.Ay)("Upsert existing active huddle reference");h.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const E=(0,t.Ay)("Upsert existing active huddle channel");E.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const A=(0,t.Ay)("Set active huddle invite");A.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const v=(0,t.Ay)("Clear invite for given channel ID");v.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const f=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");f.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const g=(0,n.Ay)("Mark invite notifications as viewed by clearing them after a delay",(we,re,ge)=>{let{delay:De,teamId:be}=ge;setTimeout(()=>{we(f({teamId:be,markBeforeMs:Date.now()-De}))},De)});g.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const y=(0,t.Ay)("Start screen share for current user with given mediaSourceId");y.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const T=(0,t.Ay)("Stop screen share for current user");T.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const M=(0,t.Ay)("Notify peers of changes to isDrawEnabled");M.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const O=(0,t.Ay)("Enabled annotations for screen share host");O.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const I=(0,t.Ay)("Notify middleware that a new preferred device was selected");I.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const D=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");D.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const P=(0,t.Ay)("Notify middleware that noise suppression setting has changed");P.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const k=(0,t.Ay)("Notify middleware that video background setting has changed");k.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const R=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");R.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const V=(0,t.Ay)("Internal store update for mini-panel visibility");V.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const B=(0,t.Ay)("Upsert join credentials for a channel");B.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const W=(0,t.Ay)("Clear the join credentials for a specific channel");W.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const L=(0,t.Ay)("Store and/or remote push Chime meeting events");L.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const S=(0,t.Ay)("Transition from the prejoin state to started");S.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const H=(0,t.Ay)("Action to update the store to either show or hide discovery banner");H.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const w=(0,t.Ay)("Toggle Video");w.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const F=(0,t.Ay)("Reporting CPU and memory usage stats");F.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const j=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");j.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const J=(0,t.Ay)("Set current focused view type");J.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const X=(0,t.Ay)("Set last huddle start time");X.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const q=(0,t.Ay)("Set last huddle end time");q.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const G=(0,t.Ay)("Set last huddle duration time");G.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const ne=(0,t.Ay)("Toggle video background filter");ne.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const te=(0,t.Ay)("Starts the video preview on the video element using the specified device");te.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const le=(0,t.Ay)("Stops the video preview on the video element");le.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const he=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");he.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const fe=(0,t.Ay)("Resets the store");fe.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const ve=(0,t.Ay)("Start the canvas jukebox using content share");ve.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const me=(0,t.Ay)("Stop the canvas jukebox");me.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const oe=(0,t.Ay)("Set selected song");oe.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const N=(0,t.Ay)("Send jukebox active song");N.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const K=(0,t.Ay)("Request a jukebox song");K.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const x=(0,t.Ay)("Request the jukebox stops");x.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const b=(0,t.Ay)("Send recording start notification");b.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const z=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");z.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const $=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");$.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const Z=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");Z.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const U=(0,t.Ay)("Reports to the SDK when the client is offline");U.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const ee=(0,t.Ay)("Sets whether audio only mode is active or not.");ee.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const se=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");se.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const de=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");de.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const ue=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");ue.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const _e=(0,t.Ay)("Asks for video permission and enumerates devices");_e.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const pe=(0,t.Ay)("Execute readiness check for audio input");pe.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const ae=(0,t.Ay)("Execute readiness check for audio output");ae.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const Ee=(0,t.Ay)("Execute readiness check for video input");Ee.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const Le=(0,t.Ay)("Execute readiness check for a particular camera resolution");Le.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const ye=(0,t.Ay)("Execute readiness check for audio connectivity");ye.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const Te=(0,t.Ay)("Execute readiness check for video connectivity");Te.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Ae=(0,t.Ay)("Execute readiness check for content share connectivity");Ae.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const Ie=(0,t.Ay)("Execute readiness check for network UDP connectivity");Ie.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const Ue=(0,t.Ay)("Execute readiness check for network TCP connectivity");Ue.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Be=(0,t.Ay)("Sets that the Huddle was joined via prejoin");Be.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"}},5702042015:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d,p:()=>o});var t=e(5286203919),n=e(4250409994),s=e(1031947056);let r;const d=(0,s.Ay)("Temporarily show mini-panel",function(a,l){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),a((0,n.Ko)(!0)),r=setTimeout(()=>a((0,n.Ko)(!1)),m)});d.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const o=(0,s.Ay)("Temporarily pause mini-panel visibility transition",(a,l)=>{const m=l();(0,t.Ae)(m)&&clearTimeout(r)});o.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},2778217221:(Q,C,e)=>{"use strict";e.d(C,{WS:()=>s,nq:()=>n,o7:()=>t});const t="HUDDLES",n=864e5,s=2},5378147939:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_e});var t=e(9706240641),n=e(3398586081),s=e(387328355),r=e(1289024643),d=e(462591818),o=e(6533394955),a=e(5795074931),l=e(2047021170),m=e(1889537412),c=e(6758774099),_=e(4250409994),p=e(5881236351),u=e(1031947056),h=e(6562711329);const E=(0,u.Ay)("Fetch channel membership info for huddle member",(pe,ae,Ee)=>{let{channelId:Le,userId:ye}=Ee;return pe((0,h.z)({channelId:Le,userIds:[ye]})).then(Te=>{let{membershipInfo:Ae}=Te;return Ae[ye]&&"isMember"in Ae[ye]?!Ae[ye].isMember:!0})});E.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var A=e(2778217221),v=e(7434063642),f=e(9548972574),g=e(5332875232),y=e(3677514771),T=e(8305649700),M=e(1883693579),O=e(9712681361),I=e(9680914051),D=e(4695727674),P=e(4540171876),k=e(6422693406),R=e(6470070112),V=e(6839188756),B=e(56548687),W=e(6244014364),L=e(5741354339),S=e(6929023741),H=e(4476913522),w=e(5286203919),F=e(4423055085),j=e(2141441167),J=e(4949104520),X=e(796111729),q=e(9190452268),G=e(1651628626),ne=e(2664504268),te=e(1921074781),le=e(5203103513);const he=60*1e3,fe=15*1e3,ve=1e3*10,me=1e3*60,oe=5e3;let N=!1;const K=500,x=25;let b=i(class{setTargetState(ae){var Ee=this;return(0,t.coroutine)(function*(){Ee.targetState=ae;const{huddleState:Le,huddleSubState:ye}=Ee.targetState;Ee.isValidHuddleSubState(Le,ye)||(Ee.targetState.huddleSubState=Ee.getInitialSubStateForHuddleState(Le)),(0,o.dispatchForClientStore)((0,_.Rh)(Ee.getOptimisticState(ae))),yield Ee.process()})()}setTargetChannel(ae){this.targetState.channelId=ae}setTargetSubState(ae){var Ee=this;return(0,t.coroutine)(function*(){Ee.isValidHuddleSubState(Ee.targetState.huddleState,ae)&&(Ee.targetState.huddleSubState=ae,yield Ee.process())})()}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:O.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId,experimentHuddlesLoungeMusicPlayerGroupOn:this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}waitForStartStop(){var ae=this;return(0,t.coroutine)(function*(){return ae.startStopDeferred||k.S.resolve()})()}isProcessing(){var ae;return(ae=this.startStopDeferred)===null||ae===void 0?void 0:ae.isPending()}isTargetState(){const{teamId:ae,channelId:Ee,huddleState:Le}=this.getClientHuddleState();return(0,R.Ft)(this.targetState.huddleState)?Le===this.targetState.huddleState:ae===this.targetState.teamId&&Ee===this.targetState.channelId&&Le===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(ae){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>ae-K:!1}isValidHuddleSubState(ae,Ee){return ae===O.RJ.STARTED?Ee===void 0?!1:(0,j.A)(O.J_).includes(Ee):Ee===void 0}getInitialSubStateForHuddleState(ae){if(ae===O.RJ.STARTED)return O.J_.INITIAL_ALONE}process(){var ae=this;return(0,t.coroutine)(function*(){if(ae.isProcessing())return ae.waitForStartStop();ae.startStopDeferred=(0,L.u)();const Ee=setTimeout((0,t.coroutine)(function*(){var Le;if(!((Le=ae.startStopDeferred)===null||Le===void 0)&&Le.isPending()){const ye=new k.S.TimeoutError("HuddleStateManager timeout");yield ae.handleErrorAndDisconnect(ye)}}),ae.startStopTimeout);try{yield ae.runLoop(),clearTimeout(Ee),ae.startStopDeferred.resolve()}catch(Le){yield ae.handleErrorAndDisconnect(Le)}finally{clearTimeout(Ee)}ae.startStopDeferred=null})()}runLoop(){var ae=this;return(0,t.coroutine)(function*(){let Ee=0;for(;!ae.isTargetState();){if(!ae.isProcessing())return;if(Ee+=1,Ee>x)throw new Error("runLoop was stuck");const{teamId:Te,channelId:Ae,huddleState:Ie}=ae.getClientHuddleState(),{teamId:Ue,channelId:Be,huddleState:we,callId:re}=ae.targetState;if(Te!==Ue&&(delete ae.clogger,delete ae.logger,delete ae.telemeter),[O.RJ.STARTED,O.RJ.PRE_JOINED].includes(we)){if(Te!==Ue||Ae!==Be){switch(Ie){case O.RJ.PENDING:case O.RJ.STARTED:case O.RJ.PRE_JOINED:yield ae.goToNext(O.RJ.ENDING);break;default:yield ae.goToNext(O.RJ.STARTING)}continue}switch(Ie){case O.RJ.NOT_STARTED:yield ae.goToNext(O.RJ.STARTING);break;case O.RJ.STARTING:try{yield ae.goToNext(O.RJ.PENDING)}catch(ge){var Le;if(!((Le=ae.credentials)===null||Le===void 0)&&Le.isQuickJoinCredentials){if(delete ae.credentials,yield ae.clearQuickJoinCredentials(),ge.message===O.M6.ChimeMeetingEnded)throw ge;if(re){const De=(0,f.P_)(ae.getState(),re);if(De&&De.hasEnded)throw new Error(O.M6.ChimeMeetingEnded)}if((0,g.ZG)(ae.getState())){const De=Date.now(),be=!0;yield ae.safelyDisconnect(be);const Re=Date.now()-De;ae.getLogger().info(`Disconnecting after failed attempt to join huddle added ${Re}ms to TTI`)}else ae.getLogger().warn("Initializing a new huddle without disconnecting the last one");yield ae.goToNext(O.RJ.STARTING)}else throw ge}break;case O.RJ.PENDING:yield ae.goToNext(ae.targetState.huddleState);break;case O.RJ.PRE_JOINED:yield ae.goToNext(O.RJ.COMPLETING_PRE_JOIN);break;case O.RJ.COMPLETING_PRE_JOIN:yield ae.completePrejoin({isStartMuted:ae.targetState.muted}),yield ae.goToNext(O.RJ.STARTED);break;case O.RJ.STARTED:throw new Error("This should not be possible");case O.RJ.ENDING:case O.RJ.SURVEY:case O.RJ.SURVEY_GOOD:default:yield ae.goToNext(O.RJ.STARTING);break}continue}if([O.RJ.PENDING,O.RJ.STARTED,O.RJ.PRE_JOINED].includes(Ie)){yield ae.goToNext(O.RJ.ENDING);continue}yield ae.goToNext(we)}let ye=0;for(;!ae.isTargetSubState();){if(ye+=1,ye>x)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:Te,huddleSubState:Ae}=ae.getClientHuddleState(),{huddleSubState:Ie}=ae.targetState;if(!ae.isValidHuddleSubState(Te,Ie)){const Ue=ae.getInitialSubStateForHuddleState(Te);ae.targetState.huddleSubState=Ue,yield ae.goToNextSubState(Ue),ae.getLogger().warn(A.o7,`attempted to reach invalid huddleSubstate (${Ie}) for the given huddleState (${Te})`);continue}if(Te===O.RJ.STARTED){switch(Ae){case O.J_.INITIAL_ALONE:if(Ie===O.J_.INITIAL_ALONE_NOTICE_ACTIVE){yield ae.goToNextSubState(Ie);break}yield ae.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(Ie===O.J_.INITIAL_ALONE_NOTICE_DISMISSED){yield ae.goToNextSubState(Ie);break}yield ae.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.INITIAL_ALONE_NOTICE_DISMISSED:yield ae.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.IN_PROGRESS_TOGETHER:yield ae.goToNextSubState(O.J_.IN_PROGRESS_ALONE);break;case O.J_.IN_PROGRESS_ALONE:if(Ie===O.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){yield ae.goToNextSubState(Ie);break}yield ae.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(Ie===O.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){yield ae.goToNextSubState(Ie);break}yield ae.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:yield ae.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;default:yield ae.goToNextSubState(O.J_.INITIAL_ALONE)}continue}yield ae.goToNextSubState(void 0)}})()}goToNext(ae){var Ee=this;return(0,t.coroutine)(function*(){var Le,ye,Te,Ae;Ee.getLogger().info(`Marking huddle as ${ae} [${(Te=(Le=Ee.targetState)===null||Le===void 0?void 0:Le.teamId)!==null&&Te!==void 0?Te:"N/A"}, ${(Ae=(ye=Ee.targetState)===null||ye===void 0?void 0:ye.channelId)!==null&&Ae!==void 0?Ae:"N/A"}]`);const Ie=Date.now();Ee.timeOfLastStateChange=Ie,Ee.timeOfLastSubStateChange=Ie;const Ue=Ee.getInitialSubStateForHuddleState(ae);if(ae===O.RJ.STARTING){var Be,we;const De=Ee.assertTargetTeamAndChannel(O.RJ.STARTING),be=Ee.getOptimisticState(Ee.targetState);Ee.getLogger().info(`Optimistic state: ${be.optimisticHuddleState}`),(0,o.dispatchForClientStore)((0,_.xf)({huddleState:ae,huddleSubState:Ue,...De,...be,isPrejoin:((Be=Ee.targetState)===null||Be===void 0?void 0:Be.huddleState)===O.RJ.PRE_JOINED,sessionId:(0,ne.A)()})),Ee.credentials=yield Ee.fetchCredentials(),(we=Ee.getTelemeter())===null||we===void 0||we.mark(I.Bq);return}if(ae===O.RJ.PENDING){const De=Ee.assert(Ee.credentials,"Expected credentials to be set before PENDING");(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:ae,huddleSubState:Ue,...Ee.assertTargetTeamAndChannel(O.RJ.PENDING),callId:De.roomId})),yield Ee.connectToChime(De,Ee.targetState),delete Ee.credentials;return}if(ae===O.RJ.STARTED){var re;const De=Ee.assertTargetTeamAndChannel(O.RJ.STARTED);(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:ae,huddleSubState:Ue,optimisticHuddleState:null,...De,isPrejoin:!1})),(0,l.ty)(Ee.getState(),"huddles_set_status")&&Ee.scheduleHuddleStateExpirationIncrement(),Ee.setCoachmarkTimeout(Ue),(re=te.F.getInstance())===null||re===void 0||re.request()}else{var ge;(ge=te.F.getInstance())===null||ge===void 0||ge.release()}if(ae===O.RJ.PRE_JOINED&&(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:ae,huddleSubState:Ue,optimisticHuddleState:null,...Ee.assertTargetTeamAndChannel(O.RJ.PRE_JOINED)})),ae===O.RJ.ENDING){(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:ae,huddleSubState:Ue})),yield Ee.safelyDisconnect();return}(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:ae,huddleSubState:Ue,optimisticHuddleState:null}))})()}goToNextSubState(ae){var Ee=this;return(0,t.coroutine)(function*(){ae===O.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var Le;((Le=Ee.getClientHuddleState())===null||Le===void 0?void 0:Le.huddleSubState)===O.J_.IN_PROGRESS_ALONE&&Ee.hasBeenInSubStateForAtLeastApproxTime(ve)&&(Ee.isMicEnabled()||Ee.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&Ee.setTargetSubState(O.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},ve),Ee.timeOfLastSubStateChange=Date.now(),(0,o.dispatchForClientStore)((0,_.Rh)({huddleSubState:ae}))})()}handleErrorAndDisconnect(ae){var Ee=this;return(0,t.coroutine)(function*(){var Le;Ee.getLogger().error(ae);const{huddleState:ye}=Ee.getClientHuddleState();if([O.RJ.PENDING,O.RJ.STARTED].includes(ye))try{yield k.S.race([new k.S((Te,Ae)=>{setTimeout(()=>Ae(new Error("HuddleStateManager disconnect timeout")),Ee.disconnectTimeout)}),Ee.safelyDisconnect()])}catch(Te){Ee.getLogger().error(Te)}(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:O.RJ.NOT_STARTED,optimisticHuddleState:null})),yield k.S.resolve(Ee.handleError(ae,ye)),(Le=Ee.startStopDeferred)===null||Le===void 0||Le.reject(ae)})()}getInitialAloneInHuddleTimeOutValue(){if(N)return oe;if(!this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)return me;const ae=this.getState(),Ee=(0,l.ty)(ae,le.VW);return Ee?Ee*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),me)}setCoachmarkTimeout(ae){ae===O.J_.INITIAL_ALONE&&(setTimeout(()=>{var Ee;((Ee=this.getClientHuddleState())===null||Ee===void 0?void 0:Ee.huddleSubState)===O.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.isMicEnabled()||this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&(this.setTargetSubState(O.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var ae;return!!(!((ae=(0,s.Ng)(this.getState()))===null||ae===void 0)&&ae.isMicrophoneEnabled)}getClientHuddleState(){const ae=(0,o.getStateForClientStore)(),Ee=(0,w.EG)(ae),{channelId:Le,teamId:ye}=(0,w.Qn)(ae)||{};if(!Ee||Ee===O.RJ.NOT_STARTED)return{huddleState:O.RJ.NOT_STARTED,channelId:Le,teamId:ye};const Te=(0,w.EO)(ae);return{huddleState:Ee,huddleSubState:Te,channelId:Le,teamId:ye}}assertTargetTeamAndChannel(ae){const{teamId:Ee,channelId:Le}=this.targetState;return{teamId:this.assert(Ee,`Expected teamId to be set for ${ae}`),channelId:this.assert(Le,`Expeted channelId to be set for ${ae}`)}}getChannelIdOrDie(){const{channelId:ae}=this.getClientHuddleState(),{channelId:Ee}=this.targetState,Le=ae||Ee;return this.assert(Le,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:ae}=this.getClientHuddleState(),{threadTs:Ee}=this.targetState;return ae||Ee}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:ae}=this.getClientHuddleState(),{teamId:Ee}=this.targetState,Le=ae||Ee;return this.assert(Le,"No team ID or active huddle")}getCallIdOrDie(){const ae=(0,o.getStateForClientStore)(),Ee=(0,w.E9)(ae);return this.assert(Ee,"No call ID or active huddle")}getHuddleState(){const{huddleState:ae}=this.getClientHuddleState();return ae}dispatch(ae){const Ee=this.getTeamIdOrDie();return(0,o.dispatchForTeamId)(Ee,ae)}getState(ae){const Ee=ae||this.getTeamIdOrDie();return(0,o.getStateByTeamId)(Ee)}assert(ae,Ee){if(ae==null)throw new Error(Ee);return ae}getClogger(){if(this.clogger)return this.clogger;const{teamId:ae}=this.getClientHuddleState();return this.clogger=ae?(0,B.e)({state:(0,o.getStateByTeamId)(ae)}):(0,B.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,X.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:ae}=this.getClientHuddleState();return ae?this.telemeter=(0,q.Cy)({state:(0,o.getStateByTeamId)(ae)}):this.telemeter=(0,q.rh)(),this.telemeter}constructor({logLabel:ae=A.o7,startStopTimeout:Ee=he,disconnectTimeout:Le=fe}={}){this.targetState={huddleState:O.RJ.NOT_STARTED},this.startStopDeferred=null;var ye=this;this.safelyDisconnect=(0,t.coroutine)(function*(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{yield ye.disconnect(Ae)}catch(Ie){ye.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",Ie)}});var Te=this;this.scheduleHuddleStateExpirationIncrement=(0,t.coroutine)(function*(){if(Te.isTargetState()&&Te.targetState.huddleState!==O.RJ.STARTED)return;const Ae=60*5,Ie={huddle_state_expiration_ts:new Date().getTime()/1e3+Ae};yield Te.dispatch((0,G.c)({profile:Ie,reason:"increment-huddle-state-expiration-ts"})),setTimeout(Te.scheduleHuddleStateExpirationIncrement,(0,J.A)(12e4,-.1,.1))}),this.logLabel=ae,this.startStopTimeout=Ee,this.disconnectTimeout=Le,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,F.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{N=!0},resetShortTimeoutValue:()=>{N=!1}}),Object.defineProperty({shouldUseDebugTimeout:N},"shouldUseDebugTimeout",{get:()=>N,set:()=>{N=!0}});var $=e(7004355564),Z=e(4715430489),U=e(6251210828),ee=e(415910655),se=e(8872167513);class de extends b{start(ae,Ee,Le,ye,Te,Ae,Ie,Ue){var Be=this;return(0,t.coroutine)(function*(){yield Be.startHuddleWithTargetState(O.RJ.STARTED,ae,Ee,Le,ye,Te,Ae,Ie,Ue)})()}prejoin(ae,Ee,Le,ye,Te){var Ae=this;return(0,t.coroutine)(function*(){yield Ae.startHuddleWithTargetState(O.RJ.PRE_JOINED,ae,Ee,Le,ye,void 0,Te)})()}setOthersInHuddle(){var ae=this;return(0,t.coroutine)(function*(){yield ae.setTargetSubState(O.J_.IN_PROGRESS_TOGETHER)})()}setAloneInHuddle(){var ae=this;return(0,t.coroutine)(function*(){yield ae.setTargetSubState(O.J_.IN_PROGRESS_ALONE)})()}dismissAloneInHuddleWarning(ae){var Ee=this;return(0,t.coroutine)(function*(){const Le=ae?O.J_.INITIAL_ALONE_NOTICE_DISMISSED:O.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;yield Ee.setTargetSubState(Le)})()}startHuddleWithTargetState(ae,Ee,Le,ye,Te,Ae,Ie,Ue,Be){var we=this;return(0,t.coroutine)(function*(){var re;!((re=we.currentHuddleDeferred)===null||re===void 0)&&re.isPending()||(we.currentHuddleDeferred=(0,L.u)()),yield we.setTargetState({huddleState:ae,teamId:Ee,channelId:Le,muted:ye,callId:Te,threadTs:Ae,experimentHuddlesLoungeMusicPlayerGroupOn:Ie,isMultiDevice:Ue,experimentStandaloneHuddlesOn:Be})})()}stop(){var ae=this;return(0,t.coroutine)(function*(){var Ee;const Le=ae.getState(),ye=ae.getHuddleState()!==O.RJ.PRE_JOINED&&(0,f.Cd)(Le)&&!ae.isProcessing();ye&&(ae.getLogger().info(`Show huddle survey in ${ae.getChannelIdOrDie()}`),ae.dispatch((0,M.Cd)({timeSeen:new Date().toISOString()}))),yield ae.setTargetState({huddleState:ye?O.RJ.SURVEY:O.RJ.NOT_STARTED}),ae.getHuddleState()===O.RJ.NOT_STARTED&&(!((Ee=ae.currentHuddleDeferred)===null||Ee===void 0)&&Ee.isPending())&&ae.currentHuddleDeferred.resolve()})()}enterTerminalState(ae){var Ee=this;return(0,t.coroutine)(function*(){var Le;!((Le=Ee.pendingHuddleStart)===null||Le===void 0)&&Le.isPending()?Ee.pendingHuddleStart.reject(ae):yield Ee.handleErrorAndDisconnect(ae)})()}waitForHuddleToEnd(){return k.S.resolve(this.currentHuddleDeferred)}handleError(ae,Ee){var Le;this.getLogger().error(ae);const ye=Ee===O.RJ.STARTING||Ee===O.RJ.PENDING;this.dispatch((0,D.A)({errorCode:(0,O.dJ)(ae.name)?ae.name:ae.message,isJoinError:ye})),!((Le=this.currentHuddleDeferred)===null||Le===void 0)&&Le.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(ae){let{teamId:Ee,channelId:Le,huddleState:ye}=ae;if([O.RJ.NOT_STARTED].includes(ye))return{optimisticHuddleState:O.RJ.ENDING};if([O.RJ.SURVEY].includes(ye))return{optimisticHuddleState:null};if(ye===O.RJ.PRE_JOINED)return{optimisticHuddleState:O.RJ.PRE_JOINED,isPrejoin:!0};if(ye===O.RJ.STARTED&&Ee){var Te,Ae;const Ie=(0,o.getStateByTeamId)(Ee),Ue=(0,o.getStateForClientStore)(),Be=(0,w.aQ)(Ue),we=(Be==null?void 0:Be.channelId)===Le||!((Te=(0,f.Yw)(Ie,Le))===null||Te===void 0||(Ae=Te.activeParticipants)===null||Ae===void 0)&&Ae.length?null:O.RJ.STARTED;return(0,l.ty)(Ie,"huddles_global_mute")&&(0,o.dispatchForClientStore)((0,_.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:we}}return{}}fetchCredentials(){var ae=this;return(0,t.coroutine)(function*(){const Ee=ae.getTeamIdOrDie(),Le=ae.getChannelIdOrDie(),ye=ae.getThreadTsOrNothing(),Te=(0,o.getStateForClientStore)(),Ae=(0,f.Yw)(ae.getState(),Le),{ttiTrace:Ie}=(0,se.A)().getAllTraceHandlers(),Ue=(0,w.WL)(Te,Le),Be=ae.getIsMultiDevice(),we=(0,Z.x)(ae.getState());if(Ie==null||Ie.createFetchCredentialsSpan(),Ue){Ie==null||Ie.setCachedTag({cached:!0});const re=(Ae==null?void 0:Ae.id)||(0,R.RW)(Ue.credentials);if(re){const ge=(0,f.P_)(ae.getState(),re);if(ge&&ge.hasEnded)throw yield ae.clearQuickJoinCredentials(),new Error(O.M6.ChimeMeetingEnded)}return ae.getTelemeter().count(I.K7),Ie==null||Ie.closeFetchCredentialsSpan(),{roomId:re,server:Ue.credentials,isQuickJoinCredentials:!0}}if((0,g.CI)(ae.getState(Ee))){const re=(0,U._6)(ae.getState(),{channelId:Le});if(re)return{roomId:(0,R.RW)(re),server:re,isQuickJoinCredentials:!1}}return ae.getTelemeter().mark(I.aW),Ie==null||Ie.setCachedTag({cached:!1}),ae.dispatch((0,P.O3)({teamId:Ee,channelId:Le,shouldFetchRegion:!Ae,traceId:Ie==null?void 0:Ie.getTTITraceId(),parentSpanId:Ie==null?void 0:Ie.getFetchCredentialsSpanId(),...ye&&{threadTs:ye},...Be&&{isMultiDevice:Be}})).then(re=>{var ge,De;if(!(!(re==null||(ge=re.server)===null||ge===void 0)&&ge.meeting)||!(!(re==null||(De=re.server)===null||De===void 0)&&De.attendee))throw new Error("create_meeting_failed");Ie==null||Ie.closeFetchCredentialsSpan(),ae.getTelemeter().mark(I.bW);const be=ae.getTelemeter().measure(I.aW,I.iE,I.bW);ae.getTelemeter().count(I.iE,be),(0,ee.jm)({roomsJoinTime:be});let xe=Le;return ae.getIsExperimentStandaloneHuddlesOn()&&re.channelId&&(xe=re.channelId,ae.setTargetChannel(xe),(0,o.dispatchForClientStore)((0,_.Jc)(xe))),(0,o.dispatchForClientStore)((0,_.Yi)({channelId:xe,joinCredentials:re.server,expiry:Date.now()+A.nq,fromInvite:!1})),re.rootThreadTs&&re.roomId&&(ae.dispatch((0,v.ZL)({huddleId:re.roomId,thread:{channelId:xe,ts:re.rootThreadTs}})),ae.dispatch((0,T.KN)({channelId:xe,threadTs:re.rootThreadTs,lastRead:re.rootThreadTs,reason:"canvas-rooms-join-api"})),ae.dispatch(we?(0,H.a)({channelId:xe,threadTs:re.rootThreadTs,oldest:re.rootThreadTs}):(0,S.a)({channelId:xe,threadTs:re.rootThreadTs,oldest:re.rootThreadTs}))),re})})()}connectToChime(ae,Ee){let{server:Le,roomId:ye}=ae,{muted:Te,huddleState:Ae}=Ee;var Ie=this;return(0,t.coroutine)(function*(){const{ttiTrace:Ue}=(0,se.A)().getAllTraceHandlers();return Ue==null||Ue.createConnectToMediaServiceSpan(),(0,o.dispatchForClientStore)((0,_.qW)({callResult:{server:Le,roomId:ye,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:Te,waitForHuddleStart:(0,L.u)(),isPrejoin:Ae===O.RJ.PRE_JOINED})),Ie.pendingHuddleStart=(0,L.u)(),Ae===O.RJ.PRE_JOINED?k.S.resolve():Ie.pendingHuddleStart})()}resolvePendingJoin(ae){var Ee=this;return(0,t.coroutine)(function*(){try{var Le;const Te=Ee.getChannelIdOrDie(),{ttiTrace:Ae}=(0,se.A)().getAllTraceHandlers(),Ie=Ee.getState(),Ue=(0,o.getStateForClientStore)(),{callId:Be,optimisticHuddleState:we}=(0,w.Qn)(Ue)||{},re=(0,f.dy)(Ie);if(Ee.getLogger().info(`Resolve pending huddle (${Te}, optimisticHuddleState: ${we}, has optimisticTopic: ${!!re})`),!(!((Le=Ee.pendingHuddleStart)===null||Le===void 0)&&Le.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const ge=Ee.assert(Be,"Room ID is not defined for pending join"),De=(0,l.ty)(Ie,"huddles_cc_by_default");if((0,R.UA)(Ie,Te)&&De&&(Ee.dispatch((0,m.A)()),Ee.dispatch((0,c.dD)(!0)),Ee.dispatch((0,c.jL)(!0))),re){try{yield Ee.dispatch((0,P.xB)({roomId:ge,name:re})),Ee.dispatch((0,r.oU)({id:ge,name:re}))}catch(xe){Ee.getLogger().error(xe)}Ee.dispatch((0,p.Jc)(null))}(0,o.dispatchForClientStore)((0,_.u8)(Te)),Ae==null||Ae.closeConnectToMediaServiceSpan(),(0,B.e)({state:Ie}).track(W.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:ge,duration_ms:Math.round(ae),channel_id:Te}}}),(0,ee.jm)({audioConnectedTime:ae}),(0,o.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!0})),Ee.pendingHuddleStart.resolve()}catch(Te){var ye;(ye=Ee.pendingHuddleStart)===null||ye===void 0||ye.reject(Te)}})()}completePrejoin(ae){var Ee=this;return(0,t.coroutine)(function*(){const Le=Ee.getChannelIdOrDie(),ye=(0,o.getStateForClientStore)(),{ttiTrace:Te}=(0,se.A)().getAllTraceHandlers(),Ae=(0,w.WL)(ye,Le);return Te==null||Te.setCachedTag({cached:!!Ae}),Te==null||Te.createConnectToMediaServiceSpan(),(0,o.dispatchForClientStore)((0,_.f2)({...ae}))})()}clearQuickJoinCredentials(){return(0,t.coroutine)(function*(){const ae=(0,o.getStateForClientStore)(),{channelId:Ee}=(0,w.Qn)(ae)||{};return(0,o.dispatchForClientStore)((0,_.WB)({channelId:Ee}))})()}disconnect(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var Ee=this;return(0,t.coroutine)(function*(){var Le;const ye=Ee.getState(),Te=(0,o.getStateForClientStore)(),{channelId:Ae,teamId:Ie}=(0,w.Qn)(Te)||{};if(!ae)try{(0,se.A)().cleanup()}catch(Ue){Ee.getLogger().error(`Error cleaning up huddle tracing: ${Ue}`)}try{(0,o.dispatchForClientStore)((0,_.Bk)(!1)),(0,g.lV)(ye)&&((0,o.dispatchForClientStore)((0,_.JM)()),(0,o.dispatchForClientStore)((0,_._u)({song:void 0}))),(0,o.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!1}));const Be=(0,a.WR)(ye),we=Ae&&(0,f.Yw)(ye,Ae);if(we&&Ae){const re=(we.activeParticipants||[]).filter(De=>!((0,d.MZ)(De)&&De.slackId===Be));Ee.dispatch((0,r.oU)({id:we.id,activeParticipants:re}));const ge=(0,r.H6)(Ee.getState(),we.id);ge&&Ee.dispatch((0,p.mr)({call:ge,channelId:Ae}))}if(Ae){const re=yield(0,o.dispatchForTeamId)(Ie,E({channelId:Ae,userId:Be})),ge=(0,y.H7)(ye),De=(0,V.tc)(ge);(re||De)&&(yield Ee.clearQuickJoinCredentials()),(0,o.dispatchForClientStore)((0,_.u8)(Ae))}}catch(Ue){Ee.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",Ue)}try{const Ue=(0,L.u)();(0,o.dispatchForClientStore)((0,_.pl)({waitForHuddleEnd:Ue})),yield Ue}catch(Ue){Ee.getLogger().error("An error occurred while disconnecting from the media server.",Ue)}Ee.dispatch((0,s.VL)({huddlesVideoActive:!1})),Ee.dispatch((0,v.np)()),(0,o.dispatchForClientStore)((0,_.cx)()),!((Le=Ee.pendingHuddleStart)===null||Le===void 0)&&Le.isPending()&&Ee.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))})()}}i(de,"HuddleStateManager");const _e=(0,n.A)(()=>{const pe=new de;return(0,$.R)(pe.waitForStartStop.bind(pe)),pe})},7004355564:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r,R:()=>s});var t=e(6422693406);let n;const s=i(d=>{n=d},"setWaitForStartStop"),r=i(()=>n?n():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},3065433701:(Q,C,e)=>{"use strict";e.d(C,{CE:()=>o,Gu:()=>a,vT:()=>n.vT});var t=e(1031947056),n=e(7366481123);const s=3*1e3,r={[n.vT.NoUserAudioStream]:!0,[n.vT.NoUserVideoStream]:!0,[n.vT.NoAudioOutputAudioElementError]:!0,[n.vT.NoAudioOutputAudioLevelError]:!0,[n.vT.SlowNetwork]:!0,[n.vT.PeerMuteRequest]:!0};let d={};const o=(0,t.Ay)("Display alert message for huddle call",(m,c,_)=>{let{alert:p,peerId:u}=_;if(!d[p]){if(r[p]){d[p]=setTimeout(()=>{d[p]&&(clearTimeout(d[p]),delete d[p]),m((0,n.Sb)({alert:p,peerId:u}))},s);return}m((0,n.Sb)({alert:p,peerId:u}))}});o.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const a=(0,t.Ay)("Undisplay an alert message for huddle call",(m,c,_)=>{d[_]&&(clearTimeout(d[_]),delete d[_]),m((0,n.LL)(_))});a.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:d},"alertTimeouts",{get:()=>d,set:m=>{d=m}})},5253428843:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(1031947056),n=e(5378147939);const s=(0,t.Ay)("Handle huddle error",(d,o,a)=>(0,n.A)().enterTerminalState(new Error(a.terminalState)));s.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const r=s},2766373332:(Q,C,e)=>{"use strict";e.d(C,{N$:()=>ye,KD:()=>ae,kq:()=>pe,HU:()=>Ee});var t=e(9706240641),n=e(1031947056),s=e(6533394955),r=e(387328355),d=e(9864164947),o=e(7067820909),a=e(7621809678),l=e(3245843483),m=e(2778217221),c=e(6134475965),_=e(1049642794),p=e(2802517438),u=e(3134334389),h=e(3288846409),E=e(3037015781),A=e(4979382452),v=e(8029613601),f=e(4947127560),g=e(4636370173),y=e(2465132699),T=e(8523371695),M=e(3606117573),O=e(2683115972),I=e(3165300465),D=e(1610251172),P=e(4481313819),k=e(2562405183),R=e(5363983309),V=e(5286203919),B=e(9101533895),W=e(9884588328),L=e(8921478798),S=e(1407713935),H=e(6244014364),w=e(735940183),F=e(8320929653),j=e(4233000497);function J(){return J=Object.assign||function(Te){for(var Ae=1;Ae<arguments.length;Ae++){var Ie=arguments[Ae];for(var Ue in Ie)Object.prototype.hasOwnProperty.call(Ie,Ue)&&(Te[Ue]=Ie[Ue])}return Te},J.apply(this,arguments)}i(J,"_extends");const X=new w.Ay("huddles"),q={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:H.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},G={elementName:"huddles_invite_confirmation_dialog_ok",eventId:H.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function ne(Te){let{closeModal:Ae,...Ie}=Te;const{channelId:Ue,senderUserId:Be}=Ie,we=(0,j.A)(Ue),{handleDecline:re,handleJoin:ge,isLoading:De,inviteText:be}=(0,F.lc)(Ie),xe=(0,k.d4)(rt=>(0,L.I)(rt,Be));let Re=X.t("Huddle with {dmPersons}",{dmPersons:xe,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const je=(0,k.d4)(rt=>(0,B.OL)(rt,Ue)),Ge=(0,k.d4)(rt=>(0,E.uz)(je)?(0,W.SB)(rt,je,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);Ge&&(Re=(0,S.JM)(je)?X.t("Huddle with {dmPersons}",{dmPersons:Ge,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):X.t("Huddle in {channelName}",{channelName:Ge,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Qe=(0,h.cw)(V.hc)===Ue;(0,u.useEffect)(()=>{Qe&&!De&&(Ae==null||Ae())},[Qe,De,Ae]);const Xe=(0,u.useCallback)(()=>{re(),Ae==null||Ae()},[Ae,re]),et="huddle-invite-join-modal";return u.createElement(P.A,J({uiComponentName:H.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},we),u.createElement(A.A,{labelledby:et,dataQa:et,closeModal:Ae,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},u.createElement(v.A,null,u.createElement(f.A,{title:Re,id:et})),u.createElement(g.A,null,u.createElement(y.A,null,be)),u.createElement(T.A,null,u.createElement(M.A,null,u.createElement(O.Ay,{type:"outline",onClick:Xe,"data-qa":"huddle_invite_join_cancel",autoClogProps:q},X.t("Not Now")),u.createElement(I.A,{type:"primary",loading:De,onClick:ge,"data-qa":"huddle_invite_join_go",autoClogProps:G,autoFocus:!0},u.createElement(D.A,{type:"headphones"}),u.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},X.t("Join")))))))}i(ne,"HuddleInviteJoinModal"),ne.displayName="HuddleInviteJoinModal";const te={HuddleInviteJoinModal:ne},le=(0,R.A)(ne);var he=e(605594140),fe=e(6422693406),ve=e(796111729),me=e(8040098042),oe=e(2960290117),N=e(6415612447),K=e(6470070112),x=e(56548687),b=e(571104883),z=e(8746998952),$=e(9712681361),Z=e(5702042015),U=e(7429662208),ee=e(3193155968),se=e(6695353875),de=e(9629572172),ue=e(352142497);const _e=i((Te,Ae,Ie)=>{(0,x.e)({state:Te}).track(Ae,{contexts:{calls:(0,K.gG)(Te,Ie),ui_context:{action:H.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),pe=(0,n.Ay)("Start huddle in highlighted channel or current primary view",function(){var Te=(0,t.coroutine)(function*(Ae,Ie,Ue){let{highlightedChannelId:Be}=Ue;const we=(0,s.getStateForClientStore)(),re=Ie(),ge=(0,se.cc)(re),De=ge,be=(0,U.e6)(re),xe=(0,p.A)(re),Re=De?(0,U.F8)(re,{tab:be,container:ee.mq.Primary}):null,je=De?Re==null?void 0:Re.id:xe,Ge=Be||je,{channelId:Qe,teamId:Xe}=(0,V.Ak)(we)||{};if(Qe&&Xe&&(!Be||Be===Qe)){(0,s.dispatchForTeamId)(Xe,(0,c.A)()),_e(re,H.EventId.HUDDLES_LEAVE,Qe);return}const et=(0,V.aQ)(we);if(et&&!Be){const{channelId:it,senderUserId:lt,callId:ot,teamId:Et}=et;(0,s.dispatchForTeamId)(Et,le({channelId:it,senderUserId:lt,callId:ot}));return}if(!Ge||!(0,me.A)(Ge)&&!(0,oe.Ay)(Ge)){ge&&Ae((0,he.A)());return}const rt=(0,N.Y)(re,Ge);rt&&(0,K.Bn)(re,rt)&&(_e(re,H.EventId.HUDDLES_JOIN,rt.id),Ae((0,z.A)({channelId:rt.id,forceFocus:!0,entryPoint:$.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});return function(Ae,Ie,Ue){return Te.apply(this,arguments)}}());pe.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const ae=(0,n.Ay)("Start huddle in the current view",function(){var Te=(0,t.coroutine)(function*(Ae,Ie,Ue,Be){var we,re;const ge=Ie(),{shouldUseNavigate:De,isChildWindow:be,getViewSet:xe}=Be(de.U),Re=xe(ge);(!De||!be||(Re==null||(we=Re[ee.mq.Primary])===null||we===void 0?void 0:we.viewType)!==ue.D.Channel)&&Ae(pe({highlightedChannelId:void 0}));const je=Re==null||(re=Re[ee.mq.Primary])===null||re===void 0?void 0:re.id;Ae(pe({highlightedChannelId:je}))});return function(Ae,Ie,Ue,Be){return Te.apply(this,arguments)}}());ae.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const Ee=(0,n.Ay)("Toggle microphone from current value to opposite value",(Te,Ae)=>{const Ie=(0,s.getStateForClientStore)(),{teamId:Ue,channelId:Be}=(0,V.Ak)(Ie)||{};if(!Ue)return;const we=(0,s.getStateByTeamId)(Ue),re=(0,r.Ng)(we),ge=re==null?void 0:re.isMicrophoneEnabled;(0,s.dispatchForTeamId)(Ue,(0,_.A)(!ge)),Te(ge?(0,d.Ho)():(0,d.qc)()),(0,ve.Ay)({state:we}).info(m.o7,`Keyboard shortcut invoked -- toggling mic to ${ge?H.EventId.HUDDLES_MUTE:H.EventId.HUDDLES_UNMUTE}`),Be&&_e(we,ge?H.EventId.HUDDLES_MUTE:H.EventId.HUDDLES_UNMUTE,Be)});Ee.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let Le=!1;const ye=i(Te=>{var Ae;return(0,b.dY)("4.13.0")?(Te&&!Le&&((0,l.zin)(a.Sr.TOGGLE_MUTE,(0,t.coroutine)(function*(){const Ie=(0,s.getStateForClientStore)(),{teamId:Ue}=(0,V.Ak)(Ie)||{};Ue&&((0,s.dispatchForTeamId)(Ue,Ee()),(0,o.Sr)((0,s.getStateForClientStore)())||(0,s.dispatchForClientStore)((0,Z.A)()))})),Le=!0),(Ae=(0,l.wzE)(a.Sr.TOGGLE_MUTE,Te))===null||Ae===void 0?void 0:Ae.then(()=>Te)):fe.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},1883693579:(Q,C,e)=>{"use strict";e.d(C,{uZ:()=>fe,Tn:()=>me,Cd:()=>ve});var t=e(796111729),n=e(1031947056),s=e(6533394955),r=e(387484329),d=e(2778217221),o=e(4250409994),a=e(9712681361),l=e(6422693406),m=e(5046160032),c=e(4914127094),_=e(8445020572),p=e(7299481592),u;(function(oe){oe.HuddleSurvey="huddle-survey",oe.ListsSurvey="lists-survey"})(u||(u={}));var h;(function(oe){oe.NoAudioInput="no-audio-input",oe.NoAudioOutput="no-audio-output",oe.LowVideoQuality="low-video-quality",oe.LowAudioQuality="low-audio-quality",oe.VideoNotWorking="video-not-working",oe.DeviceSelectionError="device-selection-error",oe.Disconnected="disconnected",oe.SomethingElse="something-else",oe.Dismiss="dismiss"})(h||(h={}));function E(oe){return oe.isOk}i(E,"isOkResult");const A=(0,n.Ay)("Send survey results",(oe,N,K)=>{var x,b;const z=N();var $;const Z=($=K.callId)!==null&&$!==void 0?$:z.activeCall.id;if(!Z)return(0,p.M)(!1,"There should have been a call in order to send survey results."),l.S.reject(new Error("SendSurveyResult: No call"));var U;const ee=(U=K.type)!==null&&U!==void 0?U:"vo-survey",se=E(K)?void 0:{response_requested:!1,comments:K.comments,is_video:(x=z.activeCall)===null||x===void 0?void 0:x.hasVideoBeenEnabled,is_ss:(b=z.activeCall)===null||b===void 0?void 0:b.hasScreenshareBeenEnabled,list_id:K==null?void 0:K.listId,list_entry_point:K==null?void 0:K.listEntryPoint},de=E(K)||ee===u.ListsSurvey?"ok":K.notOkResponses.join(","),ue={room:Z,event_type:ee,event_value:de,event_metadata:JSON.stringify(se)};return(0,m.A)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:(0,c.F)(z),versionTs:(0,_.HF)(),versionUid:(0,_.X3)(),args:ue})?l.S.resolve():l.S.reject(new Error("SendSurveyResult: beacon failed"))});A.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"};var v=e(3134334389),f=e(2562405183),g=e(6313685253),y=e(8300007136),T=e(6084388622),M=e(3989454579),O=e(6948117092),I=e(5016574668),D=e(3855029223),P=e(4798756512),k=e(6310192986),R=e(1616072515);const V="survey";var B;(function(oe){oe.Good="good",oe.Bad="bad",oe.Dismiss="dismiss"})(B||(B={}));const W="HUDDLES-SURVEY-TRACE",L=i(oe=>{let{teamId:N,callId:K,results:x}=oe;const b=N?(0,t.Ay)({label:W,teamId:N}):(0,t.Wo)({label:W});if(!N){b.warn("Missing team id. Exiting early");return}const z=(0,D.E)({teamOrEnterpriseId:N}),$=z.createTrace({traceName:I.Sq,tags:{__dataset:I.RN},samplingOptions:{sampleRate:1,sampleType:P.tS.SESSION}}),Z=$.startSpan(V),U={...x};(0,O.A)(U,"comments");const{notOkResponses:ee,summary:se}=U||{};if(!K){b.warn("Missing callId. Exiting early");return}if(!se){b.warn("Missing summary. Exiting early");return}try{b.info(`Processing huddle survey response. callId: ${K} - traceId: ${$.getTraceId()} - results: ${JSON.stringify(U)}`)}catch(_e){b.error(_e)}const de={teamId:N,callId:K,surveySummary:se,surveyResponseCount:(ee==null?void 0:ee.length)||0,surveyResponses:ee==null?void 0:ee.join(" ")},ue=(0,R.tT)({...de,...(0,k.vP)()});Z.addTags(ue),Z.close(),b.info(`Reporting huddle survey trace with ${Object.keys(ue).length} tags (${$.getTraceId()})`),b.debug("Tags attached",ue),z.reportTrace($),z.clearTrace($)},"reportHuddleSurveyResultsTrace");var S=e(8847766420),H=e(980293773),w=e(7138682671),F=e(8472205500),j=e(735940183),J=e(8739505998),X=e(5363983309),q=e(6968387112);const G=new j.Ay("huddles");function ne(oe){return(0,g.A)(oe,(N,K,x)=>(K&&N.push(x),N),[])}i(ne,"collectResponses");const te=i(oe=>{let{closeModal:N,callId:K}=oe;const x=(0,f.d4)(S.ZT),[b,z]=(0,v.useState)({}),[$,Z]=(0,v.useState)(""),[U,ee]=(0,v.useState)(!1),se=`https://${(0,q.qF)()}`,de=(0,y.wA)(),ue=[{value:h.NoAudioInput,text:G.t("Others couldn\u2019t hear me")},{value:h.NoAudioOutput,text:G.t("I couldn\u2019t hear others")},{value:h.DeviceSelectionError,text:G.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:h.LowAudioQuality,text:G.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:h.LowVideoQuality,text:G.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:h.VideoNotWorking,text:G.t("Video didn\u2019t work at all")},{value:h.Disconnected,text:G.t("I got disconnected from the Huddle")},{value:h.SomethingElse,text:G.t("Something else went wrong")}],_e=u.HuddleSurvey,pe=(0,v.useCallback)(()=>{ee(!0);const Te={isOk:!1,notOkResponses:ne(b),comments:$,callId:K,type:_e};de(A(Te)).then(()=>{x&&L({teamId:x,callId:K,results:{summary:B.Bad,...Te}}),ee(!1),N==null||N()})},[K,b,N,x,$,de,_e]),ae=(0,v.useCallback)(()=>{de(A({isOk:!1,notOkResponses:[h.Dismiss],callId:K,type:_e})),N==null||N()},[N,K,_e,de]),Ee=(0,v.useCallback)(Te=>Z(Te),[]),ye=!!b[h.SomethingElse];return v.createElement(H.dW,{closeModal:ae,showCloseButton:!0,centered:!0,maxWidth:600},v.createElement(v.Fragment,null,v.createElement(H.rQ,null,v.createElement(H.Rc,{title:G.t("What went wrong?")})),v.createElement(H.$m,null,v.createElement(H.qf,null,ue.map(Te=>{let{value:Ae,text:Ie}=Te;return v.createElement(w.A,{text:Ie,key:Ae,id:Ae,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},v.createElement(M.A,{name:Ae,value:Ae,checked:!!b[Ae],onChange:Ue=>z(Be=>({...Be,[Ae]:Ue.target.checked}))}))}),ye&&v.createElement(w.A,{className:"padding_top_75",text:G.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},v.createElement(F.A,{name:"details",id:"details",onChange:Ee,value:$})))),v.createElement(H.jl,null,v.createElement(J.A,{href:`${se}/privacy-policy`,target:"_blank"},G.t("Privacy Policy")),v.createElement(H.ox,null,v.createElement(T.$n,{onClick:ae,type:"outline"},G.t("Dismiss")),v.createElement(T.lV,{loading:U,onClick:pe},G.t("Send"))))))},"HuddleSurveyModal");te.displayName="HuddleSurveyModal";const le=(0,X.A)(te);var he=e(5286203919);const fe=(0,n.Ay)("Close the mini survey after a postive response",(oe,N,K)=>{let{channelId:x}=K;(0,s.dispatchForClientStore)((0,o.Rh)({channelId:x,optimisticHuddleState:null,huddleState:a.RJ.NOT_STARTED}))});fe.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const ve=(0,n.Ay)("Set the date for when the user last saw the huddle survey",(oe,N,K)=>{let{timeSeen:x}=K;oe((0,r.AZ)({pref:"huddle_survey_last_seen",value:x}))});ve.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const me=(0,n.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(oe,N,K)=>{let{result:x}=K;const b=(0,s.getStateForClientStore)(),z=(0,he.E9)(b),$=(0,he.hc)(b),Z=(0,he.l4)(b),U=u.HuddleSurvey;let ee=a.RJ.NOT_STARTED,se;switch(x){case"bad":z&&oe(le({callId:z}));break;case"good":ee=a.RJ.SURVEY_GOOD,oe(A({isOk:!0,callId:z,type:U})),se=B.Good;break;case"dismiss":se=B.Dismiss,oe(A({isOk:!1,callId:z,notOkResponses:[h.Dismiss]}));break;default:}se&&L({teamId:Z,callId:z,results:{summary:se}}),(0,s.dispatchForClientStore)((0,o.Rh)({channelId:$,optimisticHuddleState:null,huddleState:ee})),(0,t.Ay)({getState:N}).info(d.o7,`Marking huddle as ${ee} in component: huddle-survey`)});me.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},6741408957:(Q,C,e)=>{"use strict";e.d(C,{GD:()=>h,Ss:()=>A,iz:()=>f});var t=e(3398586081),n=e(1289024643),s=e(4540171876),r=e(6422693406),d=e(3037015781),o=e(8352634987),a=e(1031947056),l=e(6533394955),m=e(9640070512),c=e(2527782504),_=e(5286203919),p=e(5881236351);const u=i((y,T)=>(0,l.dispatchForTeamId)(y,(0,s.Db)({callIds:T,reason:"all-calls-store/conditional-fetch"})).then(M=>M.map(O=>(0,l.dispatchForTeamId)(y,(0,n.oU)(O)))),"fetchAndUpsert"),h=(0,t.A)(()=>new o.Ay({storeKey:"allCalls",fetch:u,isEnabled:()=>!0})),E=i((y,T)=>{const M=T.map(O=>((0,l.dispatchForTeamId)(y,(0,n.oU)(O)),O.id));h().markObjectsAsFresh(y,M)},"upsertCalls"),A=(0,t.A)(()=>new d.Ay({fetch:(y,T)=>(0,l.dispatchForTeamId)(y,(0,s.Db)({callIds:T,reason:"all-calls-store/unknown-fetch"})),upsertKnown:E,upsertNonExistent:(y,T)=>E(y,T.map(M=>{let{id:O}=M;return{id:O,name:""}}))}));let v=0;const f=(0,a.Ay)("Set a huddle topic",(y,T,M)=>{let{channelId:O,topic:I}=M;const D=(0,l.getStateForClientStore)();if((0,_.aS)(D))return y((0,p.Jc)(I)),r.S.resolve();const P=(0,_.E9)(D);if(!P)return r.S.reject(new Error(`No callId for channel ${O}`));y((0,p.Jc)(I)),v+=1;const k=v;return y((0,s.xB)({roomId:P,name:I})).then(()=>y((0,n.oU)({id:P,name:I}))).finally(()=>{k===v&&y((0,p.Jc)(null)),y((0,m.H)({focusKey:c.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});f.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const g={fetchAndUpsert:u}},666760496:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(9706240641),n=e.n(t),s=e(4540171876),r=e(6422693406),d=e(1031947056),o=e(387328355),a=e(6533394955),l=e(9548972574),m=e(7723800688),c=e(6244014364),_=e(56548687),p=e(6470070112);const u=(0,d.Ay)("Notify members to join huddle",function(){var E=(0,t.coroutine)(function*(A,v,f){let{channelId:g,userIds:y}=f;const T=[];if(y&&y.length>0){y.forEach(R=>{A((0,o.oN)({userId:R})),T.push(new r.S((V,B)=>{A((0,s.OB)({userId:R,channelId:g,reason:"huddle-notify-member"})).then(V).catch(W=>{const L=new Error(W.message);L.invitedMemberId=R,L.inviteRejectionReason=W.name,B(L)})}))});const M=(0,a.getStateForClientStore)(),O=v(),I=(0,l.Yw)(O,g),D=(0,p.$t)(O,{huddleId:I==null?void 0:I.id}),P=(0,p.kn)(M),k=(0,p.UE)(M);(0,_.e)({state:O}).track(c.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:m.Hi.INVITATION_SENT},action:c.UiAction.INVITE_PEOPLE},calls:k},invited_user_ids:y,...D,...P})}return r.S.all(T).then(M=>M)});return function(A,v,f){return E.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const h=u},1070786785:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>l,V3:()=>o,kb:()=>a});var t=e(1031947056),n=e(6533394955),s=e(6134475965),r=e(5286203919);const d=(0,t.Ay)("End huddle for channelId if any",(m,c,_)=>{const p=(0,n.getStateForClientStore)(),u=(0,r.hc)(p);u&&u===_&&m((0,s.A)())});d.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const o=(0,t.Ay)("End last active huddle for channelId if any",(m,c,_)=>{var p;const u=(0,n.getStateForClientStore)(),h=(p=(0,r.Qn)(u))===null||p===void 0?void 0:p.channelId,E=(0,r.Ak)(u);(h&&h===_||E===null&&h&&h!==_)&&m((0,s.A)())});o.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const a=(0,t.Ay)("End huddle for call Id and channelId if any",(m,c,_)=>{let{channelId:p,callId:u}=_;const h=(0,n.getStateForClientStore)(),{channelId:E,callId:A}=(0,r.Qn)(h)||{};E&&E===p&&A===u&&m((0,s.A)())});a.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const l=d},9864164947:(Q,C,e)=>{"use strict";e.d(C,{Gt:()=>W,Ho:()=>k,LW:()=>P,Md:()=>O,OF:()=>F,Ux:()=>V,Wf:()=>w,dr:()=>v,fH:()=>I,gA:()=>D,gV:()=>S,qc:()=>R,rV:()=>B,s5:()=>L});var t=e(6998663753),n=e(5950652755),s=e(1031947056),r=e(2778217221),d=e(796111729),o=e(8664881451),a=e(2854284421),l=e(2047021170),m=e(3986753718),c=e(7022928841),_=e(5332875232),p=e(2791814261),u=e(5387083734),h=e(735940183);const E=(0,d.Wo)({label:"HUDDLE-SOUNDS"}),A=[a.o8,a.CZ,a.Ji,a.PV,a.wg,a.sQ,a.o3,a.nP,a.zd,a.qP],v=(0,t.A)(()=>{(0,u.IE)("pre-cache-huddles-sounds",()=>{A.forEach(j=>{E.info(`Adding huddle sound effect to in-memory cache: ${j}`),(0,o.qG)(j)})},{delay:1e3})}),f=(0,n.A)(function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(j?a.Ji:a.o8,{loop:!1})},7e3,{leading:!0,trailing:!1}),g=(0,n.A)(function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(j?a.PV:a.CZ,{loop:!1})},7e3,{leading:!0,trailing:!1}),y=(0,n.A)(function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(j?a.DT:a.o,{loop:!1})},0,{leading:!0,trailing:!1}),T=(0,n.A)((j,J,X)=>{let q=J?a.sQ:a.wg;const G=.25,ne=(0,p.L)(X),te=(0,_.DR)(X);J&&j==="gong"&&te&&ne&&(q=a.o3);const le=(0,_.Ey)(X);J&&j==="duck"&&le&&ne&&(q=a.nP),(0,o.ZH)(q,{loop:!1,volume:G})},5e3,{leading:!0,trailing:!1}),M=i(j=>!(0,l.ty)(j,"mute_huddle_sounds"),"canPlayHuddleSound"),O=(0,s.Ay)("Play sound when user joins",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnUserJoin"),f(!1))});O.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const I=(0,s.Ay)("Play sound when user leaves",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnUserLeft"),g(!1))});I.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const D=(0,s.Ay)("Play sound when you join",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnYouJoin"),f(!0))});D.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const P=(0,s.Ay)("Play sound when you leave",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnYouLeft"),g(!0))});P.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const k=(0,s.Ay)("Play sound when user mutes the mic using keyboard shortcut",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnMicMute"),y(!0))});k.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const R=(0,s.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnMicUnmute"),y(!1))});R.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const V=(0,s.Ay)("Play sound when reaction is received",(j,J,X)=>{let{emoji:q,isEffect:G}=X;const ne=J();(0,l.ty)(ne,"huddles_reactions_play_sound")&&M(ne)?((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnReaction"),T(q,G,ne)):(0,d.Ay)({getState:J}).info(r.o7,"did not playSoundOnReaction")});V.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const B=(0,s.Ay)("Plays the huddle invite sound",(j,J)=>{const X=J();(0,m.YX)(X)||!M(X)||(0,o.ZH)((0,c.qF)(X))});B.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const W=(0,s.Ay)("Plays the huddle new requester sound",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playHuddleNewRequesterSound"),(0,o.ZH)(a.rT,{loop:!1}))});W.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const L=(0,s.Ay)("Plays the huddle request accepted sound",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playHuddleNewRequestAcceptedSound"),(0,o.ZH)(a.rT,{loop:!1}))});L.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const S=(0,s.Ay)("Plays the huddle request expired sound",(j,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playHuddleNewRequestExpiredSound"),(0,o.ZH)(a.xE,{loop:!1}))});S.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const H=i(j=>{let J={onSound:void 0,offSound:void 0};switch(j){case"ja-JP":J={onSound:a.Q6,offSound:a.uv};break;case"es-LA":case"es-ES":J={onSound:a.ll,offSound:a.PK};break;default:J={onSound:a.sH,offSound:a.IZ};break}return J},"getHuddleSounds"),w=(0,s.Ay)("Plays the huddle recording on sound",(j,J)=>{if(!(0,_.bM)(J()))return;const q=(0,h.Yp)(),{onSound:G,offSound:ne}=H(q);G&&ne&&((0,o.ds)(G),(0,o.ds)(ne),(0,o.ZH)(G,{loop:!1}))});w.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const F=(0,s.Ay)("Plays the huddle recording off sound",(j,J)=>{if(!(0,_.bM)(J()))return;const q=(0,h.Yp)(),{onSound:G,offSound:ne}=H(q);G&&ne&&((0,o.ds)(G),(0,o.ds)(ne),(0,o.ZH)(ne,{loop:!1}))});F.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},4156857608:(Q,C,e)=>{"use strict";e.d(C,{a:()=>p});var t=e(1031947056),n=e(6533394955),s=e(4250409994),r=e(7434063642),d=e(8783285437),o=e(6758774099),a=e(1990810649),l=e(387328355),m=e(8872167513),c=e(2709531527),_=e(5795074931);const p=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(u,h,E)=>{let{emoji:A,reactionType:v=a.o.Standard}=E;if(v===a.o.Sticker)u((0,r.Kp)({emoji:A})),(0,n.dispatchForClientStore)((0,s.M4)(A));else{(0,n.dispatchForClientStore)((0,s.nU)({emoji:A,reactionType:v})),u((0,l._x)({peerId:"self",emoji:A,isEmoji:!0,reactionType:v}));const{huddleEventsTrace:g}=(0,m.A)().getAllTraceHandlers();g==null||g.update({name:c.p.REACTION,type:c.G.ONCE,tags:{reactionType:v}})}const f=(0,_.WR)(h());f&&u((0,o.U$)({type:d.v.SEND_REACTION,memberId:f,timestampMs:Date.now(),emoji:A}))});p.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1049642794:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(9706240641),n=e.n(t),s=e(8571983633),r=e(1031947056),d=e(6533394955),o=e(8847766420),a=e(2778217221),l=e(4250409994),m=e(6694086724),c=e(5286203919),_=e(571104883),p=e(796111729),u=e(462591818),h=e(7434063642),E=e(6251210828),A=e(387328355),v=e(9365970888),f=e(3065433701),g=e(700984029);const y=(0,r.Ay)("Enable or disable local microphone",function(){var M=(0,t.coroutine)(function*(O,I,D){const P=(0,d.getStateForClientStore)(),k=I(),R=(0,p.Ay)({state:k}),V=(0,v.Hc)(k);if((0,E.RT)(k)||O((0,h.G4)({canShowMutedBanner:!0})),(0,_.y3)()||(yield(0,d.dispatchForClientStore)((0,g.e$)({mediaResourceType:u.mT.MICROPHONE}))),R.info(a.o7,`Set microphone to ${D}`),V&&D){R.warn(a.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,_.y3)()?O((0,f.CE)({alert:f.vT.NoSystemAudio})):O((0,f.CE)({alert:f.vT.NoBrowserAudioPermission}));return}const{teamId:W}=(0,c.Qn)(P)||{};if(W&&W!==(0,o.ZT)(k)){(0,d.dispatchForTeamId)(W,y(D));return}(0,s.A)(D)||((0,d.dispatchForClientStore)((0,l.I9)(D)),D&&(0,c.wQ)(P)&&O((0,m.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),O((0,A.kT)({id:"self",isMicrophoneEnabled:D}))});return function(O,I,D){return M.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const T=y},8746998952:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(1031947056),n=e(6422693406),s=e(796111729),r=e(9190452268),d=e(1452921056),o=e(5319025363),a=e(6533394955),l=e(6470070112),m=e(5286203919),c=e(5933621899),_=e(9680914051),p=e(8330768070),u=e(6259241484),h=e(716227588),E=e(1655938719),A=e(5332875232),v=e(5881236351),f=e(9712681361);const g=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(M,O,I)=>{let{channelId:D,threadTs:P,muted:k,callId:R,forceFocus:V,entryPoint:B,forceConfirmation:W,markTelemeter:L,isMultiDevice:S,isStandaloneHuddle:H}=I;const w=i(()=>{var F;L&&(0,r.Cy)({state:O()}).mark(_.qr),(F=M((0,d.A)({channelId:D,threadTs:P,muted:k,callId:R,forceFocus:V,entryPoint:B,isMultiDevice:S,isStandaloneHuddle:H})))===null||F===void 0||F.catch(j=>{(0,s.Ay)({getState:O}).error("Could not start huddle",j)})},"onConfirm");if((0,l.Qj)(O(),D,P)||W){P?M((0,E.iR)({event:{type:u.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,h.Hp)(O(),u.xu.LAUNCH_MODAL)===u.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?M((0,c.Wx)({channelId:D??"",onConfirm:w})):w()}):M((0,p.Oe)({channelId:D??"",onConfirm:w}));return}w()});g.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const y=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(M,O,I)=>{const{channelId:D}=I,P=O(),k=(0,A.pL)(P),R=(0,a.getStateForClientStore)(),V=(0,m.hc)(R),B=(0,m.EG)(R),W=(0,m.$V)(R),L=(0,l.r5)(P,{channelId:D});if(M((0,o.z)()),V&&D!==V&&!W)return M((0,p.Y6)({prevChannelId:V,nextChannelId:D??"",onConfirm:()=>{M(g({...I,markTelemeter:!1}))}}));if(k&&L){M((0,v.$Z)({channelId:D??"",onConfirm:S=>{let{isMultiDevice:H}=S;return M(g({...I,markTelemeter:!1,isMultiDevice:H}))}}));return}return V&&D===V&&B===f.RJ.STARTED?n.S.resolve():M(g({...I,markTelemeter:!0}))});y.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const T=y},1452921056:(Q,C,e)=>{"use strict";e.d(C,{A:()=>oe});var t=e(9706240641),n=e(92886754);let s=null;const r=i(()=>s,"getOpenChannelId"),d=i(N=>{s=N},"setOpenChannelId");var o=e(3134334389),a=e(2562405183),l=e(3051824855),m=e(825587348),c=e(8739505998),_=e(4481313819),p=e(6244014364),u=e(6968387112),h=e(735940183),E=e(3078708518),A=e(4761125736);const v=new h.Ay("huddles");function f(N){let{closeModal:K}=N;const x=(0,a.d4)(E.A),b=(0,a.d4)(Z=>(0,A._Z)(Z,"adoption_instant_slack"))==="treatment";let z,$;if((0,n.yh)())z=v.t("Your browser does not support Huddles"),$=x&&b?v.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},Z=>{let{text:U}=Z;return o.createElement(c.A,{href:"https://www.google.com/chrome"},U)}):v.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},Z=>{let{tag:U,text:ee}=Z;switch(U){case"desktop-link":return o.createElement(c.A,{href:`https://${(0,u.qF)()}/downloads`},ee);case"chrome-link":return o.createElement(c.A,{href:"https://www.google.com/chrome"},ee);default:return null}});else if((0,n.WT)())z=v.t("Please update Slack"),$=v.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return o.createElement(_.A,{eventId:p.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:p.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},o.createElement(m.A,{onClose:K,onSubmit:K,showCancelButton:!1,showSubmitButton:!0,title:z,submitButtonText:v.t("OK")},$))}i(f,"HuddleUnsupportedAlert"),f.displayName="HuddleUnsupportedAlert";const g=(0,l.e)(f);var y=e(6422693406),T=e(1031947056),M=e(5881236351),O=e(5378147939),I=e(6758774099),D=e(8847766420),P=e(1289024643),k=e(7304871158);const R=(0,T.Ay)("End active call",(N,K)=>{const x=(0,P.J2)(K());if(x){const b=(0,P.Ms)(x);b&&!b.isClosed()&&(0,k.R)(b,"endActiveCall")}});R.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var V=e(9640070512),B=e(2527782504),W=e(2832209848),L=e(7843142872),S=e(6533394955),H=e(9548972574),w=e(8935621861),F=e(5332875232),j=e(5795074931),J=e(2791814261),X=e(5286203919),q=e(9712681361),G=e(7723800688),ne=e(56548687),te=e(6470070112),le=e(5470425448),he=e(5071086688),fe=e(4250409994),ve=e(8872167513);const me=(0,T.Ay)("Start huddle",function(){var N=(0,t.coroutine)(function*(K,x,b){let{channelId:z,threadTs:$,muted:Z,callId:U,forceFocus:ee,entryPoint:se=q.su.UNKNOWN,isMultiDevice:de,isStandaloneHuddle:ue}=b;(0,S.dispatchForClientStore)((0,fe.t2)(!1));const _e=x();if(K(R()),K((0,I.Lm)(!1)),K((0,I.T3)()),(0,n.WT)()||(0,n.yh)())return K(g()),y.S.resolve();K((0,L.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,F.Ms)(_e),interactionType:W.X8.Click})),r()!==z&&K((0,M.Es)({channelId:z??"",open:!1}));const pe=(0,J.L)(_e),ae=(0,D.ZT)(_e);(0,ve.A)().initializeTraces({teamId:ae,isTinySpeck:pe});const Ee=!!(0,X.gj)((0,S.getStateForClientStore)()),Le=yield w.A.getInstance().getNearestChimeMediaRegion(ae),{ttiTrace:ye,huddleEventsTrace:Te}=(0,ve.A)().getAllTraceHandlers();ye.addTTIMetaTags({entryPoint:se,preferredMediaRegion:Le,isPrejoin:Ee,isCreate:!(0,H.Yw)(_e,z)}),Te==null||Te.recordEntryPoint(se),he.A.publish({type:le.lx.PreferredMediaRegion,update:{mediaRegionPreferred:Le}});const Ae=(0,O.A)(),Ie=(0,F.Q3)(_e),Ue=(0,j.WR)(_e);return Ae.start(ae,z??"",Z,U,$,Ie,de,ue).then((0,t.coroutine)(function*(){const Be=(0,S.getStateForClientStore)(),we=(0,te.$t)(_e,{huddleId:U}),re=(0,te.kn)(Be),ge=(0,te.UE)(Be);(0,ne.e)({state:_e}).track(p.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:se,ui_properties:{element_name:G.Hi.CANVAS_JOIN},action:p.UiAction.TOGGLE},calls:ge},...we,...re}),K((0,V.H)({focusKey:B.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:ee})),K((0,M.xb)(!1)),U&&K((0,P.r_)({callId:U,userId:Ue}))}))});return function(K,x,b){return N.apply(this,arguments)}}());me.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const oe=me},5319025363:(Q,C,e)=>{"use strict";e.d(C,{z:()=>r});var t=e(1031947056),n=e(7022928841),s=e(8664881451);const r=(0,t.Ay)("Stop the huddle invite sound",(d,o)=>{(0,s.ds)((0,n.qF)(o()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},6694086724:(Q,C,e)=>{"use strict";e.d(C,{e:()=>c});var t=e(1031947056),n=e(796111729),s=e(4869203191),r=e(4250409994),d=e(6533394955),o=e(5332875232),a=e(5286203919),l=e(7434063642),m=e(6251210828);const c=(0,t.Ay)("Stops huddle lounge music from playing",(_,p,u)=>{let{clearOnEndedCallback:h,logContext:E,isStoppedByUser:A}=u;const v=p(),f=(0,n.Ay)({state:v}),g=(0,o.Q3)(v),y=(0,o.CI)(v),T=(0,m.jr)(v),M=(0,m.K8)(v),O=(0,d.getStateForClientStore)(),I=(0,a.E9)(O);s.Ay.getInstance({experimentHuddlesLoungeMusicPlayerGroupOn:g}).stopMusic({clearOnEndedCallback:h,logger:f,logContext:E}),(0,d.dispatchForClientStore)((0,r.Ag)(!1)),A&&I&&_((0,l.sH)({huddleId:I,hasUserStoppedLoungeMusic:A})),y&&(A||M)&&T&&_((0,l.ju)({stopMusic:!0}))});c.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6134475965:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(1031947056),n=e(5378147939),s=e(6533394955),r=e(6694086724),d=e(6855917924),o=e(5332875232),a=e(4250409994),l=e(7366481123);const m=(0,t.Ay)("Stop the active huddle",(_,p)=>{const u=p(),h=(0,o.lV)(u);return(0,s.dispatchForClientStore)((0,a.yi)({})),_((0,d.A)()),_((0,r.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),h&&(0,s.dispatchForClientStore)((0,a.JM)()),_((0,l.LL)(l.vT.HiddenUserJoinedHuddle)),(0,n.A)().stop()});m.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const c=m},6310192986:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>x,vP:()=>oe});var t=e(6313685253),n=e(9137897911),s=e(3398586081),r=e(716022512),d=e(6696292586),o=e(4518410378),a=e(9548972574),l=e(8233775522),m=e(6470070112),c=e(3245843483),_=e(5286203919),p=e(4988306802),u=e(9012396182),h=e(9101533895),E=e(6533394955),A=e(2767624118),v=e(6664301844),f=e(7429662208),g=e(387328355),y=e(1990810649),T=e(9365970888),M=e(6117529990),O=e(8736071954),I=e(610288365),D=e(5332875232),P=e(6251210828),k=e(2465464861),R=e(571104883),V=e(9195837907),B=e(1473609332),W=e(3193155968),L=e(6839188756);function S(b){return b?(0,L.tc)(b)?"free":(0,L.r7)(b)?"enterprise":"pro":"unknown"}i(S,"getTeamTier");var H=e(3677514771),w=e(4724591729),F=e(4761125736),j=e(8634352961),J=e(415910655),X=e(5795074931),q=e(7366481123);const G=navigator.hardwareConcurrency,ne=navigator.platform,te=(0,R.zS)(),le=(0,w.b3)(),he=(0,w.$i)(),fe=i(b=>(0,t.A)(b,(z,$,Z)=>{if(Z===W.N2)return z;const U=Z.split(/-|_/).slice(0,-1).join("-"),ee=(0,n.A)(`windows-${U}-count`);return z[ee]?z[ee]+=1:z[ee]=1,z},{}),"countWindowsByType"),ve=i(b=>{if(!b)return"";let z=b;const $=/Default -/g;z=b.replace($,"");const Z=/ *?\([^)]*?\) *?/g;return z=z.replace(Z,""),z=z.trim(),z},"scrubDeviceLabelForReporting");let me;const oe=i(()=>me,"getMostRecentStableTags"),N=(0,s.A)((b,z)=>{let{teamState:$,clientState:Z}=b;var U,ee,se,de,ue,_e,pe;const ae=(0,_.E9)(Z),Ee=(0,_.hc)(Z),Le=(0,M.OV)($),ye=(0,D.MJ)($),Te=(0,D.nC)($),Ae=(0,D.ZI)($),Ie=(0,D.DP)($),Ue=(0,D.JQ)($),Be=(0,F._Z)($,"huddles_h264_baseline",!1),we=(0,F._Z)($,"huddles_h264_baseline_screenshare",!1),re=(0,D.Cu)($),ge=v.zF.sdkVersion,De=(0,m.R8)($),be=(0,D.Qq)($),xe=(0,_.sQ)(Z),Re=(0,D.Jf)($),je=(0,F._Z)($,"huddles_filter_worker",!1),Ge=(0,_.l4)(Z),Qe=(0,H.H7)($),Xe=S(Qe);var et;const rt=(et=(U=(0,u.getBootedWorkspaces)(Z))===null||U===void 0?void 0:U.length)!==null&&et!==void 0?et:0,it=(0,B.Bh)(),lt=(it==null||(ee=it.deviceIdPriorities)===null||ee===void 0||(se=ee.camera)===null||se===void 0?void 0:se.length)||0,ot=(it==null||(de=it.deviceIdPriorities)===null||de===void 0||(ue=de.microphone)===null||ue===void 0?void 0:ue.length)||0,Et=(it==null||(_e=it.deviceIdPriorities)===null||_e===void 0||(pe=_e.output)===null||pe===void 0?void 0:pe.length)||0,At=(0,h.D5)($),Ot=(At==null?void 0:At.length)||0,Rt=(0,J.s2)()||{},yt=(0,R.pr)(),Mt={teamId:Ge,huddleId:ae,huddleChannelId:Ee,workspaceCount:rt,chimeSdkVersion:ge,teamTier:Xe,isPreWarmed:be,isPrejoin:xe,isHuddlesIncreaseMaxParticipantsEnabled:Te,isTranscriptAllowed:De,isChimeSdkExpEnabled:Le,isHuddlesLaterEnabled:ye,isVideoQualityIncreaseEnabled:Re,disableAudioRedundancyGroup:Ue,h264BaselineGroup:Be,h264BaselineScreenshareGroup:we,isDevicesExpEnabled:Ae,isRtmFilteringEnabled:Ie,osPlatform:ne,osVersion:te,devicePriorityListCameraCount:lt,devicePriorityListMicrophoneCount:ot,devicePriorityListSpeakerCount:Et,envIsJsPath:le,envIsQa:he,xwsChannelCount:Ot,isAv1ScreenshareEnabled:re,filterWorkerGroup:je,isCitrixBrowser:yt,...Rt};return me=Mt,Mt},(b,z)=>z),x=i(b=>{let{state:z,appMetrics:$}=b;var Z,U,ee,se,de,ue,_e,pe;const ae=(0,E.getClientStoreInstance)().getState(),Ee=(0,_.cN)(ae),Le=(0,_.E9)(ae),ye=`${Ee}${Le??""}`,Te=N({teamState:z,clientState:ae},ye),{huddleId:Ae,huddleChannelId:Ie,workspaceCount:Ue,isRtmFilteringEnabled:Be}=Te,we={},re=(0,f.e6)(z),ge=re?(0,f.Le)(z,{tab:re}):{},{primary:De,secondary:be,sidebar:xe}=ge||{};Object.assign(we,{viewPrimary:De==null?void 0:De.viewType,viewSecondary:be==null?void 0:be.viewType,viewSidebar:xe==null?void 0:xe.viewType,viewTab:re});const Re=(0,T.Hc)(z),je=(0,T.AZ)(z),Ge=(0,T.IO)(z),Qe=(0,T.JM)(z),Xe=(0,T.SR)(z),et=(0,T.f3)(z),rt=(0,T.aA)(z),it={microphoneIsBlocked:Re,microphoneIsAvailable:je,cameraIsBlocked:Xe,cameraIsAvailable:et,isMicrophoneBluetooth:Ge,isSpeakerBluetooth:Qe,isMicrophoneAndSpeakerOnSameDevice:rt},lt=(0,l.fq)(z),ot={};if(lt){const ce=Object.keys(lt);Object.assign(ot,{windowsTotalOpen:ce.length,windowsOpenTypes:ce.length?ce.join(" "):"",windowsTypeWithFocus:(0,r.A)(lt,Ce=>!!Ce.isFocused),...fe(lt)})}const Et=(0,m.Fm)(z),At=Et&&Et.type===q.vT.AudioOnlyModeRecommended,Ot=(0,k._R)(z),Rt=Ot!==null,yt={isTroubleshootingPanelOpen:Rt,isAudioOnlyModeEnabled:(0,_.Rv)(ae),troubleshootingPanelTab:Rt?(0,k.Eh)(z):null,troubleshootingPillPage:(0,k.Wg)(z),troubleshootingEntryPointWas:(0,k.qV)(z),troubleshootingSessionId:Rt?`${(0,X.WR)(z)}${Ae}:${(0,k.$i)(z)}`:null,troubleshootingBannerInView:At,troubleshootingSource:Ot},Mt=(0,a.UK)(z),en=(Z=(0,T.ql)(z,O.lW.Camera))===null||Z===void 0?void 0:Z.label,Tt=(U=(0,T.ql)(z,O.lW.Microphone))===null||U===void 0?void 0:U.label,xt=(ee=(0,T.ql)(z,O.Q4))===null||ee===void 0?void 0:ee.label,{isScreenshareEnabled:bt,isHostDrawEnabled:nn,isHostDrawRendererActive:dn,isCameraEnabled:Xt,isMicrophoneEnabled:jt,isConnected:_n}=(0,g.Ng)(z),ze=!!bt,Dt=!!Xt,hn=(0,g.fU)(z,{id:"self"}),yn=(0,g.MY)(z),ht=yn==="self",Bt=Mt.filter(ce=>ce.isCameraEnabled).length,wt=(0,A.H)(Ie),Qt=(0,B.Bh)(),mn=Dt&&(Qt==null||(se=Qt.video)===null||se===void 0?void 0:se.effect)===V.t.Blur,On=!!(!(Qt==null||(de=Qt.audio)===null||de===void 0)&&de.enableNoiseSuppression),zt=On&&ht,nt=Dt&&(Qt==null||(ue=Qt.video)===null||ue===void 0?void 0:ue.effect)===V.t.Background&&(Qt==null||(_e=Qt.video)===null||_e===void 0?void 0:_e.effectBgKey)!==void 0,mt=!!yn,Ct=!!Bt,Ft=(0,g.nD)(z).length,Jt=!!Ft,rn=Ft+(ze?1:0),gn=rn===2,Fe=Jt||ze,Ke=(0,k.gA)(z),Ne=(0,p.VN)(z),He=(0,p.M3)(z),Je=mt?(pe=Mt.find(ce=>ce.id===yn))===null||pe===void 0?void 0:pe.userId:void 0,ft=o.J.document.visibilityState==="visible",Kt={isBackgroundBlurActive:mn,isNoiseSuppressionEnabled:On,isNoiseSuppressionActive:zt,isCustomVideoBackgroundActive:nt,isClosedCaptionsEnabled:Ne,isSideBySideCaptionsEnabled:He},St=Be?(0,j.zT)():void 0,cn=Be?(0,j.kB)():void 0,An=(0,j.oB)(),Ln={callId:Le,isMicrophoneEnabled:jt,isActiveSpeaker:ht,isSomeoneSpeaking:mt,isSomeoneSharingScreen:Fe,isVideoEnabledForSomeone:Ke,isSharingScreen:ze,isHostDrawEnabled:nn,isHostDrawActive:dn,isSelfVideoEnabled:Dt,isPeerVideoEnabled:Ct,isHuddleWindowVisible:wt,selectedCamera:ve(en),selectedMicrophone:ve(Tt),selectedSpeakers:ve(xt),activeSpeakerUserId:Je,isPeerSharingScreen:Jt,isDualScreenshareActive:gn,cpuCount:G,remotePeerCount:Mt.length,remotePeersWithVideoCount:Bt,peersScreensharingCount:Ft,activeScreenshareCount:rn,workspaceCount:Ue,huddleStartTimestamp:Ee,isDisconnected:_n===!1,isMainWindowVisible:ft,rtmPercentSkipped:St,rtmTopAllowedTypes:cn,rtmRatePerSecond:An};let It={};if($){const{cpu:ce,memory:Ce,gpu:ke,thermalState:st,speedLimit:dt}=$,Ze=(0,d.A)(ce)?Math.round(ce*G):void 0,Lt=(0,d.A)(ke)?Math.round(ke*G):void 0,{useHwAcceleration:Gt}=(0,c.oQe)("settings")||{};It={cpuUseRelative:ce?Math.round(ce):void 0,cpuUse:Ze,gpuUse:Lt,memoryUse:(Ce==null?void 0:Ce.workingSetSize)||void 0,isHardwareAccelerationEnabled:Gt,osThermalState:st,osSpeedLimit:dt,osIsThrottlingCpu:dt&&dt!==0?dt<30:void 0}}let qe={huddleViewMode:(0,P.HH)(z,{huddleId:Ae})};if(wt){var ct;const ce=(0,P.Ec)(z,{huddleId:Ae}),Ce=(0,P.SC)(z,{huddleId:Ae,surface:ce});qe={...qe,huddleWindowSurface:ce,huddleWindowFocusedContentType:(hn==null||(ct=hn.item)===null||ct===void 0?void 0:ct.type)||y.cM.None,huddleWindowIsFullscreen:(0,P.g0)(z),huddleWindowIsSelfDrawingEnabled:(0,P.ny)(z),huddleWindowWindowHeight:Ce==null?void 0:Ce.height,huddleWindowWindowWidth:Ce==null?void 0:Ce.width}}const vt=(0,I.Ay)(),Oe={batteryIsUsing:vt.isUsingBatteryPower(),batteryPercentRemaining:vt.getLevel()};return{...Ln,...Kt,...It,...qe,...we,...it,...Oe,...yt,...ot,...Te}},"getHuddleStateSnapshot")},4742719639:(Q,C,e)=>{"use strict";e.d(C,{o:()=>d});var t=e(2384831516),n=e(9548972574),s=e(8847766420),r=e(6741408957);const d=(0,t.Mz)((o,a)=>{const l=(0,n.dy)(o);if(l)return l;const m=(0,n.Yw)(o,a);if(!m)return null;const c=(0,s.ZT)(o);return m.name===void 0?((0,r.Ss)().fetchObjectWithId(c,m.id),null):((0,r.GD)().maybeRefetch(c,m.id),m.name)});d.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(o,a)=>{const l=(0,n.dy)(o);if(l)return l;const m=(0,n.Yw)(o,a);if(!m)return null;const c=(0,s.ZT)(o);return m.name===void 0?((0,r.Ss)().fetchObjectWithId(c,m.id),null):((0,r.GD)().maybeRefetch(c,m.id),m.name)}}},1766818988:(Q,C,e)=>{"use strict";e.d(C,{I:()=>c,s:()=>m});var t=e(3398586081),n=e(3677514771),s=e(340763958),r=e(1407713935),d=e(6839188756),o=e(6303366080),a=e(9101533895);const l=(0,t.A)((_,p)=>(0,d.tc)(_)&&(p==null?void 0:p.some(u=>(0,s.ju)(u)&&!(0,r.JM)(u)))),m=i(_=>{const p=(0,n.H7)(_),u=(0,a.DM)(_);return l(p,u)},"isHuddlesEnabledForSponsoredTeam"),c=i((_,p)=>{const u=(0,n.H7)(_);return!!p&&(0,d.tc)(u)&&(0,o.dE)(_,p)},"isHuddlesEnabledForSponsoredChannel")},1921074781:(Q,C,e)=>{"use strict";e.d(C,{F:()=>a});var t=e(9706240641),n=e.n(t),s=e(8571983633),r=e(6422693406),d=e(796111729),o=e(2778217221);class a{static getInstance(){if(!a.wakeLockManager)try{a.wakeLockManager=new a}catch(m){(0,d.Wo)({label:o.o7}).warn("Error instantiating WakeLockManager,",m.message)}return a.wakeLockManager}static doesInstanceExist(){return!(0,s.A)(a.wakeLockManager)}request(){var m=this;return(0,t.coroutine)(function*(){if(m.wakeLockSentinel)return r.S.resolve();m.wakeLockSentinel=yield m.wakeLock.request("screen").catch(c=>(m.logger.warn("WakeLock acquire failed",c.message),null)),m.addHandlers()})()}release(){var m=this;return(0,t.coroutine)(function*(){if(!m.wakeLockSentinel)return r.S.resolve();m.shouldRemoveVisibilityHandler=!0,yield m.wakeLockSentinel.release(),m.logger.info("WakeLock released")})()}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}handleWakeLockReleased(){var m=this;return(0,t.coroutine)(function*(){m.logger.info("WakeLock released by browser"),m.cleanupHandlers()})()}handleDocumentVisibilityChange(){var m=this;return(0,t.coroutine)(function*(){document.visibilityState==="visible"&&m.request()})()}constructor(){if(this.logger=(0,d.Wo)({label:o.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}i(a,"WakeLockManager")},8478954380:(Q,C,e)=>{"use strict";e.d(C,{Li:()=>u,ML:()=>d,Rt:()=>a,_6:()=>p,aS:()=>l,al:()=>o,bW:()=>c,it:()=>_,qO:()=>m});var t=e(2140362605),n=e(1031947056),s=e(5071086688),r=e(5470425448);const d=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");d.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const o=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");o.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const a=(0,n.Ay)("Set the screen sharing of a peer.",(h,E,A)=>{s.A.publish({type:r.lx.TroubleshootingEntryPoint,update:(A==null?void 0:A.entryPoint)||null}),h(o(A))});a.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const l=(0,t.Ay)("Sets active pill page for tracing.");l.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const m=(0,t.Ay)("Update stable metrics state");m.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const c=(0,t.Ay)("Update unstable metrics and warnings state");c.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const _=(0,t.Ay)("Update stable warnings state");_.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const p=(0,t.Ay)("Update stable alert state");p.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const u=(0,t.Ay)("Update unstable alert state");u.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},2465464861:(Q,C,e)=>{"use strict";e.d(C,{$i:()=>c,Eh:()=>a,FP:()=>v,Ku:()=>g,Wf:()=>A,Wg:()=>m,Z8:()=>o,_R:()=>l,cB:()=>h,gA:()=>y,h:()=>E,m:()=>f,qV:()=>_});var t=e(8161242485),n=e(2689960678),s=e(6790819894),r=e(7091646278),d=e(387328355);const o=3,a=(0,t.Ay)(T=>T.huddleTroubleshooting.view.activeAccordionView);a.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveAccordionView",description:T=>T.huddleTroubleshooting.view.activeAccordionView};const l=(0,t.Ay)(T=>T.huddleTroubleshooting.view.source);l.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelSource",description:T=>T.huddleTroubleshooting.view.source};const m=(0,t.Ay)(T=>T.huddleTroubleshooting.view.activePillPage);m.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPillPageTrace",description:T=>T.huddleTroubleshooting.view.activePillPage};const c=(0,t.Ay)(T=>T.huddleTroubleshooting.view.source?T.huddleTroubleshooting.view.openCounter:-1);c.meta={name:"createSelector",key:"createSelectorgetTroubleshootingSessionCounterIdTrace",description:T=>T.huddleTroubleshooting.view.source?T.huddleTroubleshooting.view.openCounter:-1};const _=(0,t.Ay)(T=>T.huddleTroubleshooting.view.entryPoint);_.meta={name:"createSelector",key:"createSelectorgetTroubleshootingEntryPointTrace",description:T=>T.huddleTroubleshooting.view.entryPoint};const p=(0,t.Ay)(T=>T.huddleTroubleshooting.view.alertCount>=o);p.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:T=>T.huddleTroubleshooting.view.alertCount>=o};const u=(0,t.Ay)(T=>T.huddleTroubleshooting.metrics.stable);u.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:T=>T.huddleTroubleshooting.metrics.stable};const h=(0,t.Ay)(T=>T.huddleTroubleshooting.metrics.unstable);h.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:T=>T.huddleTroubleshooting.metrics.unstable};const E=(0,t.Ay)(T=>T.huddleTroubleshooting.warnings.stable);E.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:T=>T.huddleTroubleshooting.warnings.stable};const A=(0,t.Ay)(T=>T.huddleTroubleshooting.warnings.unstable);A.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:T=>T.huddleTroubleshooting.warnings.unstable};const v=(0,t.Ay)(T=>T.huddleTroubleshooting.alerts.stable);v.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:T=>T.huddleTroubleshooting.alerts.stable};const f=(0,t.Ay)(T=>T.huddleTroubleshooting.alerts.unstable);f.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:T=>T.huddleTroubleshooting.alerts.unstable};const g=(0,s.F)(T=>v(T)||n.t0,T=>f(T)||n.t0,T=>E(T)||n.t0,(T,M,O)=>{const{isMicrophoneBlocked:I,isCameraBlocked:D,isDisconnected:P,isMicrophoneNotSendingAudio:k}=T,{isAudioQualityPoor:R,isCpuCompetitionPoor:V,isNetworkQualityPoor:B,networkQualityHealth:W}=M,{isCameraProbablyIphone:L,isSpeakerBluetooth:S}=O,H=!!(R&&B),w=!!(R&&V),F=!!(S&&R||D||I||k||L),j=!!(H||w||D||I||k||P),J=R||P?r.bz.Bad:W;return{shouldSurfaceGeneralWarning:j,shouldSurfaceSystemWarning:w,shouldSurfaceDevicesWarning:F,aggregateNetworkHealth:J}}),y=(0,s.F)(d.Ng,d.nt,(T,M)=>{const{isCameraEnabled:O}=T;return!!(O||M)})},7091646278:(Q,C,e)=>{"use strict";e.d(C,{ML:()=>n,bz:()=>s,pK:()=>t});var t;(function(r){r.Network="network",r.System="system",r.Devices="devices",r.Overview="overview"})(t||(t={}));var n;(function(r){r.EnlargedWindow="EnlargedWindow",r.CompactWindow="CompactWindow",r.MiniPlayer="MiniPlayer"})(n||(n={}));var s;(function(r){r.Good="good",r.Warn="warn",r.Bad="bad"})(s||(s={}))},7763971809:(Q,C,e)=>{"use strict";e.d(C,{V:()=>t});const t="identity_links_prefs"},2239896522:(Q,C,e)=>{"use strict";e.d(C,{IC:()=>l,Kb:()=>u,LG:()=>h,R1:()=>_,SU:()=>E,Xe:()=>p,bm:()=>c});var t=e(6790819894),n=e(8161242485),s=e(2047021170),r=e(8847766420),d=e(5597672932),o=e(796111729),a=e(7763971809);const l=(0,t.F)(A=>(0,s.ty)(A,a.V),A=>(0,r.ZT)(A),function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",v=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(A)}catch(f){return(0,o.Ay)({teamId:v}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",f),{}}}),m=(0,n.Ay)(A=>(0,d.x)(A,a.V));m.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:A=>(0,d.x)(A,a.V)};const c=(0,n.Ay)(A=>{const v=m(A);var f;return(f=v==null?void 0:v.is_enabled)!==null&&f!==void 0?f:!1});c.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:A=>{const v=m(A);var f;return(f=v==null?void 0:v.is_enabled)!==null&&f!==void 0?f:!1}};const _=(0,n.Ay)((A,v)=>{const f=l(A);var g;return(g=f==null?void 0:f[v])!==null&&g!==void 0?g:!1});_.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(A,v)=>{const f=l(A);var g;return(g=f==null?void 0:f[v])!==null&&g!==void 0?g:!1}};const p=(0,n.Ay)((A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.date_opted_out)!==null&&g!==void 0?g:null});p.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.date_opted_out)!==null&&g!==void 0?g:null}};const u=(0,n.Ay)((A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.completed_transfer)!==null&&g!==void 0?g:!1});u.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.completed_transfer)!==null&&g!==void 0?g:!1}};const h=(0,n.Ay)((A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.num_skipped)!==null&&g!==void 0?g:0});h.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.num_skipped)!==null&&g!==void 0?g:0}};const E=(0,n.Ay)((A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.date_disconnected)!==null&&g!==void 0?g:null});E.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(A,v)=>{const f=_(A,v);var g;return(g=f==null?void 0:f.date_disconnected)!==null&&g!==void 0?g:null}}},1469799399:(Q,C,e)=>{"use strict";e.d(C,{C:()=>p});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(796111729),o=e(8262898118),a=e(8031326843),l=e(2375333597),m=e(6591744424),c=e(97319433),_=e(2239896522);const p=(0,r.Ay)("Handle a user clicking on an identity link",function(){var u=(0,t.coroutine)(function*(h,E,A){let{url:v,channelId:f}=A;const g=(0,d.Ay)({getState:E}),y=(0,o.ND)(E(),v),T=(0,o.pF)(E(),v),M=(0,m.Z3)(E());if(!(0,o.w$)(E(),v)){window.open(v,"_blank","noopener,noreferrer");return}if(!y){g.error(`error getting appId for domain: ${T}`,v),window.open(v,"_blank","noopener,noreferrer");return}const O=(0,_.SU)(E(),y);if(!M||O){window.open(v,"_blank","noopener,noreferrer");return}if((0,_.Kb)(E(),y)){h((0,c.Ap)({appId:y,url:v,channelId:f,domain:T}));return}if((0,_.Xe)(E(),y)===null){h((0,l.q)({element:s.createElement(a.A,{appId:y,domain:T,url:v,channelId:f}),isStackable:!0}));return}window.open(v,"_blank","noopener,noreferrer")});return function(h,E,A){return u.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},97319433:(Q,C,e)=>{"use strict";e.d(C,{zL:()=>v,Ap:()=>A});var t=e(9706240641),n=e(1031947056),s=e(796111729),r=e(3810796320),d=e(5257368278),o=e(2927826522),a=e(4433296946);const l=(0,d.A)("Get SIWS transfer payload",(g,y,T)=>{let{appId:M,clientMsgId:O,url:I,channelId:D}=T;return g((0,r.o)({appId:M,clientMsgId:O,uri:I,reason:"siws-get-transfer-payload",channelId:D})).then(P=>({...(0,o.t)(P)})).catch(P=>{var k;throw((k=P.data)===null||k===void 0?void 0:k.error)==="invalid_client_cache"&&g((0,a._)()),P})});l.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};const m=l;var c=e(571104883),_=e(3134334389),p=e(2375333597),u=e(8031326843);const h=(0,n.Ay)("opens the Identity Transfer Modal when we want to Reverify Email",function(){var g=(0,t.coroutine)(function*(y,T,M){let{appId:O,domain:I,url:D,channelId:P}=M;y((0,p.q)({element:_.createElement(u.A,{appId:O,domain:I,url:D,channelId:P,reverifyEmail:!0}),isStackable:!0}))});return function(y,T,M){return g.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};const E={window:null,appId:void 0},A=(0,n.Ay)("Fetch and open the initialization URL for an identity link",function(){var g=(0,t.coroutine)(function*(y,T,M){let{appId:O,url:I,domain:D,clientMsgId:P,shouldCloseWindowOnCompletion:k=!1,channelId:R}=M;const V=(0,s.Ay)({getState:T,label:"IDENTITY_LINKS"});let B=null;try{if((0,c.y3)()){const{initiateUrl:W}=yield y(m({appId:O,clientMsgId:P,url:I,channelId:R}));window.open(W,"_blank","noopener,noreferrer")}else{B=window.open("","_blank");const{initiateUrl:W}=yield y(m({appId:O,clientMsgId:P,url:I,channelId:R}));B.location.href=W,V.info(`opened identity transfer window for appId ${O}`),k&&(E.window=B,E.appId=O)}}catch(W){const L=W==null?void 0:W.data;V.error(`error getting transfer payload for link with appId ${O}`,L==null?void 0:L.error),(L==null?void 0:L.error)===r.V.EmailNotVerified?(B==null||B.close(),y(h({appId:O,channelId:R,domain:D,url:I}))):B?B.location.href=I:window.open(I,"_blank","noopener,noreferrer")}});return function(y,T,M){return g.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const v=(0,n.Ay)("Close the browser window used for the identity transfer flow with the given app, if it exists",(g,y,T)=>{let{appId:M}=T;const O=(0,s.Ay)({getState:y,label:"IDENTITY_LINKS"});if(O.info(`checking if there's an identity transfer window to close for appId ${M}`),M&&E.appId===M&&E.window){try{var I,D;E==null||(I=E.window)===null||I===void 0||(D=I.close)===null||D===void 0||D.call(I),O.info(`closed identity transfer window for appId ${M}`)}catch(P){O.error(`error attempting to close identity transfer window for appId ${M}`,P)}E.window=null,E.appId=void 0}});v.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const f={lastOpenedWindowRef:E}},5973312896:(Q,C,e)=>{"use strict";e.d(C,{J:()=>a});var t=e(1031947056),n=e(387484329),s=e(796111729),r=e(475074488),d=e(2239896522),o=e(7763971809);const a=(0,t.Ay)("Set all or some identity links user prefs in single call",(l,m,c)=>{let{appId:_,completedTransfer:p,dateOptedOut:u,numSkipped:h,dateLastSkipped:E}=c;const A=(0,d.IC)(m()),v=(0,d.R1)(m(),_);let f="{}";const g={completedTransfer:p,dateOptedOut:u,numSkipped:h,dateLastSkipped:E};try{f=JSON.stringify({...A,[_]:{...v,...(0,r.Ay)(g)}})}catch(y){(0,s.Ay)({getState:m}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",y)}return l((0,n.AZ)({pref:o.V,value:f}))});a.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},9943020700:(Q,C,e)=>{"use strict";e.d(C,{$W:()=>m,$o:()=>E,Am:()=>h,At:()=>me,C2:()=>O,CO:()=>_,Cj:()=>A,DB:()=>te,Dx:()=>I,EX:()=>w,Fm:()=>p,GI:()=>c,IC:()=>V,I_:()=>o,KF:()=>le,KJ:()=>q,Lu:()=>G,OG:()=>u,Ot:()=>fe,Qk:()=>s,Qq:()=>N,RL:()=>k,TD:()=>ve,TW:()=>L,To:()=>D,Tt:()=>j,U_:()=>v,Uo:()=>J,VV:()=>a,XB:()=>R,ZE:()=>P,_L:()=>T,_R:()=>S,ab:()=>M,av:()=>oe,aw:()=>x,d0:()=>F,fg:()=>H,g:()=>f,iI:()=>K,kJ:()=>b,qD:()=>he,tK:()=>n,w$:()=>B,wW:()=>X,w_:()=>W,yw:()=>l,zD:()=>y,zl:()=>ne});var t=e(2140362605);const n=(0,t.Ay)("Remove a list");n.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const s=(0,t.Ay)("trigger animation for view");s.meta={name:"createAction",key:"createActiontriggerAnimationForViewId",description:"trigger animation for view"};const r=(0,t.Ay)("Add / update a list column");r.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const d=(0,t.Ay)("Remove a list column");d.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const o=(0,t.Ay)("Fill column with info data or default value");o.meta={name:"createAction",key:"createActionfillColumnData",description:"Fill column with info data or default value"};const a=(0,t.Ay)("Replace all of a list's records");a.meta={name:"createAction",key:"createActionreplaceRecords",description:"Replace all of a list's records"};const l=(0,t.Ay)("Add / update multiple records");l.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const m=(0,t.Ay)("Add / update a list record");m.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const c=(0,t.Ay)("Remove a list record");c.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const _=(0,t.Ay)("Add/update a record position in a view");_.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const p=(0,t.Ay)("Add / update multiple templates");p.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const u=(0,t.Ay)("Add / update multiple starter templates");u.meta={name:"createAction",key:"createActionbulkUpsertStarterTemplates",description:"Add / update multiple starter templates"};const h=(0,t.Ay)("Remove a starter template by ID");h.meta={name:"createAction",key:"createActionremoveStarterTemplate",description:"Remove a starter template by ID"};const E=(0,t.Ay)("Set the list's banner message");E.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const A=(0,t.Ay)("Clear the specified type of banner message for this list");A.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear the specified type of banner message for this list"};const v=(0,t.Ay)("Add / update a list record field");v.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const f=(0,t.Ay)("Add / update a list cell");f.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const g=(0,t.Ay)("Add / update a workflow for a list");g.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const y=(0,t.Ay)("Apply an edit action to a list");y.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const T=(0,t.Ay)("Clear edit history for a list");T.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const M=(0,t.Ay)("Update local filters");M.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const O=(0,t.Ay)("Update local sorts");O.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const I=(0,t.Ay)("Update local collapsed grids");I.meta={name:"createAction",key:"createActionchangeViewLocalCollapsedGrids",description:"Update local collapsed grids"};const D=(0,t.Ay)("Update the current viewId set by refine in the active window");D.meta={name:"createAction",key:"createActionsetRefineView",description:"Update the current viewId set by refine in the active window"};const P=(0,t.Ay)("Set filter pill to auto open");P.meta={name:"createAction",key:"createActionsetFilterPillKeyById",description:"Set filter pill to auto open"};const k=(0,t.Ay)("Set group by pill to auto open");k.meta={name:"createAction",key:"createActionsetGroupByPillAutoOpen",description:"Set group by pill to auto open"};const R=(0,t.Ay)("Set search query for list");R.meta={name:"createAction",key:"createActionsetListSearchQuery",description:"Set search query for list"};const V=(0,t.Ay)("Destroy local refinements");V.meta={name:"createAction",key:"createActiondestroyLocalRefinements",description:"Destroy local refinements"};const B=(0,t.Ay)("Add / update my items");B.meta={name:"createAction",key:"createActionupsertMyItems",description:"Add / update my items"};const W=(0,t.Ay)("Add / update a list cell edit");W.meta={name:"createAction",key:"createActionupsertCellEdit",description:"Add / update a list cell edit"};const L=(0,t.Ay)("set refinement pill to auto open in view");L.meta={name:"createAction",key:"createActionsetRefinePillAutoOpenByViewId",description:"set refinement pill to auto open in view"};const S=(0,t.Ay)("Add / update last read timestamp by list ID");S.meta={name:"createAction",key:"createActionupsertLastReadTimestampById",description:"Add / update last read timestamp by list ID"};const H=(0,t.Ay)("Mark records as new to highlight it");H.meta={name:"createAction",key:"createActionhighlightRecordsAsNew",description:"Mark records as new to highlight it"};const w=(0,t.Ay)("Mark record read to unhighlight it");w.meta={name:"createAction",key:"createActionremoveRecordHighlight",description:"Mark record read to unhighlight it"};const F=(0,t.Ay)("Set record as open in flexpane");F.meta={name:"createAction",key:"createActionrecordFlexpaneOpen",description:"Set record as open in flexpane"};const j=(0,t.Ay)("Set record flexpane closed");j.meta={name:"createAction",key:"createActionrecordFlexpaneClosed",description:"Set record flexpane closed"};const J=(0,t.Ay)("Load all recently viewed lists");J.meta={name:"createAction",key:"createActionloadRecentlyViewedLists",description:"Load all recently viewed lists"};const X=(0,t.Ay)("Add recently opened list to the store");X.meta={name:"createAction",key:"createActionaddToRecentlyViewedLists",description:"Add recently opened list to the store"};const q=(0,t.Ay)("Remove deleted lists from the store");q.meta={name:"createAction",key:"createActionremoveFromRecentlyViewedLists",description:"Remove deleted lists from the store"};const G=(0,t.Ay)("Update local field visibility");G.meta={name:"createAction",key:"createActionchangeLocalViewFieldVisibility",description:"Update local field visibility"};const ne=(0,t.Ay)("Update local view type");ne.meta={name:"createAction",key:"createActionchangeLocalViewType",description:"Update local view type"};const te=(0,t.Ay)("Update local group by");te.meta={name:"createAction",key:"createActionchangeLocalViewGroupBy",description:"Update local group by"};const le=(0,t.Ay)("Subscribe/unsubscribe a list record");le.meta={name:"createAction",key:"createActionsetRecordIsSubscribed",description:"Subscribe/unsubscribe a list record"};const he=(0,t.Ay)("Set new view ids for badging");he.meta={name:"createAction",key:"createActionsetListNewViewBadgingById",description:"Set new view ids for badging"};const fe=(0,t.Ay)("Set highlight column in the item flexpane");fe.meta={name:"createAction",key:"createActionsetHighlightColumnId",description:"Set highlight column in the item flexpane"};const ve=(0,t.Ay)("Clear highlight column in the item flexpane");ve.meta={name:"createAction",key:"createActionclearHighlightColumnId",description:"Clear highlight column in the item flexpane"};const me=(0,t.Ay)("Set local views for optimistic updates");me.meta={name:"createAction",key:"createActionsetLocalViewsByListId",description:"Set local views for optimistic updates"};const oe=(0,t.Ay)("Updates the UI state for the refine edit view menu component");oe.meta={name:"createAction",key:"createActionrefineEditViewMenuComponentState",description:"Updates the UI state for the refine edit view menu component"};const N=(0,t.Ay)("Sets the reference tracker map for my tasks list");N.meta={name:"createAction",key:"createActionsetMyTasksReferenceTracker",description:"Sets the reference tracker map for my tasks list"};const K=(0,t.Ay)("Adds a reference to the reference tracker map for my tasks list");K.meta={name:"createAction",key:"createActionaddToMyTasksReferenceTracker",description:"Adds a reference to the reference tracker map for my tasks list"};const x=(0,t.Ay)("Removes a reference from the reference tracker map for my tasks list");x.meta={name:"createAction",key:"createActionremoveFromMyTasksReferenceTracker",description:"Removes a reference from the reference tracker map for my tasks list"};const b=(0,t.Ay)("Should show list description");b.meta={name:"createAction",key:"createActionsetShowListDescriptionById",description:"Should show list description"}},4001611198:(Q,C,e)=>{"use strict";e.d(C,{ez:()=>a,mY:()=>l});var t=e(3398586081),n=e(8352634987),s=e(574001087),r=e(6533394955);const d=(0,t.A)(m=>new n.Ay({storeKey:"lists",fetch:(c,_)=>(0,r.dispatchForTeamId)(c,(0,s.o)({idsToFetch:_,listId:m})),isEnabled:()=>!0,metricsName:"lists-record-fetcher"})),o=i((m,c,_)=>d(_).markObjectsAsStale(m,c),"markObjectsAsStale"),a=i((m,c,_)=>d(_).maybeRefetch(m,c),"maybeRefetch"),l=i((m,c,_)=>d(_).markObjectsAsFresh(m,c),"markObjectsAsFresh")},4224126550:(Q,C,e)=>{"use strict";e.d(C,{w9:()=>ae,uu:()=>mn,mJ:()=>Xe,vg:()=>le,K0:()=>Ge,rm:()=>K,kS:()=>x,E4:()=>_n,Yq:()=>Mt,k7:()=>xt,$8:()=>ze,nh:()=>Dt,Jc:()=>Te,$N:()=>yt,zH:()=>At,lq:()=>Re,Te:()=>re,YI:()=>Be,dR:()=>hn,iP:()=>On,qC:()=>Zt,Ws:()=>Ct,hA:()=>Qt,Tj:()=>lt,jv:()=>ot,vS:()=>G,PZ:()=>wt,I9:()=>Ee,DU:()=>ve,C0:()=>U,C5:()=>yn,vD:()=>ee,Rl:()=>ne,jH:()=>Xt,P6:()=>te,Mr:()=>fe,bA:()=>en,ot:()=>ht,Bj:()=>nt,qO:()=>Qe,Cf:()=>rn,rh:()=>Rt,iM:()=>rt,dE:()=>it,EI:()=>oe,kG:()=>b,_H:()=>Bt,wx:()=>N,Xb:()=>pe,nZ:()=>_e,X0:()=>et,hL:()=>dn,BO:()=>Et,K1:()=>Ue,gu:()=>jt,aY:()=>De,hY:()=>Jt,Yb:()=>mt,XR:()=>be,WE:()=>xe,x2:()=>Z,$F:()=>z,yv:()=>$,n7:()=>we,iX:()=>he,Es:()=>bt,mc:()=>gn,TF:()=>zt});var t=e(166097325),n=e(3385422400),s=e(1737183214),r=e(3001769570),d=e(9216332371),o=e(3032483460),a=e(8191156954),l=e(9884588328),m=e(2188787324),c=e(5917710436),_=e(6642124196),p=e(2009641291),u=e(1521013946),h=e(6106034567),E=e(3110884894),A=e(1305633231),v=e(3339229351),f=e(2689960678),g=e(796111729),y=e(6471801899),T=e(8161242485),M=e(8847766420),O=e(4813703725),I=e(8455301571),D=e(937317117),P=e(6415612447),k=e(4001611198),R=e(3398586081),V=e(3037015781),B=e(6533394955),W=e(164394607);const L=(0,R.A)(Fe=>new V.Ay({fetch:(Ke,Ne)=>(0,B.dispatchForTeamId)(Ke,(0,W.q5)({idsToFetch:Ne,listId:Fe})),upsertKnown:(Ke,Ne)=>(0,B.dispatchForTeamId)(Ke,(0,W.x3)({records:Ne,listId:Fe})),upsertNonExistent:(Ke,Ne)=>(0,B.dispatchForTeamId)(Ke,(0,W.x3)({records:Ne,listId:Fe})),isEnabled:()=>!0}));var S=e(5942687316),H=e(7606781622),w=e(2567914105),F=e(9113979368);const j=(0,T.Ay)(Fe=>!(0,F.A)(Fe.overlays));j.meta={name:"createSelector",key:"createSelectorisOverlayOpen",description:Fe=>!(0,F.A)(Fe.overlays)};var J=e(2047021170);const X=1e3*60*60*24,q=i(Fe=>Fe.lists,"getListsState"),G=(0,T.Ay)((Fe,Ke)=>(0,D.Lp)(Fe,Ke));G.meta={name:"createSelector",key:"createSelectorgetList",description:(Fe,Ke)=>(0,D.Lp)(Fe,Ke)};const ne=(0,T.Ay)((Fe,Ke)=>{var Ne;return Ke&&((Ne=q(Fe).listsById[Ke])===null||Ne===void 0?void 0:Ne.records)||f.t0});ne.meta={name:"createSelector",key:"createSelectorgetListRecords",description:(Fe,Ke)=>{var Ne;return Ke&&((Ne=q(Fe).listsById[Ke])===null||Ne===void 0?void 0:Ne.records)||f.t0}};const te=(0,n.Mz)(G,Fe=>Fe==null?void 0:Fe.title),le=(0,T.Ay)(Fe=>q(Fe).clock);le.meta={name:"createSelector",key:"createSelectorgetClock",description:Fe=>q(Fe).clock};const he=(0,T.Ay)(Fe=>q(Fe).triggerAnimationForViewId);he.meta={name:"createSelector",key:"createSelectorgetViewToAnimate",description:Fe=>q(Fe).triggerAnimationForViewId};const fe=(0,T.Ay)(Fe=>(0,D.Im)(Fe));fe.meta={name:"createSelector",key:"createSelectorgetLists",description:Fe=>(0,D.Im)(Fe)};const ve=(0,T.Ay)((Fe,Ke)=>Fe.files[Ke].list_limits);ve.meta={name:"createSelector",key:"createSelectorgetListLimits",description:(Fe,Ke)=>Fe.files[Ke].list_limits};const me=(0,T.Ay)((Fe,Ke,Ne)=>{var He,Je;const ft=(0,M.ZT)(Fe);if(!ft)return;const Kt=(He=q(Fe).listsById[Ke])===null||He===void 0||(Je=He.records)===null||Je===void 0?void 0:Je[Ne];return Kt?(!(0,c.z7)(Kt)&&!L(Ke).isFetchPendingForId(ft,Ne)&&(0,k.ez)(ft,Ne,Ke),Kt):L(Ke).fetchObjectWithId(ft,Ne)});me.meta={name:"createSelector",key:"createSelectorgetRecordSmart",description:(Fe,Ke,Ne)=>{var He,Je;const ft=(0,M.ZT)(Fe);if(!ft)return;const Kt=(He=q(Fe).listsById[Ke])===null||He===void 0||(Je=He.records)===null||Je===void 0?void 0:Je[Ne];return Kt?(!(0,c.z7)(Kt)&&!L(Ke).isFetchPendingForId(ft,Ne)&&(0,k.ez)(ft,Ne,Ke),Kt):L(Ke).fetchObjectWithId(ft,Ne)}};const oe=(0,T.Ay)((Fe,Ke,Ne,He)=>{var Je,ft;return He?me(Fe,Ke,Ne):(Je=q(Fe).listsById[Ke])===null||Je===void 0||(ft=Je.records)===null||ft===void 0?void 0:ft[Ne]});oe.meta={name:"createSelector",key:"createSelectorgetRecord",description:(Fe,Ke,Ne,He)=>{var Je,ft;return He?me(Fe,Ke,Ne):(Je=q(Fe).listsById[Ke])===null||Je===void 0||(ft=Je.records)===null||ft===void 0?void 0:ft[Ne]}};const N=(0,T.Ay)((Fe,Ke,Ne)=>{var He,Je;return(0,A.A)(Fe,(He=oe(Fe,Ke,Ne))===null||He===void 0||(Je=He.fields)===null||Je===void 0?void 0:Je.name)});N.meta={name:"createSelector",key:"createSelectorgetRecordNameAsPlainText",description:(Fe,Ke,Ne)=>{var He,Je;return(0,A.A)(Fe,(He=oe(Fe,Ke,Ne))===null||He===void 0||(Je=He.fields)===null||Je===void 0?void 0:Je.name)}};const K=(0,T.Ay)((Fe,Ke,Ne)=>{const He=G(Fe,Ke),Je=(0,c.uA)(He);return Je==null?void 0:Je.find(ft=>ft.key===Ne)});K.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(Fe,Ke,Ne)=>{const He=G(Fe,Ke),Je=(0,c.uA)(He);return Je==null?void 0:Je.find(ft=>ft.key===Ne)}};const x=(0,T.Ay)((Fe,Ke,Ne)=>{var He;return(He=K(Fe,Ke,Ne))===null||He===void 0?void 0:He.id});x.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(Fe,Ke,Ne)=>{var He;return(He=K(Fe,Ke,Ne))===null||He===void 0?void 0:He.id}};const b=(0,T.Ay)((Fe,Ke,Ne)=>{var He;const Je=(He=q(Fe).listsById[Ke])===null||He===void 0?void 0:He.records;if(Je)return Object.values(Je).find(ft=>ft.threadTs===Ne)});b.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(Fe,Ke,Ne)=>{var He;const Je=(He=q(Fe).listsById[Ke])===null||He===void 0?void 0:He.records;if(Je)return Object.values(Je).find(ft=>ft.threadTs===Ne)}};const z=(0,T.Ay)((Fe,Ke)=>q(Fe).templatesById[Ke]);z.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(Fe,Ke)=>q(Fe).templatesById[Ke]};const $=(0,T.Ay)(Fe=>q(Fe).templatesById);$.meta={name:"createSelector",key:"createSelectorgetTemplates",description:Fe=>q(Fe).templatesById};const Z=(0,T.Ay)(Fe=>q(Fe).starterTemplatesById);Z.meta={name:"createSelector",key:"createSelectorgetStarterTemplates",description:Fe=>q(Fe).starterTemplatesById};const U=(0,T.Ay)(Fe=>{const Ke=[],Ne=fe(Fe);for(const Je of Ne){var He;const ft={id:Je.id,title:(He=Je.title)!==null&&He!==void 0?He:""};Ke.push(ft)}return Ke});U.meta={name:"createSelector",key:"createSelectorgetListMentions",description:Fe=>{const Ke=[],Ne=fe(Fe);for(const Je of Ne){var He;const ft={id:Je.id,title:(He=Je.title)!==null&&He!==void 0?He:""};Ke.push(ft)}return Ke}};const ee=(0,T.Ay)((Fe,Ke)=>{const Ne=fe(Fe),He=(0,y.V3)(Ke);if(!He)return[];const{listTitle:Je}=He,ft=(0,y.xL)(Ne,Je);if(!ft)return[];const Kt=(0,D.Lp)(Fe,ft.id),St=se(ft),cn=[],An=ne(Fe,ft.id);for(const ct of Object.values(An??{})){var Ln,It;const vt=(It=ct==null||(Ln=ct.fields)===null||Ln===void 0?void 0:Ln[St])!==null&&It!==void 0?It:[];var qe;const Oe={id:ct.id,name:(0,A.A)(Fe,vt),blocks:vt,listId:Kt.id,listTitle:(qe=Kt.title)!==null&&qe!==void 0?qe:""};cn.push(Oe)}return cn});ee.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(Fe,Ke)=>{const Ne=fe(Fe),He=(0,y.V3)(Ke);if(!He)return[];const{listTitle:Je}=He,ft=(0,y.xL)(Ne,Je);if(!ft)return[];const Kt=(0,D.Lp)(Fe,ft.id),St=se(ft),cn=[],An=ne(Fe,ft.id);for(const ct of Object.values(An??{})){var Ln,It;const vt=(It=ct==null||(Ln=ct.fields)===null||Ln===void 0?void 0:Ln[St])!==null&&It!==void 0?It:[];var qe;const Oe={id:ct.id,name:(0,A.A)(Fe,vt),blocks:vt,listId:Kt.id,listTitle:(qe=Kt.title)!==null&&qe!==void 0?qe:""};cn.push(Oe)}return cn}};function se(Fe){let Ke;const Ne=(0,c.uA)(Fe);for(const He of Ne??[])if(He.type==="text"&&(Ke||(Ke=He),He.key.toUpperCase()==="NAME"))return He.key;return Ke?Ke.key:"name"}i(se,"findColumnKeyForMention");const de=(0,T.Ay)(Fe=>(0,_.isListsEnabled)(Fe)?!!(0,J.ty)(Fe,"seen_onboarding_lists"):!0);de.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:Fe=>(0,_.isListsEnabled)(Fe)?!!(0,J.ty)(Fe,"seen_onboarding_lists"):!0};const ue=(0,T.Ay)((Fe,Ke)=>{var Ne;const He=G(Fe,Ke);return(Ne=(0,c.uA)(He))===null||Ne===void 0?void 0:Ne.find(Je=>(Je==null?void 0:Je.key)==="name")});ue.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(Fe,Ke)=>{var Ne;const He=G(Fe,Ke);return(Ne=(0,c.uA)(He))===null||Ne===void 0?void 0:Ne.find(Je=>(Je==null?void 0:Je.key)==="name")}};const _e=(0,T.Ay)((Fe,Ke,Ne)=>{const He=oe(Fe,Ke,Ne),Je=(0,P.Y)(Fe,Ke),ft=(0,l.FB)(Je),Kt=He!=null&&He.threadTs?(0,H.Ld)(Fe,ft,He.threadTs):void 0;var St;return(St=Kt==null?void 0:Kt.reply_count)!==null&&St!==void 0?St:null});_e.meta={name:"createSelector",key:"createSelectorgetRecordThreadReplyCount",description:(Fe,Ke,Ne)=>{const He=oe(Fe,Ke,Ne),Je=(0,P.Y)(Fe,Ke),ft=(0,l.FB)(Je),Kt=He!=null&&He.threadTs?(0,H.Ld)(Fe,ft,He.threadTs):void 0;var St;return(St=Kt==null?void 0:Kt.reply_count)!==null&&St!==void 0?St:null}};const pe=(0,T.Ay)((Fe,Ke,Ne)=>{const He=oe(Fe,Ke,Ne),Je=(0,P.Y)(Fe,Ke),ft=(0,l.FB)(Je),Kt=He!=null&&He.threadTs?(0,H.Ld)(Fe,ft,He.threadTs):void 0,St=(0,E.Iu)(ft,He==null?void 0:He.threadTs),cn=Kt&&St?(0,I.r7)(Fe,St)||{timestamps:[],reachedStart:!0}:null,An=Kt?(0,d.Nh)(Fe,ft,(cn==null?void 0:cn.timestamps)||[])||(Kt==null?void 0:Kt.ts):"";var Ln;const It=(Ln=Kt==null?void 0:Kt._subscribed)!==null&&Ln!==void 0?Ln:!1;var qe;const ct=(qe=Kt==null?void 0:Kt._last_read)!==null&&qe!==void 0?qe:"0";return It?An>ct:!1});pe.meta={name:"createSelector",key:"createSelectorgetRecordThreadIsUnread",description:(Fe,Ke,Ne)=>{const He=oe(Fe,Ke,Ne),Je=(0,P.Y)(Fe,Ke),ft=(0,l.FB)(Je),Kt=He!=null&&He.threadTs?(0,H.Ld)(Fe,ft,He.threadTs):void 0,St=(0,E.Iu)(ft,He==null?void 0:He.threadTs),cn=Kt&&St?(0,I.r7)(Fe,St)||{timestamps:[],reachedStart:!0}:null,An=Kt?(0,d.Nh)(Fe,ft,(cn==null?void 0:cn.timestamps)||[])||(Kt==null?void 0:Kt.ts):"";var Ln;const It=(Ln=Kt==null?void 0:Kt._subscribed)!==null&&Ln!==void 0?Ln:!1;var qe;const ct=(qe=Kt==null?void 0:Kt._last_read)!==null&&qe!==void 0?qe:"0";return It?An>ct:!1}};const ae=(0,T.Ay)((Fe,Ke)=>q(Fe).listBannerMessagesbyId[Ke]);ae.meta={name:"createSelector",key:"createSelectorgetBannerMessagesForList",description:(Fe,Ke)=>q(Fe).listBannerMessagesbyId[Ke]};const Ee=(0,T.Ay)((Fe,Ke)=>{const Ne=(0,p.A)(Fe),He=(0,D.Lp)(Fe,Ke);return!He||!He.access||!(0,m.mW)(He)||!Ne});Ee.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(Fe,Ke)=>{const Ne=(0,p.A)(Fe),He=(0,D.Lp)(Fe,Ke);return!He||!He.access||!(0,m.mW)(He)||!Ne}};const Le=(0,T.Ay)(Fe=>(0,M.ZT)(Fe)==="T024BE7LD");Le.meta={name:"createSelector",key:"createSelectoronTinySpeckDevOrg",description:Fe=>(0,M.ZT)(Fe)==="T024BE7LD"};const ye=(0,T.Ay)(Fe=>(0,M.jV)(Fe)===v.uh);ye.meta={name:"createSelector",key:"createSelectoronTinySpeckOrg",description:Fe=>(0,M.jV)(Fe)===v.uh};const Te=(0,T.Ay)((Fe,Ke)=>q(Fe).historyById[Ke]);Te.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(Fe,Ke)=>q(Fe).historyById[Ke]};const Ae=(0,T.Ay)((Fe,Ke)=>{const Ne=G(Fe,Ke),He=ne(Fe,Ke);if(!Ne||!He)return null;let Je="";for(const Kt of Object.values(He)){Kt.position&&Je<Kt.position&&(Je=Kt.position);var ft;for(const St of Object.values((ft=Kt.viewPositions)!==null&&ft!==void 0?ft:{}))Je<St&&(Je=St)}return Je||null});Ae.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(Fe,Ke)=>{const Ne=G(Fe,Ke),He=ne(Fe,Ke);if(!Ne||!He)return null;let Je="";for(const Kt of Object.values(He)){Kt.position&&Je<Kt.position&&(Je=Kt.position);var ft;for(const St of Object.values((ft=Kt.viewPositions)!==null&&ft!==void 0?ft:{}))Je<St&&(Je=St)}return Je||null}};const Ie=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localFiltersById[He]});Ie.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localFiltersById[He]}};const Ue=(0,O.ow)((Fe,Ke,Ne)=>{const He=G(Fe,Ke),Je=(0,c.Qq)(He,Ne);var ft;const Kt=(ft=Je==null?void 0:Je.filters)!==null&&ft!==void 0?ft:[];var St;return Kt.concat((St=Je==null?void 0:Je.infoColumnFilters)!==null&&St!==void 0?St:[])}),Be=(0,n.Mz)(Ie,Ue,(Fe,Ke)=>Fe?Fe.length!==(Ke==null?void 0:Ke.length)?!0:!(0,r.bw)(Fe,Ke,"columnId"):!1),we=(0,n.Mz)(Ie,Ue,(Fe,Ke)=>{if(!Fe)return new Set;const Ne=new Map(Ke==null?void 0:Ke.map(Je=>[Je.key,Je])),He=Fe.filter(Je=>(0,r.bV)(Je,Ne)).map(Je=>Je.key);return new Set(He)}),re=(0,n.Mz)(Ie,Ue,(Fe,Ke)=>Fe!==void 0?Fe:Ke||[]),ge=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localSortsById[He]});ge.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localSortsById[He]}};const De=(0,O.ow)((Fe,Ke,Ne)=>{const He=G(Fe,Ke),Je=(0,c.Qq)(He,Ne);return(Je==null?void 0:Je.sorts)||[]}),be=(0,n.Mz)(ge,De,(Fe,Ke)=>Fe!==void 0?Fe:Ke||[]),xe=(0,n.Mz)(ge,De,(Fe,Ke)=>Fe?Fe.length!==(Ke==null?void 0:Ke.length)?!0:!(0,r.bw)(Fe,Ke,"columnId"):!1),Re=(0,T.Ay)((Fe,Ke,Ne)=>{var He,Je;const ft=(0,S.zZ)({listId:Ke,viewId:Ne});return(He=q(Fe))===null||He===void 0||(Je=He.filterPillKeyById)===null||Je===void 0?void 0:Je[ft]});Re.meta={name:"createSelector",key:"createSelectorgetFilterPillKeyById",description:(Fe,Ke,Ne)=>{var He,Je;const ft=(0,S.zZ)({listId:Ke,viewId:Ne});return(He=q(Fe))===null||He===void 0||(Je=He.filterPillKeyById)===null||Je===void 0?void 0:Je[ft]}};const je=(0,T.Ay)(Fe=>{var Ke;return(Ke=q(Fe))===null||Ke===void 0?void 0:Ke.groupByPillAutoOpen});je.meta={name:"createSelector",key:"createSelectorgetGroupByPillAutoOpen",description:Fe=>{var Ke;return(Ke=q(Fe))===null||Ke===void 0?void 0:Ke.groupByPillAutoOpen}};const Ge=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localCollapsedGridsById[He]});Ge.meta={name:"createSelector",key:"createSelectorgetCollapsedGridsByViewId",description:(Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localCollapsedGridsById[He]}};const Qe=(0,T.Ay)(Fe=>q(Fe).myItemMap);Qe.meta={name:"createSelector",key:"createSelectorgetMyItemMap",description:Fe=>q(Fe).myItemMap};const Xe=(0,T.Ay)((Fe,Ke)=>q(Fe).editActivityMap[Ke]);Xe.meta={name:"createSelector",key:"createSelectorgetCellEditByTimestamp",description:(Fe,Ke)=>q(Fe).editActivityMap[Ke]};const et=(0,T.Ay)((Fe,Ke)=>{var Ne;return(Ne=q(Fe).refinePillAutoOpenByViewId)===null||Ne===void 0?void 0:Ne[Ke]});et.meta={name:"createSelector",key:"createSelectorgetRefinePillAutoOpenByViewId",description:(Fe,Ke)=>{var Ne;return(Ne=q(Fe).refinePillAutoOpenByViewId)===null||Ne===void 0?void 0:Ne[Ke]}};const rt=(0,T.Ay)(Fe=>q(Fe).recentlyViewedLists);rt.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedLists",description:Fe=>q(Fe).recentlyViewedLists};const it=(0,T.Ay)(Fe=>q(Fe).recentlyViewedListsLastLoadedMs);it.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedListsLastLoadedMs",description:Fe=>q(Fe).recentlyViewedListsLastLoadedMs};const lt=(0,T.Ay)(Fe=>{const Ke=it(Fe);return Ke?Date.now()-Ke>X:!0});lt.meta={name:"createSelector",key:"createSelectorgetIsRecentlyViewedListsExpired",description:Fe=>{const Ke=it(Fe);return Ke?Date.now()-Ke>X:!0}};const ot=(0,T.Ay)((Fe,Ke)=>{var Ne;return(Ne=q(Fe).lastReadTimestampById)===null||Ne===void 0?void 0:Ne[Ke]});ot.meta={name:"createSelector",key:"createSelectorgetLastReadTimestampByListId",description:(Fe,Ke)=>{var Ne;return(Ne=q(Fe).lastReadTimestampById)===null||Ne===void 0?void 0:Ne[Ke]}};const Et=(0,n.Mz)((Fe,Ke,Ne)=>{const He=G(Fe,Ke);return(0,c.cv)(He,Ne)},Fe=>{var Ke;return Fe==null||(Ke=Fe.columns)===null||Ke===void 0?void 0:Ke.reduce((He,Je)=>{let{key:ft,visible:Kt}=Je;return Kt!==void 0&&(He[ft]=Kt),He},{})}),At=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne}),Je=q(Fe).localFieldVisibilityByViewId[He];if(!Je)return;const ft=Et(Fe,Ke,Ne);return Object.entries(Je).filter(St=>{let[cn,An]=St;return An!==(ft==null?void 0:ft[cn])}).map(St=>{let[cn,An]=St;return{key:cn,visible:An}})});At.meta={name:"createSelector",key:"createSelectorgetFieldsThatChangedVisibility",description:(Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne}),Je=q(Fe).localFieldVisibilityByViewId[He];if(!Je)return;const ft=Et(Fe,Ke,Ne);return Object.entries(Je).filter(St=>{let[cn,An]=St;return An!==(ft==null?void 0:ft[cn])}).map(St=>{let[cn,An]=St;return{key:cn,visible:An}})}};const Ot=(0,O.eI)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne}),Je=q(Fe).localFieldVisibilityByViewId[He],ft=Et(Fe,Ke,Ne);return Je&&{...ft,...Je}}),Rt=(0,O.eI)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localFieldVisibilityByViewId[He]}),yt=(0,n.Mz)(Ot,Et,(Fe,Ke)=>Fe?!(0,t.A)(Fe,Ke):!1),Mt=(0,T.Ay)((Fe,Ke,Ne)=>{const He=Ot(Fe,Ke,Ne);return He||Et(Fe,Ke,Ne)});Mt.meta={name:"createSelector",key:"createSelectorgetCurrentViewFieldVisibilityByViewId",description:(Fe,Ke,Ne)=>{const He=Ot(Fe,Ke,Ne);return He||Et(Fe,Ke,Ne)}};const en=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localViewTypeByViewId[He]});en.meta={name:"createSelector",key:"createSelectorgetLocalViewType",description:(Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localViewTypeByViewId[He]}};const Tt=(0,O.ow)((Fe,Ke,Ne)=>{const He=G(Fe,Ke),Je=(0,c.Qq)(He,Ne);return Je==null?void 0:Je.type}),xt=(0,T.Ay)((Fe,Ke,Ne)=>{const He=en(Fe,Ke,Ne);return He!==void 0?He:Tt(Fe,Ke,Ne)});xt.meta={name:"createSelector",key:"createSelectorgetCurrentViewTypeByViewId",description:(Fe,Ke,Ne)=>{const He=en(Fe,Ke,Ne);return He!==void 0?He:Tt(Fe,Ke,Ne)}};const bt=(0,T.Ay)((Fe,Ke,Ne)=>{const He=en(Fe,Ke,Ne);if(!He)return!1;const Je=Tt(Fe,Ke,Ne);return He!==Je});bt.meta={name:"createSelector",key:"createSelectorgetViewTypeHasChanged",description:(Fe,Ke,Ne)=>{const He=en(Fe,Ke,Ne);if(!He)return!1;const Je=Tt(Fe,Ke,Ne);return He!==Je}};const nn=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localGroupByViewId[He]});nn.meta={name:"createSelector",key:"createSelectorgetLocalGroupBy",description:(Fe,Ke,Ne)=>{const He=(0,S.zZ)({listId:Ke,viewId:Ne});return q(Fe).localGroupByViewId[He]}};const dn=(0,T.Ay)((Fe,Ke)=>{var Ne;return(Ne=q(Fe))===null||Ne===void 0?void 0:Ne.refineViewByWindowId[Ke]});dn.meta={name:"createSelector",key:"createSelectorgetRefineView",description:(Fe,Ke)=>{var Ne;return(Ne=q(Fe))===null||Ne===void 0?void 0:Ne.refineViewByWindowId[Ke]}};const Xt=(0,T.Ay)((Fe,Ke)=>{var Ne;return(Ne=q(Fe))===null||Ne===void 0?void 0:Ne.listSearchQueriesByWindowId[Ke]});Xt.meta={name:"createSelector",key:"createSelectorgetListSearchQuery",description:(Fe,Ke)=>{var Ne;return(Ne=q(Fe))===null||Ne===void 0?void 0:Ne.listSearchQueriesByWindowId[Ke]}};const jt=(0,O.ow)((Fe,Ke,Ne)=>{const He=G(Fe,Ke),Je=(0,c.Qq)(He,Ne);return Je==null?void 0:Je.grouping}),_n=(0,T.Ay)((Fe,Ke,Ne)=>{const He=nn(Fe,Ke,Ne);return He||jt(Fe,Ke,Ne)});_n.meta={name:"createSelector",key:"createSelectorgetCurrentGroupByViewId",description:(Fe,Ke,Ne)=>{const He=nn(Fe,Ke,Ne);return He||jt(Fe,Ke,Ne)}};const ze=(0,T.Ay)(Fe=>(0,J.ty)(Fe,"lists_add_to_list_default_list"));ze.meta={name:"createSelector",key:"createSelectorgetDefaultListForAddToList",description:Fe=>(0,J.ty)(Fe,"lists_add_to_list_default_list")};const Dt=(0,n.Mz)(Fe=>(0,J.ty)(Fe,"lists_default_view"),Fe=>{try{return JSON.parse(Fe||"{}")}catch(Ke){return(0,g.Ay)({label:"lists"}).error("error parsing default lists view prefs",Ke),{}}}),hn=(0,T.Ay)((Fe,Ke,Ne)=>{const He=nn(Fe,Ke,Ne);if(!He)return!1;const Je=jt(Fe,Ke,Ne);return(He==null?void 0:He.groupBy)!==(Je==null?void 0:Je.groupBy)});hn.meta={name:"createSelector",key:"createSelectorgetHasGroupByChanged",description:(Fe,Ke,Ne)=>{const He=nn(Fe,Ke,Ne);if(!He)return!1;const Je=jt(Fe,Ke,Ne);return(He==null?void 0:He.groupBy)!==(Je==null?void 0:Je.groupBy)}};const yn=(0,T.Ay)((Fe,Ke)=>q(Fe).listNewViewBadgingById[Ke]);yn.meta={name:"createSelector",key:"createSelectorgetListNewViewBadgingById",description:(Fe,Ke)=>q(Fe).listNewViewBadgingById[Ke]};const ht=(0,T.Ay)((Fe,Ke)=>{var Ne;return((Ne=q(Fe).localViewsByListId)===null||Ne===void 0?void 0:Ne[Ke])||f.Ml});ht.meta={name:"createSelector",key:"createSelectorgetLocalViewsByListId",description:(Fe,Ke)=>{var Ne;return((Ne=q(Fe).localViewsByListId)===null||Ne===void 0?void 0:Ne[Ke])||f.Ml}};const Bt=(0,T.Ay)((Fe,Ke,Ne)=>{var He,Je,ft;return(He=q(Fe).listsById[Ke])===null||He===void 0||(Je=He.records)===null||Je===void 0||(ft=Je[Ne])===null||ft===void 0?void 0:ft.isSubscribed});Bt.meta={name:"createSelector",key:"createSelectorgetRecordIsSubscribed",description:(Fe,Ke,Ne)=>{var He,Je,ft;return(He=q(Fe).listsById[Ke])===null||He===void 0||(Je=He.records)===null||Je===void 0||(ft=Je[Ne])===null||ft===void 0?void 0:ft.isSubscribed}};const wt=(0,T.Ay)((Fe,Ke)=>{var Ne;if(Ee(Fe,Ke))return!1;const He=(0,D.Lp)(Fe,Ke);if(!He||!((Ne=He.editors)===null||Ne===void 0)&&Ne.length)return!1;const Je=Te(Fe,Ke);if(Je!=null&&Je.undoStack.length||Je!=null&&Je.redoStack.length)return!1;const ft=ne(Fe,Ke);for(const Kt of Object.values(ft??{}))if(String(Kt.dateCreated)!==Kt.updatedTimestamp)return!1;return!0});wt.meta={name:"createSelector",key:"createSelectorgetListIsEditableAndNeverUpdated",description:(Fe,Ke)=>{var Ne;if(Ee(Fe,Ke))return!1;const He=(0,D.Lp)(Fe,Ke);if(!He||!((Ne=He.editors)===null||Ne===void 0)&&Ne.length)return!1;const Je=Te(Fe,Ke);if(Je!=null&&Je.undoStack.length||Je!=null&&Je.redoStack.length)return!1;const ft=ne(Fe,Ke);for(const Kt of Object.values(ft??{}))if(String(Kt.dateCreated)!==Kt.updatedTimestamp)return!1;return!0}};const Qt=(0,T.Ay)(Fe=>(0,J.ty)(Fe,"lists_template_sidebar_collapsed"));Qt.meta={name:"createSelector",key:"createSelectorgetIsListsTemplateSidebarCollapsedUserPref",description:Fe=>(0,J.ty)(Fe,"lists_template_sidebar_collapsed")};const mn=(0,T.Ay)((Fe,Ke)=>{const Ne=G(Fe,Ke);return wt(Fe,Ke)&&(0,c.BS)(Ne)});mn.meta={name:"createSelector",key:"createSelectorgetCanShowListEmptyStateSidebar",description:(Fe,Ke)=>{const Ne=G(Fe,Ke);return wt(Fe,Ke)&&(0,c.BS)(Ne)}};const On=(0,T.Ay)((Fe,Ke,Ne,He)=>{const Je=(0,S.pe)(Ke,Ne,He);return q(Fe).highlightColumnMap[Je]});On.meta={name:"createSelector",key:"createSelectorgetHighlightColumnId",description:(Fe,Ke,Ne,He)=>{const Je=(0,S.pe)(Ke,Ne,He);return q(Fe).highlightColumnMap[Je]}};const zt=(0,T.Ay)(Fe=>(0,w.oY)(Fe)||j(Fe));zt.meta={name:"createSelector",key:"createSelectorisModalOrOverlayOpen",description:Fe=>(0,w.oY)(Fe)||j(Fe)};const nt=(0,T.Ay)((Fe,Ke)=>{if(!Ke)return null;const Ne=(0,u.$N)(Fe,Ke);return!Ne||Ne.type!==u.im.MESSAGE||!Ne.channelId||!Ne.ts?null:(0,H.Ld)(Fe,Ne.channelId,Ne.ts)});nt.meta={name:"createSelector",key:"createSelectorgetMessageFromCellValue",description:(Fe,Ke)=>{if(!Ke)return null;const Ne=(0,u.$N)(Fe,Ke);return!Ne||Ne.type!==u.im.MESSAGE||!Ne.channelId||!Ne.ts?null:(0,H.Ld)(Fe,Ne.channelId,Ne.ts)}};const mt=(0,T.Ay)((Fe,Ke)=>(0,_.isListsAutomationsEntrypointsEnabled)(Fe)&&(0,s.I)(Fe)&&!Ee(Fe,Ke));mt.meta={name:"createSelector",key:"createSelectorgetShowListAutomationsEntrypoint",description:(Fe,Ke)=>(0,_.isListsAutomationsEntrypointsEnabled)(Fe)&&(0,s.I)(Fe)&&!Ee(Fe,Ke)};const Ct=(0,T.Ay)(Fe=>{const Ke=(0,h.p)(Fe),Ne=Ke===h.v.IMAGES_ONLY,He=Ke===h.v.DISABLE_ALL;return Ne||He});Ct.meta={name:"createSelector",key:"createSelectorgetIsListCsvImportDisabled",description:Fe=>{const Ke=(0,h.p)(Fe),Ne=Ke===h.v.IMAGES_ONLY,He=Ke===h.v.DISABLE_ALL;return Ne||He}};const Zt=(0,T.Ay)((Fe,Ke,Ne)=>{const He=(0,S.o2)(Ke,Ne),Je=q(Fe).refineComponentsState[He];var ft;return(ft=Je==null?void 0:Je.isEditViewMenuOpen)!==null&&ft!==void 0?ft:!1});Zt.meta={name:"createSelector",key:"createSelectorgetIsEditViewMenuComponentOpen",description:(Fe,Ke,Ne)=>{const He=(0,S.o2)(Ke,Ne),Je=q(Fe).refineComponentsState[He];var ft;return(ft=Je==null?void 0:Je.isEditViewMenuOpen)!==null&&ft!==void 0?ft:!1}};const Ft=(0,T.Ay)(Fe=>q(Fe).myTasksReferenceTrackingMap);Ft.meta={name:"createSelector",key:"createSelectorgetMyTasksReferenceTrackingMap",description:Fe=>q(Fe).myTasksReferenceTrackingMap};const Jt=(0,T.Ay)((Fe,Ke)=>q(Fe).shouldShowListDescriptionByListId[Ke]);Jt.meta={name:"createSelector",key:"createSelectorgetShouldShowListDescriptionById",description:(Fe,Ke)=>q(Fe).shouldShowListDescriptionByListId[Ke]};const rn=(0,T.Ay)((Fe,Ke)=>{var Ne;if(!(0,_.isTodosEnabled)(Fe))return;const He=(0,J.N$)(Fe);var Je;const ft=(Je=He==null?void 0:He[0])!==null&&Je!==void 0?Je:void 0,Kt=G(Fe,ft),St=(0,c.uA)(Kt),cn=ne(Fe,ft),An=St==null?void 0:St.find(It=>It.type===a.$.Reference);return!An||!cn?null:(Ne=Object.values(cn))===null||Ne===void 0?void 0:Ne.find(It=>{var qe,ct,vt;if((0,o.gk)(It))return!1;const Oe=It==null||(qe=It.fields)===null||qe===void 0?void 0:qe[An.key];if((0,o.No)(Ke)){var Y,ce;return(Oe==null||(Y=Oe.message)===null||Y===void 0?void 0:Y.channel_id)===Ke.message.channelId&&(Oe==null||(ce=Oe.message)===null||ce===void 0?void 0:ce.ts)===Ke.message.ts}return(Oe==null||(ct=Oe.list_record)===null||ct===void 0?void 0:ct.list_id)===Ke.listRecord.listId&&(Oe==null||(vt=Oe.list_record)===null||vt===void 0?void 0:vt.row_id)===Ke.listRecord.rowId})});rn.meta={name:"createSelector",key:"createSelectorgetMyTasksItem",description:(Fe,Ke)=>{var Ne;if(!(0,_.isTodosEnabled)(Fe))return;const He=(0,J.N$)(Fe);var Je;const ft=(Je=He==null?void 0:He[0])!==null&&Je!==void 0?Je:void 0,Kt=G(Fe,ft),St=(0,c.uA)(Kt),cn=ne(Fe,ft),An=St==null?void 0:St.find(It=>It.type===a.$.Reference);return!An||!cn?null:(Ne=Object.values(cn))===null||Ne===void 0?void 0:Ne.find(It=>{var qe,ct,vt;if((0,o.gk)(It))return!1;const Oe=It==null||(qe=It.fields)===null||qe===void 0?void 0:qe[An.key];if((0,o.No)(Ke)){var Y,ce;return(Oe==null||(Y=Oe.message)===null||Y===void 0?void 0:Y.channel_id)===Ke.message.channelId&&(Oe==null||(ce=Oe.message)===null||ce===void 0?void 0:ce.ts)===Ke.message.ts}return(Oe==null||(ct=Oe.list_record)===null||ct===void 0?void 0:ct.list_id)===Ke.listRecord.listId&&(Oe==null||(vt=Oe.list_record)===null||vt===void 0?void 0:vt.row_id)===Ke.listRecord.rowId})}};const gn=(0,T.Ay)((Fe,Ke)=>{if(!(0,_.isTodosEnabled)(Fe))return!1;var Ne;const He=(Ne=Ft(Fe))!==null&&Ne!==void 0?Ne:{},Je=(0,o.qC)(Ke),ft=He[Je];return!!ft&&!(0,o.gk)(ft)});gn.meta={name:"createSelector",key:"createSelectorisAddedToMyTasks",description:(Fe,Ke)=>{if(!(0,_.isTodosEnabled)(Fe))return!1;var Ne;const He=(Ne=Ft(Fe))!==null&&Ne!==void 0?Ne:{},Je=(0,o.qC)(Ke),ft=He[Je];return!!ft&&!(0,o.gk)(ft)}}},4525672255:(Q,C,e)=>{"use strict";e.d(C,{E:()=>c});var t=e(9706240641),n=e.n(t),s=e(5513050121),r=e(6554371307),d=e(197186845),o=e(796111729),a=e(1031947056),l=e(2947836378),m=e(832411022);const c=(0,a.Ay)("Fetch lists",function(){var _=(0,t.coroutine)(function*(p,u){let{query:h,sort:E,reason:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const v=yield h?p((0,r.yz)({query:`type:list ${h}`,includeShares:!0,reason:A||"get-lists",bypassCache:!0})):p((0,d.jQ)({module:"files",query:"type:list",sort:E||m.VU.lastRead,reason:A||"get-lists",context:s.Oj.ListsDefault})).then(f=>{let{items:g}=f;return g});p((0,l.b)({files:v}))}catch(v){(0,o.Ay)({label:"lists"}).error("error fetching lists",v)}});return function(p,u){return _.apply(this,arguments)}}());c.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},164394607:(Q,C,e)=>{"use strict";e.d(C,{Kd:()=>p,ky:()=>E,q5:()=>u,x3:()=>h});var t=e(9706240641),n=e.n(t),s=e(2694081143),r=e(796111729),d=e(6471801899),o=e(1031947056),a=e(8847766420),l=e(5795074931),m=e(9943020700),c=e(4001611198),_=e(9629831899);const p=(0,o.Ay)("Fetch list and list record",function(){var A=(0,t.coroutine)(function*(v,f,g){let{listId:y,id:T,includeIsSubscribed:M,reason:O="get-list-record"}=g;try{const{list:B,record:W}=yield v((0,s.T)({listId:y,id:T,includeIsSubscribed:M,reason:O}));v((0,_.y)({lists:[B]}));var I,D,P,k,R;const L=(0,d.jG)({id:W.id,fields:W.fields,dateCreated:W.date_created,createdBy:(I=W.created_by)!==null&&I!==void 0?I:"",threadTs:(D=W.thread_ts)!==null&&D!==void 0?D:"",position:(P=W.position)!==null&&P!==void 0?P:"",updatedTimestamp:(k=W.updated_timestamp)!==null&&k!==void 0?k:"",updatedBy:(R=W.updated_by)!==null&&R!==void 0?R:"",viewPositions:W.view_positions,platformRefs:W.platform_refs,saved:W.saved,savedFields:W.saved_fields,isSubscribed:W.is_subscribed});return v((0,m.$W)({listId:y,record:L})),null}catch(B){var V;return(0,r.Ay)({label:"lists"}).error("error fetching list record",B),{error:B==null||(V=B.data)===null||V===void 0?void 0:V.error}}});return function(v,f,g){return A.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkfetchRecord",description:"Fetch list and list record"};const u=(0,o.Ay)("Fetch and upsert list record",function(){var A=(0,t.coroutine)(function*(v,f,g){let{idsToFetch:y,listId:T}=g;return n().all(y.map(function(){var M=(0,t.coroutine)(function*(O){try{const B=(yield v((0,s.T)({listId:T,id:O,includeIsSubscribed:!0,reason:"get-list-record"}))).record;var I,D,P,k,R;return(0,d.jG)({id:B.id,fields:B.fields,dateCreated:B.date_created,createdBy:(I=B.created_by)!==null&&I!==void 0?I:"",threadTs:(D=B.thread_ts)!==null&&D!==void 0?D:"",position:(P=B.position)!==null&&P!==void 0?P:"",updatedTimestamp:(k=B.updated_timestamp)!==null&&k!==void 0?k:"",updatedBy:(R=B.updated_by)!==null&&R!==void 0?R:"",viewPositions:B.view_positions,platformRefs:B.platform_refs,saved:B.saved,savedFields:B.saved_fields})}catch(V){return V.data.error==="record_deleted"?{id:O,isDeleted:!0}:{id:O,isNonExistent:!0}}});return function(O){return M.apply(this,arguments)}}()))});return function(v,f,g){return A.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkfetchRecordsForList",description:"Fetch and upsert list record"};const h=(0,o.Ay)("Format and upsert list records",(A,v,f)=>{let{records:g,listId:y}=f;A((0,m.yw)({listId:y,records:g}));const T=(0,l.WR)(v());A((0,m.fg)({listId:y,currentUserId:T}));const M=g.map(I=>I.id),O=(0,a.ZT)(v())||"";(0,c.mY)(O,M,y)});h.meta={name:"createThunk",key:"createThunkupsertRecordsForList",description:"Format and upsert list records"};const E=(0,o.Ay)("Fetch and upsert list record",function(){var A=(0,t.coroutine)(function*(v,f,g){let{idsToFetch:y,listId:T}=g;return v(u({idsToFetch:y,listId:T})).then(M=>{v(h({records:M,listId:T}))})});return function(v,f,g){return A.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecordsForList",description:"Fetch and upsert list record"}},9174292896:(Q,C,e)=>{"use strict";e.d(C,{D:()=>l});var t=e(9706240641),n=e.n(t),s=e(444762595),r=e(796111729),d=e(6471801899),o=e(1031947056),a=e(9943020700);const l=(0,o.Ay)("Fetch list records",function(){var m=(0,t.coroutine)(function*(c,_,p){let{listId:u,currentUserId:h}=p;try{const A=(yield c((0,s.z)({listId:u,reason:"get-list-records"}))).records.map(v=>{var f,g,y,T,M;return(0,d.jG)({id:v.id,fields:v.fields,dateCreated:v.date_created,createdBy:(f=v.created_by)!==null&&f!==void 0?f:"",threadTs:(g=v.thread_ts)!==null&&g!==void 0?g:"",position:(y=v.position)!==null&&y!==void 0?y:"",updatedTimestamp:(T=v.updated_timestamp)!==null&&T!==void 0?T:"",updatedBy:(M=v.updated_by)!==null&&M!==void 0?M:"",viewPositions:v.view_positions,platformRefs:v.platform_refs,saved:v.saved,savedFields:v.saved_fields})});return c((0,a.VV)({listId:u,records:A})),c((0,a.fg)({listId:u,currentUserId:h})),A}catch(E){(0,r.Ay)({label:"lists"}).error("error fetching list records",E)}return null});return function(c,_,p){return m.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},9629831899:(Q,C,e)=>{"use strict";e.d(C,{y:()=>o});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(3237710044),d=e(937317117);const o=(0,s.Ay)("Fetch list",function(){var a=(0,t.coroutine)(function*(l,m,c){let{lists:_}=c;_.forEach(p=>{const u=(0,d.Lp)(m(),p.id);l((0,r.sM)({...u,...p}))})});return function(l,m,c){return a.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkupsertLocalListFiles",description:"Fetch list"}},5942687316:(Q,C,e)=>{"use strict";e.d(C,{o2:()=>s,pe:()=>n,zZ:()=>t});const t=i(r=>{let{listId:d,viewId:o}=r;return`${d}-${o}`},"getLocalRefinementsId"),n=i((r,d,o)=>`${r.toString()}-${d}-${o}`,"makeHighlightStoreKey"),s=i((r,d)=>`${r.toString()}-${d}`,"makeRefineComponentStateStoreKey")},2938177083:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(796111729),n=e(1031947056),s=e(6422693406),r=e(6259241484),d=e(716227588),o=e(3603672985),a=e(7003004874),l=e(3707193570);const m=(0,n.Ay)("record a dismissal on a megaphone notification",(_,p,u)=>{const{spaceName:h,...E}=u,A=u.channelId||u.entityId,v=(0,t.Wo)();if(!h)return v.error(r.cK,"spaceName is required when dispatching recordAndClearNotification."),s.S.resolve();const f=p(),g=(0,d.Hp)(f,h,A);return(0,l.Ay)(A)&&u.entityType==="team"?_((0,o.pn)({spaceName:h,channelId:A})):_((0,o.KT)({spaceName:h,channelId:A})),_((0,a.A)({notificationName:g,...E}))});m.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const c=m},7003004874:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_,j:()=>c});var t=e(796111729),n=e(1031947056),s=e(8760181906),r=e(6485511687),d=e(6422693406),o=e(6259241484);const a=(0,n.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(p,u,h)=>{const{notificationName:E,...A}=h,v=(0,t.Wo)();var f;const g=(f=h.reason)!==null&&f!==void 0?f:"record-notification-event";if(!E)return v.error(o.cK,"notificationName is required when dispatching recordNotificationEvent."),d.S.resolve();const y={notification:E,...A,reason:g};return p((0,r.a)(y))});a.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const l=6e4,m=!1,c=(0,s.A)(a,l,m,void 0,!1),_=a},7487228876:(Q,C,e)=>{"use strict";e.d(C,{h:()=>r});var t=e(796111729),n=e(6259241484);const s=(0,t.Wo)(),r=i(d=>{let{spaceName:o,notificationName:a}=d;a&&s.error(n.cK,`${a} is not a recognized notification name for space ${o}.`)},"maybeLogUnrecognizedNotification")},2374999399:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(8161242485),n=e(8276911661);const s=(0,t.Ay)((d,o)=>(0,n.nv)(d,o).profile.statusEmojiDisplayInfo||void 0);s.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(d,o)=>(0,n.nv)(d,o).profile.statusEmojiDisplayInfo||void 0};const r=s},1345620242:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8161242485),n=e(8170643398),s=e(8276911661),r=e(3428522109);const d=(0,t.Ay)((a,l)=>{const m=(0,s.nv)(a,l),{status_text_canonical:c}=m.profile;return c?(0,n.UM)(m):(0,r.K)(a,m)?0:(0,n.UM)(m)});d.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(a,l)=>{const m=(0,s.nv)(a,l),{status_text_canonical:c}=m.profile;return c?(0,n.UM)(m):(0,r.K)(a,m)?0:(0,n.UM)(m)}};const o=d},2072540560:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(8086952004),n=e(8161242485),s=e(8276911661),r=e(8956918631),d=e(3428522109);const o=(0,n.Ay)((l,m)=>{const c=(0,s.nv)(l,m),{status_text_canonical:_}=c.profile;if(_){let p;const u=(0,r.A)(l);return u&&(p=((0,t.A)(u,h=>h.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(p=s.Ru.t("On a call")),p||c.profile.status_text||""}return(0,d.K)(l,c)?s.Ru.t("In a huddle"):c.profile.status_text||""});o.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(l,m)=>{const c=(0,s.nv)(l,m),{status_text_canonical:_}=c.profile;if(_){let p;const u=(0,r.A)(l);return u&&(p=((0,t.A)(u,h=>h.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(p=s.Ru.t("On a call")),p||c.profile.status_text||""}return(0,d.K)(l,c)?s.Ru.t("In a huddle"):c.profile.status_text||""}};const a=o},1651628626:(Q,C,e)=>{"use strict";e.d(C,{c:()=>o});var t=e(5797466484),n=e(1031947056),s=e(6422693406),r=e(6333950786),d=e(9291336591);const o=(0,n.Ay)("Submits changes to the current user\u2019s profile",(a,l,m)=>{let{profile:c,reason:_="submitProfileChange"}=m;if(!(0,t.A)(c))return s.S.resolve();const p={...c},u=l();return c.status_text&&(p.status_text=(0,r.A)(u,c.status_text)),a((0,d.n)({profile:JSON.stringify(p),reason:_}))});o.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},7651407571:(Q,C,e)=>{"use strict";e.d(C,{p:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Upsert fetched ordered membership list for channel");n.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},8188087967:(Q,C,e)=>{"use strict";e.d(C,{GD:()=>h,Nd:()=>A});var t=e(3398586081),n=e(8352634987),s=e(6422693406),r=e(6533394955),d=e(3339229351),o=e(7058495549),a=e(8847766420),l=e(7651407571),m=e(1031947056),c=e(8760181906),_=e(4949104520),p=e(796111729);const u=1e4,h=(0,t.A)(()=>new n.Ay({storeKey:"membershipOrdered",fetch:(f,g)=>s.S.all(g.map(y=>(0,r.dispatchForTeamId)(f,v({channelId:y,count:d.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),E=(0,m.Ay)("marks objects as stale via CFM for Membership List",function(f,g){let{teamId:y,channelId:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h().markObjectsAsStale(y,[T])});E.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const A=(0,c.A)(E,(0,_.A)(u,0,.5)),v=(0,m.Ay)("Fetches top members for the channel",function(f,g){let{channelId:y,count:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.ds)(f,g,y,T).then(M=>{const O=(0,a.ZT)(g());if(!O){(0,p.Wo)().info("MOS","No teamId found");return}return h().markObjectsAsFresh(O,[y]),f((0,l.p)({channelId:y,memberList:M}))})});v.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},1794107122:(Q,C,e)=>{"use strict";e.d(C,{$:()=>d});var t=e(8161242485),n=e(8847766420),s=e(8188087967),r=e(2689960678);const d=(0,t.Ay)((o,a)=>{const l=(0,n.ZT)(o);return l&&(0,s.GD)().maybeRefetch(l,a),o&&o.membershipOrdered&&o.membershipOrdered[a]?o.membershipOrdered[a]:r.Ml});d.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(o,a)=>{const l=(0,n.ZT)(o);return l&&(0,s.GD)().maybeRefetch(l,a),o&&o.membershipOrdered&&o.membershipOrdered[a]?o.membershipOrdered[a]:r.Ml}}},6562711329:(Q,C,e)=>{"use strict";e.d(C,{z:()=>u});var t=e(6422693406),n=e(7823346015),s=e(8403493408),r=e(1031947056),d=e(1407713935),o=e(8798294025),a=e(6533394955),l=e(5795074931),m=e(8847766420),c=e(9101533895),_=e(3730613858),p=e(2480881364);const u=(0,r.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(h,E){let{channelId:A,userIds:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=E(),[g,y]=(0,n.A)(v,O=>(0,_.wr)(f,A,O)),T=(0,c.OL)(f,A);if((0,d.LI)(T)){const O=(0,o.e)(T),I=(0,l.WR)(f);(0,s.A)(y,O,I),v!=null&&v.includes(O)&&g.push(O),v!=null&&v.includes(I)&&g.push(I)}const M={};return g.forEach(O=>{M[O]=(0,_.Ql)(f,A,O)}),y.length?(0,a.dispatchForTeamId)((0,m.ZT)(f),(0,p.R)({channelId:A,userIds:y})).then(O=>O&&O.payload&&O.payload.membershipInfo?{membershipInfo:{...O.payload.membershipInfo,...M}}:{membershipInfo:M}):t.S.resolve({membershipInfo:M})});u.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},3051870320:(Q,C,e)=>{"use strict";e.d(C,{m:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Updates latest message activity for a specified type");n.meta={name:"createAction",key:"createActionupdateMessageActivity",description:"Updates latest message activity for a specified type"}},5345057011:(Q,C,e)=>{"use strict";e.d(C,{T:()=>n,s:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Add a placeholder to the store");n.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const s=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");s.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},6445408916:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8161242485);const n=(0,t.Ay)(s=>s==null?void 0:s.messagePlaceholders);n.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:s=>s==null?void 0:s.messagePlaceholders}},5774398667:(Q,C,e)=>{"use strict";e.d(C,{I:()=>s});var t=e(8161242485),n=e(6445408916);const s=(0,t.Ay)((r,d)=>{var o;return(o=(0,n.A)(r))===null||o===void 0?void 0:o[d]});s.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,d)=>{var o;return(o=(0,n.A)(r))===null||o===void 0?void 0:o[d]}}},6347367879:(Q,C,e)=>{"use strict";e.d(C,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Start delete animation for a message");n.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},1508337910:(Q,C,e)=>{"use strict";e.d(C,{h:()=>d});var t=e(8161242485),n=e(2689960678);const s=(0,t.Ay)(a=>a==null?void 0:a.messagesMeta);s.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:a=>a==null?void 0:a.messagesMeta};var r;const d=(0,t.Ay)((a,l)=>{let{channelId:m,ts:c}=l;var _,p;return(r=(_=s(a))===null||_===void 0||(p=_[m])===null||p===void 0?void 0:p[c])!==null&&r!==void 0?r:n.t0});var o;d.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(a,l)=>{let{channelId:m,ts:c}=l;var _,p;return(o=(_=s(a))===null||_===void 0||(p=_[m])===null||p===void 0?void 0:p[c])!==null&&o!==void 0?o:n.t0}}},3521202413:(Q,C,e)=>{"use strict";e.d(C,{j:()=>f});var t=e(1031947056),n=e(7606781622),s=e(9101533895),r=e(8289365785),d=e(8726613433),o=e(8233775522),a=e(6347367879),l=e(9121476043),m=e(9629572172),c=e(4096483543),_=e(3110884894);const p=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(g,y){let{channelId:T,ts:M,threadTs:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=arguments.length>3?arguments[3]:void 0;const D=y(),{getViewSet:P}=I(m.U),k=!(0,c.A)()||(0,d.T2)(D),R=(0,o.ko)(D)&&k,V=(0,d.Qm)(D);var B;const{primary:W,secondary:L}=(B=P(D))!==null&&B!==void 0?B:{},S=W==null?void 0:W.id,H=L==null?void 0:L.id,w=i(()=>g((0,a.o)({channelId:T,ts:M})),"doAnimation");if(R){if(O&&(H==="convo"||H==="thread")&&(0,r.A)(V)===(0,_.Iu)(T,O)){w();return}if(S===T){w();return}}g((0,l.A)({channelId:T,ts:M,threadTs:O}))});p.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const u=p;var h=e(1484767411),E=e(2986581466),A=e(1508337910),v=e(796111729);const f=(0,t.Ay)("Delete a message by channel ID and timestamp",function(g,y){let{deleted_ts:T,channel:M,_from_evt_log:O,previous_message:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var D;const P=y(),k=(0,v.Ay)({state:P});if(!T){k.error("Error in messageDeleted: no deleted_ts");return}const R=(0,s.gT)(P,M)&&(0,s.OL)(P,M);if(!R){k.error(`Unknown channelId: ${M}`);return}if((D=(0,A.h)(P,{channelId:M,ts:T}))===null||D===void 0?void 0:D.isDeleting)return;(0,E.yj)(R,{deleted_ts:T});const B=!1,L=(0,n.Ld)(P,M,T,B)||I;g(L?u({channelId:M,ts:T,threadTs:L.thread_ts,fromEvtLog:O}):(0,l.A)({channelId:M,ts:T})),g((0,h.o)({channelId:M,ts:T}))});f.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},5688490863:(Q,C,e)=>{"use strict";e.d(C,{J_:()=>l,PB:()=>c,Up:()=>d,Zs:()=>a,iN:()=>r,m3:()=>o,oh:()=>p,qA:()=>_,qj:()=>u,yw:()=>m});var t=e(2689960678),n=e(8161242485);const s=(0,n.Ay)(h=>h.modernSelling.salesListViews);s.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:h=>h.modernSelling.salesListViews};const r=(0,n.Ay)(h=>s(h).listViewActiveObjectOption);r.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:h=>s(h).listViewActiveObjectOption};const d=(0,n.Ay)(h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.listViewSearchResults});d.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.listViewSearchResults}};const o=(0,n.Ay)((h,E)=>{var A;const v=(A=s(h))===null||A===void 0?void 0:A.listViewIdSearchResultsMap;return(v==null?void 0:v[E])||t.t0});o.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(h,E)=>{var A;const v=(A=s(h))===null||A===void 0?void 0:A.listViewIdSearchResultsMap;return(v==null?void 0:v[E])||t.t0}};const a=(0,n.Ay)((h,E,A)=>o(h,E)[A]||t.Ml);a.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(h,E,A)=>o(h,E)[A]||t.Ml};const l=(0,n.Ay)(h=>{var E;return((E=s(h))===null||E===void 0?void 0:E.listViewActiveSearchResultIds)||t.Ml});l.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:h=>{var E;return((E=s(h))===null||E===void 0?void 0:E.listViewActiveSearchResultIds)||t.Ml}};const m=(0,n.Ay)(h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.listViewActiveSearchQuery});m.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.listViewActiveSearchQuery}};const c=(0,n.Ay)(h=>s(h).shouldShowOpportunitiesListViewBanner);c.meta={name:"createSelector",key:"createSelectorgetShouldShowOpportunitiesListViewBanner",description:h=>s(h).shouldShowOpportunitiesListViewBanner};const _=(0,n.Ay)(h=>{var E;return((E=s(h))===null||E===void 0?void 0:E.adminSuggestedListViews)||t.Ml});_.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:h=>{var E;return((E=s(h))===null||E===void 0?void 0:E.adminSuggestedListViews)||t.Ml}};const p=(0,n.Ay)(h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.areAdminSuggestedListViewsForSidebarFresh});p.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.areAdminSuggestedListViewsForSidebarFresh}};const u=(0,n.Ay)(h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.adminConfiguredObjects});u.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:h=>{var E;return(E=s(h))===null||E===void 0?void 0:E.adminConfiguredObjects}}},8149648525:(Q,C,e)=>{"use strict";e.d(C,{b:()=>l});var t=e(5104468117),n=e(8956161330),s=e(1031947056),r=e(7146087658),d=e(5688490863),o=e(1670025826),a=e(146149780);const l=(0,s.Ay)("Search list views by query",(m,c,_)=>{let{isFullSearch:p=!1,objectType:u,query:h,salesforceOrgId:E}=_;const A=c(),v=p?t.Iq:t.TD,f=(0,n.Qb)(A);let g;return u?g=[u]:g=(0,d.qj)(A).map(T=>T.sobject_api_name),m((0,o.R)({limit:v,listviewObjectScopes:g,query:h,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:E,reason:"list_view_search"})).then(y=>{let{records:T}=y;const M=T.map(I=>({id:I.value,label:I.label,lastViewedDate:f?void 0:I.extras.LastViewedDate,objectType:I.extras.SobjectType,salesforceOrgId:E})),O=m((0,a.x)({listViews:M,salesforceOrgId:E}));return p&&m((0,r.hA)(O)),M})});l.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},146149780:(Q,C,e)=>{"use strict";e.d(C,{x:()=>s});var t=e(1031947056),n=e(7146087658);const s=(0,t.Ay)("Upsert list views fetched by search or other API",(r,d,o)=>{let{listViews:a,salesforceOrgId:l}=o;const m=[],c={},_={};return a.forEach(p=>{const u=p.id,h=p.objectType;c[u]={id:u,label:p.label,lastViewedDate:p.lastViewedDate,objectType:h,salesforceOrgId:l},_[h]=_[h]||[],_[h].push(u),m.push(u)}),r((0,n.TO)(c)),r((0,n.KT)({salesforceOrgId:l,listViewObjMap:_})),m});s.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},2413251042:(Q,C,e)=>{"use strict";e.d(C,{p$:()=>n,rB:()=>s,x8:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");n.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const s=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");s.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const r=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");r.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"}},6303140164:(Q,C,e)=>{"use strict";e.d(C,{UY:()=>s,Vb:()=>t,_J:()=>n});const t="slack-inverted-sidebar-initial-setting",n="slack-peeks-enabled-on-mouse-enter-initial-setting",s="slack-zoom-initial-setting"},1838435986:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(4423055085),n=e(9139930183),s=e(2140362605);const r=(0,s.Ay)("NOOP");r.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"};var d=e(6533394955),o=e(1642614792);const a=0,m=(0,n.Ay)({},a,{storeKey:"noop",persistenceEnabled:!1}).on(r,c=>c+1);(0,t.ul)("dispatchNoop",()=>{(0,d.dispatchForTeamId)((0,o.oI)(),r())})},4309043566:(Q,C,e)=>{"use strict";e.d(C,{l:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");n.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},3180420025:(Q,C,e)=>{"use strict";e.d(C,{y:()=>o});var t=e(2384831516),n=e(4309043566),s=e(2689960678);const r=s.t0,d={persistenceEnabled:!1,storeKey:"overlays"},o=(0,t.vy)({},r,d).on(n.l,(a,l)=>l)},983004675:(Q,C,e)=>{"use strict";e.d(C,{OI:()=>o,cg:()=>s,kK:()=>n,ot:()=>d,us:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Sets the current loading state for a channel");n.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const s=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");s.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=(0,t.Ay)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const d=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");d.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const o=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");o.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},4352409775:(Q,C,e)=>{"use strict";e.d(C,{G:()=>a});var t=e(3398586081),n=e(6422693406),s=e(8352634987),r=e(6533394955),d=e(983004675),o=e(6701536972);const a=(0,t.A)(()=>new s.Ay({storeKey:"pins",fetch:(l,m)=>n.S.map(m,c=>((0,r.dispatchForTeamId)(l,(0,d.ot)({channelId:c})),(0,r.dispatchForTeamId)(l,(0,o.b)({channelId:c})))),isEnabled:()=>!0,metricsName:"pins"}))},6247263305:(Q,C,e)=>{"use strict";e.d(C,{R:()=>t,b:()=>n});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},n={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},7158699554:(Q,C,e)=>{"use strict";e.d(C,{$U:()=>c,A_:()=>_,Wt:()=>p,YG:()=>h,c7:()=>u,jR:()=>m});var t=e(2384831516),n=e(8847766420),s=e(7606781622),r=e(6457401668),d=e(937317117),o=e(4352409775),a=e(6247263305),l=e(4813703725);const m=(0,t.Mz)(function(A,v){let{refetchIfNeeded:f=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(f){const g=(0,n.ZT)(A);(0,o.G)().maybeRefetch(g,v)}return A&&A.pins&&A.pins.pinsByChannel[v]});m.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(A,v){let{refetchIfNeeded:f=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(f){const g=(0,n.ZT)(A);(0,o.G)().maybeRefetch(g,v)}return A&&A.pins&&A.pins.pinsByChannel[v]}};const c=(0,t.Mz)((A,v)=>{var f,g;return A&&A.pins&&A.pins.pinsByChannel[v]?(f=A.pins.pinsByChannel)===null||f===void 0||(g=f[v])===null||g===void 0?void 0:g.length:0});c.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(A,v)=>{var f,g;return A&&A.pins&&A.pins.pinsByChannel[v]?(f=A.pins.pinsByChannel)===null||f===void 0||(g=f[v])===null||g===void 0?void 0:g.length:0}};const _=(0,t.Mz)((A,v)=>A&&A.pins&&A.pins.loadingStateByChannel[v]);_.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(A,v)=>A&&A.pins&&A.pins.loadingStateByChannel[v]};const p=(0,t.Mz)((A,v)=>{let{channelId:f,ts:g}=v;const y=!1,T=(0,s.Ld)(A,f,g,y);if(!T)return!1;if((0,r.m)(T)&&T.comment){const M=(0,d.yd)(A,T.file,T.comment.id);return M?!!(M.pinned_to&&M.pinned_to.includes(f)):!1}return!!(T.pinned_to&&T.pinned_to.includes(f))});p.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(A,v)=>{let{channelId:f,ts:g}=v;const y=!1,T=(0,s.Ld)(A,f,g,y);if(!T)return!1;if((0,r.m)(T)&&T.comment){const M=(0,d.yd)(A,T.file,T.comment.id);return M?!!(M.pinned_to&&M.pinned_to.includes(f)):!1}return!!(T.pinned_to&&T.pinned_to.includes(f))}};const u=i((A,v)=>{switch(v.type){case a.R.MESSAGE:return{...(0,s.Ld)(A,v.channel,v.ts),type:a.R.MESSAGE};case a.R.FILE:return{...(0,d.Lp)(A,v.id),type:a.R.FILE};case a.R.FILE_COMMENT:return{...(0,d.yd)(A,v.fileId,v.id),fileId:v.fileId,type:a.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),h=(0,l.eI)((A,v)=>{const f=m(A,v);return f?f.map(g=>u(A,g)):[]}),E=(0,t.Mz)(A=>A&&A.pins&&A.pins.popoverScrollTop);E.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:A=>A&&A.pins&&A.pins.popoverScrollTop}},6701536972:(Q,C,e)=>{"use strict";e.d(C,{b:()=>h});var t=e(796111729),n=e(9109082163),s=e(2947836378),r=e(1031947056),d=e(8847766420),o=e(6403218297),a=e(2416684575),l=e(10127715),m=e(6247263305),c=e(983004675),_=e(1581380967),p=e(4352409775),u=e(5792544570);const h=(0,r.Ay)("Fetch pinned items list for channel",(E,A,v)=>{const f=v.channelId;return E((0,c.kK)({loadingState:m.b.LOADING,channelId:f})),E((0,n.xs)({reason:"fetchPinsList",...v})).then(function(){let{items:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=g.filter(O=>O.type.includes(m.R.FILE)).map(O=>{if(O.type===m.R.FILE_COMMENT){const{comment:I,file:D,...P}=O,k=(0,o.A)(I,D);return{...P,file:k}}return O}),T=g.filter(O=>O.type===m.R.MESSAGE);if(y.length){const O=y.filter(D=>D.type!==m.R.FILE_COMMENT),I=y.filter(D=>D.type===m.R.FILE_COMMENT);E((0,s.b)({files:O.map(D=>D.file)})),E((0,s.b)({files:I.map(D=>D.file)}))}if(T.length){const O=T.map(D=>{let{message:P}=D;return P}),I=E((0,a.A)({imsgs:O,channelId:f}));E((0,l.Kc)(I))}E((0,_.K)({channelId:f,count:g.length})),E((0,c.cg)({items:g.map(u.B),channelId:f})),E((0,c.kK)({loadingState:m.b.LOADED,channelId:f}));const M=(0,d.ZT)(A());(0,p.G)().markObjectsAsFresh(M,[f])}).catch(g=>{throw E((0,c.kK)({loadingState:m.b.NOT_LOADED,channelId:f})),(0,t.Ay)({getState:A}).error(`Error in fetchPinsList: ${JSON.stringify(g)}`),g})});h.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},1581380967:(Q,C,e)=>{"use strict";e.d(C,{K:()=>l});var t=e(1031947056),n=e(9606603587),s=e(9101533895),r=e(796111729),d=e(9676369204),o=e(6247263305),a=e(7158699554);const l=(0,t.Ay)("update a pin count for a channel",(m,c,_)=>{let{channelId:p,count:u,forceUpdate:h=!1}=_;const E=c(),A={...(0,s.OL)(E,p)},v=(0,a.jR)(E,p,{refetchIfNeeded:!1}),f=(0,a.A_)(E,p),g=!h&&f===o.b.LOADED?v==null?void 0:v.length:u;if(g===A.pinned_items_count)return;(0,r.Ay)({state:E}).info("PINS",`Pins count updated for channel ${p}: ${g}`);const y={...A,pinned_items_count:g};m((0,n.B)({channel:y})),(0,d.L6)(A,u)});l.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},5792544570:(Q,C,e)=>{"use strict";e.d(C,{B:()=>n});var t=e(6247263305);const n=i(s=>{switch(s.type){case t.R.MESSAGE:var r;return{type:s.type,channel:s.channel,ts:(r=s.message)===null||r===void 0?void 0:r.ts};case t.R.FILE:var d,o;return{type:s.type,id:s.file?s.file.id:(d=s.files)===null||d===void 0||(o=d[0])===null||o===void 0?void 0:o.id};case t.R.FILE_COMMENT:var a;return{type:s.type,id:s.comment.id,fileId:(a=s.file)===null||a===void 0?void 0:a.id};default:return{}}},"formatPinFromAPI")},4079686795:(Q,C,e)=>{"use strict";e.d(C,{j:()=>s,z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set a channel pref");n.meta={name:"createAction",key:"createActionsetChannelPref",description:"Set a channel pref"};const s=(0,t.Ay)("Bulk set channel prefs");s.meta={name:"createAction",key:"createActionbulkSetChannelsPrefs",description:"Bulk set channel prefs"}},8163773562:(Q,C,e)=>{"use strict";e.d(C,{d:()=>n});var t=e(8161242485);const n=(0,t.Ay)((s,r,d)=>{var o,a,l;return s==null||(o=s.prefs)===null||o===void 0||(a=o.channel)===null||a===void 0||(l=a[r])===null||l===void 0?void 0:l[d]});n.meta={name:"createSelector",key:"createSelectorgetChannelPref",description:(s,r,d)=>{var o,a,l;return s==null||(o=s.prefs)===null||o===void 0||(a=o.channel)===null||a===void 0||(l=a[r])===null||l===void 0?void 0:l[d]}}},1523378513:(Q,C,e)=>{"use strict";e.d(C,{E:()=>l,d:()=>a});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(4446301238),d=e(8243083011),o=e(4079686795);const a=(0,s.Ay)("Fetch and upsert channel pref data",function(){var m=(0,t.coroutine)(function*(c,_,p){let{channelId:u,prefName:h,reason:E}=p;if(h==="enable_at_channel"&&!(0,d.q)(_(),u))return;const A=yield c((0,r.d9)({channelId:u,prefName:h,reason:E||"fetch-channel-pref"}));c((0,o.z)({channelId:u,pref:h,value:A==null?void 0:A.pref_value}))});return function(c,_,p){return m.apply(this,arguments)}}());a.meta={name:"createThunk",key:"createThunkgetChannelPref",description:"Fetch and upsert channel pref data"};const l=(0,s.Ay)("Set and upsert channel pref data",function(){var m=(0,t.coroutine)(function*(c,_,p){let{channelId:u,newPrefs:h,reason:E}=p;const A=yield c((0,r.E9)({channelId:u,newPrefs:h,reason:E||"set-channel-prefs"})),v={[u]:A.prefs};c((0,o.j)(v))});return function(c,_,p){return m.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunksetChannelPrefs",description:"Set and upsert channel pref data"}},7665060966:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(8161242485),n=e(2047021170);const s=(0,t.Ay)(d=>(0,n.ty)(d,"messages_theme")==="dense"?"dense":"light");s.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:d=>(0,n.ty)(d,"messages_theme")==="dense"?"dense":"light"};const r=s},1317368584:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8161242485),n=e(9599231336),s=e(2047021170),r=e(7665060966);const d=(0,t.Ay)(a=>!(0,n.P)(a)&&!!(0,s.ty)(a,"jumbomoji")&&(0,r.A)(a)!=="dense");d.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:a=>!(0,n.P)(a)&&!!(0,s.ty)(a,"jumbomoji")&&(0,r.A)(a)!=="dense"};const o=d},7520484642:(Q,C,e)=>{"use strict";e.d(C,{$n:()=>h,DS:()=>n,Eu:()=>m,JB:()=>u,Lk:()=>E,QU:()=>v,UR:()=>d,Ye:()=>c,aF:()=>A,cl:()=>a,dz:()=>r,gJ:()=>_,mC:()=>o,mo:()=>l,wt:()=>s,zG:()=>p});var t=e(2140362605);const n=(0,t.Ay)("Switch currently active plan");n.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const s=(0,t.Ay)("Successfully fetched available plans");s.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const r=(0,t.Ay)("Successfully fetched cost for current plan");r.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const d=(0,t.Ay)("Successfully fetched cost for current addon");d.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const o=(0,t.Ay)("Received an API error");o.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const a=(0,t.Ay)("Plans and cost data loaded");a.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const l=(0,t.Ay)("Mark plans and cost data as not loaded");l.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const m=(0,t.Ay)("Set Plan Level");m.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const c=(0,t.Ay)("Set Payment Method");c.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const _=(0,t.Ay)("Update Is Plans Data Loading");_.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const p=(0,t.Ay)("Update Is Cost Data Loading");p.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const u=(0,t.Ay)("Load Plans Page Boot Data Success");u.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const h=(0,t.Ay)("Mark plans page boot data as not loaded");h.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const E=(0,t.Ay)("Mark plan payment status data as not loaded");E.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const A=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");A.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const v=(0,t.Ay)("Team plan status loaded");v.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},5512605238:(Q,C,e)=>{"use strict";e.d(C,{F:()=>n});var t=e(8161242485);const n=(0,t.Ay)(s=>s&&s.promo&&s.promo.showTrialStartedCelebration);n.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:s=>s&&s.promo&&s.promo.showTrialStartedCelebration}},1384076438:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(6422693406),n=e(1031947056),s=e(8760181906),r=e(2607644860),d=e(1939990292),o=e(3677514771),a=e(9869343146),l=e(6839188756),m=e(796111729);const c=(0,n.Ay)("Fetch promo campaign eligibility",(h,E,A)=>{let{campaignType:v,campaignSubType:f,context:g,reason:y}=A;const T=(0,o.H7)(E());return(0,l.tc)(T)?(h((0,d.zg)({campaignType:v,campaignSubType:f,isFetching:!0})),h((0,a.V)({campaignType:v,campaignSubType:f,context:g,reason:y})).then(O=>{const{isEligible:I,discountPercent:D,expirationTimestamp:P,discountDuration:k}=O;return h((0,d.xt)({campaignType:v,campaignSubType:f,isEligible:I,discountPercent:D,expirationTimestamp:P,discountDuration:k})),h((0,d.zg)({campaignType:v,campaignSubType:f,isFetching:!1})),O}).catch(O=>((0,m.Ay)({state:E()}).error(O.message),h((0,d.zg)({campaignType:v,campaignSubType:f,isFetching:!1})),O))):t.S.resolve({isEligible:!1})});c.meta={name:"createThunk",key:"createThunkfetchPromoEligibility",description:"Fetch promo campaign eligibility"};const p=(0,s.A)(c,r.C,!0,["context","reason"]),u={fetchPromoEligibility:c}},2607644860:(Q,C,e)=>{"use strict";e.d(C,{C:()=>t,y:()=>n});const t=3e5,n={shareChannelPaywall:"share_channel_paywall",sharedChannelsIntro:"shared_channels_intro",trialStart:"trial_start",limitedHistoryBanner:"limited_history_banner",slackConnectHub:"slack_connect_hub",slackConnectHubHeader:"slack_connect_hub_header",slackConnectDMBanner:"slack_connect_dm_banner",addMoreItemsLink:"add_more_items_link",connectionsChannelSection:"connections_channel_section",paidBenefitsPage:"paid_benefits_page",adminBillingOverview:"admin_billing_overview",channelInviteModal:"channel_invite_modal",huddleChannelJoinMsgText:"huddle_channel_join_msg_text",fileStorageWarning:"file_storage_warning",huddleInviteModal:"huddle_invite_modal",canvasPageSyntheticView:"canvas_page_synthetic_view",workflowBuilderFreemiumBanner:"workflow_builder_freemium_banner",workflowPublishButton:"workflow_publish_button",workflowBuilderSidebar:"workflow_builder_sidebar"}},6822097892:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(9706240641),n=e.n(t),s=e(7307560139),r=e(2346425530),d=e(9629572172),o=e(3193155968),a=e(6078549397),l=e(5033667e3),m=e(7429662208),c=e(9108490430),_=e(1031947056);const p=(0,_.Ay)("Open a document on a specific version",function(){var h=(0,t.coroutine)(function*(E,A,v,f){const{fileId:g,windowId:y,version:T,isFromCloseActivityHistory:M,replaceHistoryState:O}=v,I=A(),{versionId:D,sequence:P}={...T};if(!g)return;const{isMainWindow:k,closeView:R,getViewSet:V}=f(d.U),B=(0,m.e6)(I),W=(0,r.xu)(I,y),{versionId:L,sequence:S}={...W},H=M?void 0:D||L,w=M?void 0:P||S;if(M||E((0,s.fw)({windowId:y,versionId:D||L})),O){const F=k?V(I):(0,m.hZ)(I,{windowId:y});if(F){const j=F[o.mq.Primary];if(j){const J={...F,[o.mq.Primary]:{...F[o.mq.Primary],params:{...j.params,versionId:H,sequence:w}}};E(k?(0,l.A)({windowId:o.N2,tab:B,viewSet:J}):(0,l.A)({windowId:y.toString(),viewSet:J}))}}}else{const F={id:(0,a.Lo)({id:g}),versionId:H,sequence:w,preserveExistingSecondaryView:!M};E(k?(0,c.IZ)({windowId:o.N2,tab:B,container:o.mq.Primary,params:F}):(0,c.IZ)({windowId:y.toString(),container:o.mq.Primary,params:F})),M&&R(o.mq.Secondary)}M&&E((0,s.NA)({windowId:y}))});return function(E,A,v,f){return h.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const u=p},7115106069:(Q,C,e)=>{"use strict";e.d(C,{Bi:()=>s,d0:()=>d,oj:()=>r});var t=e(8161242485);const n=(0,t.Ay)(o=>o==null?void 0:o.quipDocEmbeds);n.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:o=>o==null?void 0:o.quipDocEmbeds};const s=(0,t.Ay)(o=>{const a=n(o);return a&&Object.keys(a).length>0});s.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:o=>{const a=n(o);return a&&Object.keys(a).length>0}};const r=(0,t.Ay)(o=>{const a=n(o);return Object.keys(a)});r.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:o=>{const a=n(o);return Object.keys(a)}};const d=(0,t.Ay)((o,a)=>{const l=n(o);var m;return((m=l[a])!==null&&m!==void 0?m:0)>0});d.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(o,a)=>{const l=n(o);var m;return((m=l[a])!==null&&m!==void 0?m:0)>0}}},2494018541:(Q,C,e)=>{"use strict";e.d(C,{O:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Store the corresponding file id for temp quip id");n.meta={name:"createAction",key:"createActionsetFileIdForTempId",description:"Store the corresponding file id for temp quip id"}},4368281601:(Q,C,e)=>{"use strict";e.d(C,{N:()=>l,al:()=>o,jw:()=>d,k:()=>n,uo:()=>s,yw:()=>r,z5:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Store/replace client.counts for this channel");n.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const s=(0,t.Ay)("increment mention count for the channel");s.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const r=(0,t.Ay)("decrement mention count for the channel");r.meta={name:"createAction",key:"createActiondecQuipUnreadCountForChannel",description:"decrement mention count for the channel"};const d=(0,t.Ay)("Add canvases to hide on undo");d.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const o=(0,t.Ay)("clear new mention flag for the channel");o.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const a=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");a.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const l=(0,t.Ay)("Set the last seen timestamp for a badged channel canvas animation");l.meta={name:"createAction",key:"createActionsetLastSeenChannelCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged channel canvas animation"}},9692760785:(Q,C,e)=>{"use strict";e.d(C,{Hg:()=>r,aR:()=>s});var t=e(2140362605),n=e(8872900367);const s=(0,t.Ay)("Add records to the store by layoutType");s.meta={name:"createAction",key:"createActionupsertLayoutTypeRecords",description:"Add records to the store by layoutType"};const r=(0,t.Ay)("Delete all locally cached records by Salesforce org id");r.meta={name:"createAction",key:"createActiondeleteCachedRecordsBySalesforceOrgId",description:"Delete all locally cached records by Salesforce org id"};const d=i(o=>s(o.map(a=>({id:a.id,layoutType:LayoutType.RecordCrud,record:a}))),"upsertRecordDetails")},8096107629:(Q,C,e)=>{"use strict";e.d(C,{CK:()=>w,D1:()=>D,Eh:()=>R,F3:()=>y,FB:()=>L,H9:()=>H,Mo:()=>S,Ss:()=>M,Yo:()=>P,_s:()=>B,ez:()=>O,pV:()=>h,x6:()=>V});var t=e(9706240641),n=e.n(t),s=e(3037015781),r=e(8352634987),d=e(6422693406),o=e(6533394955),a=e(3398586081),l=e(9692760785),m=e(2823938397),c=e(7217613594),_=e(8872900367);const p="records",u=60*10;function h(F){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.c.RecordNotFound;return{...(0,m.WQ)(F),error:j}}i(h,"makeNonExistentRecord");function E(F,j,J){return A.apply(this,arguments)}i(E,"fetchRecordDetailForTeamId");function A(){return A=(0,t.coroutine)(function*(F,j,J){try{return(yield(0,o.dispatchForTeamId)(F,(0,c.H)({record:j,reason:"record-detail-conditional-fetch",layoutType:J,mode:"Edit"}))).record}catch(X){return h(j,X.name)}}),A.apply(this,arguments)}i(A,"_fetchRecordDetailForTeamId");function v(F,j,J){return d.S.map(j,X=>E(F,X,J))}i(v,"fetchRecordDetailsForTeamId");function f(F,j,J){(0,o.dispatchForTeamId)(F,(0,l.aR)(j.map(X=>({id:X.id,layoutType:J,record:X}))))}i(f,"upsertRecords");const g=i((F,j,J)=>v(F,j,J).then(X=>f(F,X,J)),"fetchAndUpsertKnownRecords"),y=i((F,j,J)=>E(F,j,J).then(X=>(f(F,[X],J),X)),"fetchAndUpsertKnownRecord"),T=(0,a.A)(F=>new r.Ay({storeKey:"recordDetails",maxAge:()=>u,metricsName:p,fetch:(j,J)=>g(j,J,F)})),M=(0,a.A)(F=>new s.Ay({fetch:(j,J)=>v(j,J,F),upsertNonExistent:(j,J)=>f(j,J,F),upsertKnown:(j,J)=>{f(j,J,F);const X=J.filter(m.uz).map(q=>q.id);T(F).markObjectsAsFresh(j,X)}})),O=i(function(F,j){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p.RecordCrud;return T(J).maybeRefetch(F,j)},"maybeRefetch"),I=i(function(F,j){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud;return T(J).markObjectsAsFresh(F,j)},"markObjectsAsFresh"),D=i(function(F,j){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p.RecordCrud;return T(J).markObjectsAsStale(F,j)},"markObjectsAsStale"),P=i((F,j)=>{Object.keys(_.p).forEach((J,X)=>T(J).markObjectsAsStale(F,j))},"markObjectsAsStaleForAllLayoutTypes"),k=i(function(F,j){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud;return T(J).isObjectFresh(F,j)},"isObjectFresh");function R(F){return(0,m.mX)(F)}i(R,"isUnknownRecord");function V(F){return(0,m.lv)(F)}i(V,"isNonExistentRecord");function B(F){return(0,m.uz)(F)}i(B,"isExistentRecord");function W(F){return j=>V(j)&&(j==null?void 0:j.error)===F}i(W,"createRecordErrorHelper");const L=W(c.c.RecordNotFound),S=W(c.c.TokenNotFound),H=W(c.c.InsufficientRecordAccess),w=W(c.c.SalesHomeUserConfigNotFound)},7045654828:(Q,C,e)=>{"use strict";e.d(C,{Of:()=>c,PQ:()=>m,VY:()=>p});var t=e(8161242485),n=e(8847766420),s=e(8096107629),r=e(6790819894),d=e(8417858288),o=e(8872900367);const a=Object.freeze((0,s.pV)("INVALID_RECORD_ID"));function l(u,h){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o.p.RecordCrud;var v,f,g;const y=(0,n.JY)(u)||"",T=h&&((v=u.recordDetails)===null||v===void 0||(f=v.records)===null||f===void 0||(g=f[h])===null||g===void 0?void 0:g[A]);return T?((0,s.ez)(y,h,A),T):h&&E?(0,s.Ss)(A).fetchObjectWithId(y,h):E?a:null}i(l,"getRecordDetailByIdSelector");const m=(0,t.Ay)(l);m.meta={name:"createSelector",key:"createSelectorgetRecordDetailById",description:l};const c=(0,r.F)(u=>u.recordDetails.records,(u,h)=>h,(u,h)=>Object.keys(u).filter(E=>{var A;return((A=(0,d.B)(E))===null||A===void 0?void 0:A.orgId)===h}));function _(u,h){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.p.RecordCrud;var A,v,f;return h?(A=u.recordDetails)===null||A===void 0||(v=A.lastRecordUpserts)===null||v===void 0||(f=v[h])===null||f===void 0?void 0:f[E]:void 0}i(_,"getLastRecordUpsertSelector");const p=(0,t.Ay)(_);p.meta={name:"createSelector",key:"createSelectorgetLastRecordUpsert",description:_}},8872900367:(Q,C,e)=>{"use strict";e.d(C,{p:()=>t});var t;(function(n){n.RecordCrud="RecordCrud",n.UrlUnfurling="UrlUnfurling",n.Compact="Compact"})(t||(t={}))},5446033290:(Q,C,e)=>{"use strict";e.d(C,{b:()=>n,q:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Set the last executed encoded search string");n.meta={name:"createAction",key:"createActionsetLastExecutedEncodedSearchString",description:"Set the last executed encoded search string"};const s=(0,t.Ay)("Clear the last executed encoded search string");s.meta={name:"createAction",key:"createActionclearLastExecutedEncodedSearchString",description:"Clear the last executed encoded search string"}},532953487:(Q,C,e)=>{"use strict";e.d(C,{$:()=>s});var t=e(8161242485),n=e(304127728);const s=(0,t.Ay)(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.I;var o,a;return r==null||(o=r.searchHistory)===null||o===void 0||(a=o[d])===null||a===void 0?void 0:a.lastExecutedEncodedSearchString});s.meta={name:"createSelector",key:"createSelectorgetLastExecutedEncodedSearchString",description:function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.I;var o,a;return r==null||(o=r.searchHistory)===null||o===void 0||(a=o[d])===null||a===void 0?void 0:a.lastExecutedEncodedSearchString}}},5078909337:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(1031947056),n=e(2036289572),s=e(1839426804),r=e(30533254),d=e(6249041335),o=e(6125148745),a=e(6313685253),l=e(3078252698),m=e(9846149684),c=e(2414816894),_=e(1707481146),p=e(6106767915);function u(M){let{highlightWords:O,shouldRenderEmojiAsText:I,emojiNames:D,locale:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=(0,m.A)(M,{highlightWords:O,shouldRenderEmojiAsText:I,emojiNames:D,locale:P,useChannelTagging:!1});return(0,a.A)(k.contents,(R,V)=>{if(V.attributes&&V.attributes.slackmention){const B=V.attributes.slackmention.id;return(0,c.A)(B)?`${R}@${(0,p.A)(B)}`:(0,_.A)(B)?`${R}${V.attributes.slackmention.label}`:B.charAt(0)==="S"?`${R}<!subteam^${B}|${V.attributes.slackmention.label}>`:`${R}<@${B}>`}return V.insert&&!(0,l.A)(V.insert)&&V.insert.slackemoji?R+V.insert.slackemoji.text:R+V.insert},"")}i(u,"convertContentsStringForEncodedMembers");function h(M,O,I){let D=(0,d.A)(I);return D=u(D,{shouldRenderEmojiAsText:!0}),(0,o.O)(M,O,D)}i(h,"convertClientQueryToAPIQuery");var E=e(2354384409),A=e(304127728),v=e(352142497),f=e(4139359963),g=e(4761125736);const y=(0,t.Ay)("Set the query in the request which is being edited",(M,O,I)=>{let{query:D,mode:P,module:k,page:R,encodedSearchString:V,preventQueryRewrite:B}=I;const W=O(),L=(0,g._Z)(W,"omniswitcher_delta")==="treatment",S=(0,g._Z)(O(),"search_mixed_results_v2")==="on",H=!!V,w=(0,f.A)(W,{viewType:v.D.Search});M((0,n.p4)({windowId:A.I})),!H&&!w&&M((0,s.Vx)({windowId:A.I,isMixedResults:S})),M((0,s.Cr)({windowId:A.I})),M((0,s.Di)({windowId:A.I})),M((0,s.FS)({moduleType:"messages",loading:!0})),M((0,s.FS)({moduleType:"files",loading:!0})),M((0,s.FS)({moduleType:"canvases",loading:!0}));const F=(0,r.vA)(W,D);return M((0,n.c3)({queryFilter:F})),L?(M((0,n.Rm)({query:D})),M((0,E.A)({query:D,fetchSuggestions:!0,mode:P,module:k,page:R,preventQueryRewrite:B}))):h(M,O,D).then(j=>(M((0,n.Rm)({query:j})),M((0,E.A)({query:j,fetchSuggestions:!0,mode:P,module:k,page:R,preventQueryRewrite:B}))))});y.meta={name:"createThunk",key:"createThunksetEditableRequestQueryThenRequest",description:"Set the query in the request which is being edited"};const T=y},2354384409:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(1031947056),n=e(6422693406),s=e(2036289572),r=e(197186845),d=e(2505585477),o=e(796111729),a=e(9046992894),l=e(9436609557),m=e(6601726845),c=e(5446033290),_=e(1839426804),p=e(832411022),u=e(304127728),h=e(5267010247),E=e(8822892075),A=e(5513050121);const v=(0,t.Ay)("Set a request from the editable request",(g,y,T)=>{let{query:M,fetchSuggestions:O=!0,module:I,mode:D,page:P,preventQueryRewrite:k=!1}=T;g((0,s.qo)({windowId:u.I}));const R=y(),V=M||(0,d.Uz)(R)||"",B=(0,o.Ay)({getState:y}),W=(0,d.nI)(R);let L;if(I){B.info(a.Y,`Retrying previous search for ${I} module`);const H=(0,l.oL)(R,I)||{};L=g((0,r.u3)({page:P??H.page,module:I,reason:"search-retry-module",context:(0,A.Z_)(I)}))}else B.info(a.Y,"Starting new search"),g((0,s.p4)({windowId:u.I})),L=g((0,r.Ad)({query:V,reason:"search-new-query",fetchSuggestions:O,preventQueryRewrite:k}));const S=(0,m._t)(y());return S?(g((0,c.b)({value:S})),g((0,h.o)((0,E.oV)(S))),g((0,_.y8)({tab:I?p.Ai[I]:"all",position:0})),V&&g((0,r.Q3)({query:V,type:D||"unknown"})),W&&g((0,s.aZ)({windowId:u.I})),L):n.S.reject(new Error("Error getting route param from search state"))});v.meta={name:"createThunk",key:"createThunksetRequestFromEditableRequest",description:"Set a request from the editable request"};const f=v},2169241232:(Q,C,e)=>{"use strict";e.d(C,{_:()=>r});var t=e(1031947056),n=e(678604478),s=e(304127728);const r=(0,t.Ay)("Sets a new ID for the query session",d=>{d((0,n.Ko)({windowId:s.I}))});r.meta={name:"createThunk",key:"createThunkendQuerySession",description:"Sets a new ID for the query session"}},6189112794:(Q,C,e)=>{"use strict";e.d(C,{u:()=>m});var t=e(1031947056),n=e(4761125736),s=e(1839426804),r=e(2169241232),d=e(678604478),o=e(304127728),a=e(796111729),l=e(9046992894);const m=(0,t.Ay)("Sets a new ID for the search and query sessions",(c,_)=>{const p=(0,a.Ay)({getState:_}),u=(0,n._Z)(_(),"search_sort_reset")==="treatment";c((0,r._)()),c((0,d.gA)({windowId:o.I})),c((0,d.Z8)({windowId:o.I})),c((0,s.bZ)({windowId:o.I})),c((0,s.pQ)({windowId:o.I})),u&&c((0,s.Dl)({windowId:o.I})),p.info(l.Y,"Ending search session")});m.meta={name:"createThunk",key:"createThunkendSearchSession",description:"Sets a new ID for the search and query sessions"}},2939274763:(Q,C,e)=>{"use strict";e.d(C,{s:()=>P,w:()=>k});var t=e(1031947056),n=e(9436609557),s=e(7143409288),r=e(2864477491),d=e(796111729),o=e(9046992894),a=e(7435861102),l=e(3998401757),m=e(2036289572),c=e(1839426804),_=e(6189112794),p=e(2169241232),u=e(6729174604),h=e(832411022),E=e(304127728),A=e(5446033290);const v=(0,t.Ay)("Clear query session data on session expiration",R=>{R((0,c.LM)({querySessionTimeoutId:null})),R((0,p._)()),R((0,m.Pz)({windowId:E.I})),R((0,u.o2)({inputId:h.Jx.OMNISWITCHER})),R((0,c.Vx)({windowId:E.I}))});v.meta={name:"createThunk",key:"createThunkclearQuerySessionData",description:"Clear query session data on session expiration"};const f=(0,t.Ay)("Clear search session data on session expiration",R=>{R((0,c.jT)({sessionTimeoutId:null})),R((0,_.u)()),R((0,m.Pz)({windowId:E.I})),R((0,u.o2)({inputId:h.Jx.OMNISWITCHER})),R((0,c.Vx)({windowId:E.I})),R((0,A.q)({windowId:E.I}))});f.meta={name:"createThunk",key:"createThunkclearSearchSessionData",description:"Clear search session data on session expiration"};var g=e(3606346624),y=e(5234724663),T=e(2527782504),M=e(9640070512),O=e(4761125736),I=e(471411288),D=e(8354595181);const P=(0,t.Ay)("Clear session timeouts on search mount",(R,V)=>{const B=V();(0,n.nj)(B)?((0,d.Ay)({getState:V}).info(o.Y,"Navigated to search page and session is already active: Clearing timer"),R((0,s.A)())):(0,r.G0)(B)||((0,d.Ay)({getState:V}).info(o.Y,"Navigated to search page without active session: Starting new session"),R((0,a.N)())),(0,n.a1)(B)||R((0,c.O3)({lastOpenMethod:"history"})),R((0,y.Ih)()),R((0,M.H)({focusKey:T.Ay.Search,forceFocus:!0}))});P.meta={name:"createThunk",key:"createThunkclearSessionTimeoutsOnSearchMount",description:"Clear session timeouts on search mount"};const k=(0,t.Ay)("Start session timeouts on search unmount",(R,V)=>{const B=V(),W=h.Jx.OMNISWITCHER;if((0,O._Z)(B,"omniswitcher_delta")==="treatment"){if(!(0,I.A)(new D.Ru((0,l.le)(B,W))))return}else if(!(0,l.NR)(B,W))return;(0,d.Ay)({getState:V}).info(o.Y,"Navigated from search page with active query: Starting timeout to clear session");const S=setTimeout(()=>{const w=V();(0,n.AW)(w)===S&&R(v())},g.R);R((0,c.LM)({querySessionTimeoutId:S}));const H=setTimeout(()=>{const w=V();(0,n.nj)(w)===H&&R(f())},g.l);R((0,c.jT)({sessionTimeoutId:H})),R((0,y.yW)()),R((0,c.O3)({lastOpenMethod:null}))});k.meta={name:"createThunk",key:"createThunkstartSessionTimeoutsOnSearchUnmount",description:"Start session timeouts on search unmount"}},7143409288:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(1031947056),n=e(9436609557),s=e(1839426804);const r=(0,t.Ay)("Reset session timeout ids when someone returns to their search",(o,a)=>{clearTimeout((0,n.nj)(a())),o((0,s.jT)({sessionTimeoutId:null})),o((0,s.LM)({querySessionTimeoutId:null}))});r.meta={name:"createThunk",key:"createThunkresetSessionTimeoutIds",description:"Reset session timeout ids when someone returns to their search"};const d=r},117899263:(Q,C,e)=>{"use strict";e.d(C,{_:()=>s});var t=e(8161242485),n=e(1960898919);const s=(0,t.Ay)(r=>{var d;return(d=(0,n.ax)(r,"is_new_human"))!==null&&d!==void 0?d:!1});s.meta={name:"createSelector",key:"createSelectorisNewHuman",description:r=>{var d;return(d=(0,n.ax)(r,"is_new_human"))!==null&&d!==void 0?d:!1}}},4719739515:(Q,C,e)=>{"use strict";e.d(C,{i:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Adds a list of salesforce orgs to the store");n.meta={name:"createAction",key:"createActionupsertSalesforceOrgs",description:"Adds a list of salesforce orgs to the store"}},2032902007:(Q,C,e)=>{"use strict";e.d(C,{Ob:()=>v,jt:()=>c,lF:()=>f,qp:()=>h});var t=e(9706240641),n=e.n(t),s=e(8352634987),r=e(3037015781),d=e(7156798807),o=e(3398586081),a=e(6533394955),l=e(8480246703),m=e(4719739515);const c="SFDC_ORG_INFO_FETCH_ID";function _(g,y){(0,a.dispatchForTeamId)(g,(0,m.i)(y))}i(_,"upsertSalesforceOrgList");function p(g){return u.apply(this,arguments)}i(p,"fetchSalesforceOrgList");function u(){return u=(0,t.coroutine)(function*(g){const y=yield(0,a.dispatchForTeamId)(g,(0,l.k)({reason:"sfdc-org-info-conditional-fetch"}));return[{id:c,orgs:(0,d.A)(y.salesforce_orgs,"id")}]}),u.apply(this,arguments)}i(u,"_fetchSalesforceOrgList");function h(g){return p(g).then(y=>((0,a.dispatchForTeamId)(g,(0,m.i)(y)),y))}i(h,"fetchAndUpsertSalesforceOrgList");const E=(0,o.A)(()=>new s.Ay({fetch:h,metricsName:"sfdc-org-info",storeKey:"sfdcOrgInfo"})),A=(0,o.A)(()=>new r.Ay({fetch:p,upsertNonExistent:_,upsertKnown:(g,y)=>{_(g,y),E().markObjectsAsFresh(g,[c])}})),v=i(g=>{E().maybeRefetch(g,c)},"maybeRefetchSalesforceOrgs"),f=i(g=>A().fetchObjectWithId(g,c),"fetchSalesforceOrgs")},4158363050:(Q,C,e)=>{"use strict";e.d(C,{V:()=>c,k:()=>m});var t=e(8161242485),n=e(8234448831),s=e(8847766420),r=e(2823938397),d=e(2032902007);const o=Object.freeze((0,r.WQ)("INVALID_ORG_ID")),a=Object.freeze((0,r.WQ)("MISSING_ORG_ID"));function l(_){function p(u,h){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const A=(0,s.JY)(u)||"",v=u.sfdcOrgInfo.orgInfos[d.jt];return v?((0,d.Ob)(A),h&&(0,r.uz)(v)&&_(v.orgs,h)||a):E?h?(0,d.lF)(A):o:null}return i(p,"getSalesforceOrgInfoInner"),(0,t.Ay)(p)}i(l,"createSalesforceOrgInfoSelector");const m=l((_,p)=>_[p]),c=l((_,p)=>Object.values(_).find(u=>(0,n.Ay)(u.instance_url).hostname===p))},9968803145:(Q,C,e)=>{"use strict";e.d(C,{N:()=>n,t:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Updates the domains collection from the server");n.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const s=(0,t.Ay)("Clears any domains currently stored on the client side");s.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},8262898118:(Q,C,e)=>{"use strict";e.d(C,{pf:()=>E,Ls:()=>h,ND:()=>_,pF:()=>p,w$:()=>u});var t=e(8161242485),n=e(3385422400),s=e(9113979368),r=e(8234448831),d=e(2364576462);function o(A,v){var f;if((0,s.A)(A))return{appId:void 0,domain:""};const g=(0,r.Ay)(A),y=(0,d.Ww)(g,!0),T=g.hostname,M=T||y;let O=v==null||(f=v.domains)===null||f===void 0?void 0:f[M];if(!O){var I;const D=Object.keys((I=v==null?void 0:v.wildcards)!==null&&I!==void 0?I:{}).find(P=>T.endsWith(`.${P}`));D&&(O=v.wildcards[D])}return{appId:O,domain:M}}i(o,"getSIWSLinkInfo");var a=e(4919351998);function l(A,v){if((0,s.A)(A))return!1;const f=(0,r.Ay)(A);return m(f,v)}i(l,"isSIWSLink");function m(A,v){var f;if(A.protocol!=="http:"&&A.protocol!=="https:"||(0,a.gU)(A))return!1;const g=(0,d.Ww)(A,!0);if(!A.hostname||!g)return!1;const y=A.hostname,T=y.length>g.length+1,M=!!(!(v==null||(f=v.domains)===null||f===void 0)&&f[y]);var O;const I=T&&Object.keys((O=v==null?void 0:v.wildcards)!==null&&O!==void 0?O:{}).some(D=>y.endsWith(`.${D}`));return M||I}i(m,"isParsedUrlSIWSLink");const c=(0,t.Ay)(A=>{var v;return A==null||(v=A.siwsDomains)===null||v===void 0?void 0:v.domainsCollection});c.meta={name:"createSelector",key:"createSelectorgetDomains",description:A=>{var v;return A==null||(v=A.siwsDomains)===null||v===void 0?void 0:v.domainsCollection}};const _=(0,t.Ay)((A,v)=>{var f;return(f=o(v,c(A)))===null||f===void 0?void 0:f.appId});_.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(A,v)=>{var f;return(f=o(v,c(A)))===null||f===void 0?void 0:f.appId}};const p=(0,t.Ay)((A,v)=>{var f;return(f=o(v,c(A)))===null||f===void 0?void 0:f.domain});p.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(A,v)=>{var f;return(f=o(v,c(A)))===null||f===void 0?void 0:f.domain}};const u=(0,t.Ay)((A,v)=>l(v,c(A)));u.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(A,v)=>l(v,c(A))};const h=(0,t.Ay)((A,v)=>m(v,c(A)));h.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(A,v)=>m(v,c(A))};const E=(0,n.Mz)(c,function(A){let{domains:v,wildcards:f}=A;const g=Object.entries(v).map(T=>{let[M,O]=T;return{appId:O,domain:M,isWildcard:!1}});return[...Object.entries(f).map(T=>{let[M,O]=T;return{appId:O,domain:M,isWildcard:!0}}),...g].reduce((T,M)=>({...T,[M.appId]:{domain:M.domain,isWildcard:M.isWildcard}}),{})})},4433296946:(Q,C,e)=>{"use strict";e.d(C,{_:()=>a});var t=e(1031947056),n=e(1269227002),s=e(5257368278);const r=(0,s.A)("Get SIWS registered domains list",l=>l((0,n.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(m=>({cacheTs:m.domains_ts,domains:m.domains,wildcardDomains:m.wildcard_domains})));r.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};const d=r;var o=e(9968803145);const a=(0,t.Ay)("Load remote domains into Redux",l=>{l(d()).then(m=>{let{cacheTs:c,domains:_,wildcardDomains:p}=m;const u=Date.now();l((0,o.N)({cacheTs:c,domains:_,lastGetDomainsTs:u,wildcardDomains:p}))})});a.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},3577873706:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(2332966328),d=e(8910811843),o=e(4144687165);const a=(0,s.Ay)("Fetch Slack Doc file IDs for and re-map",function(){var m=(0,t.coroutine)(function*(c,_,p){let{quipThreadId:u,reason:h="get-and-upsert-slack-doc-file-id"}=p;const E=(0,o.R)(_(),u);if(E)return E;const{file_id:A}=yield c((0,r.I)({quipThreadId:u,reason:h}));return c((0,d.Gc)({objects:[{id:u,fileId:A}]})),A});return function(c,_,p){return m.apply(this,arguments)}}());a.meta={name:"createThunk",key:"createThunkgetAndUpsertSlackDocFileId",description:"Fetch Slack Doc file IDs for and re-map"};const l=a},7359239710:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>m,I$:()=>l,iJ:()=>a});var t=e(5571264920),n=e(1031947056),s=e(5502459222);const r=(0,n.Ay)("Fetch slack doc last read timestamps and re-map",(c,_,p)=>{let{ids:u}=p;return c((0,s.R)({fileIds:u,reason:"fetch-slack-doc-last-read"})).then(h=>{let{files:E}=h;return E.map(A=>({id:A.file_id,lastReadByUser:A.last_read_timestamp}))})});r.meta={name:"createThunk",key:"createThunkfetchSlackDocLastReadTimestamps",description:"Fetch slack doc last read timestamps and re-map"};const d=r,{reducer:o,actions:{upsertObjects:a},selectors:{getObjectById:l}}=(0,t.A)({storeKey:"slackDocLastRead",persistenceEnabled:!0},{fetchObjects:d}),m=o},2985066322:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(1031947056),n=e(7359239710);const s=(0,t.Ay)("Upsert a slack doc last read for a given file ID",(d,o,a)=>{let{fileId:l,lastReadByUser:m}=a;return d((0,n.iJ)({objects:[{id:l,lastReadByUser:m}]}))});s.meta={name:"createThunk",key:"createThunkupsertSlackDocLastReadByUserForFileId",description:"Upsert a slack doc last read for a given file ID"};const r=s},1302213854:(Q,C,e)=>{"use strict";e.d(C,{C7:()=>n,Ln:()=>r,Mb:()=>s,UM:()=>d});var t=e(2140362605);const n=(0,t.Ay)("Have we already sent boot metrics");n.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const s=(0,t.Ay)("Should we log team switch metrics");s.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const r=(0,t.Ay)("Set whether we should continue logging time to visible metrics");r.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const d=(0,t.Ay)("Set whether we should continue logging time to usable metrics");d.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},4476913522:(Q,C,e)=>{"use strict";e.d(C,{a:()=>u});var t=e(8086952004),n=e(12126472),s=e(6626377467),r=e(235108050),d=e(7530630315),o=e(5729325965),a=e(2240330919),l=e(1116859610),m=e(6422693406),c=e(1031947056),_=e(3110884894),p=e(2155512519);const u=(0,c.Ay)("gets thread replies from the API",(h,E,A)=>{const{channelId:v,threadTs:f,oldest:g,limit:y}=A;let T=A.latest;g===T&&T===A.threadTs&&(T=null);const M=(0,_.Iu)(v,f);return g&&T?m.S.all([h((0,p.$b)({channelId:v,threadTs:f,latest:T,limit:y})),h((0,p.$b)({channelId:v,threadTs:f,oldest:g,limit:y}))]).then(O=>{let[I,D]=O;const P=(0,t.A)(I.msgs,{ts:f})||(0,t.A)(D.msgs,{ts:f}),k=(0,n.A)(I.msgs,{ts:f}),R=(0,n.A)(D.msgs,{ts:f}),V=I.deleted,B=D.deleted,W=(0,s.A)(k.concat(R),"ts"),L=(0,r.A)((0,d.A)(V,B));!I.hasMore&&P&&W.unshift(P);const S=W.map(H=>H.ts);return h((0,l.A)({msgs:W,channelId:M,hasMore:{hasMoreStart:I.hasMore,hasMoreEnd:D.hasMore},oldest:(0,o.A)([g,(0,o.A)(S)]),latest:(0,a.A)([T,(0,a.A)(S)]),deleted:L})),{msgs:W}}):h((0,p.$b)({channelId:v,threadTs:f,oldest:g,latest:T,limit:y})).then(function(){let{msgs:O,deleted:I,hasMore:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const P=T&&!D||g===f||T===f||!g&&!T&&!D;let k=O;P||(k=(0,n.A)(O,{ts:f}));let R=D;!g&&!T&&(R={hasMoreStart:D,hasMoreEnd:!1}),h((0,l.A)({msgs:k,channelId:M,hasMore:R,oldest:g,latest:T,deleted:I}));const V=(0,t.A)(O,{ts:f});return V&&g===f&&h((0,l.A)({msgs:[V],channelId:M,hasMore:!1,latest:f})),{msgs:k}})});u.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},6929023741:(Q,C,e)=>{"use strict";e.d(C,{a:()=>u});var t=e(8086952004),n=e(12126472),s=e(6626377467),r=e(235108050),d=e(7530630315),o=e(5729325965),a=e(2240330919),l=e(1116859610),m=e(6422693406),c=e(1031947056),_=e(3110884894),p=e(2155512519);const u=(0,c.Ay)("gets thread replies from the API",(h,E,A)=>{const{channelId:v,threadTs:f,oldest:g,limit:y}=A;let T=A.latest;g===T&&T===A.threadTs&&(T=null);const M=(0,_.Iu)(v,f);return g&&T?m.S.all([h((0,p.$b)({channelId:v,threadTs:f,latest:T,limit:y})),h((0,p.$b)({channelId:v,threadTs:f,oldest:g,limit:y}))]).then(O=>{let[I,D]=O;const P=(0,t.A)(I.msgs,{ts:f})||(0,t.A)(D.msgs,{ts:f}),k=(0,n.A)(I.msgs,{ts:f}),R=(0,n.A)(D.msgs,{ts:f}),V=I.deleted,B=D.deleted,W=(0,s.A)(k.concat(R),"ts"),L=(0,r.A)((0,d.A)(V,B));!I.hasMore&&P&&W.unshift(P);const S=W.map(H=>H.ts);return h((0,l.A)({msgs:W,channelId:M,hasMore:{hasMoreStart:I.hasMore,hasMoreEnd:D.hasMore},oldest:(0,o.A)([g,(0,o.A)(S)]),latest:(0,a.A)([T,(0,a.A)(S)]),deleted:L})),{msgs:W}}):h((0,p.$b)({channelId:v,threadTs:f,oldest:g,latest:T,limit:y})).then(function(){let{msgs:O,deleted:I,hasMore:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const P=T&&!D||g===f||T===f||!g&&!T&&!D;let k=O;P||(k=(0,n.A)(O,{ts:f}));let R=D;!g&&!T&&(R={hasMoreStart:D,hasMoreEnd:!1}),h((0,l.A)({msgs:k,channelId:M,hasMore:R,oldest:g,latest:T,deleted:I}));const V=(0,t.A)(O,{ts:f});return V&&g===f&&h((0,l.A)({msgs:[V],channelId:M,hasMore:!1,latest:f})),{msgs:k}})});u.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},1827030018:(Q,C,e)=>{"use strict";e.d(C,{_:()=>l});var t=e(9746734072),n=e(5238395322),s=e(2101927269),r=e(7486305635),d=e(1031947056),o=e(9101533895),a=e(157328471);const l=(0,d.Ay)("Update the unread count for the all threads view",(m,c,_)=>{let{threadsHasUnreads:p,threadsUnreadCountByChannel:u,threadsMentionCountByChannel:h,threadsLastUpdatedTimestamp:E}=_;const A=(0,t.A)(h)?{}:h,v=c(),f=(0,n.A)((0,s.A)(A,(y,T)=>{const M=(0,o.OL)(v,T);return(0,r.WK)(v,M)&&!(0,r.fA)(v,M)}));let g=0;u?g=(0,n.A)((0,s.A)(u,(y,T)=>{const M=(0,o.OL)(v,T);return(0,r.WK)(v,M)})):g=p?1:0,m((0,a.LI)({threadsUnreadCount:g,threadsUnreadCountByChannel:u,threadsMentionCount:f,threadsMentionCountByChannel:A,threadsLastUpdatedTimestamp:E,suppressThreads:(0,r.dQ)(v)}))});l.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},9132245692:(Q,C,e)=>{"use strict";e.d(C,{g:()=>n,y:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Update unread counts for the specified user alert types");n.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const s=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");s.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},2433936990:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(6422693406),n=e(1031947056),s=e(796111729),r=e(9673616141),d=e(2023092677),o=e(1835177371),a=e(7681350303);const l="USER_GROUPS",m=(0,n.Ay)("Fetch and upsert the members of a user group",(_,p,u)=>{let{groupId:h,reason:E="fetchAndUpsertUserGroupMembers"}=u;const A=p(),v=(0,o.lJ)(A,h);if((0,d.Zx)(v)||!(0,d.V1)(v))return t.S.resolve();if(!v||v!=null&&v.isNonExistent)throw new Error(`cannot fetch usergroup members for unknown or nonexistent group ${v?v==null?void 0:v.id:"[unknown group id]"}`);if(!(v!=null&&v.team_id))throw new Error(`cannot fetch usergroup members for ${v.id} because there is no team_id for that group`);return _((0,r.p)({usergroup:h,teamId:v.team_id,reason:E})).then(f=>{let{users:g}=f;return _((0,a.zz)({groupId:h,users:g})),g}).catch(f=>{throw(0,s.Ay)({getState:p}).error(l,`Error in fetchAndUpsertUserGroupMembers: ${JSON.stringify(f)}`),f})});m.meta={name:"createThunk",key:"createThunkfetchAndUpsertUserGroupMembers",description:"Fetch and upsert the members of a user group"};const c=m},2696160384:(Q,C,e)=>{"use strict";e.d(C,{D_:()=>s,FI:()=>n,Sr:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Sets whether the mini player is open or not");n.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const s=(0,t.Ay)("Sets mini video player config");s.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const r=(0,t.Ay)("Clears mini video player config");r.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"}},9813790040:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3750057149),n=e(9121100949),s=e(9139930183),r=e(1201539379),d=e(7489442332),o=e(9733150292);const a={persistenceEnabled:!1,storeKey:"viewLayout"},l={sidebarWidthIntent:void 0,sidebarWidthMode:d.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:d.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:d.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:d.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:d.tR.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{l.sidebarWidthIntent=(0,o.W6)(n.ke)||void 0,l.sidebarWideWidthIntent=(0,o.W6)(n.u1)||void 0,l.sidebarExtraWideWidthIntent=(0,o.W6)(n.jt)||void 0,l.secondaryWidthIntent=(0,o.W6)(n.gN)||void 0,l.sidebarWidthMode=(0,o.W6)(n.ts)||d.tR.AUTO,l.splitWidthIntent=(0,o.W6)(n.qD)||void 0,l.splitWidthMode=(0,o.W6)(n.$D)||d.tR.AUTO,l.sidebarWidthMode=(0,o.W6)(n.ts)||d.tR.AUTO,l.sidebarWideWidthMode=(0,o.W6)(n.r1)||d.tR.AUTO,l.sidebarExtraWideWidthMode=(0,o.W6)(n.OR)||d.tR.AUTO,l.secondaryWidthMode=(0,o.W6)(n.Ts)||d.tR.AUTO;const _=(0,o.W6)(n.jG);l.isSidebarVisible=(0,t.A)(_)?_:!0;const p=(0,o.W6)(n.WU);l.isWorkspaceSwitcherVisible=(0,t.A)(p)?p:!1;const u=(0,o.W6)(n.RC);l.isCompactModeEnabled=(0,t.A)(u)?u:!1}catch{}const c=(0,s.Ay)({},l,a).on(r.SP,(_,p)=>{let{sidebarWidthIntent:u,sidebarWidthMode:h}=p;return{..._,sidebarWidthIntent:u,sidebarWidthMode:h}}).on(r.hk,(_,p)=>{let{sidebarWideWidthIntent:u,sidebarWideWidthMode:h}=p;return{..._,sidebarWideWidthIntent:u,sidebarWideWidthMode:h}}).on(r.$t,(_,p)=>{let{sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:h}=p;return{..._,sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:h}}).on(r.ie,(_,p)=>{let{secondaryWidthIntent:u,secondaryWidthMode:h}=p;return{..._,secondaryWidthIntent:u,secondaryWidthMode:h}}).on(r.yL,(_,p)=>{let{splitWidthIntent:u,splitWidthMode:h}=p;return{..._,splitWidthIntent:u,splitWidthMode:h}}).on(r.KY,(_,p)=>({..._,isSidebarVisible:p})).on(r.Eo,(_,p)=>({..._,isSidebarVisibleWhenFloating:p})).on(r.mV,(_,p)=>({..._,isWorkspaceSwitcherVisible:p})).on(r.Fe,(_,p)=>({..._,isCompactModeEnabled:p}))},4172221507:(Q,C,e)=>{"use strict";e.d(C,{F:()=>o});var t=e(9121100949),n=e(1031947056),s=e(6533394955),r=e(1201539379),d=e(9733150292);const o=(0,n.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(a,l,m)=>{(0,d.q9)(t.jG,m),a((0,r.KY)(m)),(0,s.dispatchForClientStore)((0,r.KY)(m))});o.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},8707579690:(Q,C,e)=>{"use strict";e.d(C,{J:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified secondary width and mode",(a,l,m)=>{let{secondaryWidthIntent:c,secondaryWidthMode:_}=m;(0,d.q9)(t.gN,c),(0,d.q9)(t.Ts,_),a((0,s.ie)({secondaryWidthIntent:c,secondaryWidthMode:_})),(0,r.dispatchForClientStore)((0,s.ie)({secondaryWidthIntent:c,secondaryWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},2779520532:(Q,C,e)=>{"use strict";e.d(C,{R:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified sidebar width and mode",(a,l,m)=>{let{sidebarWidthIntent:c,sidebarWidthMode:_}=m;(0,d.q9)(t.ke,c),(0,d.q9)(t.ts,_),a((0,s.SP)({sidebarWidthIntent:c,sidebarWidthMode:_})),(0,r.dispatchForClientStore)((0,s.SP)({sidebarWidthIntent:c,sidebarWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},7128275929:(Q,C,e)=>{"use strict";e.d(C,{a:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified extra wide sidebar width and mode",(a,l,m)=>{let{sidebarExtraWideWidthIntent:c,sidebarExtraWideWidthMode:_}=m;(0,d.q9)(t.jt,c),(0,d.q9)(t.OR,_),a((0,s.$t)({sidebarExtraWideWidthIntent:c,sidebarExtraWideWidthMode:_})),(0,r.dispatchForClientStore)((0,s.$t)({sidebarExtraWideWidthIntent:c,sidebarExtraWideWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},9341298:(Q,C,e)=>{"use strict";e.d(C,{q:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified wide sidebar width and mode",(a,l,m)=>{let{sidebarWideWidthIntent:c,sidebarWideWidthMode:_}=m;(0,d.q9)(t.u1,c),(0,d.q9)(t.r1,_),a((0,s.hk)({sidebarWideWidthIntent:c,sidebarWideWidthMode:_})),(0,r.dispatchForClientStore)((0,s.hk)({sidebarWideWidthIntent:c,sidebarWideWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},4139359963:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(2384831516),n=e(7429662208);const s=(0,t.Mz)((m,c)=>{let{viewType:_}=c;const p=(0,n.zi)(m);return Object.keys(p).map(A=>p[A]).some(A=>Object.keys(A).some(f=>{var g;return((g=A[f])===null||g===void 0?void 0:g.viewType)===_}))});s.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInChildWindow",description:(m,c)=>{let{viewType:_}=c;const p=(0,n.zi)(m);return Object.keys(p).map(A=>p[A]).some(A=>Object.keys(A).some(f=>{var g;return((g=A[f])===null||g===void 0?void 0:g.viewType)===_}))}};const r=s,d=(0,t.Mz)((m,c)=>{let{viewType:_}=c;const p=(0,n.e6)(m),u=(0,n.Le)(m,{tab:p});return u?Object.keys(u).some(A=>{var v;return((v=u[A])===null||v===void 0?void 0:v.viewType)===_}):!1});d.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInMainWindow",description:(m,c)=>{let{viewType:_}=c;const p=(0,n.e6)(m),u=(0,n.Le)(m,{tab:p});return u?Object.keys(u).some(A=>{var v;return((v=u[A])===null||v===void 0?void 0:v.viewType)===_}):!1}};const o=d,a=(0,t.Mz)((m,c)=>{let{viewType:_}=c;return r(m,{viewType:_})||o(m,{viewType:_})});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisible",description:(m,c)=>{let{viewType:_}=c;return r(m,{viewType:_})||o(m,{viewType:_})}};const l=a},7573598208:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(352142497),n=e(8834730594),s=e(2960290117),r=e(8040098042),d=e(1826991857),o=e(4862221402),a=e(8813411026),l=e(8414867410);const m={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,channel_files:t.D.ChannelFiles,ai_app:t.D.AiApp,workflow_details:t.D.WorkflowDetails},_=i(p=>p?(0,n.A)(p)?t.D.AppSpace:(0,s.Ay)(p)?t.D.Canvas:(0,r.A)(p)?t.D.Channel:(0,a.T)(p)?(0,l.F8)(p):p&&p[0]==="V"?t.D.Threads:(0,d.A)(p)?t.D.Thread:(0,o.A)(p)?t.D.UserGroup:m[p]?m[p]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},9936094925:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>A,cB:()=>u,ds:()=>p,w9:()=>h,wg:()=>_});var t=e(9113979368),n=e(498506970),s=e(1618349278),r=e(1649982175),d=e(9139930183),o=e(3193155968),a=e(7590914282);const l=100,m={},c={persistenceEnabled:!1,storeKey:"windowHistory"};function _(v){let{windowState:f,entry:g}=v;const y=f?f.stack:[],T=(0,t.A)(y)?null:1;return{stack:[(0,n.A)(g)].concat(y).slice(0,l),index:0,previousIndex:T}}i(_,"handlePushHistoryEntryForWindow");function p(v){let{windowState:f,index:g,previousIndex:y}=v;return{stack:f.stack,index:g,previousIndex:y}}i(p,"handleUpdateIndexForWindow");function u(v){let{windowState:f,index:g}=v;return{stack:(0,s.A)(f.stack,g),index:f.index,previousIndex:null}}i(u,"handlePopHistoryAboveIndexForWindow");function h(v){let{windowState:f,entry:g}=v;const y=[...f.stack];return y[f.index]=(0,n.A)(g),{...f,stack:y}}i(h,"handleReplaceCurrentHistoryEntryForWindowInternal");const A=(0,d.Ay)({},m,c).on(a.xU,(v,f)=>{let{windowId:g,entry:y}=f;return!g||!y?v:{...v,[g]:_({windowState:v[g],entry:y})}}).on(a.aV,(v,f)=>{let{windowId:g}=f;return(0,r.A)(v,g)}).on(a.Nr,(v,f)=>{let{windowId:g,index:y,previousIndex:T}=f;return{...v,[g]:p({windowState:v[g],index:y,previousIndex:T})}}).on(a.o1,(v,f)=>{let{windowId:g,viewSet:y}=f;return{...v,[g]:{stack:[(0,n.A)(y)],index:0,previousIndex:null}}}).on(a.s0,(v,f)=>{let{windowId:g,index:y}=f;return v[g]?{...v,[g]:u({windowState:v[g],index:y})}:v}).on(a.iV,(v,f)=>{let{windowId:g,entry:y}=f;return v[g]?{...v,[g]:h({windowState:v[g],entry:y})}:v}).on(a.$Z,(v,f)=>{let{windowId:g,viewParams:y,index:T}=f;if(!v[g])return v;const O=[...v[g]?v[g].stack:[]];if(!O[T])return v;const I=(0,n.A)(O[T]),D=I[o.mq.Primary];if(!(D!=null&&D.id))return v;const P={...I,[o.mq.Primary]:{...D,params:{...D.params,...y}}};return O[T]=P,{...v,[g]:{...v[g],stack:O}}})},4256476552:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(9139930183),n=e(1780675971),s=e(3193155968);const r={[s.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},o=(0,t.Ay)({},r,{storeKey:"window",persistenceEnabled:!1}).on(n._p,(a,l)=>{let{windowId:m=s.N2,...c}=l;if(!a[m])return a;const _={[s.N2]:{...a[s.N2]}};return _[m]={...a[m],...c},Reflect.ownKeys(a).forEach(p=>{p!==m&&c.isFocused&&(_[p]={...a[p],isFocused:!1})}),{...a,..._}}).on(n.w3,(a,l)=>{let{windowId:m=s.N2,...c}=l;return a[m]?{...a,[m]:{...a[m],isUnloading:c.isUnloading}}:a}).on(n.d1,(a,l)=>{let{windowId:m=s.N2,...c}=l;return{...a,[m]:{...a[m],...c,windowId:m}}}).on(n.pb,(a,l)=>{let{windowId:m=s.N2,...c}=l;return a[m]?{...a,[m]:{...a[m],bootType:c.bootType}}:a}).on(n.jO,(a,l)=>{let{windowId:m}=l;if(m===s.N2||!a[m])return a;const c={...a};return delete c[m],c}).on(n.NV,(a,l)=>{let{windowId:m,viewport:c}=l;return a[m]?{...a,[m]:{...a[m],viewport:c}}:a})},2591023465:(Q,C,e)=>{"use strict";e.d(C,{FO:()=>r,KY:()=>d,SP:()=>n,iJ:()=>a,lT:()=>s,vm:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");n.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const s=(0,t.Ay)("Set the user-specified sidebar width and mode (use setInspectorColumn instead)");s.meta={name:"createAction",key:"createActionsetInspectorColumnInternal",description:"Set the user-specified sidebar width and mode (use setInspectorColumn instead)"};const r=(0,t.Ay)("Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)");r.meta={name:"createAction",key:"createActionsetIsTeamSidebarVisibleInternal",description:"Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)"};const d=(0,t.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");d.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const o=(0,t.Ay)("Sets whether or not the sidebar is currently visible when in collapsed mode");o.meta={name:"createAction",key:"createActionsetIsSidebarVisibleWhenFloating",description:"Sets whether or not the sidebar is currently visible when in collapsed mode"};const a=(0,t.Ay)("Sets whether the user prefers a responsive sidebar");a.meta={name:"createAction",key:"createActionsetUserPrefersResponsiveSidebarInternal",description:"Sets whether the user prefers a responsive sidebar"}},894072650:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3750057149),n=e(7489442332),s=e(9139930183),r=e(2591023465),d=e(9733150292);const o={persistenceEnabled:!1,storeKey:"workspaceLayout"},a={inspectorWidthIntent:null,inspectorWidthMode:n.tR.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isTeamSidebarVisible:!0,sidebarWidthIntent:null,sidebarWidthMode:n.tR.AUTO,userPrefersResponsiveSidebar:!0};try{a.sidebarWidthIntent=(0,d.W6)(n.ke)||null,a.inspectorWidthIntent=(0,d.W6)(n.j0)||null,a.sidebarWidthMode=(0,d.W6)(n.ts)||"auto",a.inspectorWidthMode=(0,d.W6)(n.mu)||"auto";const c=(0,d.W6)(n.jG);a.isSidebarVisible=(0,t.A)(c)?c:!0;const _=(0,d.W6)(n.Xg);a.isTeamSidebarVisible=(0,t.A)(_)?_:!0;const p=(0,d.W6)(n.Lb);a.userPrefersResponsiveSidebar=(0,t.A)(p)?p:!0}catch{}const m=(0,s.Ay)({},a,o).on(r.SP,(c,_)=>{let{sidebarWidthIntent:p,sidebarWidthMode:u}=_;return{...c,sidebarWidthIntent:p,sidebarWidthMode:u}}).on(r.lT,(c,_)=>{let{inspectorWidthIntent:p,inspectorWidthMode:u}=_;return{...c,inspectorWidthIntent:p,inspectorWidthMode:u}}).on(r.KY,(c,_)=>({...c,isSidebarVisible:_})).on(r.vm,(c,_)=>({...c,isSidebarVisibleWhenFloating:_})).on(r.FO,(c,_)=>({...c,isTeamSidebarVisible:_})).on(r.iJ,(c,_)=>({...c,userPrefersResponsiveSidebar:_}))},3674298388:(Q,C,e)=>{"use strict";e.d(C,{In:()=>l,Vo:()=>o,r8:()=>a,xx:()=>m});var t=e(8161242485);const n=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthIntent});n.meta={name:"createSelector",key:"createSelectorgetSidebarWidthIntent",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthIntent}};const s=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthMode});s.meta={name:"createSelector",key:"createSelectorgetSidebarWidthMode",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthMode}};const r=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthIntent});r.meta={name:"createSelector",key:"createSelectorgetInspectorWidthIntent",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthIntent}};const d=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthMode});d.meta={name:"createSelector",key:"createSelectorgetInspectorWidthMode",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthMode}};const o=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisible});o.meta={name:"createSelector",key:"createSelectorgetIsSidebarVisible",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisible}};const a=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisibleWhenFloating});a.meta={name:"createSelector",key:"createSelectorgetIsSidebarVisibleWhenFloating",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisibleWhenFloating}};const l=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.isTeamSidebarVisible});l.meta={name:"createSelector",key:"createSelectorgetIsTeamSidebarVisible",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.isTeamSidebarVisible}};const m=(0,t.Ay)(c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.userPrefersResponsiveSidebar});m.meta={name:"createSelector",key:"createSelectorgetUserPrefersResponsiveSidebar",description:c=>{var _;return c==null||(_=c.workspaceLayout)===null||_===void 0?void 0:_.userPrefersResponsiveSidebar}}},2802517438:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(4096483543),n=e(8414867410),s=e(5084575109),r=e(4522919696),d=e(3080748521);const a=i(l=>{if((0,t.A)()){const m=(0,d.MC)(l),c=m&&m.entityId,_=(0,n.US)(c);return(0,n.l1)(l,_)?_.id:(0,s.n)(c)?Object.keys(r.F).find(p=>r.F[p]===c):c}return l&&l.workspace&&l.workspace.primaryViewId},"getPrimaryView")},9083290776:(Q,C,e)=>{"use strict";e.d(C,{Gy:()=>c,HO:()=>n,Hu:()=>o,K$:()=>a,Lo:()=>d,fw:()=>l,j0:()=>p,k0:()=>_,lH:()=>u,nG:()=>r,ne:()=>m,xW:()=>h});var t=e(2140362605);const n=(0,t.Ay)("Sets the primary view in workspace store");n.meta={name:"createAction",key:"createActionsetPrimaryViewInternal",description:"Sets the primary view in workspace store"};const s=n.getType(),r=(0,t.Ay)("Sets the secondary view in workspace store");r.meta={name:"createAction",key:"createActionsetSecondaryViewInternal",description:"Sets the secondary view in workspace store"};const d=(0,t.Ay)("Sets the flexpane origin store");d.meta={name:"createAction",key:"createActionsetFlexOriginInternal",description:"Sets the flexpane origin store"};const o=(0,t.Ay)("Sets the flexpane restore store");o.meta={name:"createAction",key:"createActionsetFlexRestoreInternal",description:"Sets the flexpane restore store"};const a=(0,t.Ay)("Sets the focused workspaces from the client-store");a.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const l=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");l.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const m=(0,t.Ay)("Sets the props we need to re-open the last flexpane");m.meta={name:"createAction",key:"createActionsetPreviousFlexpane",description:"Sets the props we need to re-open the last flexpane"};const c=(0,t.Ay)("Sets channelDetailsOpen");c.meta={name:"createAction",key:"createActionsetChannelDetailsOpen",description:"Sets channelDetailsOpen"};const _=(0,t.Ay)("Sets flexpane highlight state");_.meta={name:"createAction",key:"createActionsetFlexpaneHighlight",description:"Sets flexpane highlight state"};const p=(0,t.Ay)("Sets flexpane section currently docked");p.meta={name:"createAction",key:"createActionsetDockedFlexpaneSection",description:"Sets flexpane section currently docked"};const u=(0,t.Ay)("Add or remove from list expanded inputs");u.meta={name:"createAction",key:"createActionsetMessageInputExpanded",description:"Add or remove from list expanded inputs"};const h=(0,t.Ay)("Sets the last tab for a given channel id");h.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},5215813485:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p,U:()=>c});var t=e(8734174229),n=e(1031947056),s=e(5468652247),r=e(359615813),d=e(7610481478),o=e(5221490142),a=e(5737576046),l=e(7884000776),m=e(8439865561),c;(function(u){u.fancy="fancy",u.frowny="frowny",u.neutral="neutral",u.sadSurprise="sad_surprise"})(c||(c={}));const _=(0,n.Ay)("Add ephemeral feedback message to channel or thread",(u,h,E)=>{const{message:A,inputText:v,inputDelta:f,ephemeralType:g,ignoreExistingMessage:y}=E,T=E.temporary!==!1,M=A.channel,O=A.thread_ts,I=O?s.F.threadsTempSlashCmdFeedback:s.F.tempSlashCmdFeedback;if((v||f)&&M)if(O)(0,t.A)({inputText:v,inputDelta:f,channelId:M,threadTs:O});else{const D=(0,a.zC)({viewContext:l.Y.MESSAGE_PANE,channelId:M});D&&(f?D.setContents({contents:f.ops}):v&&D.setText(v))}T?u((0,d.w)({ephemeralType:g||I,message:A,ignoreExistingMessage:y})):(u((0,o.P)({ephemeralType:g||I,channelId:M})),u((0,r.F)({message:A}))),A!=null&&A.text&&u((0,m.rl)({message:A.text}))});_.meta={name:"createThunk",key:"createThunkaddEphemeralFeedback",description:"Add ephemeral feedback message to channel or thread"};const p=_},1116859610:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(2101927269),n=e(8840779375),s=e(3750057149),r=e(1031947056),d=e(9536404279),o=e(4350638406),a=e(10127715),l=e(3521202413),m=e(8847766420),c=e(3110884894),_=e(8040098042),p=e(6739248722),u=e(2791814261),h=e(4587446194),E=e(796111729),A=e(9190452268),v=e(1284885799),f=e(3528815215),g=e(2689960678);const y=(0,r.Ay)("Add messages from history",(M,O,I)=>{let{msgs:D,channelId:P,isLimited:k,latest:R,oldest:V,hasMore:B,loading:W,forceUnreadCount:L,deleted:S=[]}=I;const H=O(),w=(0,A.Cy)({getState:O});(0,u.L)(H)&&w.mark("rmsgs_addMessagesFromHistory");const F=(0,t.A)(D,q=>{const G=(0,p.k)(H,{channelId:P,ts:q.ts});return G&&(0,E.Ay)({getState:O}).warn(`Filtering out ${q.ts} in ${P} history response because it was deleted`),!G}),j=k?D.filter(q=>q.is_beyond_free_limit).map(q=>q.ts):g.Ml,J=(0,n.A)(F,"ts"),X=(0,_.A)(P)?P:(0,c.Sb)(P).channelId;X&&(0,o.mY)((0,m.ZT)(H),X,J),M((0,a.tT)(F)),M((0,d.VG)({channelId:P,timestamps:J,isLimited:k,blurredMessages:j,latest:R,oldest:V,hasMore:B,loading:W,forceUnreadCount:L})),(0,s.A)(W)&&M(W?(0,v.v)({channelId:P,loadingOlder:!!R}):(0,f.f)({channelId:P})),(0,u.L)(H)&&w.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),S.forEach(q=>M((0,l.j)({deleted_ts:q,channel:X}))),F.forEach(q=>(0,h.IY)(O,M,q,q))});y.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const T=y},8243624171:(Q,C,e)=>{"use strict";e.d(C,{Fj:()=>V,Vq:()=>R});var t=e(9706240641),n=e.n(t),s=e(6422693406),r=e(1069376685),d=e(4446301238),o=e(5274604535),a=e(5373179915),l=e(8170643398),m=e(5096647761),c=e(148278831),_=e(6536982570),p=e(2023092677),u=e(5184226701),h=e(3339229351),E=e(4327331459),A=e(4862221402),v=e(1031947056),f=e(1761027239),g=e(4761125736),y=e(8276911661),T=e(3730613858);const M=i((B,W)=>W.map(L=>L.pasted&&!L.entity?{value:L.value,entity:(0,y.nv)(B,L.value)}:L),"getMemberInfoForPastedMembers"),O=i(B=>{const W=B.entity||{};return(0,E.A)(B==null?void 0:B.value)||(0,l.NB)(W)},"isAMember"),I=i(B=>{const W=B.entity||{};return(0,A.A)(B.value)||(0,p.PH)(W)},"isAUserGroup"),D={[h.IS.ALREADY_IN_CHANNEL]:!0,[h.IS.CANNOT_INVITE_SELF]:!0,[h.IS.ALREADY_IN_CHANNEL_UG]:!0},P={},k=i(B=>{let{shouldPreserve:W,teamId:L}=B;P[L]=W},"setShouldPreserveModalsOnNavigation"),R=i(B=>{let{teamId:W}=B;return P[W]},"getShouldPreserveModalsOnNavigation"),V=(0,v.Ay)("Add users and user groups to channel",function(){var B=(0,t.coroutine)(function*(W,L,S){let{selectedMembers:H,addMemberMode:w,channel:F,keepChannelHistory:j,teamId:J,shouldSkipInitialStage:X}=S;const q={channelId:F.id,force:!0,reason:"submit-invite-channel-invite-modal"};let G,ne;if(w===r.D.AllMembers)q.inviteAll=!0,G=[],ne=[];else{const oe=M(L(),H),N=(0,o.A)(L(),F),K=(0,a.R)(L(),F);G=oe.reduce((x,b)=>{if(b&&O(b)&&b.entity){const z=b,$=(0,T.Sv)(L(),F.id,z.value);if(!$.isKnown||!$.isMember){const Z=(0,_.dQ)(z.entity),U=(0,c.S)(L(),z.entity,F);(K||(0,m.g)(z.entity)&&Z&&N.includes(Z)||U)&&x.push(z.value)}}return x},[]),q.users=G.join(","),ne=H.reduce((x,b)=>(b&&I(b)&&x.push(b.value),x),[]),q.subteams=ne.join(",")}const te=q.inviteAll||!!q.users||!!q.subteams,le=(0,g._Z)(L(),"shared_channel_invite_requested_event")==="on",he={addedExistingMembers:te,userInviteResults:G.map(oe=>({ok:!0,invitee:oe,inviteeType:u.T0.User,accessType:u.BD.Member,error:""})),groupInviteResults:ne.map(oe=>({ok:!0,invitee:oe,inviteeType:u.T0.UserGroup,accessType:u.BD.Member})),newChannelId:void 0};let fe;try{if(j)te&&(yield W((0,d.Cw)(q)).then(oe=>{const{requested_invites:N=[]}=oe;fe=N}),le&&(he.userInviteResults=he.userInviteResults.map(oe=>{const N=fe.find(K=>K.user_id===oe.invitee);return{...oe,accessType:N?u.BD.SharedChannel:oe.accessType,inviteeType:N?u.T0.Email:oe.inviteeType,...le&&{isRequestedInvite:!!N}}})));else{k({shouldPreserve:!X,teamId:J}),q.propagateInviteResult=!0;const{channel:oe}=yield W((0,f.t)(q));he.newChannelId=oe.id,k({shouldPreserve:!1,teamId:J})}}catch(oe){var ve;k({shouldPreserve:!1,teamId:J});const N=oe==null||(ve=oe.data)===null||ve===void 0?void 0:ve.errors;if(!N){var me;if(!D[oe==null||(me=oe.data)===null||me===void 0?void 0:me.error])throw oe}N==null||N.forEach(K=>{if(D[K.error])return;const x=he.userInviteResults.filter(z=>z.invitee===K.user);if(x.length)x[0].ok=!1,x[0].error=K.error;else if(H.length===1&&!K.user&&X){var b;he.userInviteResults=[{ok:!1,invitee:(b=H[0])===null||b===void 0?void 0:b.value,inviteeType:u.T0.User,error:K.error,accessType:u.BD.Member}]}else he.userInviteResults.push({ok:!1,invitee:K.user,inviteeType:u.T0.User,error:K.error,accessType:u.BD.Member})})}return s.S.resolve(he)});return function(W,L,S){return B.apply(this,arguments)}}());V.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},5661379004:(Q,C,e)=>{"use strict";e.d(C,{r:()=>m});var t=e(1031947056),n=e(8620339321),s=e(6533394955),r=e(6695353875),d=e(5223893135),o=e(8646192222);const a=(0,t.Ay)("Go back in history in fullscreen mode",(c,_)=>{window.history.back()});a.meta={name:"createThunk",key:"createThunkgoBackInFullscreenMode",description:"Go back in history in fullscreen mode"};var l=e(4326266690);const m=(0,t.Ay)("Go back in history",(c,_)=>{const p=_(),u=(0,r.yZ)(p),h=(0,o.iB)(p),E=(0,d.V)(p);if(h&&E)return c(a());if(u){(0,l.ud)((0,s.getStateForClientStore)())||(0,s.dispatchForClientStore)((0,n.oX)());return}window.history.back()});m.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},7606925238:(Q,C,e)=>{"use strict";e.d(C,{h:()=>s});var t=e(1031947056),n=e(6695353875);const s=(0,t.Ay)("Go forward in history",(r,d)=>{const o=d();(0,n.yZ)(o)||window.history.forward()});s.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},8496310524:(Q,C,e)=>{"use strict";e.d(C,{I:()=>d,u:()=>r});var t=e(2689960678),n=e(7969244833),s=e(9101533895);const r=i(o=>(o==null?void 0:o.name)||"","getActionName"),d=i((o,a,l)=>{const m=!l;let c=t.Ml;if(l){const _=(0,s.OL)(o,l);c=_&&(0,n.f)(o,_)||t.Ml}return a.teams&&(c.length||m)&&!a.isWorkspaceAgnostic?m?a.teams:a.teams.filter(p=>c.includes(p)):t.Ml},"getActionRelatedWorkspaces")},8210487023:(Q,C,e)=>{"use strict";e.d(C,{HM:()=>s,Uk:()=>d,fs:()=>o,iS:()=>r});var t=e(1658558415),n=e(4096483543);const s=i(()=>(0,n.A)()||(0,t.A)(),"areAppPopoutsEnabled"),r={openAppDialog:"openAppDialog",openBlockKitModal:"openBlockKitModal"},d="initStateQuery",o="postMessageCallback"},3982416567:(Q,C,e)=>{"use strict";e.d(C,{O4:()=>r,OB:()=>o});var t=e(937317117),n=e(5597672932);const s="canvas_version_history_enabled",r=i(a=>(0,n.x)(a,s),"getCanvasVersionHistoryEnabledTeamPref"),d=i((a,l)=>{const m=(0,t.Lp)(a,l);return m?m.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),o=i((a,l)=>l?!!r(a)&&!!d(a,l):!1,"isCanvasVersionHistoryEnabled")},2063075339:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>r});var t=e(1407713935),n=e(6007206761),s=e(6113051341);const r=i((d,o)=>!(0,t.JM)(o)&&!(0,n.F)(o)&&!(0,s.N)(o),"canBeExternallyShared")},2912967402:(Q,C,e)=>{"use strict";e.d(C,{B2:()=>a,Bw:()=>h,CM:()=>p,FA:()=>m,Jr:()=>u,Kg:()=>g,QS:()=>o,Vp:()=>v,bS:()=>f,bw:()=>l,oP:()=>_});var t=e(3078252698),n=e(735940183),s=e(4724591729),r=e(796111729);const d=new n.Ay("channels"),o=250,a=250;function l(T){return(0,t.A)(T)?T.length>o:((0,s.Cu)()&&(0,r.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}i(l,"channelTopicExceedsLimit");const m="too_long",c="restricted_action",_="user_is_restricted",p="method_not_supported_for_channel_type",u="method_not_supported_for_dm";function h(T){switch(T){case m:return d.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:o});case c:case _:return d.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case p:return d.t("It\u2019s not possible to set a topic here, unfortunately.");case u:return d.t("Regrettably, direct messages do not have topics.");default:return d.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}i(h,"getChannelTopicError");const E="too_long",A="restricted_action",v="user_is_restricted",f="method_not_supported_for_channel_type",g="method_not_supported_for_dm";function y(T){switch(T){case E:return d.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:a});case A:case v:return d.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case f:return d.t("It\u2019s not possible to set a purpose here, unfortunately.");case g:return d.t("Regrettably, direct messages do not have purposes.");default:return d.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}i(y,"getChannelPurposeError")},8243083011:(Q,C,e)=>{"use strict";e.d(C,{q:()=>a});var t=e(3677514771),n=e(9101533895),s=e(1407713935),r=e(6113051341),d=e(6839188756),o=e(8040098042);const a=i((l,m)=>{if(!m||!(0,o.A)(m))return!1;const c=(0,t.H7)(l),_=(0,n.OL)(l,m),p=(0,s.JM)(_),u=(0,r.N)(_),h=(0,d.Ny)(c);return!(p||!h&&!u)},"doBroadcastKeywordPrefsApplyForChannel")},4559887502:(Q,C,e)=>{"use strict";e.d(C,{i:()=>s});var t=e(9884588328),n=e(1407713935);const s=i((r,d)=>{if((0,n.JM)(d)||!r)return!1;const o=(0,t.mG)(d),a=o?r.get(o):null;return a?(a==null?void 0:a.length)>1:!1},"doesChannelHaveNonUniqueName")},7868634217:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>l,Y:()=>m});var t=e(2689960678),n=e(8701485242),s=e(8921478798),r=e(8276911661),d=e(3037015781),o=e(9262712126);function a(c,_,p){const u=!p;var h;const E=(h=(0,r.nv)(c,_,{preferNonExistentToNull:!1,fetchIfMissing:u}))!==null&&h!==void 0?h:void 0;return!E||p&&(0,d.mX)(E)?_:(0,o.wg)(E)}i(a,"getRealMemberNameById");const l=i((c,_)=>_?_.map(p=>({id:p,name:(0,s.I)(c,p)})).sort((p,u)=>(0,n.Ay)(p.name,u.name)).map(p=>p.id):t.Ml,"getAlphabeticallySortedMemberIds"),m=i((c,_)=>!_||!_.length?t.Ml:_.map(p=>({id:p,name:a(c,p)})).sort((p,u)=>(0,n.Ay)(p.name,u.name)).map(p=>p.id),"getRealNameAlphabeticallySortedMemberIds")},6045879501:(Q,C,e)=>{"use strict";e.d(C,{H:()=>t});function t(n){return n&&n.emoji}i(t,"getEmojiCollectionEmoji")},370406050:(Q,C,e)=>{"use strict";e.d(C,{M:()=>t});function t(n){return n&&n.name}i(t,"getEmojiCollectionName")},5071545805:(Q,C,e)=>{"use strict";e.d(C,{j:()=>t});function t(n){return n&&n.installed}i(t,"isEmojiCollectionInstalled")},3890290905:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>t});const t=i(n=>n&&n.name,"getEmojiName")},4282439381:(Q,C,e)=>{"use strict";e.d(C,{x:()=>n});var t=e(4761125736);const n=i(s=>(0,t._Z)(s,"a11y_emoji_group")==="on","isEmojiGroupEnabled")},6247499644:(Q,C,e)=>{"use strict";e.d(C,{q:()=>t});function t(n){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(n)}i(t,"isValidEmojiName")},9362126998:(Q,C,e)=>{"use strict";e.d(C,{$R:()=>R,BM:()=>me,DC:()=>F,JC:()=>B,Jn:()=>te,Kj:()=>q,NG:()=>ve,RI:()=>X,UF:()=>L,Wg:()=>ne,cG:()=>j,hP:()=>w,lL:()=>he,p4:()=>oe,qh:()=>fe,rY:()=>H,y0:()=>G,yD:()=>W});var t=e(9113979368),n=e(8840779375),s=e(1703559452),r=e(2384831516),d=e(1316483933),o=e(571104883),a=e(5795074931),l=e(9101533895),m=e(8455301571),c=e(7606781622),_=e(5597672932),p=e(8276911661),u=e(3534324375),h=e(937317117),E=e(4827886670),A=e(340763958),v=e(3110884894),f=e(2188787324),g=e(1257883628),y=e(4702704067),T=e(9884588328),M=e(9536443280),O=e(735940183),I=e(2689960678),D=e(3207321841),P=e(6946629059);const k=new O.Ay("stories_av"),R=i((N,K)=>{const x=!!K&&(0,A.ju)(K);let b=!0;return x?b=(0,_.x)(N,"allow_video_clips")&&(0,_.x)(N,"allow_video_clip_sharing_slack_connect"):b=(0,_.x)(N,"allow_video_clips"),b},"isVideoClipSharingEnabledForChannel"),V=i((N,K,x)=>{const b=(0,l.OL)(N,K),z=R(N,b);return(!K||!x&&(0,E.E)(N,K)||!!x&&(0,T.NI)(N,b))&&z},"canDestinationReceiveVideoClips"),B=i((N,K,x)=>V(N,K,x),"canPostVideoClipInDestination"),W=i((N,K,x)=>V(N,K,x)&&B(N,K,x)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),L=i((N,K)=>{const x=!!K&&(0,A.ju)(K);let b=!0;return x?b=(0,_.x)(N,"allow_audio_clips")&&(0,_.x)(N,"allow_audio_clip_sharing_slack_connect"):b=(0,_.x)(N,"allow_audio_clips"),b},"isAudioClipSharingEnabledForChannel"),S=i((N,K,x)=>{const b=(0,l.OL)(N,K),z=L(N,b);return(!K||!x&&(0,E.E)(N,K)||!!x&&(0,T.NI)(N,b))&&z},"canDestinationReceiveAudioClips"),H=i((N,K,x)=>S(N,K,x),"canPostAudioMessageInDestination"),w=i((N,K,x)=>S(N,K,x)&&H(N,K,x)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),F=i((N,K)=>{if(!te(K))return!0;const x=(0,_.x)(N,"allow_clip_downloads"),b=(0,a.WR)(N),z=(0,d.qc)(N,b);if(x==="anyone"||z)return!0;const $=K.user!==null&&K.user===b;return!!(x==="creator_and_admins"&&$)},"canDownloadClip"),j=i((N,K)=>F(N,K)||(0,o.y3)(),"canOpenClipInNewWindow"),J=(0,r.Mz)((N,K)=>{if(!K)return!1;if((0,t.A)(K.files))return I.Ml;const x=(0,n.A)(K.files,b=>(0,h.Lp)(N,b));return(0,s.A)(x,g.A)});J.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(N,K)=>{if(!K)return!1;if((0,t.A)(K.files))return I.Ml;const x=(0,n.A)(K.files,b=>(0,h.Lp)(N,b));return(0,s.A)(x,g.A)}};function X(N){let{state:K,threadKey:x,includeAllMessages:b=!1,startTs:z}=N;const{channelId:$,threadTs:Z}=(0,v.Sb)(x),{timestamps:U,reachedStart:ee,reachedEnd:se}=(0,m.r7)(K,x,z||Z)||{},de=U!=null&&U.length&&$?U.map(ue=>(0,c.Ld)(K,$,ue)).filter(P.b):[];return{messages:b?de:de.filter(ue=>J(K,ue)),reachedStart:!!ee,reachedEnd:!!se}}i(X,"getMediaThread");function q(N){var K;return N!=null&&N.vtt?M.D.available:(N==null||(K=N.transcription)===null||K===void 0?void 0:K.status)==="processing"?M.D.processing:M.D.none}i(q,"getCaptionsAvailability");const G=i(N=>(0,_.x)(N,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function ne(N,K){let x="";if(K.user){const z=(0,p.nv)(N,K.user);x=z?(0,u.sE)(N,z):""}let b;return x?b=(0,y.A)(K)?k.t("Audio clip from {memberName}",{memberName:x}):k.t("Video clip from {memberName}",{memberName:x}):b=(0,y.A)(K)?k.t("Audio clip"):k.t("Video clip"),b}i(ne,"getLabelForClip");function te(N){return N!=null&&N.subtype?le(N.subtype):!1}i(te,"isClip");function le(N){let{clipsSubtypes:K=D.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return K.includes(N)}i(le,"isClipsSubtype");function he(N){return N===D.iN}i(he,"isAudioClipSubtype");function fe(N){return N&&N.some(K=>le(K.subtype))}i(fe,"containsClip");function ve(N){return N?N.filter(K=>le(K.subtype)):[]}i(ve,"findClips");function me(N,K){const x=(0,a.WR)(N);return(K==null?void 0:K.user)===x}i(me,"canRemoveTranscriptPreview");function oe(N){return(0,f.pI)(N)?(N==null?void 0:N.aac)||(N==null?void 0:N.url_private):(N==null?void 0:N.mp4)||(N==null?void 0:N.url_private)}i(oe,"getMediaSrc")},102566929:(Q,C,e)=>{"use strict";e.d(C,{Fh:()=>m,Iz:()=>l,gC:()=>a});var t=e(8161242485),n=e(937317117),s=e(497761763),r=e(6078549397),d=e(2823938397);const o=(0,t.Ay)((c,_)=>{const{fileIdOrQuipThreadId:p}=(0,r.EX)(_);if((0,s.A)(p)){var u;return(u=(0,n.Lp)(c,p))!==null&&u!==void 0?u:null}return null});o.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(c,_)=>{const{fileIdOrQuipThreadId:p}=(0,r.EX)(_);if((0,s.A)(p)){var u;return(u=(0,n.Lp)(c,p))!==null&&u!==void 0?u:null}return null}};const a=(0,t.Ay)((c,_)=>{const p=o(c,_);return p&&(0,d.uz)(p)?p:null});a.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(c,_)=>{const p=o(c,_);return p&&(0,d.uz)(p)?p:null}};function l(c){return c.linked_channel_id}i(l,"getLinkedChannelId");function m(c){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(c)}i(m,"isSampleCanvas")},6470070112:(Q,C,e)=>{"use strict";e.d(C,{$t:()=>rn,$z:()=>Rt,A5:()=>Xt,Bn:()=>Ie,C6:()=>ct,F7:()=>Zt,Fm:()=>ge,Ft:()=>Xe,Gb:()=>Ee,Gf:()=>be,J6:()=>He,K8:()=>yn,Lb:()=>Tt,MY:()=>ot,NZ:()=>ye,Or:()=>vt,Pn:()=>de,Qj:()=>At,Qw:()=>hn,R1:()=>Et,R8:()=>en,RW:()=>it,Rc:()=>Bt,S9:()=>yt,TA:()=>Dt,U6:()=>cn,UA:()=>Mt,UE:()=>Fe,Ul:()=>An,VQ:()=>ft,Vh:()=>_n,WH:()=>nn,Wd:()=>Ln,Xx:()=>Ue,ZP:()=>lt,bD:()=>rt,cq:()=>Je,df:()=>Ot,eu:()=>je,ew:()=>qe,gG:()=>Re,gO:()=>St,hp:()=>jt,hv:()=>On,kn:()=>gn,oz:()=>et,pZ:()=>Qe,pl:()=>Te,pt:()=>ae,pw:()=>nt,qp:()=>ht,r5:()=>mn,rl:()=>It,sp:()=>Ct,sx:()=>Ge,uc:()=>Kt,uz:()=>Ke,vw:()=>ue,w1:()=>xe,wc:()=>zt,wu:()=>Qt,xe:()=>wt,xv:()=>Ne,xz:()=>Le});var t=e(9113979368),n=e(8571983633),s=e(1703559452),r=e(2101927269),d=e(7174777686),o=e(2823938397),a=e(5795074931),l=e(7334104107),m=e(8170643398),c=e(9262712126),_=e(3479134063),p=e(9101533895),u=e(7067820909),h=e(4761125736),E=e(5761207079),A=e(5597672932),v=e(2047021170),f=e(8163773562),g=e(387328355),y=e(9548972574),T=e(6251210828),M=e(9712681361),O=e(6007206761),I=e(395285811),D=e(4630136761),P=e(4262121634),k=e(9884588328),R=e(8798294025),V=e(1407713935),B=e(4827886670),W=e(6533394955),L=e(5332875232),S=e(92886754),H=e(8276911661),w=e(8286248123),F=e(8233775522),j=e(7366481123),J=e(1990810649),X=e(9680914051),q=e(9744874022),G=e(571104883),ne=e(735940183),te=e(8921478798),le=e(5286203919),he=e(462591818),fe=e(4159322694),ve=e(3848681746),me=e(6575028637),oe=e(8645544190),N=e(1766818988),K=e(279118289),x=e(7884000776),b=e(3474336343),z=e(6827180593),$=e(1340402138),Z=e(1289024643),U=e(6839188756),ee=e(3677514771),se=e(7606781622),de;(function(Oe){Oe.EXTERNALLY_SHARED_CHANNEL="externally_shared_channel",Oe.ADMIN_DISABLED="admin_disabled",Oe.UNSUPPORTED_BROWSER="unsupported_browser"})(de||(de={}));var ue;(function(Oe){Oe[Oe.BROWSER=1]="BROWSER",Oe[Oe.MAC=2]="MAC",Oe[Oe.WINDOWS=3]="WINDOWS"})(ue||(ue={}));const _e=new ne.Ay("huddles"),pe=/^Hi/,ae=(0,K.A)(Oe=>{const Y=(0,$.R)(Oe);return(((0,me.ss)(Oe)?Jt(Oe,"allow_huddles"):(0,A.x)(Oe,"allow_huddles"))||!1)&&!Y});var Ee;(function(Oe){Oe.ACTIVE="active",Oe.INACTIVE_BUT_LIVE="inactive-but-live",Oe.MISSED="missed"})(Ee||(Ee={}));function Le(Oe,Y){if(!Y)return[!1,void 0];if((0,I.jT)(Y))return[!1,void 0];const ce=ae(Oe),Ce=ce||(0,N.I)(Oe,Y.id);if(!ce&&!(0,N.I)(Oe,Y.id))return[!1,de.ADMIN_DISABLED];if(!(0,o.uz)(Y)||(0,P.V)(Oe,Y)||(0,k.Gh)(Oe,Y.id)||!(0,B.E)(Oe,Y.id)&&!(0,V.PC)(Y)||(0,k.bU)(Y)||(0,O.F)(Y)||(0,D.Zz)(Y)||(0,fe.M)(Y)||(0,k.dq)(Oe,Y)||!Ce)return[!1,void 0];if((0,S.yh)())return[!1,de.UNSUPPORTED_BROWSER];const ke=(0,h._Z)(Oe,"huddles_channel_properties")==="on";let st=!1;if(ke){var dt;st=!!(!(Y==null||(dt=Y.properties)===null||dt===void 0)&&dt.huddles_restricted)}else{const Lt=(0,f.d)(Oe,Y.id,"can_huddle");st=Lt&&(Lt==null?void 0:Lt.enabled)===!1}const Ze=mt(Oe,Y.id);return st?[!1,de.ADMIN_DISABLED]:Ze===!1?[!1,de.ADMIN_DISABLED]:[!0,void 0]}i(Le,"doesChannelSupportHuddlesWithReason");const ye=i(()=>{const Oe=(0,W.getClientStoreInstance)();if(!Oe)return!1;const Y=Oe.getState(),ce=(0,le.Ak)(Y);return!(0,t.A)(ce)},"hasActiveHuddleReferenceInClientStore"),Te=i(Oe=>{const Y=ae(Oe),ce=ye();return Y||ce},"isHuddleEnabledOrHasActiveHuddle");function Ae(Oe,Y){var ce;const Ce=(ce=getMemberById(Oe,Y))!==null&&ce!==void 0?ce:void 0;return!isBotUser(Ce)&&!isSlackbot(Ce)&&!isExternal(Ce)}i(Ae,"canUserBeInvitedToHuddle");function Ie(Oe,Y){return Le(Oe,Y)[0]}i(Ie,"doesChannelSupportHuddles");function Ue(Oe,Y){return ae(Oe)?(0,y.LY)(Oe,Y)>0:!1}i(Ue,"doesChannelHaveHuddle");function Be(Oe,Y){const ce=getDisplayNameForChannel(Oe,Y,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});let Ce=[],ke="";if(isMpim(Y))Ce=getMpimMembersInAlphabeticalOrder(Oe,Y)||[],ke="Waiting for others...";else if(isIm(Y)){const Ze=getMemberIdFromIm(Y);Ze&&Ce.push(Ze),ke=`Waiting for ${ce}`}else return ce;const st=getAllConnectedPeers(Oe)||[];if(st.length===0)return ke;const dt=st.map(Ze=>Ze.userId);return Ce.filter(Ze=>dt.includes(Ze)).map(Ze=>getPrefCompliantMemberNameById(Oe,Ze)).join(", ")}i(Be,"getDisplayNameActiveParticipants");const we=new Set([j.vT.SpeakingWhenMuted,j.vT.UpdateSlack,j.vT.RemotePeerMuted,j.vT.RemotePeerSlowConnection,j.vT.ScreenShareFreeTeam,j.vT.NoGroupCallsForFreeTeam,j.vT.PeerMuteRequest]),re=new Set([j.vT.SpeakingWhenMuted,j.vT.UpdateSlack,j.vT.RemotePeerMuted,j.vT.RemotePeerSlowConnection,j.vT.ScreenShareFreeTeam,j.vT.NoGroupCallsForFreeTeam]);function ge(Oe){return(0,j.xw)(Oe).find(ce=>!we.has(ce.type))}i(ge,"getAlertForHuddlesBanner");function De(Oe){return Te(Oe)&&!!ge(Oe)}i(De,"shouldShowHuddlesBanner");function be(Oe){const Y=(0,W.getStateForClientStore)();return De(Oe)&&!(0,le.j)(Y)}i(be,"shouldShowHuddlesBannerInWorkspace");function xe(Oe,Y,ce){const Ce=(0,y.LY)(Oe,Y),ke=(0,p.OL)(Oe,Y),st=(0,V.mz)(ke)||void 0,dt=(0,W.getStateForClientStore)(),{callId:Ze}=(0,le.Qn)(dt)||{};return{channel_id:Y,channel_type:st,num_participants:Ce,is_recommended:ce,room_id:Ze}}i(xe,"getHuddlesClogContext");function Re(Oe,Y){return{...xe(Oe,Y),window_focused:(0,F.ko)(Oe),window_visible:(0,u.Sr)(Oe)}}i(Re,"getHuddlesClogContextForBackgroundActions");function je(Oe){return[M.RJ.STARTING,M.RJ.PENDING,M.RJ.COMPLETING_PRE_JOIN].includes(Oe)}i(je,"isHuddleLoadingState");function Ge(Oe){return je(Oe)||Oe===M.RJ.STARTED}i(Ge,"isHuddleActiveState");function Qe(Oe){return je(Oe)||Oe===M.RJ.ENDING}i(Qe,"isHuddleTransitionState");function Xe(Oe){return[M.RJ.NOT_STARTED,M.RJ.SURVEY,M.RJ.SURVEY_GOOD].includes(Oe)}i(Xe,"isHuddleEndState");function et(Oe){return[M.RJ.SURVEY,M.RJ.SURVEY_GOOD].includes(Oe)}i(et,"isHuddleSurveyState");function rt(Oe,Y){const ce=(0,a.WR)(Oe);return!!(0,y.ft)(Oe,Y).find(Ce=>{let{id:ke}=Ce;return ke===ce})}i(rt,"isUserHuddlingInChannel");function it(Oe){var Y;const ce=Oe==null||(Y=Oe.meeting)===null||Y===void 0?void 0:Y.ExternalMeetingId;var Ce;return(Ce=ce==null?void 0:ce.split("-")[1])!==null&&Ce!==void 0?Ce:null}i(it,"getRoomIdFromCredentials");function lt(Oe,Y,ce){if(!Y)return!1;const Ce=(0,k.Mi)((0,p.Pu)(Oe,Y.id));return!(!ae(Oe)||!(0,o.uz)(Y)||(0,m.fy)(Y)&&!ce||!(0,m.ls)(Y)||Ce)}i(lt,"canHuddleWithMember");function ot(Oe){return Oe===M.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE||Oe===M.J_.INITIAL_ALONE_NOTICE_ACTIVE}i(ot,"isAloneInHuddleCoachmarkOpen");function Et(Oe){return Oe===M.J_.INITIAL_ALONE_NOTICE_DISMISSED||Oe===M.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED}i(Et,"isAloneInHuddleCoachmarkDismissed");function At(Oe,Y,ce){var Ce,ke;if(Y===null||(0,y.LY)(Oe,Y)>0||((Ce=(0,le.aQ)((0,W.getStateForClientStore)()))===null||Ce===void 0?void 0:Ce.channelId)===Y)return!1;const st=(0,p.OL)(Oe,Y);if(!st||!(0,o.uz)(st))return!1;if(ce)return!0;if(!st||(0,V.JM)(st))return!1;const dt=(0,w.q8)(Oe,Y),Ze=(0,v.ty)(Oe,"huddles_show_shouty_rooster"),Lt=dt==null||(ke=dt.counts)===null||ke===void 0?void 0:ke.member_count;return!(!Lt||Lt<=X.Qp||Ze===!1)}i(At,"shouldShowHuddlesShoutyRoosterWarning");function Ot(Oe){return(0,L.nC)(Oe)?X.yL:X.$s}i(Ot,"getParticipantLimit");function Rt(){return(0,G.cX)()?(0,G.y3)()?_e.t("Command + Shift + H"):_e.t("Command + Shift + Option + H"):(0,G.y3)()?_e.t("Ctrl + Shift + H"):_e.t("Ctrl + Shift + Alt + H")}i(Rt,"getHuddleToggleKeyboardShortcutString");const yt=i((Oe,Y,ce)=>{const Ce=ae(Oe)&&(0,L.Ms)(Oe);if(Y)return Ce&&lt(Oe,Y);if(ce){const ke=(0,p.OL)(Oe,ce),st=ke&&Ie(Oe,ke);return Ce&&st}return Ce},"shouldShowCallMenuHuddleDiscoveryLink"),Mt=i((Oe,Y)=>(0,n.A)(Y)?(0,A.x)(Oe,"allow_huddles_transcriptions")||!1:(0,me.ss)(Oe)?Ft(Oe,"allow_huddles_transcriptions",Y):(0,A.x)(Oe,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForChannel"),en=i(Oe=>(0,me.ss)(Oe)?Jt(Oe,"allow_huddles_transcriptions"):(0,A.x)(Oe,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForOrgWorkspaces"),Tt=i((Oe,Y)=>{const ce=(0,a.WR)(Oe);return(0,H.nv)(Oe,(0,g.fy)(Y)?ce:Y.userId)},"getMemberFromPeer"),xt=i((Oe,Y)=>(0,E.a)(Oe,Y==null?void 0:Y.id)?_e.t("Name hidden"):(0,c.wg)(Y)||(0,c.Fh)(Y),"getMemberName"),bt=i((Oe,Y)=>{const ce=getCurrentUserId(Oe);if(isSelfPeerId({id:Y}))return getMemberById(Oe,ce);const Ce=getPeerById(Oe,Y);if(Ce)return Tt(Oe,Ce)},"getMemberFromPeerId"),nn=i((Oe,Y)=>{const ce=Tt(Oe,Y);return xt(Oe,ce)},"getMemberNameFromPeer"),dn=i((Oe,Y)=>{if(!Y)return;const ce=bt(Oe,Y);return xt(Oe,ce)},"getMemberNameFromPeerId"),Xt=i((Oe,Y)=>{const ce=(0,H.nv)(Oe,Y);return xt(Oe,ce)},"getMemberNameFromUserId"),jt=i((Oe,Y)=>{const ce=(0,H.nv)(Oe,Y);return(0,m.fD)(ce)},"getMemberPronounsFromUserId"),_n=i(Oe=>{let{state:Y,roomId:ce}=Oe;const Ce=(0,y.P_)(Y,ce);return!Ce||Ce.hasEnded?!1:Ce.allParticipants.length===0?!0:!(Ce.allParticipants.length>0&&Ce.activeParticipants.length===0)},"isHuddleActive"),ze=i(Oe=>{let{state:Y,roomId:ce}=Oe;const Ce=(0,y.P_)(Y,ce);return!Ce||!!Ce.hasEnded},"isHuddleEnded"),Dt=i(Oe=>{let{state:Y,roomId:ce,userId:Ce}=Oe;if(!ce||!Ce||!_n({state:Y,roomId:ce}))return!1;const ke=(0,y.P_)(Y,ce);return ke?(0,s.A)(ke.activeParticipants,st=>(0,he.MZ)(st)&&st.slackId===Ce):!1},"isUserInActiveHuddle"),hn=i((Oe,Y)=>{if(!Y||!(0,L.Z0)(Oe))return!1;const ce=(0,Z.H6)(Oe,Y);if(!ce)return!1;const Ce=(0,a.WR)(Oe);return(0,L.Z0)(Oe)&&!!ce.hasEnded&&Ce in(ce.missedParticipants||{})},"getDidUserMissHuddleInvite"),yn=i((Oe,Y)=>{switch(!0){case _n({state:Oe,roomId:Y}):return Ee.ACTIVE;case!ze({state:Oe,roomId:Y}):return Ee.INACTIVE_BUT_LIVE;case hn(Oe,Y):return Ee.MISSED;default:return}},"getHuddleActivityStatus"),ht=i(Oe=>{let{state:Y,roomId:ce,userId:Ce}=Oe;if(!ce||!Ce||_n({state:Y,roomId:ce}))return!1;const ke=(0,y.P_)(Y,ce);return ke?(0,s.A)(ke.allParticipants,st=>(0,he.MZ)(st)&&st.slackId===Ce):!1},"wasUserInEndedHuddle"),Bt=i(Oe=>{let{participantsIds:Y,userIdsToExclude:ce}=Oe;return!Y||!Y.length?[]:(0,r.A)(Y,Ce=>!(0,d.A)(ce,Ce))},"getParticipantIdsFiltered"),wt=i(Oe=>{let{state:Y,channel:ce,roomId:Ce}=Oe;if(!ce||!Ce||!(0,V.LI)(ce))return!1;const ke=(0,R.e)(ce),st=(0,y.P_)(Y,Ce);return st?!Dt({state:Y,roomId:Ce,userId:ke})&&(0,s.A)(st.allParticipants,dt=>(0,he.MZ)(dt)&&dt.slackId===ke):!1},"hasImUserJoinedAndLeft"),Qt=i((Oe,Y)=>{if(!Y)return!1;const ce=(0,p.OL)(Oe,Y);if(!ce)return!1;const Ce=Ie(Oe,ce);return!!ce&&!(0,k.Ur)(ce)&&!(0,P.V)(Oe,ce)&&!!Ce},"isValidChannelForHuddleNux"),mn=i((Oe,Y)=>{let{channelId:ce}=Y;if(!ce)return!1;const Ce=(0,W.getStateForClientStore)(),st=(0,le.hc)(Ce)===ce;return rt(Oe,ce)&&!st},"isUserHuddlingOnAnotherDevice"),On=i(Oe=>{let{isDM:Y,escImOrMpimMemberIds:ce,huddlesDisabledUserIds:Ce}=Oe;return Y&&ce&&Ce&&Ce.length===1&&Ce[0]===ce[0]},"isHuddleDisabledForDM"),zt=i(Oe=>{let{isMPDM:Y,escImOrMpimMemberIds:ce,huddlesDisabledUserIds:Ce}=Oe;return Y&&ce&&Ce&&Ce.length===ce.length-1},"isHuddleDisabledForMPDM"),nt=i(()=>(0,oe.xY)()?(0,G.cX)()?ue.MAC:ue.WINDOWS:ue.BROWSER,"getTitlebarVariant");function mt(Oe,Y){return Ft(Oe,"allow_huddles",Y)}i(mt,"getIsHuddlesAllowedTeamPrefForChannel");function Ct(Oe,Y){return(0,n.A)(Y)?(0,A.x)(Oe,"allow_huddles_video")||!1:(0,me.ss)(Oe)?Ft(Oe,"allow_huddles_video",Y):(0,A.x)(Oe,"allow_huddles_video")||!1}i(Ct,"isHuddlesVideoEnabledForChannel");function Zt(Oe){return(0,me.ss)(Oe)?Jt(Oe,"allow_huddles_video"):(0,A.x)(Oe,"allow_huddles_video")||!1}i(Zt,"isHuddlesVideoEnabledForOrgWorkspaces");function Ft(Oe,Y,ce){if((0,me.ss)(Oe)){const Ce=(0,p.OL)(Oe,ce);return(0,V.QR)(Ce)?(0,ve.p$)(Oe,Y):(0,ve.Bx)(Oe,Y,ce)}return(0,A.x)(Oe,Y)||!1}i(Ft,"getIsHuddlesOrgAllowedPrefEnabledForChannel");function Jt(Oe,Y){return(0,ve.p$)(Oe,Y)}i(Jt,"isCurrentUserWhoCanDoTeamPrefOnSelfWorkspaces");function rn(Oe,Y){let{huddleId:ce}=Y;var Ce;const ke=(0,T.fG)(Oe,{huddleId:ce});return{canvas_thread_channel_id:ke==null?void 0:ke.channelId,canvas_thread_id:ke==null||(Ce=ke.ts)===null||Ce===void 0?void 0:Ce.replace(".","")}}i(rn,"getHuddleClogContext");function gn(Oe){return{canvas_huddle_session_id:(0,le.oK)(Oe)}}i(gn,"getHuddleClogClientContext");function Fe(Oe){const Y=(0,le.E9)(Oe),ce=(0,le.hc)(Oe);return{room_id:Y,channel_id:ce}}i(Fe,"getHuddleClogCallsContext");function Ke(){const Oe=(0,W.getStateForClientStore)();return(0,le.j)(Oe)}i(Ke,"isHuddleWindowOpenInClientStore");function Ne(Oe){return!Oe||Oe.closed?null:Oe.innerWidth<=q.m3?J.yG.WINDOW_COMPACT:J.yG.WINDOW_FULL}i(Ne,"getHuddleSurfaceFromWindowSize");function He(Oe){const ce=Oe.screen.availTop,Ce=isNaN(ce)?!0:Math.abs(ce-Oe.screenTop)<=20,ke=Oe.screen.availLeft,st=isNaN(ke)?!0:Math.abs(ke-Oe.screenLeft)<=20,dt=Math.abs(Oe.screen.availHeight-Oe.outerHeight)<=20,Ze=Math.abs(Oe.screen.availWidth-Oe.outerWidth)<=20;return Ce&&st&&(dt&&Ze)}i(He,"isHuddleWindowMaximized");function Je(Oe){let{self:Y,peers:ce}=Oe;const ke=ce.filter(dt=>dt.isCameraEnabled).length||Y.isCameraEnabled&&!Y.isHidingSelf,st=ce.length+(Y.isHidingSelf?0:1);if(ke){if(st>=5)return q.ef;if(st===4)return q.oP;if(st===3)return q.v2}return q.v_}i(Je,"getCompactWindowDefaultHeight");const ft=i(Oe=>(0,oe.qp)()?!!Oe.document.fullscreenEnabled:!1,"isFullscreenEnabled"),Kt=i(Oe=>!!Oe.document.fullscreenElement,"isWindowFullscreen"),St=i((Oe,Y)=>Y?Oe.document.body.requestFullscreen():Oe.document.exitFullscreen(),"setFullscreen");function cn(Oe){let{message:Y,parentMessage:ce,viewContext:Ce}=Oe;return!!(ce&&ce.room_id&&(!Ce||x.Y.MESSAGE_PANE===Ce)&&(Y==null?void 0:Y.ts)!==(Y==null?void 0:Y.thread_ts))}i(cn,"isMessageHuddleRecapMessage");function An(Oe){if((0,b.Si)(Oe))return!1;const ce=(0,z.H)(Oe);return ce?ce<=5:!0}i(An,"isSelfUserNewToHuddles");function Ln(Oe){return!!ae(Oe)}i(Ln,"isHuddlesPageEnabled");function It(Oe){const ce=(0,p.h3)(Oe),Ce=[];return ce.forEach(ke=>{Ce.length<3&&Ie(Oe,ke)&&Ce.push(ke)}),Ce}i(It,"getChannelHuddleSuggestionsForNUX");function qe(Oe){const Y=(0,y.qr)(Oe),ce=(0,W.getClientStoreInstance)().getState(),Ce=(0,le.Qn)(ce),{expiration:ke}=(0,Z.H6)(Oe,Ce==null?void 0:Ce.callId)||{};return!!((0,U.tc)((0,ee.H7)(Oe))&&Y&&ke&&Date.now()/1e3>=ke)}i(qe,"wasHuddleTimeLimitReached");function ct(Oe){return pe.test(Oe)}i(ct,"isHuddlesIndirectLink");function vt(Oe){let{state:Y,threadTs:ce,channelId:Ce}=Oe;if(!(0,a.TZ)(Y)||!Ce)return!1;const ke=(0,y.it)(Y,Ce),st=(0,se.Ld)(Y,Ce,ce);return!!(st&&(0,l.mb)(st)&&ke)}i(vt,"isActiveHuddleThreadMessage")},7148679525:(Q,C,e)=>{"use strict";e.d(C,{eY:()=>I,QX:()=>k,dL:()=>D,oG:()=>R,Lz:()=>P,L7:()=>H,J5:()=>S,XH:()=>V,nY:()=>B});var t=e(2837660778),n=e(1340402138),s=e(7969244833),r=e(3792998666),d=e(8323393403),o=e(6839188756),a=e(9950739645),l=e(7112191091),m=e(6693783993),c=e(4761125736),_=e(9951956014),p=e(8289365785);function u(w){return w&&{...w,type:(0,p.A)(w==null?void 0:w.type)==="owner"?["org_admin"]:["admin"]}}i(u,"mapToWhoCanStyle");function h(w,F){return(0,_.g)(w,"who_can_manage_guests",[F],u)}i(h,"canUserDoManageGuestsTeamPrefForTeamId");const E={mapToWhoCanStyle:u};var A=e(5795074931);const v=i((w,F)=>{if((0,c._Z)(w,"light_read_who_can_manage_guests_pref_migration")==="on"){const J=(0,A.TZ)(w);return F&&J?(0,m.l0)(w).includes(F.id):(0,m.mZ)(w)}return F?(0,o.r7)(F)?h(w,F.id)||!1:(0,l.Me)(w,F.id):!1},"canUserInviteGuests");var f=e(5184226701),g=e(504058561),y=e(9101533895),T=e(8276911661),M=e(5597672932),O=e(3677514771);function I(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const j=(0,T.cA)(w),J=F??(0,O.H7)(w);if(!J)return!1;const X=(0,l.Me)(w,J.id),q=(0,m.tx)(w,{teamOrEnterpriseIds:[J.id]});return X||q?!0:(0,r.P)(j)?!1:(0,M.x)(w,"invites_only_admins",F==null?void 0:F.id)?v(w,J):!0}i(I,"canUserInviteMembersToWorkspace");function D(w,F,j){const J=F||(0,T.cA)(w),X=j||(0,O.H7)(w);return!(!X&&!X||(0,r.P)(J)||!(0,M.x)(w,"invite_requests_enabled",X.id))}i(D,"canUserRequestToInvite");function P(w){const F=(0,T.cA)(w),j=(0,O.H7)(w);return!j||(0,n.R)(w)?!1:(0,o.r7)(j)?!!(0,t.Mo)(w).filter(X=>D(w,F,X)||I(w,X)).length:!!(D(w,F,j)||I(w))}i(P,"canUserSeeInviteModal");function k(w,F){const j=(0,O.H7)(w);if(!j)return!1;const J=(0,y.OL)(w,F),X=(0,o.tc)(j),q=(0,o.r7)(j),G=(0,d.D7)(w,F),ne=q?!B(w,J):P(w);return X&&ne||!X&&(ne||G)}i(k,"canUserInviteToChannelByEmail");function R(w,F){const j=(0,T.cA)(w),J=F?(0,O._J)(w,F):(0,O.H7)(w);return!J||(0,o.tc)(J)?!1:D(w,j,J)?!0:v(w,J)}i(R,"canUserSeeAccountTypeOptions");function V(w,F){let{ignoreGuestSettings:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const J=(0,T.cA)(w),X=F?(0,O._J)(w,F):(0,O.H7)(w);if(!(0,o.r7)(X))return!1;const q=(0,l.Me)(w,X.id),G=(0,m.tx)(w,{teamOrEnterpriseIds:[X.id]});return q||G||!(0,M.x)(w,"invites_only_admins",X.id)||D(w,J,X)?!1:j?!0:v(w,X)}i(V,"shouldDisableFullMemberInviteOption");function B(w,F){const j=(0,s.f)(w,F);return!!(j!=null&&j.every(J=>V(w,J,{ignoreGuestSettings:!0})))}i(B,"shouldDisableFullMemberInviteOptionForChannel");function W(w){let{state:F,team:j,inviteType:J}=w,X=j;if(!j&&(X=getCurrentTeam(F),!X))return!1;const q=getTeamPref(F,"auth_mode"),G=q==="google"||q==="saml";return isEnterpriseOrEnterpriseWorkspace(X)&&J===AccessType.Member||G&&getTeamPref(F,"sso_auth_restrictions")===0}i(W,"shouldShowSsoAlert");function L(w){let{state:F,inviteType:j}=w;const J=getTeamPref(F,"auth_mode"),X=getTeamPref(F,"sso_auth_restrictions");return J==="google"?j===AccessType.Member&&(X===0||X===1)||(j===AccessType.MultiChannelGuest||j===AccessType.SingleChannelGuest)&&X===0:!1}i(L,"shouldShowGoogleDomainsNotice");function S(w){let{state:F,inviteType:j,team:J}=w;if(!j||!(0,f.LX)(j))throw new Error(`Invalid invite type: ${j}`);const X=J||(0,O.H7)(F);if(!X||(0,a.N)(J))return!1;const q=(0,M.x)(F,"invites_only_admins",X==null?void 0:X.id),G=(0,l.Me)(F,X.id),ne=(0,m.tx)(F,{teamOrEnterpriseIds:[X.id]}),te=v(F,X);switch(j){case f.BD.Member:return G||ne?!1:!!q;case f.BD.MultiChannelGuest:case f.BD.SingleChannelGuest:return!te;default:return!0}}i(S,"isRequestingInvitesForType");function H(w){let{state:F}=w;const j=(0,O.H7)(F);return(0,g.z$)()?!0:(0,o.r7)(j)?!!(0,M.x)(F,"hide_gsuite_invite_option"):!1}i(H,"isGoogleDirectoryDisabled")},9438480351:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(9101533895),n=e(9884588328);function s(r,d){const o=(0,t.Pu)(r,d&&d.id);return o?(0,n.$M)(o):null}i(s,"getImUnreadCountByMember")},9541658228:(Q,C,e)=>{"use strict";e.d(C,{P:()=>o});var t=e(2003990933),n=e(5096647761),s=e(8847766420),r=e(6536982570),d=e(8170643398);function o(a,l){if(!a||!l||(0,n.g)(l))return!1;const m=(0,r.QI)(l);return(0,d.dk)(l)&&(m===(0,s.jV)(a)||m===(0,t.A)(l,"enterprise_user.enterprise_id"))}i(o,"isMemberFromOrg")},148278831:(Q,C,e)=>{"use strict";e.d(C,{S:()=>l});var t=e(918457931),n=e(2298581483),s=e(6536982570),r=e(5096647761),d=e(2003903489),o=e(9541658228),a=e(893266994);const l=i((m,c,_)=>{if((0,r.g)(c))return!1;if((0,o.P)(m,c)){if((0,d.S)(_))return!0;if((0,t.t)(_))return(0,n.R)(m,_).some(h=>(0,s.nO)(c,h))}const p=(0,a.c)(_);return(0,s.nO)(c,p)},"isMemberOnSomeChannelWorkspace")},863407566:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(8455301571),n=e(2155512519),s=e(7606781622),r=e(3730613858),d=e(5795074931),o=e(8276911661),a=e(8170643398),l=e(4562579337),m=e(7334104107),c=e(9187449049),_=e(7616363684),p=e(1794107122),u=e(9290914927),h=e(1809170903);const E=23;function A(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,n.UL)(),g),T=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(v,f))return[];const M=(0,t.r7)(v,f);if(!M||!M.timestamps)return[];const O=(0,s.h8)(v,f),I=M.timestamps.slice(-y),D=(0,d.WR)(v);let P=[],k=[],R=!1;const V=[],B=[],W=[],L=[],S=[],H=[];let w=!1;for(let j=I.length-1;j>=0;j--){const J=O[I[j]],X=(0,m.Hr)(J);if(!X)continue;if(T&&X===D){w=!0;continue}if(!(T?V.includes(X)||W.includes(X)||S.includes(X):P.includes(X))&&!(0,_.A)(J)&&(0,c.A)(J,D)){const G=(0,r.Sv)(v,f,X),ne=(0,o.nv)(v,X);if(R||(R=!(G!=null&&G.isKnown)||(0,a.t8)(ne)),!R&&(G!=null&&G.isKnown)&&(G!=null&&G.isMember)&&!(0,l.A)(ne)&&!(0,a.oy)(ne)){if(T){if((0,u.gd)(v,X)==="active"?(0,h.Vd)(v,X)?(W.push(X),L.push(ne)):(V.push(X),B.push(ne)):(S.push(X),H.push(ne)),B.length===g||W.length+H.length===E-g)break}else if(P.push(X),k.push(ne),k.length===g)break}}}if(R)return[];if(T&&(B.length===g?(k=B,P=V):(k=B.concat(L.slice(0,g-B.length)),P=V.concat(W.slice(0,g-S.length)),k.length<g&&(k=k.concat(H.slice(0,g-B.length)),P=P.concat(S.slice(0,g-S.length))))),k.length>=g)return k;const F=(0,p.$)(v,f);if(!F.length)return[];for(let j=0;j<F.length;j++){const J=F[j];if(J&&!P.includes(J)&&(T&&J===D?w=!0:(P.push(J),k.push((0,o.nv)(v,J)))),k.length===g)break}return k.length===0&&w&&(P.push(D),k.push((0,o.nv)(v,D))),k}i(A,"getLastNRelevantMembersInChannel")},1198382523:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3078252698),n=e(8289365785),s=e(4138249182),r=e(2188787324);function d(o,a){if(!o)return"";let l="";if(o&&o.subtype!=="tombstone"){l=(0,t.A)(o.text)?o.text:"";const m=(0,n.A)(o.attachments);if(m&&m.is_msg_unfurl&&(!l||(0,s.A)(o))){const c=typeof m.original_url=="string"?m.original_url:"";l=m.text||c||""}}if(!l&&a&&!(a!=null&&a.isNonExistent)){const m=(0,r.SB)(a);m&&(l=m)}return l}i(d,"getMessageRootText")},7980641:(Q,C,e)=>{"use strict";e.d(C,{A:()=>S});var t=e(2003990933),n=e(8289365785),s=e(937317117),r=e(8276911661),d=e(3339229351),o=e(9464746668),a=e(8677230210),l=e(2188787324),m=e(7334104107),c=e(9101533895),_=e(9548972574),p=e(1407713935),u=e(6470070112),h=e(735940183),E=e(9373230523);const A=new h.Ay("huddles"),f=i(H=>{let{msg:w,state:F,roomId:j}=H;var J;const X=(0,c.OL)(F,w.channel),q=(0,p.LI)(X),G=(0,p.yz)(X)||q;let ne=A.t("Huddles");const te=(0,u.Vh)({state:F,roomId:j}),le=(0,_.E$)(F,j),he=(0,u.Qw)(F,j),fe=(0,_.xx)(F,j),ve=(0,_._5)(F,j),me=(0,_.l)(F,j),oe=ve.length+me.length,N=(J=(0,_.Ej)(F,j))===null||J===void 0?void 0:J.trim();if(te&&!le)if(N){var K;ne=(K=A.rt("{huddleTopic} is happening",{huddleTopic:N}).props)===null||K===void 0?void 0:K.children}else if(!G||oe===0)ne=A.t("A huddle is happening");else{const $=ve.slice(0,2),Z=me.slice(0,2);let U,ee;$.forEach(se=>{U?ee||(ee=(0,E.A)(F,se)):U=(0,E.A)(F,se)}),Z.forEach(se=>{U?ee||(ee=se):U=se}),ne=A.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:oe-1,firstParticipant:U,secondParticipant:ee})}if(te&&le)if(N){var x;ne=(x=A.rt("You joined {huddleTopic}",{huddleTopic:N}).props)===null||x===void 0?void 0:x.children}else ne=A.t("You joined the huddle");if(!te)if(he)ne=A.t("You missed a huddle");else if(N&&fe.length){var b;ne=(b=A.rt("{huddleTopic} happened",{huddleTopic:N}).props)===null||b===void 0?void 0:b.children}else if(N&&!fe.length){var z;ne=(z=A.rt("{huddleTopic} happened, but no one joined",{huddleTopic:N}).props)===null||z===void 0?void 0:z.children}else ne=A.t("A huddle happened");return ne},"HuddleMessageUserName");var g=e(5332875232),y=e(5795074931);const T=new h.Ay("huddles"),O=i(H=>{let{schedule:w,state:F}=H;var j;if(!(0,g.MJ)(F)||!w)return null;const q=(0,y.WR)(F)===w.inviter_user_id;var G;const ne=(0,E.A)(F,(G=w.inviter_user_id)!==null&&G!==void 0?G:""),te=T.rt("You scheduled a huddle"),le=T.rt("{memberName} scheduled a huddle",{memberName:ne});let he=q?te:le;const fe=w.topic;if(fe){const ve=T.rt("You scheduled {huddleTopic}",{huddleTopic:fe}),me=T.rt("{memberName} scheduled {huddleTopic}",{memberName:ne,huddleTopic:fe});he=q?ve:me}return(j=he.props)===null||j===void 0?void 0:j.children},"ScheduledHuddleUserName"),I=new h.Ay("huddles"),P=i(H=>{let{schedule:w,state:F}=H;if(!(0,g.MJ)(F))return"";let J=I.t("A scheduled huddle is canceled");const X=w==null?void 0:w.topic;return X&&(J=I.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:X})),J},"DeleteScheduledHuddleUserName");var k=e(7274827479),R=e(9280052135),V=e(6457401668),B=e(7606781622);const W=new h.Ay("assistant"),L=new h.Ay("huddles");function S(H,w,F){let j=w.user||(0,t.A)(w,"comment.user");const J=w.document_comment;J&&(J.most_recent_editor?j=J.most_recent_editor:J.authors&&J.authors.length>0&&(j=J.authors[0]));const X=w.username;let q=null;const G=w.file||(0,n.A)(w.files),ne=F||(G?(0,s.Lp)(H,G):null);let te=w.bot_id||ne&&ne.bot_id;if(!te){const z=(0,r.nv)(H,j);var le;te=(le=(0,o.A)(H,z))!==null&&le!==void 0?le:void 0}let he=null;te&&(q=(0,a.AF)(H,te),he=q?q.app_id:null);const fe=(0,R.l)(H),ve=(0,k.In)(H);if((0,m.mb)(w))return{username:f({msg:w,state:H,roomId:w.room_id}),isHuddleMsg:!0,huddleActivityStatus:(0,u.K8)(H,w.room_id)};if(ve&&(w==null?void 0:w.subtype)==="ai"){var me,oe,N;const z=L.t("AI huddle notes are ready");return{username:(w==null||(me=w.ai_context)===null||me===void 0?void 0:me.result_status)==="complete"&&(w==null||(oe=w.ai_context)===null||oe===void 0||(N=oe.summary)===null||N===void 0?void 0:N.type)==="huddle"?z:W.t("Slack AI"),isHuddleMsg:!0}}if(fe&&(0,V.qZ)(w))return{username:"Assistant",isAssistantThread:!0};if(fe&&(w!=null&&w.thread_ts)&&(w==null?void 0:w.user)==="USLACKBOT"&&(0,V.qZ)((0,B.Ld)(H,w==null?void 0:w.channel,w==null?void 0:w.thread_ts)))return{username:"Assistant",isAssistantThread:!0};if((0,m.zv)(w)){const z=(0,g.MJ)(H);var K;const $=(K=w.schedule)!==null&&K!==void 0?K:null;return{username:z?O({schedule:$,state:H}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if((0,m.GO)(w)){const z=(0,g.MJ)(H);var x;const $=(x=w.schedule)!==null&&x!==void 0?x:null;return{username:z?P({schedule:$,state:H}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if((0,m.aH)(w)){var b;return{userId:(b=w.list_edit)===null||b===void 0?void 0:b.created_by,isListEditMsg:!0}}return(0,V.cb)(w)?{username:"Canvas updated"}:j===d.Q$&&ne&&ne.bot_id?ne.filetype==="email"&&q&&q.name?{...(0,l.xR)(ne),botId:te,appId:he}:{...(0,l.xR)(ne),username:X||ne.username,botId:te,appId:he}:j?{appId:he,botId:te,userId:j}:{appId:he,botId:te,username:X}}i(S,"getMsgSenderEntity")},7201482752:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(7334104107),n=e(7616363684),s=e(6457401668);const d=i(o=>!!((0,t.dK)(o)||(0,t.aw)(o)||(0,s.ys)(o)||(0,n.A)(o)),"isNonHumanMessage")},4138249182:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(675958705),n=e(8289365785),s=e(9802930866),r=e(8389327410);function d(o){const a=(0,n.A)(o.attachments);if(!a||!a.is_msg_unfurl)return!1;const l=a.from_url;if((0,t.A)(o)){const m=(0,n.A)(o.blocks);if(!m||!m.elements)return!1;const c=(0,s.A)(m.elements,{hasMsgLink:!1,hasOtherContent:!1},(_,p)=>p.type===r.Lv.LINK&&p.url===l&&(!p.text||p.text===l)?{..._,hasMsgLink:!0}:{..._,hasOtherContent:!0});return c.length===1&&c[0].hasMsgLink&&!c[0].hasOtherContent}return!o.text||o.text===`<${l}>`}i(d,"isSimpleMessageUnfurl")},7616363684:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(7334104107),n=e(3339229351);function s(r){return(0,t.Hr)(r)===n.Q$}i(s,"isSlackbotMessage")},1521013946:(Q,C,e)=>{"use strict";e.d(C,{$N:()=>T,Tg:()=>O,WJ:()=>I,Wm:()=>g,XN:()=>M,im:()=>v});var t=e(362134992),n=e(9101533895),s=e(3677514771),r=e(9022734571),d=e(4204210053),o=e(8234448831),a=e(497761763),l=e(4327331459),m=e(1233969417),c=e(110305600),_=e(8040098042),p=e(6212362990),u=e(462591818),h=e(6188550760),E=e(8959118205),A=e(311893736),v;(function(D){D.MESSAGE="message",D.FILE="file",D.MEMBER="member",D.ROOM="room",D.FREE_WILLY="free-willy",D.QUIP="quip",D.SEARCH="search",D.SLACKHELP="slackhelp",D.SHORTCUT_LINK_TRIGGER="shortcuts",D.HUDDLE="huddle",D.LIST="list",D.CHANNEL_CANVAS="canvas",D.ORG_CHART="org_chart",D.WIDGETS="widgets"})(v||(v={}));function f(D,P){if(!P)return null;const k=!1;return(0,n.OL)(D,P,k)||(0,n.Pu)(D,P.replace(/^@/,""))||(0,n.Os)(D,P)}i(f,"findChannelByIdentifier");function g(D){switch(D){case"archives":case"messages":case"conversation":return v.MESSAGE;case"file":case"files":return v.FILE;case"team":return v.MEMBER;case"calls":return v.ROOM;case"free-willy":return v.FREE_WILLY;case"docs":return v.QUIP;case"search":return v.SEARCH;case"slackhelp":return v.SLACKHELP;case"shortcuts":return v.SHORTCUT_LINK_TRIGGER;case"huddle":return v.HUDDLE;case"lists":return v.LIST;case"canvas":return v.CHANNEL_CANVAS;case"org_chart":return v.ORG_CHART;case"widgets":return v.WIDGETS;default:return null}}i(g,"getPermalinkType");function y(D,P,k,R){const V=(0,t.A)(P.split("/")),B=g(V[0]);switch(B){case v.MESSAGE:{var W;const q=V[1],G=f(D,q),ne=G&&G.id||q;if(!ne)return null;if(V[2]==="tabs"){var L;return{type:B,channelId:ne,tabId:(L=V[3])===null||L===void 0?void 0:L.toString()}}const te=(0,r.nT)(k),le=(0,p.A)(V[2]),he=(0,p.A)((W=te.thread_ts)===null||W===void 0?void 0:W.toString());return{type:B,channelId:ne,ts:le,threadTs:he}}case v.HUDDLE:{if(!V[1])return null;let q=null,G;if((0,_.A)(V[1])?q=V[1]:(0,_.A)(V[2])&&(G=V[1],q=V[2]),q){const ne=f(D,q),te=ne&&ne.id||q;return te?{type:B,channelId:te,teamId:G}:null}return(0,u.bU)(V[1])?{type:B,roomId:V[1]}:null}case v.FILE:{const q=V[2];return(0,a.A)(q)?{type:B,fileId:q}:null}case v.MEMBER:{const q=V[1];return(0,l.A)(q)?{type:B,memberId:q}:null}case v.ROOM:{const q=V[1];if(q&&(0,u.bU)(q))return{type:B,roomId:q};const G=V.length>2?V[2]:null;return G&&(0,u.cd)(G)?{type:B,callId:G,channelId:V[1]}:G&&(0,u.bU)(G)?{type:B,roomId:G,teamId:V[1]}:null}case v.FREE_WILLY:{const q=V[2];return q&&(0,u.cd)(q)?{type:B,callId:q,channelId:V[1]}:q&&(0,u.bU)(q)?{type:B,roomId:q,teamId:V[1]}:null}case v.QUIP:{const q=V[1],G=V[2];if(G&&(0,a.A)(G)&&R!=="app"){var S,H;const ne=(0,r.nT)(k),te=(0,p.A)((S=ne.focus_thread_ts)===null||S===void 0?void 0:S.toString())||"";return{type:B,fileId:G,teamId:q,focusThreadTs:te,focusSectionId:((H=ne.focus_section_id)===null||H===void 0?void 0:H.toString())||""}}return null}case v.LIST:{const q=V[2];if(q&&(0,a.A)(q)){var w,F,j;const G=(0,r.nT)(k),ne=(0,p.A)((w=G.focus_thread_ts)===null||w===void 0?void 0:w.toString())||"";return{type:B,fileId:q,recordId:((F=G.record_id)===null||F===void 0?void 0:F.toString())||"",viewId:((j=G.view_id)===null||j===void 0?void 0:j.toString())||"",focusThreadTs:ne}}return null}case v.SEARCH:{const q=V[1];return{type:B,encodedSearchString:q}}case v.SLACKHELP:{if(V.length>=2){if((0,m.A)(V[2]))return{type:B,articleId:V[2]};if(V[1]==="whats_new")return{type:B,articleId:"whats_new"}}return{type:B}}case v.SHORTCUT_LINK_TRIGGER:return(0,c.A)(V[1])?{type:B,triggerId:V[1]}:null;case v.CHANNEL_CANVAS:{var J,X;const q=V[1],G=f(D,q),ne=G&&G.id||q;if(!ne)return null;const te={type:B,channelId:ne},le=(0,r.nT)(k),he=(J=le.focus_section_id)===null||J===void 0?void 0:J.toString(),fe=(X=le.last_read_ts)===null||X===void 0?void 0:X.toString();if(he&&(te.focusSectionId=he),fe){const ve=fe.length<13?1e3:1;te.lastReadTs=Number(fe)*ve}return te}case v.ORG_CHART:{const q=V[1];return(0,l.A)(q)?{type:B,memberId:q}:null}case v.WIDGETS:return{type:B,widgetId:V[1]};default:return null}}i(y,"getPermalinkParams");function T(D,P){if(!P)return null;const k=(0,o.Ay)(P);return M(D,k)}i(T,"parsePermalink");function M(D,P){const{hostname:k,pathname:R,search:V}=P;if(!k||!R||!(0,d.A)(k))return null;let B;k!=="slack.com"&&(B=k.split(".")[0]);const W=y(D,R,V,B);return W?{subdomain:B,...W}:null}i(M,"parsePermalinkFromParsedUrl");function O(D,P){const k={channel:null,team:null};if(!D||!P)return k;const R=T(D,P);if(!R)return k;const{subdomain:V,channelId:B}=R,W=(0,n.OL)(D,B),L=(0,s.lL)(D,V);return{channel:W,team:L}}i(O,"getTeamAndChannelFromPermalink");function I(D,P){const k=(0,A.A)(D,P.subdomain);if(k)switch(P.type){case v.FILE:if(P.channelId&&P.fileId)return(0,h.M5)(E.De,{teamId:k,entityId:P.channelId,fileId:P.fileId});break;case v.MEMBER:if(P.channelId&&P.memberId)return P.ts?(0,h.M5)(E.Q$,{teamId:k,entityId:P.channelId,memberId:P.memberId,timestamp:P.ts}):(0,h.M5)(E.Q$,{teamId:k,entityId:P.channelId,memberId:P.memberId});break;case v.MESSAGE:if(P.channelId)return P.ts&&P.threadTs?(0,h.M5)(E.lM,{teamId:k,entityId:P.channelId,threadId:`${P.channelId}-${P.threadTs}`,replyTs:P.threadTs}):P.ts?(0,h.M5)(E._G,{teamId:k,entityId:P.channelId,timestamp:P.ts}):(0,h.M5)(E._G,{teamId:k,entityId:P.channelId});break;default:}}i(I,"getSonicUrlForPermalink")},9951956014:(Q,C,e)=>{"use strict";e.d(C,{L:()=>m,g:()=>a});var t=e(9507365519),n=e(1328783052),s=e(8847766420),r=e(7969244833),d=e(9101533895),o=e(497537177);const a=i((c,_,p,u)=>{if((0,o.X)(c))return!0;const h=(0,t.p)(c,_,p);return Object.entries(h).map(E=>{let[A,v]=E;return[A,u(v)]}).some(E=>{let[A,v]=E;return(0,n.Ic)(c,v,A)})},"canUserDoCustomTeamPrefForTeamIds"),l=i((c,_,p,u)=>{if(!p)return!1;const h=(0,r.f)(c,p);return h?a(c,_,h,u):!1},"canUserDoCustomTeamPrefForChannel"),m=i(c=>({getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:(_,p)=>(0,s.VO)(_).filter(h=>a(_,p,[h],c)),canUserDoCustomTeamPrefInSomeWorkspace:(_,p)=>{const u=(0,s.VO)(_);return a(_,p,u,c)},canUserDoCustomTeamPrefForChannel:(_,p,u)=>l(_,p,u,c),canUserDoCustomTeamPrefForChannelById:(_,p,u)=>{const h=(0,d.OL)(_,u);return l(_,p,h,c)}}),"createUserCanDoCustomTeamPrefRules")},5169892262:(Q,C,e)=>{"use strict";e.d(C,{Cr:()=>d,DH:()=>r});var t=e(9951956014),n=e(1328783052);const s=i(l=>l?n.eT.ADMIN:n.eT.RA,"mapOnlyAdminToWhoCanStyle"),{getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:r,canUserDoCustomTeamPrefInSomeWorkspace:d,canUserDoCustomTeamPrefForChannel:o,canUserDoCustomTeamPrefForChannelById:a}=(0,t.L)(s)},3769619294:(Q,C,e)=>{"use strict";e.d(C,{V:()=>d,X:()=>r});var t=e(9101533895),n=e(7969244833),s=e(1328783052);const r=i((o,a,l)=>{if(!l)return!1;const m=(0,n.f)(o,l);return m?(0,s.TE)(o,a,m):!1},"canUserDoTeamPrefForChannel"),d=i((o,a,l)=>{const m=(0,t.OL)(o,l);return r(o,a,m)},"canUserDoTeamPrefForChannelById")},3683888369:(Q,C,e)=>{"use strict";e.d(C,{l:()=>r});var t=e(1552255081),n=e(6839188756),s=e(3677514771);const r=i(d=>(0,t.F)(d)&&!(0,n.tc)((0,s.H7)(d)),"teamCanCreateStandaloneCanvas")},5757070316:(Q,C,e)=>{"use strict";e.d(C,{J:()=>s});var t=e(78546762),n=e(1802262330);const s=i((r,d)=>{var o,a;let l,m,c;r&&(r.subtype==="file_comment"?[m,l]=["file_comment",r.comment]:(0,t.A)(r.subtype)?[m,l]=["file",d]:[m,l,c]=["message",r,r.channel]);const _=m==="message"?(o=l)===null||o===void 0?void 0:o.ts:(a=l)===null||a===void 0?void 0:a.id;return l&&(l._rxn_key||(0,n.B)(m,_,c))},"getReactionKey")},9001455011:(Q,C,e)=>{"use strict";e.d(C,{t:()=>s});var t=e(8161242485),n=e(9889493721);const s=(0,t.Ay)(r=>!((0,n.Bf)(r)||!(0,n.pr)(r)));s.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:r=>!((0,n.Bf)(r)||!(0,n.pr)(r))}},2585735826:(Q,C,e)=>{"use strict";e.d(C,{R:()=>m});var t=e(3677514771),n=e(1407713935),s=e(340763958),r=e(6113051341);const d=i((c,_)=>!(0,n.JM)(_)&&(0,s.ju)(_)&&!(0,r.N)(_),"canBeDisconnected");var o=e(1359849784),a=e(6839188756),l=e(6025726268);function m(c,_){if(_&&!d(c,_))return!1;if(_&&(0,l.M)(c,_))return!0;const p=(0,t.H7)(c);return(0,a.tc)(p)?!0:(0,o.I)(c,_)}i(m,"canUserDisconnectExternalSharedChannel")},4803097854:(Q,C,e)=>{"use strict";e.d(C,{RY:()=>m,cG:()=>d,l6:()=>l});var t=e(7358758030),n=e(1650729052),s=e(5861086925),r=e(6841796315);const d={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},o={ok:!1,reason:d.CanCreateExternalLimitedPref},a={ok:!1,reason:d.WhoCanCreateExternalLimitedPref},l=i(c=>{if(!(0,t.i)(c))return o;const p=s.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,n.y)(c,p)?r.O:a},"canUserInviteExternalLimitedMembersWithReason"),m=i(c=>l(c).ok,"canUserInviteExternalLimitedMembers")},8323393403:(Q,C,e)=>{"use strict";e.d(C,{D7:()=>g,JO:()=>A,NU:()=>f,wi:()=>_});var t=e(6027162153),n=e(9101533895),s=e(3677514771),r=e(2063075339),d=e(7969244833),o=e(1407713935),a=e(5455782105),l=e(3916100664),m=e(6839188756),c=e(6841796315);const _={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},p={ok:!1,reason:_.InvalidParams},u={ok:!1,reason:_.FreeTeam},h={ok:!1,reason:_.CannotRequest},E={ok:!1,reason:_.InvalidChannel},A=i((y,T)=>{if(!(0,o.jq)(T))return p;const M=(0,a.k)(y),O=(0,m.qR)((0,s.H7)(y));if(!M&&!O)return u;const D=(0,l.lR)(y,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,d.f)(y,T)});return!(D!=null&&D.ok)&&(0,t.A)(D==null?void 0:D.reasons,l.jM.UserCannotCreateChannel,l.jM.AllowedWorkspacePref).length>0?h:(0,r.Z)(y,T)?c.O:E},"canUserInviteExternalMembersToChannelWithReason"),v=i((y,T)=>{const O=(0,n.OL)(y,T,!1);return O?A(y,O):p},"canUserInviteExternalMembersToChannelWithReasonById"),f=i((y,T)=>A(y,T).ok,"canUserInviteExternalMembersToChannel"),g=i((y,T)=>v(y,T).ok,"canUserInviteExternalMembersToChannelById")},3916100664:(Q,C,e)=>{"use strict";e.d(C,{jM:()=>g,Tc:()=>T,lR:()=>y});var t=e(8847766420),n=e(3677514771),s=e(5455782105),r=e(3559837422),d=e(4803097854),o=e(2643151579),a=e(9087248458),l=e(5980399196),m=e(8359728598),c=e(3071940241),_=e(4761125736);const p=(0,m.A)((M,O)=>{const{teams:I,value:D}=O;switch(D){case"ONLY_SELECTED":return(0,a.A)(M,I).length===M.length;case"ALL_EXCEPT_SELECTED":return(0,l.A)(M,I).length===M.length;default:return!0}},2);function u(M){let{slackConnectAllowedWorkspacesPref:O,teamIds:I}=M;return I!=null&&I.length?p(I,O):!1}i(u,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function h(M,O){return!(0,s.k)(M)||(0,_._Z)(M,"sc_allowed_workspaces_pref_override")==="on"?!0:u({slackConnectAllowedWorkspacesPref:(0,c.a)(M),teamIds:O})}i(h,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var E=e(6992769897),A=e(1507833885),v=e(6839188756);const f={ok:!0},g={...d.cG,...o.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},y=i(function(M){let{mustEveryWorkspaceBeAllowed:O,teamIds:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const D=[],P=(0,n.H7)(M),k=(0,s.k)(M),R=(0,v.qR)(P),V=!k&&!R;if((0,r.AB)(M)||(0,r.sV)(M))return D.push(g.UserIsRestricted),{ok:!1,reasons:D};var B;const W=(B=I??(0,t.kN)(M))!==null&&B!==void 0?B:[];(O?A._t:A.Uq)(M,W)||D.push(g.UserCannotCreateChannel),(O?h:E.A)(M,W)||D.push(g.AllowedWorkspacePref),V&&D.push(g.FreeTeam);const H=(0,d.l6)(M),w=(0,o._d)(M);return!H.ok&&!w.ok&&D.push(H.reason,w.reason),D.length>0?{ok:!!V,reasons:D}:f},"canUserInviteExternalMembersWithReason"),T=i((M,O)=>y(M,O).ok,"canUserInviteExternalMembers")},2643151579:(Q,C,e)=>{"use strict";e.d(C,{Xg:()=>d,_d:()=>l,ml:()=>m});var t=e(5225510813),n=e(1650729052),s=e(5861086925),r=e(6841796315);const d={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},o={ok:!1,reason:d.CanCreateExternalUnlimitedPref},a={ok:!1,reason:d.WhoCanCreateExternalUnlimitedPref},l=i(c=>{if(!(0,t.C)(c))return o;const p=s.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,n.y)(c,p)?r.O:a},"canUserInviteExternalUnlimitedMembersWithReason"),m=i(c=>l(c).ok,"canUserInviteExternalUnlimitedMembers")},1359849784:(Q,C,e)=>{"use strict";e.d(C,{I:()=>g,r:()=>f});var t=e(4761125736),n=e(8276911661),s=e(6693783993),r=e(3677514771),d=e(598369692),o=e(9884588328),a=e(1407713935),l=e(5455782105),m=e(7224980887),c=e(3792998666),_=e(5861086925),p=e(5331698805),u=e(6839188756),h=e(7112191091),E=e(5510392579),A=e(7174777686),v=e(9087248458);function f(y){const T=(0,t._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",M=(0,r.H7)(y);if(T)return(0,u.tc)(M)?!1:(0,s.Du)(y);const O=(0,n.cA)(y),I=(0,p.u)(y);if(!(I!=null&&I.value))return!1;if((0,l.k)(y)){let D=[];switch(I.value){case _.GX.ALL_ADMINS_AND_OWNERS:return(0,h.EC)(y)||(0,m.n5)(O)||(0,m.rr)(O);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,m.n5)(O)||(0,m.rr)(O)?!0:(D=(0,d.QF)(y),!!((0,A.A)(I.users,O==null?void 0:O.id)||(0,v.A)(I.userGroups,D).length));case _.GX.EVERYONE:return!(0,c.Ez)(O);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,m.n5)(O)||(0,m.rr)(O)}}if((0,u.qR)(M))switch(I.value){case _.GX.TOPLEVEL_OWNERS:return(0,E.p2)(y);case _.GX.EVERYONE:return!(0,c.Ez)(O);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,E.p2)(y)||(0,E.Zo)(y)}return!1}i(f,"canUserManageExternalSharedChannels");function g(y,T){const M=(0,t._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",O=(0,r.H7)(y);if(M){if((0,u.tc)(O)||!(0,a.jq)(T))return!1;const P=(0,o.FB)(T);return(0,s.Du)(y,{channelId:P})}const I=(0,n.cA)(y),D=(0,p.u)(y);if(!(D!=null&&D.value))return!1;if((0,l.k)(y)){let P=[];switch(D.value){case _.GX.ALL_ADMINS_AND_OWNERS:return(0,h.S4)(y,T);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,m.n5)(I)||(0,m.rr)(I)?!0:(P=(0,d.QF)(y),!!((0,A.A)(D.users,I==null?void 0:I.id)||(0,v.A)(D.userGroups,P).length));case _.GX.EVERYONE:return!(0,c.Ez)(I);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,m.n5)(I)||(0,m.rr)(I)}}if((0,u.qR)(O))switch(D.value){case _.GX.TOPLEVEL_OWNERS:return(0,E.p2)(y);case _.GX.EVERYONE:return!(0,c.Ez)(I);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,E.p2)(y)||(0,E.Zo)(y)}return!1}i(g,"canUserManageSlackConnectChannel")},7324846416:(Q,C,e)=>{"use strict";e.d(C,{VX:()=>_});var t=e(4087360693),n=e(8276911661),s=e(5096647761);function r(p){return p==null?void 0:p[t.bl]}i(r,"getMemberWhoCanShareContactCardPref");function d(p,u){const h=(0,n.nv)(p,u);if(!h)return!1;const E=r(h);return E===t.X4.NO_ONE?!1:(0,s.g)(h)?E===t.X4.EVERYONE:!0}i(d,"isMemberContactInfoShareableById");var o=e(7982171047),a=e(5795074931),l=e(8170643398);const m={...o.BC,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function c(p,u){let h=[];(0,a.WR)(p)===u&&(h=h.concat(m.CONTACT_IS_SELF));const A=(0,n.nv)(p,u);(0,l.ls)(A)||(h=h.concat(m.CONTACT_NOT_ACTIVE_MEMBER));const v=(0,o.Hp)(p);return!v.ok&&v.reasons&&(h=h.concat(v.reasons)),d(p,u)||h.push(m.CONTACT_PREFS_RESTRICTED),h.length>0?{ok:!1,reasons:h}:{ok:!0}}i(c,"canUserShareContactByIdWithReasons");function _(p,u){return c(p,u).ok}i(_,"canUserShareContactById")},7982171047:(Q,C,e)=>{"use strict";e.d(C,{BC:()=>a,Cq:()=>m,Hp:()=>l});var t=e(3792998666),n=e(6536982570),s=e(6839188756),r=e(8276911661),d=e(5795074931),o=e(3677514771);const a={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function l(c){const _=[],p=(0,d.WR)(c),u=(0,r.nv)(c,p),h=(0,n.Ux)(c,u);var E;const A=(E=(0,o._J)(c,h))!==null&&E!==void 0?E:null;return(0,t.Ez)(u)&&_.push(a.RESTRICTED_USER),(0,s.tc)(A)&&_.push(a.USER_IS_ON_FREE_TEAM),_.length>0?{ok:!1,reasons:_}:{ok:!0}}i(l,"canUserShareContactsWithReasons");function m(c){return l(c).ok}i(m,"canUserShareContacts")},1273480023:(Q,C,e)=>{"use strict";e.d(C,{u:()=>d});var t=e(3677514771),n=e(340763958),s=e(6839188756),r=e(2063075339);const d=i((o,a)=>{const l=(0,t.H7)(o);return(0,s.tc)(l)&&(0,n.ju)(a)&&(0,r.Z)(o,a)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},8767621462:(Q,C,e)=>{"use strict";e.d(C,{S:()=>o});var t=e(7600673124),n=e(8276911661),s=e(5096647761),r=e(8170643398),d=e(9107158149);const o=i((a,l)=>{const m=(0,n.nv)(a,l);return(0,r.Zx)(m)?!1:(0,s.g)(m)?!!((0,d.bo)(a,l)&&(0,d.zP)(a,l)&&!(0,t.y)(a,l)):!0},"isMemberConnectedById")},3071940241:(Q,C,e)=>{"use strict";e.d(C,{_:()=>o,a:()=>a});var t=e(2003990933),n=e(766806),s=e(5455782105),r=e(2689960678),d=e(6790819894);const o={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},a=(0,d.F)(s.k,l=>(0,n.SI)(l,"slack_connect_allowed_workspaces"),(l,m)=>l?{value:(0,t.A)(m,"type[0]"),teams:(m==null?void 0:m.team)||r.Ml}:{value:o.All,teams:r.Ml})},7358758030:(Q,C,e)=>{"use strict";e.d(C,{i:()=>a});var t=e(766806),n=e(5597672932),s=e(3677514771),r=e(5455782105),d=e(5861086925),o=e(6839188756);const a=i(l=>{const m=(0,r.k)(l),c=(0,s.H7)(l);return!m&&(0,o.tc)(c)?!1:(m?t.SI:n.x)(l,d.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},5225510813:(Q,C,e)=>{"use strict";e.d(C,{C:()=>a});var t=e(766806),n=e(5597672932),s=e(3677514771),r=e(5455782105),d=e(5861086925),o=e(6839188756);const a=i(l=>{const m=(0,r.k)(l),c=(0,s.H7)(l);return!m&&(0,o.tc)(c)?!1:(m?t.SI:n.x)(l,d.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},1650729052:(Q,C,e)=>{"use strict";e.d(C,{y:()=>u});var t=e(7174777686),n=e(9087248458),s=e(5795074931),r=e(3677514771),d=e(5455782105),o=e(3559837422),a=e(5510392579),l=e(5343157203),m=e(6839188756),c=e(5861086925),_=e(8087758879),p=e(598369692);const u=i((h,E)=>{const A=(0,s.WR)(h);var v;const f=(v=(0,r.H7)(h))!==null&&v!==void 0?v:void 0;if((0,o.AB)(h)||(0,o.sV)(h))return!1;const g=(0,a.p2)(h),y=(0,a.Zo)(h),T=(0,l.C)(h),M=(0,d.k)(h),O=(0,m.qR)(f),I=(0,_.o)(h,E);if(M){const D=(0,a.hu)(h),P=(0,a.FQ)(h);switch(I.value){case c.GX.TOPLEVEL_ADMINS_AND_OWNERS:return D||P;case c.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return D||P?!0:!!(0,t.A)(I.users,A);case c.GX.ALL_ADMINS_AND_OWNERS:return D||P||T;case c.GX.EVERYONE:return!0;default:return!1}}if(O)switch(I.value){case c.GX.TOPLEVEL_OWNERS:return g;case c.GX.TOPLEVEL_ADMINS_AND_OWNERS:return g||y;case c.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return g||y||(0,t.A)(I.users,A)?!0:!!(0,n.A)(I.userGroups,(0,p.QF)(h)).length;case c.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref")},5861086925:(Q,C,e)=>{"use strict";e.d(C,{GX:()=>n,cM:()=>r,d5:()=>s,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},n={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},s={...n,NO_ONE:"NO_ONE",DEFAULT:n.EVERYONE},r={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},5331698805:(Q,C,e)=>{"use strict";e.d(C,{u:()=>s});var t=e(5861086925),n=e(8087758879);const s=i(r=>{const d=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,n.o)(r,d)},"getWhoCanManageSharedChannelsPref")},8087758879:(Q,C,e)=>{"use strict";e.d(C,{o:()=>m});var t=e(766806),n=e(5597672932),s=e(3677514771),r=e(5455782105),d=e(5861086925),o=e(6839188756),a=e(2689960678);const l={plan:"",value:"",users:a.Ml,userGroups:a.Ml},m=i((c,_)=>{var p;const u=(0,s.H7)(c),h=(0,r.k)(c);if(!h&&(0,o.tc)(u))return l;const E=(h?"enterprise":u.plan)||"",A=h?(0,t.SI)(c,_):(0,n.x)(c,_),v=(A==null||(p=A.type)===null||p===void 0?void 0:p[0])||"",f=v===d.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,g=f&&(A==null?void 0:A.user)||l.users,y=f&&(A==null?void 0:A.subteam)||l.userGroups;return{plan:E,value:v,users:g,userGroups:y}},"getWhoCanPref")},4087360693:(Q,C,e)=>{"use strict";e.d(C,{V1:()=>r,X4:()=>s,bl:()=>n});var t=e(2047021170);const n="who_can_share_contact_card",s={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},r=i(d=>(0,t.ty)(d,n),"getWhoCanShareContactCardPref")},7035389884:(Q,C,e)=>{"use strict";e.d(C,{KP:()=>d,KX:()=>a,jE:()=>o});var t=e(9420277174),n=e(9262712126),s=e(607974335),r=e(4291335534);function d(l){if(l.is_broadcast_keyword||l.is_usergroup)return"";let m="";return(0,s.Fh)(l)&&(m=(0,n.wg)(l)),m?`@${m}`:""}i(d,"getSecondaryNameForSearchResult");const o=(0,t.A)((l,m)=>l===(0,r.Pc)(a(m))||l===(0,r.Pc)(d(m)));function a(l){return l.is_broadcast_keyword?`@${l.name}`:l.is_usergroup?`@${l.handle}`:`@${(0,n.Gt)(l)}`}i(a,"getDisplayTextForSearchResult")},3212336858:(Q,C,e)=>{"use strict";e.d(C,{DP:()=>x,qc:()=>U,qA:()=>de,Bs:()=>Z,Hv:()=>z,fK:()=>b,tY:()=>ue,GE:()=>ee,b:()=>$,iH:()=>_e,mE:()=>Ee});var t=e(7174777686),n=e(4761125736),s=e(3245843483),r=e(5597672932),d=e(8276911661),o=e(9101533895),a=e(3792998666),l=e(3339229351),m=e(2791814261),c=e(8904182388),_=e(6165525655),p=e(591259428),u=e(9884588328),h=e(918457931),E=e(340763958),A=e(2585735826),v=e(6693783993),f=e(1407713935),g=e(5343157203),y=e(9416626),T=e(395285811);const M={...y.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},O={ok:!1,reason:M.ChannelNotFound},I={ok:!1,reason:M.ChannelTypeNotSupported},D={ok:!1,reason:M.CantDisconnectExtShared},P={ok:!1,reason:M.WhoCanManagePref},k={ok:!0},R=i((ye,Te)=>{const Ae=(0,n._Z)(ye,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,f.jq)(Te))return O;if((0,T.K3)(ye,Te))return I;if((0,E.ju)(Te)&&!(0,A.R)(ye,Te))return D;const Ie=(0,u.FB)(Te),Ue=(0,v.Om)(ye,{channelId:Ie});if(!Ae&&(0,h.t)(Te)){if(Ue)return k;if(!(0,g.E)(ye))return P}return(0,y.iz)(ye,Te)},"canUserArchiveChannelWithReasons"),V=i((ye,Te)=>R(ye,Te).ok,"canUserArchiveChannel");var B=e(7563681762),W=e(7148679525),L=e(6495946979),S=e(2912967402),H=e(571104883),w=e(735940183),F=e(5156662944);const j=i(ye=>ye&&(0,n._Z)(ye,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var J=e(529357503),X=e(7969244833),q=e(6934022494);const G=new w.Ay("cmd_handlers"),{UNKNOWN_COMMAND:ne,UNSUPPORTED_IN_THREAD:te,UNSUPPORTED_IN_SHORTCUTS_MENU:le,CUSTOM_ERROR:he}=l.SLASH_COMMAND_ERRORS,fe=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],ve=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet"],me=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],oe=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],N=["/slackaccessibility","/slackgov"],K=["/leave","/close","/part","/archive","/topic"],x=i(ye=>ye&&ye.alias_of,"getCommandAliasOf"),b=i(ye=>ye&&ye.name,"getCommandName"),z=i(ye=>ye&&(ye.desc||ye.description),"getCommandDesc"),$=i(ye=>ye&&ye.usage,"getCommandUsage"),Z=i(ye=>ye&&(ye.canonical_name||ye.name),"getCommandCanonicalName"),U=i(ye=>ye&&ye.aliases,"getCommandAliases"),ee=i(ye=>ye&&ye.type,"getCommandType"),se=i(ye=>ye&&ye.app,"getCommandApp"),de=i(ye=>ye==null?void 0:ye.appName,"getCommandAppName"),ue=i((ye,Te,Ae)=>{const Ie=(0,o.OL)(ye,Ae),Ue=Ie?(0,X.f)(ye,Ie)||[]:[];return Te.teams&&Ue.length&&Te.appName!=="Slack"&&!Te.isWorkspaceAgnostic?Te.teams.filter(we=>Ue.includes(we)):[]},"getCommandRelatedWorkspaces"),_e=i(function(ye,Te){let{channelId:Ae}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Te)return!1;const Ie=Z(Te);return Ie==="/leave"?(0,_.Y9)(ye,Ae):Ie==="/remove"?(0,c.Vj)(ye,Ae):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(Ie)>-1?!1:!!Te.autocomplete},"isAutocompleteCommand"),pe=i(ye=>!!(ye&&ye.isServer),"isServerCommand"),ae=i(function(ye){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(ye){case B.a_.InvalidDm:return G.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case B.a_.OwnerRequired:return G.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case B.a_.InvalidParams:return Te?G.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):G.t("You don\u2019t have permission to rename.");case B.a_.RestrictedUser:return Te?G.t("Your admins have limited who can rename multi-workspace channels."):G.t("You don\u2019t have permission to rename.");case B.a_.OrgSharedSettings:return Te?G.t("Your admins have limited who can rename multi-workspace channels."):G.t("You don\u2019t have permission to rename.");case B.a_.InvalidChannelType:return G.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return G.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),Ee=i(function(ye,Te){let{channelId:Ae,isThread:Ie,isShortcutsMenu:Ue}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ye||!Te)return{isEnabled:!1,reason:ne};const Be=(0,n._Z)(ye,"ai_apps_feature")==="on",we=Z(Te),re=ee(Te),ge=(0,o.OL)(ye,Ae);if(!(0,m.L)(ye)&&(0,t.A)(oe,we))return{isEnabled:!1,reason:ne};if(!(0,H.y3)()&&(0,t.A)(N,we))return{isEnabled:!1,reason:ne};if((0,T.jT)(ge)&&(0,t.A)(K,we))return{isEnabled:!1,reason:ne};if(Ie&&!((0,t.A)(fe,we)||Be&&(0,t.A)(ve,we)))return{isEnabled:!1,reason:te};if(Ue&&(0,t.A)(me,we))return{isEnabled:!1,reason:le};if(re==="custom"||re==="service"){const be=(0,r.x)(ye,"commands_only_regular"),xe=(0,d.cA)(ye);if(be&&(0,a.Ez)(xe))return{isEnabled:!1,reason:ne}}if(Te.teams){const be=(0,X.f)(ye,ge)||[];if(!Te.teams.filter(Re=>be.includes(Re)).length){const Re=`Command not run. No intersection found between channel teams (${be}) and command teams (${Te.teams})`;return{isEnabled:!1,reason:he,logString:Re,feedback:G.t("This command is not available in this channel")}}}if(we==="/open"||we==="/feed"){const be=(0,d.cA)(ye);if((0,a.Ez)(be))return{isEnabled:!1,reason:ne}}else if(we==="/topic"){const{ok:be,reason:xe}=(0,p.X)(ye,Ae);if(!be)return{isEnabled:!1,reason:he,feedback:(0,S.Bw)(xe)}}else if(we==="/invite"){const be=(0,d.cA)(ye);if((0,a.Yd)(be))return{isEnabled:!1,reason:ne};if(!(0,L.b)(ge))return{isEnabled:!1,reason:he,feedback:G.t("You don\u2019t have permission to invite people.")};if((0,a.Ez)(be)&&!(0,f.Zp)(ge)||(0,J.A)(ye,be,ge))return{isEnabled:!1,reason:he,feedback:G.t("You don\u2019t have permission to invite people.")}}else if(we==="/invite_people"){if(!(0,W.Lz)(ye))return{isEnabled:!1,reason:he,feedback:G.t("You don\u2019t have permission to invite people.")}}else if(we==="/rename"){const{ok:be,reason:xe}=(0,B.be)(ye,Ae);if(!be)return{isEnabled:!1,reason:he,feedback:ae(xe)}}else if(we==="/archive"){if(!V(ye,ge))return{isEnabled:!1,reason:ne}}else if(we==="/call"){if(!(0,F.lp)(ye,Ae)||(0,F.tO)(ye))return{isEnabled:!1,reason:ne}}else if(we==="/slacktrace"){if(!(0,s.Rg4)())return{isEnabled:!1,reason:he,feedback:G.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(we==="/feedback"){if(j(ye))return{isEnabled:!1,reason:ne}}else if(we==="/gif"){if(!(0,q.R4)(ye))return{isEnabled:!1,reason:ne};if(!(0,q.BH)(ye))return{isEnabled:!1,reason:he,feedback:G.t("Attach a GIF is not enabled.")}}return{isEnabled:!0}},"isSlashCommandEnabled"),Le={getRenameDisabledFeedback:ae,TS_ONLY_COMMANDS:oe,DESKTOP_APP_ONLY_COMMANDS:N}},6992769897:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,O:()=>l});var t=e(9087248458),n=e(5980399196),s=e(8359728598),r=e(5455782105),d=e(3071940241),o=e(4761125736);const a=(0,s.A)((c,_)=>{const{teams:p,value:u}=_;switch(u){case"ONLY_SELECTED":return!!(0,t.A)(c,p).length;case"ALL_EXCEPT_SELECTED":return!!(0,n.A)(c,p).length;default:return!0}},2);function l(c){let{slackConnectAllowedWorkspacesPref:_,teamIds:p}=c;return p!=null&&p.length?a(p,_):!1}i(l,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function m(c,_){return!(0,r.k)(c)||(0,o._Z)(c,"sc_allowed_workspaces_pref_override")==="on"?!0:l({slackConnectAllowedWorkspacesPref:(0,d.a)(c),teamIds:_})}i(m,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},2105507084:(Q,C,e)=>{"use strict";e.d(C,{X:()=>l,p:()=>a});var t=e(8161242485),n=e(8596717184),s=e(9884588328),r=e(9101533895),d=e(3677514771);const o=!1,a=(0,t.Ay)((m,c)=>{const _=(0,s.ne)(m,c),p=(0,d._J)(m,_,o);return(0,n.f)(p)});a.meta={name:"createSelector",key:"createSelectorgetExternalSelfWorkspaceAllowedOrgIdsForChannel",description:(m,c)=>{const _=(0,s.ne)(m,c),p=(0,d._J)(m,_,o);return(0,n.f)(p)}};const l=(0,t.Ay)((m,c)=>{const _=(0,r.OL)(m,c,o);return a(m,_)});l.meta={name:"createSelector",key:"createSelectorgetExternalSelfWorkspaceAllowedOrgIdsForChannelById",description:(m,c)=>{const _=(0,r.OL)(m,c,o);return a(m,_)}}},8596717184:(Q,C,e)=>{"use strict";e.d(C,{f:()=>s});var t=e(2689960678),n;const s=i(r=>(n=r==null?void 0:r.allowed_org_ids)!==null&&n!==void 0?n:t.Ml,"getExternalSelfWorkspaceAllowedOrgIds")},2801540778:(Q,C,e)=>{"use strict";e.d(C,{z:()=>r});var t=e(8847766420),n=e(1890276164),s=e(6839188756);function r(d,o){if(!d||!o)return!1;const a=(0,s.ZT)(o);if((0,t.Kc)(d)===a||(0,t.ZT)(d)===a)return!1;const l=(0,t.jV)(d);return l&&l===o.enterprise_id?!1:(0,n.R)(d,o.id)}i(r,"isTeamExternal")},958961878:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>v,w2:()=>E});var t=e(8161242485),n=e(3202757386),s=e(4096483543),r=e(6564475562),d=e(2249017398),o=e(2615100822),a=e(5731054235),l=e(6089972488);const c=i(()=>(0,n.A)(),"isDarkModeFeatureEnabled");var _=e(571104883),p=e(506684971),u=e.n(p);const h=i(()=>{var g;const y=(0,_.y3)()||((g=window.matchMedia)===null||g===void 0?void 0:g.call(window,"(prefers-color-scheme)").media)!=="not all",T=(0,_.cX)()&&(0,l.Z)((0,l.P)(u().osversion),(0,l.P)("10.14"))>=0,M=(0,_.jy)(),O=(0,_.j9)()&&(0,_.dY)("4.36.136"),I=T||M||O,D=(0,_.y3)()||(0,s.A)()||(0,r.A)()||(0,d.A)()||(0,o.A)()||(0,a.A)();return(0,n.A)()&&y&&I&&D},"computeSystemSyncIsSupportedOnBoot"),E=h(),A=(0,t.Ay)(g=>!!E&&!!c(g));A.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:g=>!!E&&!!c(g)};const v=A,f={computeSystemSyncIsSupportedOnBoot:h}},677609895:(Q,C,e)=>{"use strict";e.d(C,{X:()=>d});var t=e(2384831516),n=e(5510392579),s=e(5597672932),r=e(3677514771);const d=(0,t.Mz)(o=>{const a=(0,r.Yc)(o);return(0,n.p2)(o,a.id)||(0,s.x)(o,"all_users_can_purchase")});d.meta={name:"createSelector",key:"createSelectorgetCanCurrentUserUpgradeSlack",description:o=>{const a=(0,r.Yc)(o);return(0,n.p2)(o,a.id)||(0,s.x)(o,"all_users_can_purchase")}}},4400471894:(Q,C,e)=>{"use strict";e.d(C,{i:()=>d});var t=e(8276911661),n=e(5795074931),s=e(7224980887),r=e(3769619294);const d=i((o,a)=>{const l=(0,t.cA)(o);return(0,n.u8)(o)&&(0,s.n5)(l)?!0:(0,r.V)(o,"who_can_at_channel",a)},"canNonAdminsAtChannelOrGroupBySettings")},4746276247:(Q,C,e)=>{"use strict";e.d(C,{g:()=>n});var t=e(3769619294);const n=i((s,r)=>(0,t.V)(s,"who_can_at_everyone",r),"canNonAdminsAtMentionEveryoneBySettings")},317660850:(Q,C,e)=>{"use strict";e.d(C,{D:()=>d});var t=e(3559837422),n=e(5169892262),s=e(4761125736),r=e(6693783993);const d=i(o=>(0,s._Z)(o,"light_read_emoji_only_admins_pref_migration")==="on"?(0,r.eq)(o):!(0,t.sV)(o)&&(0,n.Cr)(o,"emoji_only_admins"),"canUserAddEmoji")},324756633:(Q,C,e)=>{"use strict";e.d(C,{S:()=>m});var t=e(9101533895),n=e(4400471894),s=e(201941576),r=e(7112191091),d=e(4761125736),o=e(6693783993),a=e(1407713935);const l=i(c=>(0,d._Z)(c,"light_read_who_can_at_channel_pref_migration")==="on","shouldUsePermissions");function m(c,_){const p=(0,t.gT)(c,_)&&(0,t.OL)(c,_)||void 0;return l(c)?((0,a.yz)(p)?(0,o.E2)(c):(0,o.E2)(c,{channelId:_}))&&!(0,s.i)(c,p==null?void 0:p.id,{allowToAdmins:!0}):(0,r.yG)(c,p)?!0:(0,n.i)(c,_)&&!(0,s.i)(c,p==null?void 0:p.id,{allowToAdmins:!0})}i(m,"canUserAtChannelInChannelById")},641827819:(Q,C,e)=>{"use strict";e.d(C,{W:()=>m});var t=e(4746276247),n=e(9101533895),s=e(201941576),r=e(6113051341),d=e(5795074931),o=e(4761125736),a=e(6693783993);const l=i(c=>(0,o._Z)(c,"light_read_who_can_at_everyone_pref_migration")==="on","shouldUsePermissions"),m=i((c,_)=>{const p=(0,n.gT)(c,_)&&(0,n.OL)(c,_)||void 0;return!_||!p||!(0,r.N)(p)?!1:l(c)?(0,d.u8)(c)?(0,a._7)(c,{channelId:_})&&!(0,s.i)(c,p==null?void 0:p.id,{allowToAdmins:!0}):(0,a._7)(c,{channelId:_}):(0,d.u8)(c)?(0,t.g)(c,_)&&!(0,s.i)(c,p==null?void 0:p.id,{allowToAdmins:!0}):(0,t.g)(c,_)},"canUserAtEveryoneInChannelById")},1507833885:(Q,C,e)=>{"use strict";e.d(C,{MM:()=>d,Uq:()=>o,_t:()=>a});var t=e(3385422400),n=e(5962670951),s=e(241752795),r=e(1340402138);const d=i(l=>((0,s.HV)(l)||(0,n.R)(l))&&!(0,r.R)(l),"canUserCreateChannelsInSomeWorkspace"),o=(0,t.Mz)(s.y5,n.S,(l,m)=>m,(l,m,c)=>c.some(_=>l.includes(_)||m.includes(_))),a=(0,t.Mz)(s.y5,n.S,(l,m)=>m,(l,m,c)=>c.every(_=>l.includes(_)||m.includes(_)))},5962670951:(Q,C,e)=>{"use strict";e.d(C,{R:()=>r,S:()=>d});var t=e(3078708518),n=e(6693783993);const s=i(o=>!(0,t.A)(o),"isPermittedToPrecondition"),r=i(o=>s(o)?(0,n.lM)(o):!1,"canUserCreatePrivateChannelsInSomeWorkspace"),d=i(o=>s(o)?(0,n.f$)(o):[],"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},241752795:(Q,C,e)=>{"use strict";e.d(C,{HV:()=>_,YD:()=>u,y5:()=>p});var t=e(3078708518),n=e(1407713935),s=e(6495946979),r=e(1190344069),d=e(7304011293),o=e(3307632080),a=e(7112191091),l=e(4761125736),m=e(6693783993);const c=i(h=>!(0,t.A)(h),"isPermittedToPrecondition"),_=i(h=>c(h)?(0,m.F5)(h):!1,"canUserCreatePublicChannelsInSomeWorkspace"),p=i(h=>c(h)?(0,m.qm)(h):[],"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),u=i((h,E)=>{const A=(0,l._Z)(h,"convert_private_to_public_channel_permission_creation")==="on";if(!(0,n.Zp)(E)||!c(h)||(0,o.A)(h,E))return!1;const v=(0,m.Mz)(h,{channelId:E.id});return A&&(v&&(0,s.b)(E)||(0,a.yG)(h,E))||(0,r.hm)(h)&&(0,n.rI)(E)&&(0,d.O)(h,E.id)?!0:!!(0,a.yG)(h,E)},"canUserCreatePublicChannelFromPrivateChannel")},1612857492:(Q,C,e)=>{"use strict";e.d(C,{i:()=>m,q:()=>l});var t=e(9884588328),n=e(6495946979),s=e(7112191091),r=e(1407713935),d=e(9101533895),o=e(6693783993),a=e(8250322877);const l=i((c,_)=>{if(!(0,r.jq)(_))return!1;const p=(0,t.FB)(_);return(0,a.D)(c,_)&&((0,s.S4)(c,_)||(0,n.b)(_)&&(0,o.MN)(c,{channelId:p}))},"canUserInviteExternalUsersToChannel"),m=i((c,_)=>{const u=(0,d.OL)(c,_,!1);return u?l(c,u):!1},"canUserInviteExternalUsersToChannelById")},9183417278:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>m,e:()=>c});var t=e(9884588328),n=e(6495946979),s=e(1407713935),r=e(7112191091),d=e(9101533895),o=e(4761125736),a=e(6693783993),l=e(8250322877);const m=i((_,p)=>{const u=(0,o._Z)(_,"invite_to_channel_permission")==="on";if(!(0,s.jq)(p))return!1;const h=(0,t.FB)(p),E=(0,l.D)(_,p);return u&&(0,s.Zp)(p)?E&&((0,r.S4)(_,p)||(0,n.b)(p)&&(0,a.oo)(_,{channelId:h})):E},"canUserInviteInternalUsersToChannel"),c=i((_,p)=>{const h=(0,d.OL)(_,p,!1);return h?m(_,h):!1},"canUserInviteInternalUsersToChannelById")},8250322877:(Q,C,e)=>{"use strict";e.d(C,{D:()=>u,X:()=>h});var t=e(1340402138),n=e(9884588328),s=e(1407713935),r=e(6007206761),d=e(5373179915),o=e(6495946979),a=e(2350349607),l=e(7112191091),m=e(3559837422),c=e(9101533895),_=e(4761125736),p=e(6693783993);const u=i((E,A)=>{const v=(0,_._Z)(E,"invite_to_channel_permission")==="on";if(!(0,s.jq)(A))return!1;const f=(0,n.FB)(A);return(0,m.AB)(E)||(0,r.F)(A)||!(0,a.V)(A)||(0,t.R)(E)&&(0,d.R)(E,A)?!1:v&&(0,s.Zp)(A)?(0,l.S4)(E,A)||(0,o.b)(A)&&((0,p.oo)(E,{channelId:f})||(0,p.MN)(E,{channelId:f})):(0,l.S4)(E,A)||(0,o.b)(A)},"canUserInviteToChannel"),h=i((E,A)=>{const f=(0,c.OL)(E,A,!1);return f?u(E,f):!1},"canUserInviteToChannelById")},8904182388:(Q,C,e)=>{"use strict";e.d(C,{CE:()=>A,Vj:()=>M,VJ:()=>T});var t=e(9101533895),n=e(4761125736),s=e(6693783993),r=e(1407713935),d=e(6007206761),o=e(6841796315);const a={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},l={ok:!1,reason:a.ArchivedChannel},m={ok:!1,reason:a.InvalidDm},c={ok:!1,reason:a.RequiredChannel};function _(O,I){const D=(0,t.gT)(O,I)?(0,t.OL)(O,I):null;return(0,d.F)(D)?l:(0,r.LI)(D)||(0,r.yz)(D)?m:(0,r.gx)(D)?c:o.O}i(_,"isChannelKickableWithReason");function p(O,I){return _(O,I).ok}i(p,"isChannelKickable");var u=e(3559837422),h=e(3769619294),E=e(641744444);const A={...a,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},v={ok:!1,reason:A.InvalidParams},f={ok:!1,reason:A.UserIsRestricted},g={ok:!1,reason:A.RestrictedPublicChannel},y={ok:!1,reason:A.RestrictedPrivateChannel};function T(O,I){const D=(0,t.gT)(O,I)?(0,t.OL)(O,I):null;if(!(0,r.jq)(D))return v;if((0,u.sV)(O))return f;const P=_(O,I);if(!P.ok)return{ok:!1,reason:P.reason};const k=(0,s.ou)(O,{channelId:I}),R=(0,s.sX)(O,{channelId:I});if((0,n._Z)(O,"channel_manager_enhancements")==="on"&&(0,r.rW)(D)&&k)return o.O;const B=(0,n._Z)(O,"light_read_who_can_kick_channels_migration")==="on",W=(0,n._Z)(O,"light_read_who_can_kick_groups_pref_migration")==="on",L=(0,r.rW)(D)?"public":"private",S=L==="private"?E.Po:E.LI,H=L==="private"?E.tU:E.H7,w=S(O)||H(O);let F;if(B&&L==="public")F=k;else if(W&&L==="private")F=R;else{const j=L==="private"?"who_can_kick_groups":"who_can_kick_channels";F=(0,h.X)(O,j,D)}return!w&&!F?L==="private"?y:g:o.O}i(T,"canUserKickFromChannelWithReason");function M(O,I){return T(O,I).ok}i(M,"canUserKickFromChannel")},641744444:(Q,C,e)=>{"use strict";e.d(C,{Po:()=>v,tU:()=>g,LI:()=>A,H7:()=>f});var t=e(7174777686),n=e(8276911661),s=e(5597672932),r=e(3677514771),d=e(5455782105),o=e(9113979368),a=e(7224980887),l=e(8170643398),m=e(3559837422),c=e(5510392579),_=e(766806);const p=i((y,T)=>{let{prefName:M}=T;if((0,o.A)(M))return!1;const O=(0,n.cA)(y);if((0,l.QR)(O)||(0,m.sV)(y))return!1;const{type:I,user:D}=(0,_.SI)(y,M)||{};if((0,t.A)(D,O.id))return!0;switch(I==null?void 0:I[0]){case"PRIMARY_OWNER":return(0,a.nA)(O);case"ORG_OWNERS":return(0,a.rr)(O);case"ORG_ADMINS_AND_OWNERS":return(0,a.n5)(O);default:return(0,c.$G)(y)}},"checkChannelMgmtPrefCascade");var u=e(6839188756),h=e(4761125736),E=e(6693783993);const A=i(y=>(0,d.k)(y)?(0,h._Z)(y,"light_read_who_can_manage_public_channels_pref_migration")==="on"?(0,E.fl)(y):p(y,{prefName:"who_can_manage_public_channels"}):!1,"canUserManagePublicChannelsInOrgDash"),v=i(y=>(0,d.k)(y)?(0,h._Z)(y,"light_read_who_can_manage_private_channels_pref_migration")==="on"?(0,E.$5)(y):p(y,{prefName:"who_can_manage_private_channels"}):!1,"canUserManagePrivateChannelsInOrgDash"),f=i(y=>{const T=(0,r.H7)(y);return(0,u.Ny)(T)?(0,c.h3)(y):!1},"canUserManagePublicChannelsInTeamSite"),g=i(y=>{const T=(0,r.H7)(y),M=(0,h._Z)(y,"light_read_who_can_manage_private_channels_pref_migration")==="on";if(!(0,u.Ny)(T)||(0,u.NB)(T)&&!(0,s.x)(y,"has_compliance_export"))return!1;if(M)return(0,E.Ny)(y);const O=(0,s.x)(y,"who_can_manage_private_channels_at_workspace_level");if(!O)return!1;const I=(0,n.cA)(y);if((0,t.A)(O.user,I.id))return(0,c.h3)(y);const D=O.type;switch(D&&D.length!==0?D[0]:null){case"NO_ONE":return!1;case"WORKSPACE_PRIMARY_OWNER":return(0,c.$G)(y);case"WORKSPACE_OWNERS":return(0,c.p2)(y);default:return!1}},"canUserManagePrivateChannelsInTeamSite")},5343157203:(Q,C,e)=>{"use strict";e.d(C,{C:()=>h,E:()=>E});var t=e(7530630315),n=e(235108050),s=e(9087248458),r=e(5455782105),d=e(5795074931),o=e(4761125736),a=e(6693783993),l=e(598369692),m=e(3559837422),c=e(5510392579),_=e(7876109014),p=e(766806),u=e(8847766420);const h=i(A=>{if((0,m.sV)(A))return!1;const v=(0,u.jV)(A);if((0,c.V7)(A,v)||(0,c.PY)(A,v))return!0;const f=(0,u.ZT)(A),g=(0,t.A)(f,(0,u.kN)(A));return(0,n.A)(g).some(T=>!!((0,c.$G)(A,T)||(0,c.h3)(A,T)))},"isCurrentUserAnyAdminOrOwner");function E(A){if((0,o._Z)(A,"light_read_who_can_manage_shared_channels_pref_migration")==="on")return(0,a.Tg)(A);const f=(0,p.SI)(A,"who_can_manage_shared_channels");if(!f)return!0;if(!(0,r.k)(A)||(0,m.sV)(A))return!1;const g=(0,d.WR)(A);if((0,_.v)(f,"user")&&f.user.includes(g))return!0;if((0,_.v)(f,"subteam")){const T=(0,l.QF)(A);if((0,s.A)(f.subteam,T).length>0)return!0}const y=f==null?void 0:f.type;return y!=null&&y.includes("regular")?!0:y!=null&&y.includes("admin")?h(A):y!=null&&y.includes("owner")?(0,c.PY)(A):!1}i(E,"canUserManageOrgSharedChannels")},7563681762:(Q,C,e)=>{"use strict";e.d(C,{JJ:()=>D,a_:()=>h,be:()=>O,rY:()=>I});var t=e(9101533895),n=e(6693783993),s=e(3490825458),r=e(5795074931),d=e(4761125736),o=e(641744444),a=e(918457931),l=e(1407713935),m=e(3559837422),c=e(7112191091),_=e(6025726268),p=e(5343157203),u=e(6841796315);const h={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},E={ok:!1,reason:h.InvalidParams},A={ok:!1,reason:h.InvalidDm},v={ok:!1,reason:h.InvalidChannelType},f={ok:!1,reason:h.RestrictedUser},g={ok:!1,reason:h.OrgSharedSettings},y={ok:!1,reason:h.OwnerRequired},T={ok:!1,reason:h.UserHasNoPermissions},M=i((P,k)=>{const R=(0,d._Z)(P,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,l.jq)(k))return E;if((0,l.LI)(k)||(0,l.yz)(k))return A;if((0,l.rI)(k))return v;const V=(0,r.TZ)(P),B=(0,s.s)(P),W=(0,s.R)(P);if(!V)return B&&((0,l.Zp)(k)&&(0,o.Po)(P)||(0,l.rW)(k)&&(0,o.LI)(P))||W&&((0,l.Zp)(k)&&(0,o.tU)(P)||(0,l.rW)(k)&&(0,o.H7)(P))?u.O:T;if(R)return(0,n.bT)(P,{channelId:k.id})?u.O:T;const L=(0,p.E)(P)||(0,n.LN)(P);return(0,a.t)(k)&&!L?g:(0,_.M)(P,k)||(0,n.bT)(P,{channelId:k.id})?u.O:(0,m.sV)(P)||(0,m.AB)(P)?f:(0,c.S4)(P,k)?u.O:y},"canUserRenameChannelWithReason"),O=i((P,k)=>{const V=(0,t.OL)(P,k,!1);return V?M(P,V):E},"canUserRenameChannelWithReasonById"),I=i((P,k)=>M(P,k).ok,"canUserRenameChannel"),D=i((P,k)=>O(P,k).ok,"canUserRenameChannelById")},9416626:(Q,C,e)=>{"use strict";e.d(C,{NG:()=>P,iz:()=>D,u9:()=>u});var t=e(5343157203),n=e(4761125736),s=e(6693783993),r=e(9884588328),d=e(6495946979),o=e(1407713935),a=e(6007206761),l=e(918457931),m=e(340763958),c=e(9846841407),_=e(7112191091),p=e(2585735826);const u={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},h={ok:!1,reason:u.ChannelNotFound},E={ok:!1,reason:u.ChannelTypeNotSupported},A={ok:!1,reason:u.CantArchiveGeneral},v={ok:!1,reason:u.NotInChannel},f={ok:!1,reason:u.AlreadyArchived},g={ok:!1,reason:u.NotAllowedHomeExternallyShared},y={ok:!1,reason:u.AwayExternallyShared},T={ok:!1,reason:u.UserHasNoPermissions},M={ok:!1,reason:u.DefaultOrgWideChannel},O={ok:!1,reason:u.WhoCanManagePref},I={ok:!0},D=i((k,R)=>{const V=(0,n._Z)(k,"restrict_channel_permission_archive_channel")==="on",B=(0,n._Z)(k,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,o.jq)(R))return h;if((0,o.LI)(R)||(0,o.yz)(R))return E;if((0,o.gx)(R))return A;if((0,a.F)(R))return f;if((0,c.b)(k,R))return y;if(!(0,_.S4)(k,R)&&!(0,d.b)(R))return v;const L=(0,r.FB)(R);if(V&&(0,m.ju)(R)&&!(0,c.b)(k,R)&&!(0,p.R)(k,R))return g;const S=(0,s.Om)(k,{channelId:L});return!B&&(0,l.t)(R)&&!(0,t.E)(k)&&!(0,s.LN)(k,{channelId:L})?O:S?I:T},"canUserSeeArchiveChannelOptionWithReasons"),P=i((k,R)=>D(k,R).ok,"canUserSeeArchiveChannelOption")},591259428:(Q,C,e)=>{"use strict";e.d(C,{P:()=>A,X:()=>E});var t=e(9101533895),n=e(4761125736),s=e(6495946979),r=e(2912967402),d=e(1407713935),o=e(6007206761),a=e(3559837422),l=e(340763958),m=e(4827886670),c=e(6693783993);const _={ok:!0},p={ok:!1,reason:r.CM},u={ok:!1,reason:r.Jr},h={ok:!1,reason:r.oP},E=i((v,f)=>{const g=(0,t.gT)(v,f)&&(0,t.OL)(v,f);return g?(0,d.JM)(g)&&(0,l.ju)(g)?u:(0,o.F)(g)?h:(0,n._Z)(v,"channel_manager_enhancements")==="on"&&(0,c.ig)(v,{channelId:f})?_:!(0,s.b)(g)||!(0,m.c)(v,g)||(0,a.sV)(v)||(0,a.AB)(v)?h:_:p},"canUserSetTopicForChannelWithReasonById"),A=i((v,f)=>E(v,f).ok,"canUserSetTopicForChannelById")},6025726268:(Q,C,e)=>{"use strict";e.d(C,{M:()=>s});var t=e(8276911661),n=e(9884588328);const s=i((r,d)=>{const o=(0,t.cA)(r);return d?o.id===(0,n.Wb)(d):!1},"isCurrentUserChannelCreator")},3307632080:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r,G:()=>s});var t=e(6545221113),n=e(8847766420);const s=i((d,o)=>{if(!d||!o)return!1;const a=(0,n.Kc)(d);return(0,t.A)(d,a,o)},"isExternalLimited"),r=s},4919351998:(Q,C,e)=>{"use strict";e.d(C,{XT:()=>m,Xw:()=>n,gU:()=>d,l0:()=>a,xf:()=>s});var t=e(8234448831);const n=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function s(c){const _=typeof c=="string"&&c.match(n);return _&&_.length===1&&_[0]===c||!1}i(s,"isEmail");function r(c){const{pathname:_,protocol:p}=parseUrl(c);return p==="mailto:"&&s(_)}i(r,"isEmailUrl");function d(c){const{pathname:_,protocol:p}=c;return p==="mailto:"&&s(_)}i(d,"isEmailUrlFromUrlObject");const o=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function a(c){const _=typeof c=="string"&&c.match(o);return _&&_.length===1&&_[0]===c||!1}i(a,"isDomain");function l(c){return c.includes("@slack-bots.com")}i(l,"isSlackBotEmail");function m(c){let{csv:_,min:p=0,max:u=10}=c;const h=_.split(/\s*,\s*/).length;return{minViolation:h<p,maxViolation:h>u}}i(m,"validateCSV")},8049923572:(Q,C,e)=>{"use strict";e.d(C,{BM:()=>_,IN:()=>a});var t=e(3134334389),n=e(5950652755),s=e(5460331959),r=e(1641606663),d=e(4761125736);function o(){return o=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E])}return p},o.apply(this,arguments)}i(o,"_extends");const a=i(p=>(0,d._Z)(p,"sk_responsive_menus")==="on","isSkResponsiveMenusEnabled");function l(p){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const{windowRef:h}=(0,t.useContext)(r.M),E=i(v=>{!Array.isArray(v)||!v.length||requestAnimationFrame(()=>p(v))},"observer"),A=h.deref();return new A.ResizeObserver((0,n.A)(E,u))}i(l,"useResizeObserver");const m=i(()=>{var p,u,h;const{windowRef:E}=(0,t.useContext)(r.M),A=(0,t.useRef)((p=E.deref())===null||p===void 0?void 0:p.document.body),v=((u=A.current)===null||u===void 0?void 0:u.clientWidth)||0,f=((h=A.current)===null||h===void 0?void 0:h.clientHeight)||0,[g,y]=(0,t.useState)(v),[T,M]=(0,t.useState)(f),O=l(()=>{var I,D;y(((I=A.current)===null||I===void 0?void 0:I.clientWidth)||0),M(((D=A.current)===null||D===void 0?void 0:D.clientHeight)||0)},100);return(0,t.useEffect)(()=>{const I=A.current;return I&&O.observe(I),()=>{E&&I&&O.unobserve(I)}},[O,E]),{width:g,height:T}},"useWindowSize");function c(p){return u=>{const h=m();return t.createElement(p,o({},u,{windowSize:h}))}}i(c,"withWindowSize"),c.displayName="withWindowSize";function _(p){return u=>u.experimentSkResponsiveMenusGroupOn?t.createElement(s.A,null,h=>{let{measureRef:E,width:A,height:v}=h;return t.createElement(p,o({},u,{measureRef:E,containerSize:{width:A,height:v}}))}):t.createElement(p,o({},u))}i(_,"withContainerSize"),_.displayName="withContainerSize"},4821016610:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(887763814),n=e(9391594207),s=e(6766954308);const r=i(o=>({isScreenReaderEnabled:(0,s.VH)(o)}),"mapStateToProps"),d=(0,n.N)(r)(t.A)},4275792068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(6217320234),s=e(8424846741),r=e(1149563359);function d(o){let{listeners:a,children:l}=o;const m=Object.keys(a);for(const c of(0,n.A)(m))for(const _ of(0,n.A)((0,s.A)(a[c])))(0,r.A)(c,_);return t.createElement(t.Fragment,null,l)}i(d,"FocusTransition")},7447985439:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ue});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(7715417323),d=e(4244379358),o=e(2309855086),a=e(9551108847),l=e(9053431150);const m=i(Be=>{const{startFocusTransitionFallbackTimeout:we,cancelFocusTransitionFallback:re}=(0,t.useContext)(l.Ay),ge=(0,t.useCallback)((be,xe)=>{we(Be,be,xe)},[Be,we]),De=(0,t.useCallback)(()=>{re(Be)},[re,Be]);return(0,t.useEffect)(()=>()=>{re(Be)},[re,Be]),[ge,De]},"useFocusTransitionFallback");var c=e(1952320730),_=e(4481313819),p=e(7937864072),u=e(5519459863),h=e(2683115972),E=e(3989454579),A=e(7138682671),v=e(4979382452),f=e(4636370173),g=e(2465132699),y=e(8523371695),T=e(3606117573),M=e(8029613601),O=e(4829524689),I=e(4947127560),D=e(735940183),P=e(4096483543),k=e(9391594207),R=e(9003400431),V=e(1928462597),B=e(387484329),W=e(1684408608);function L(){return L=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var re=arguments[we];for(var ge in re)Object.prototype.hasOwnProperty.call(re,ge)&&(Be[ge]=re[ge])}return Be},L.apply(this,arguments)}i(L,"_extends");const S=new D.Ay("contextual_help"),H={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},w=i(Be=>{let{suppressOnClose:we=!1,cancelButtonAutoClogProps:re,cancelButtonText:ge,children:De,className:be,closeModal:xe,"data-qa":Re="contextual_help_modal",onSubmit:je=r.A,contextualHelpCheckboxLabel:Ge,pref:Qe,showCancelButton:Xe=!1,submitButtonAutoClogProps:et,submitButtonText:rt,submitButtonType:it="primary",title:lt="",illustration:ot,setUserPrefByApi:Et=r.A}=Be;const At=(0,p.A)(),[Ot]=(0,u.A)(Qe),Rt=V.PW[Qe],[yt,Mt]=(0,t.useState)(Rt!==Ot),en="contextual-help-modal-dialog-title",Tt="contextual-help-modal-dialog-content",xt=(0,t.useCallback)(Xt=>{At.action("CONTEXTUAL-HELP-MODAL",`Changed ${Qe}: ${Xt}`),(0,P.A)()?(0,W.gj)((0,B.AZ)({pref:Qe,value:Xt})):Et({pref:Qe,value:Xt})},[At,Qe,Et]),bt=(0,t.useCallback)(function(){let Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;we?xt(!Rt):Xt&&xt(Rt!==yt),xe()},[we,xe,Rt,yt,xt]),nn=(0,t.useCallback)(Xt=>{Mt(Xt.target.checked)},[]),dn=(0,t.useCallback)(()=>{je(),bt(!0)},[bt,je]);return t.createElement(v.A,{className:be,labelledby:en,describedby:Tt,closeModal:bt,role:"alertdialog",dataQa:Re,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.createElement(M.A,null,ot?t.createElement(O.A,L({"aria-hidden":!0},ot)):null,t.createElement(I.A,{title:lt,id:en,"data-qa":`${Re}_header`})),t.createElement(f.A,null,t.createElement(g.A,{"data-qa":`${Re}_content`,id:Tt},De)),t.createElement(y.A,{"data-qa":`${Re}_footer`,className:(0,s.A)({"c-contextual_help_shortcuts_list__footer_with_checkbox":!we})},!we&&t.createElement(A.A,{"data-qa":`${Re}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:Ge||S.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.createElement(E.A,{checked:yt,onChange:nn,autoClogProps:H})),t.createElement(T.A,null,Xe&&t.createElement(h.Ay,{type:"outline",onClick:bt,"data-qa":`${Re}_cancel`,autoClogProps:re},ge||S.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.createElement(h.Ay,{type:it,onClick:dn,"data-qa":`${Re}_submit`,autoClogProps:et,autoFocus:!0},rt||S.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");w.displayName="ContextualHelpModal";const F=i(Be=>({closeModal:()=>Be((0,R.O)()),setUserPrefByApi:we=>(0,B.AZ)(we)}),"mapDispatchToProps"),j=(0,k.N)(null,F)(w);var J=e(440635146),X=e(8739505998),q=e(571104883),G=e(6968387112),ne=e(8783045612),te=e.n(ne);const le=new D.Ay("contextual_help"),he={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},fe={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},ve={src:te(),alt:""},me=i(()=>{const Be=(0,q.y3)(),we=le.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),re=`https://${(0,G.qF)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,ge=(0,J.ed)("Cmd"),De=(0,J.ed)("Ctrl"),be=(0,J.ed)(J.tc.ArrowLeft),xe=(0,J.ed)(J.tc.ArrowRight),Re=le.t("F6"),je=le.rt("{ctrlKey}+{f6Key}",{ctrlKey:De,f6Key:Re}),Ge=i(()=>(0,q.cX)()?le.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:ge,ctrlKey:De,leftArrowKey:be,rightArrowKey:xe}):Be?Re:je,"getSectionNavigationKeys"),Qe=le.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:Ge(),"<link>":et=>{let{text:rt}=et;return t.createElement(X.A,{href:re,autoClogProps:fe},rt)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),Xe=le.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.createElement(_.A,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.createElement(j,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:he,title:we,illustration:ve,suppressOnClose:!0,submitButtonText:Xe},Qe))},"ContextualHelpForSectionNavigationModal");me.displayName="ContextualHelpForSectionNavigationModal";const oe=me;var N=e(1031947056),K=e(3051824855),x=e(2047021170);const b=(0,K.e)(oe),z=(0,N.Ay)("Maybe open modal dialog with contextual help for section navigation",(Be,we)=>{const re=we();(0,x.ty)(re,"should_show_contextual_help_for_section_navigation")&&Be(b())});z.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};const $=null;var Z=e(8259709686),U=e(2533466394),ee=e(3688641936),se=e(796111729),de=e(6453334826),ue=e(4675837085),_e=e(9012396182),pe=e(4134037340),ae=e(8847766420),Ee=e(6533394955);function Le(){return Le=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var re=arguments[we];for(var ge in re)Object.prototype.hasOwnProperty.call(re,ge)&&(Be[ge]=re[ge])}return Be},Le.apply(this,arguments)}i(Le,"managed_focus_container_extends");const ye={display:"contents"},Te="active-managed-focus-container",Ae=i(()=>!0,"shouldAlwaysFocus"),Ie=i(Be=>{const{id:we,index:re,focusFn:ge=r.A,restoreFocusFn:De=void 0,enableSectionNavigation:be=!0,refToForward:xe=void 0,onFocus:Re=r.A,onBlur:je=r.A,shouldFocus:Ge=Ae,onFirstHiddenTabStopFocus:Qe=r.A,onLastHiddenTabStopFocus:Xe=r.A,tabCountToShowContextualHelp:et=4,windowRef:rt,windowToken:it=void 0,windowId:lt=void 0,className:ot,...Et}=Be,{registerSection:At,unregisterSection:Ot,setActiveSection:Rt}=(0,t.useContext)(U.A),yt=(0,o.A)(xe),[Mt,en]=(0,t.useState)(),[Tt,xt]=(0,t.useState)(0),{getState:bt}=(0,n.Pj)(),nn=bt();let dn=nn,Xt;(0,pe.A)(nn)?(Xt=(0,_e.getFocusedWorkspace)(nn),dn=(0,Ee.getStateByTeamId)(Xt)):Xt=(0,ae.ZT)(nn);const jt=(0,se.Ay)({state:dn}),_n=(0,x.ty)(dn,"should_show_contextual_help_for_section_navigation"),ze=(0,t.useCallback)(Ft=>(0,Ee.dispatchForTeamId)(Xt,(0,B.AZ)({pref:"should_show_contextual_help_for_section_navigation",value:Ft})),[Xt]),[Dt,hn]=(0,t.useState)(!1),yn=(0,t.useCallback)(()=>{if(Dt)return;const Ft=Tt+1;if(_n){xt(0),ze(!1),hn(!0),(0,Ee.dispatchForTeamId)(Xt,b({openModalProps:{forceTargetWindowId:lt}}));return}if(Ft>=et){xt(0),hn(!0),(0,Ee.dispatchForTeamId)(Xt,b({openModalProps:{forceTargetWindowId:lt}}));return}xt(Ft)},[Dt,ze,_n,et,Tt,Xt,lt]),ht=(0,t.useCallback)(Ft=>{Qe(Ft)},[Qe]),Bt=(0,t.useCallback)(Ft=>{Xe(Ft),yn()},[yn,Xe]),wt=(0,t.useCallback)(Ft=>{Rt(we),Re(Ft)},[we,Re,Rt]),Qt=(0,t.useCallback)(Ft=>{const{target:Jt,currentTarget:rn,relatedTarget:gn}=Ft;rn.contains(gn)||en((0,ue.O)(Jt)),je(Ft)},[je]),mn=(0,t.useCallback)(()=>Ge()?!yt.current||we===Z.yE?!0:!!(0,ee.Fp)(yt.current):!1,[yt,Ge,we]),On=(0,t.useCallback)(()=>{var Ft,Jt;return!!(!((Ft=yt.current)===null||Ft===void 0)&&Ft.contains((Jt=rt.deref())===null||Jt===void 0?void 0:Jt.document.activeElement))},[yt,rt]),zt=(0,t.useCallback)(()=>{const Ft=Mt==null?void 0:Mt.deref();return!(!Ft||!Ft.focus||!yt.current.contains(Ft)||!(0,de.A)(Ft,rt.deref()))},[yt,Mt,rt]),nt=(0,t.useCallback)(Ft=>{var Jt;if(Ft!==((Jt=rt.deref())===null||Jt===void 0?void 0:Jt.document.activeElement)||!yt.current||On())return;const rn=(0,ee.Fp)(yt.current);rn&&rn.focus()},[yt,rt,On]),mt=(0,t.useCallback)(Ft=>{if(Tt===0||Dt)return;const{key:Jt,shiftKey:rn}=Ft.detail;Jt==="Tab"&&!rn||xt(0)},[Dt,Tt]),[Ct]=m(nt);(0,t.useEffect)(()=>{var Ft;return(Ft=rt.deref())===null||Ft===void 0||Ft.document.addEventListener("keyboard-navigation",mt),()=>{var Jt;(Jt=rt.deref())===null||Jt===void 0||Jt.document.removeEventListener("keyboard-navigation",mt)}},[rt,mt]),(0,t.useEffect)(()=>(be&&(At(we,{focus:()=>{var Ft;if(zt()){var Jt;if(De)De(Mt==null?void 0:Mt.deref());else{var rn;(rn=Mt==null?void 0:Mt.deref())===null||rn===void 0||rn.focus()}if(((Jt=rt.deref())===null||Jt===void 0?void 0:Jt.document.activeElement)===(Mt==null?void 0:Mt.deref()))return}ge(),Ct(a.H0,(Ft=rt.deref())===null||Ft===void 0?void 0:Ft.document.activeElement)},shouldFocus:mn},re),On()&&Rt(we)),be||Ot(we),()=>{Ot(we)}),[be,ge,De,we,re,At,Ot,mn,Mt,rt]),(0,t.useEffect)(()=>{var Ft;be&&(!((Ft=yt.current)===null||Ft===void 0)&&Ft.getElementsByClassName(Te).length)&&jt.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${we}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[be,yt,jt,we]);const Zt=be?Te:void 0;return t.createElement(c.A,Le({onFocus:wt,onBlur:Qt,onFirstHiddenTabStopFocus:ht,onLastHiddenTabStopFocus:Bt,ref:yt,className:(0,s.A)(ot,Zt)},Et))},"ManagedFocusContainer");Ie.displayName="ManagedFocusContainer",Ie.defaultProps={style:ye};const Ue=(0,d.A)(Ie)},581167618:(Q,C,e)=>{"use strict";e.d(C,{AO:()=>u,A_:()=>p,Ay:()=>v,QE:()=>_});var t=e(3134334389),n=e(5255740490),s=e(6105929840),r=e(1610251172),d=e(2201208793),o=e(4882164428),a=e(8683010724),l=e(6244014364),m=e(735940183);const c=new m.Ay("sk_banner");var _;(function(f){f.default="default",f.boxed="boxed",f.inlineBoxed="inline_boxed",f.nestedBox="nested_box",f.inline="inline",f.custom="custom"})(_||(_={}));var p;(function(f){f.default="default",f.info="info",f.success="success",f.warning="warning",f.error="error"})(p||(p={}));var u;(function(f){f.left="left",f.center="center",f.right="right"})(u||(u={}));const h={elementName:"close",elementType:l.ElementType.X,action:l.UiAction.CLOSE,onClick:{enableClogAction:!0}},E=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),A=i(f=>{let{align:g=u.left,className:y,heading:T,icon:M,customIcon:O,id:I,level:D=p.default,type:P=_.boxed,children:k,"data-qa":R,isIconVisible:V=!0,showCloseButton:B=!1,onClose:W,ariaLabelForCloseBtn:L,closeBackgroundStyle:S}=f;const H=(0,o.f)(d.j.Alert),[w,F]=(0,t.useState)(!1),j=(0,n.A)("c-alert",`c-alert--${P}`,`c-alert--level_${D}`,`c-alert--align_${g}`,{"c-alert--multiline":!!T},y,H),J=E.get(D)||"slack-pillow",X=(O||J)&&P!==_.inline&&P!==_.custom,q=P===_.nestedBox?"inherit":void 0,G=P!==_.custom&&T,ne=(0,t.useCallback)(()=>{F(!0),W==null||W()},[W]);return w?null:t.createElement("div",{className:j,id:I,"data-qa":R,"data-qa-alert":!0,"data-qa-alert-level":D,"data-qa-alert-type":P,"data-qa-alert-align":g},V&&X&&(O||t.createElement(r.A,{type:M||J,className:"c-alert__icon",size:q,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":M||J})),t.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},G&&t.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},T),k),B&&t.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},t.createElement(s.A,{onClick:ne,backgroundStyle:S,"aria-label":L??c.t("Dismiss"),autoClogProps:h,size:"small"},t.createElement(a.A,{name:"close",size:"20"}))))},"Alert");A.displayName="Alert",A.displayName="Alert";const v=A},3824874166:(Q,C,e)=>{"use strict";e.d(C,{RG:()=>P,f1:()=>V,fp:()=>R});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(1030162945),d=e(8822892075),o;(function(B){B.BaseHeart="mask__base-heart",B.SmallHeart="mask__small-heart",B.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",B.BaseSingleChannelGuest="mask__base-single-channel-guest",B.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",B.SmallSingleChannelGuest="mask__small-single-channel-guest",B.BaseGuestDnd="mask__base-guest-dnd",B.BaseGuest="mask__base-guest",B.SmallGuestDnd="mask__small-guest-dnd",B.SmallGuest="mask__small-guest",B.BaseMemberDnd="mask__base-member-dnd",B.BaseMember="mask__base-member",B.SmallMemberDnd="mask__small-member-dnd",B.SmallMember="mask__small-member"})(o||(o={}));function a(B){let{size:W="base",userType:L="member",isDnd:S=!1}=B;return t.createElement("svg",{className:"sr-only"},L==="slackbot"&&(W==="base"?t.createElement("clipPath",{id:o.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:o.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),L==="ura"&&(W==="base"?S?t.createElement("clipPath",{id:o.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):S?t.createElement("clipPath",{id:o.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:o.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(L==="ra"||L==="external")&&(W==="base"?S?t.createElement("clipPath",{id:o.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):S?t.createElement("clipPath",{id:o.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:o.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),L==="member"&&(W==="base"?S?t.createElement("clipPath",{id:o.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):S?t.createElement("clipPath",{id:o.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:o.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}i(a,"AvatarMasks");var l=e(9270432170),m=e(9332393661),c=e(2036354333),_=e(1610251172),p=e(9742374352),u=e(3501104594),h=e(698013937),E=e(2855755676),A=e(1563996154),v=e(82287009),f=e(735940183),g=e(485355941),y=e(1060768686),T=e.n(y),M=e(2979422297),O=e.n(M);function I(){return I=Object.assign||function(B){for(var W=1;W<arguments.length;W++){var L=arguments[W];for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(B[S]=L[S])}return B},I.apply(this,arguments)}i(I,"_extends");const D=new f.Ay("avatar"),P={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},k=t.memo(B=>{let{botEmoji:W,canRenderEmoji:L}=B;return W?L?t.createElement(r.Ay,{className:"c-avatar__emoji",text:W,emojiSize:r.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:T(),srcSet:`${O()} 2x`,alt:""}):null});function R(B){let{isExternal:W,teamId:L,team:S,showTooltip:H,badgeIconType:w,badgeIconClassName:F,allowTeamInitials:j=!0}=B;if(w){const J=F?{[F]:!!F}:{};return()=>t.createElement(_.A,{className:(0,n.A)("c-avatar__icon c-avatar__nonteam_icon",{...J}),type:w})}return W&&L?()=>t.createElement(h.A,{className:"c-avatar__icon c-avatar__team_icon",id:L,team:S,size:16,showTooltip:H,allowTeamInitials:j,ariaHidden:!0}):()=>null}i(R,"getCustomBadgeIconRenderer"),R.displayName="getCustomBadgeIconRenderer";const V=i(B=>{let{size:W,userId:L,isAdHocMember:S,botId:H,botProfile:w=void 0,imageUrl:F,imageUrl2x:j,additionalOverlay:J,onClick:X=void 0,className:q,teamId:G,isExternal:ne=!1,isRestricted:te=!1,isUltraRestricted:le=!1,isInToken:he=!1,isDeleted:fe=!1,tokenSize:ve=void 0,memberOrBotName:me=void 0,showTooltip:oe=!1,showCard:N=!1,showBadge:K=!0,showPresence:x=!1,badgeIconType:b=void 0,badgeIconClassName:z=void 0,isInteractive:$=!0,clogLinkClick:Z=s.A,tabIndex:U=0,ariaHidden:ee=void 0,team:se=void 0,botEmoji:de=void 0,canRenderEmoji:ue=void 0,renderCustomBadge:_e=void 0,autoClogProps:pe=void 0,openProfile:ae=s.A,showMemberProfileInWindow:Ee=s.A,propagateClickEvent:Le=!1,fromQuipDoc:ye=!1,allowTeamInitials:Te=!0,disableLink:Ae=!1,isUserHidden:Ie=!1,onLoad:Ue=s.A,onError:Be=s.A,navigate:we,resetIA:re,userType:ge,isDnd:De,isSlackbot:be,"data-qa":xe,"data-stringify-ignore":Re}=B;const je=(0,t.useCallback)(Dt=>(Dt.preventDefault(),$?(Le||Dt.stopPropagation(),Z(),ye||((0,g.Cz)(Dt)?Ee(L):we&&L?we((0,d.Fo)({memberId:L})):ae({memberId:L,serviceId:H,botProfile:w})),X?X(Dt):null):null),[L,H,w,Z,ye,X,$,we,ae,Le,Ee]),Ge=i(()=>L?`/team/${L}`:H&&!Ae?`/services/${H}`:"","getHrefAttr"),Qe=i(()=>j?`${j} 2x`:"","getSrcSetAttribute"),Xe=i(()=>{if(J){const Dt=J>9?"9+":`+${J}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},Dt)}return null},"renderAdditionalOverlay");Xe.displayName="renderAdditionalOverlay";const et=i(Dt=>{let{tooltipText:hn,className:yn}=Dt,ht=t.createElement("span",{className:"c-avatar__badge_inner"});oe&&(ht=t.createElement(A.Ay,{tip:hn},ht));const Bt=(0,n.A)("c-avatar__badge",yn);return t.createElement("span",{className:Bt},ht)},"renderBadgeElement");et.displayName="renderBadgeElement";const rt=i(()=>{const Dt=ve?E.n[ve]:W;if(_e!==void 0&&Dt>=32){const hn=_e();if(hn)return hn}if(_e===void 0&&Dt>=32){const hn=R({isExternal:ne,teamId:G,team:se,showTooltip:oe,badgeIconType:b,badgeIconClassName:z,allowTeamInitials:Te})();if(hn)return hn}return x?t.createElement(u.A,{memberId:L,inline:!1,className:"c-avatar__presence",inheritIconSize:!0}):le&&Dt>=32?et({tooltipText:i(()=>D.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,yn=>{let{text:ht}=yn;return t.createElement("span",{className:"c-avatar__tooltip_detail"},ht)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):te&&Dt>=32?et({tooltipText:i(()=>D.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,yn=>{let{text:ht}=yn;return t.createElement("span",{className:"c-avatar__tooltip_detail"},ht)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");rt.displayName="renderBadgeOrPresence";const it=i(()=>{let Dt=F||j;return ve?(ve==="large"&&j&&(Dt=j),t.createElement(m.A,{image:Dt,classes:"c-base_icon--token",srcSet:Qe(),size:E.n[ve],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:Ue,onError:Be,resetIA:re})):null},"renderTokenAvatar");it.displayName="renderTokenAvatar";const lt=i(()=>F||j?ve||he?it():t.createElement(m.A,{image:F||j,size:W,srcSet:Qe(),ariaHidden:!0,widthOnly:!0,onLoad:Ue,onError:Be,resetIA:re}):null,"renderImageTag");lt.displayName="renderImageTag";const ot=i(Dt=>{let{fallback:hn=null}=Dt,yn=hn;return(F||j)&&(yn=lt()),yn},"renderImageOrFallback"),Et=de?t.createElement(k,{botEmoji:de,canRenderEmoji:ue}):null,At=W>26?"base":"small",Ot=ge==="member",Rt=ge==="ra"||ge==="external",yt=ge==="ura",Mt=t.useMemo(()=>x?be&&At==="base"?o.BaseHeart:be&&At==="small"?o.SmallHeart:Ot&&At==="base"&&De?o.BaseMemberDnd:Ot&&At==="base"?o.BaseMember:Ot&&At==="small"&&De?o.SmallMemberDnd:Ot&&At==="small"?o.SmallMember:Rt&&At==="base"&&De?o.BaseGuestDnd:Rt&&At==="base"?o.BaseGuest:Rt&&At==="small"&&De?o.SmallGuestDnd:Rt&&At==="small"?o.SmallGuest:yt&&At==="base"&&De?o.BaseSingleChannelGuestDnd:yt&&At==="base"?o.BaseSingleChannelGuest:yt&&At==="small"&&De?o.SmallSingleChannelGuestDnd:yt&&At==="small"?o.SmallSingleChannelGuest:"":"",[x,De,At,Rt,Ot,yt,be]),en=(0,n.A)(q,"c-avatar",{"c-avatar--no_image":!(F||j||Et),"c-avatar--interactive":$&&!S&&!Ae,"c-avatar--ad_hoc_member":S,"c-avatar--deleted_member":fe,"c-avatar--resetIA":re}),Tt=ve?E.n[ve]:W,xt={height:`${Tt}px`,width:`${Tt}px`};let bt;H&&(bt=$&&Ge());const nn=me&&($||bt)?D.t("View {name}\u2019s Profile",{name:me}):void 0,dn=ot({fallback:Et}),Xt={...xt,"--avatar-image-size":`${Tt}px`},jt=be?"slackbot":ge,_n=x||K;let ze=t.createElement(t.Fragment,null,x&&ge&&t.createElement(a,{isDnd:De,userType:jt,size:At}),Ie?t.createElement(l.A,{className:q,size:Tt}):dn,_n&&rt(),Xe());return bt?ze=t.createElement(p.A,{href:bt,target:"_blank",rel:"noopener noreferrer",style:xt,className:en,onClick:je,tabIndex:U,"aria-hidden":ee,"aria-label":nn,autoClogProps:pe,"data-qa":xe,"data-stringify-ignore":Re},ze):$&&!Ae?ze=t.createElement(c.A,{style:xt,className:en,"data-qa":xe,"data-stringify-ignore":Re,"aria-hidden":ee,"aria-label":nn,tabIndex:U,onClick:je,autoClogProps:pe},ze):ze=t.createElement("span",I({style:Xt,className:en},Mt?{"data-mask":Mt}:{},{"data-qa":xe,"data-stringify-ignore":Re,"aria-hidden":ee}),ze),$&&N&&W>=P.medium?(0,v.yN)({memberId:L,serviceId:H,botProfile:w,children:ze}):ze},"BaseAvatar");V.displayName="BaseAvatar"},1912114396:(Q,C,e)=>{"use strict";e.d(C,{A:()=>L});var t=e(3134334389),n=e(8300007136),s=e(8642919232),r=e(7440014425),d=e(5267010247),o=e(8822892075),a=e(3275490582),l=e(3244118357),m=e(6052448919),c=e(8170643398),_=e(3534324375),p=e(4562579337),u=e(6536982570),h=e(3824874166),E=e(3339229351),A=e(4724591729),v=e(6415587347),f=e(92812954),g=e(6045540917),y=e(8847766420),T=e(9786721596),M=e(2562405183),O=e(8677230210),I=e(6273556946),D=e(3829348308),P=e(4761125736),k=e(5761207079),R=e(3677514771);function V(){return V=Object.assign||function(S){for(var H=1;H<arguments.length;H++){var w=arguments[H];for(var F in w)Object.prototype.hasOwnProperty.call(w,F)&&(S[F]=w[F])}return S},V.apply(this,arguments)}i(V,"_extends");const B=(0,t.forwardRef)((S,H)=>{const w=(0,n.wA)();t.useImperativeHandle(H,()=>({props:S}),[S]);const{user:F,userId:j,botId:J,botProfile:X,size:q,icons:G,emoji:ne,team:te,slackbotFeels:le,isUnknown:he,showPresence:fe,isExternal:ve}=S;let me=null,oe=null,N,K,x,b,z,$=ne,Z,U;const{member:ee,bot:se,memberIsHuman:de}=(0,M.Z2)(Re=>(0,O.Od)(Re,{userId:j,botId:J,botProfile:X})),{currentTab:ue,channelId:_e}=(0,t.useContext)(r.d),pe=F||j||he,ae=pe?F||ee:void 0,Ee=ae&&!ae.isUnknown&&!ae.is_unknown,Le=(0,M.d4)(Re=>(0,P._Z)(Re,"bot_team_id_from_member")==="on");if(Ee){var ye;J||(Z=se==null?void 0:se.id);let Re;Le?Re=(0,u.dQ)(ae):Re=(0,p.A)(ae)?(0,u.D5)(ae):(0,u.dQ)(ae);const je=(0,v.Ay)({size:q,teamOrEnterpriseId:Re,memberId:ae==null?void 0:ae.id,avatarHash:ae==null||(ye=ae.profile)===null||ye===void 0?void 0:ye.avatar_hash,slackbotFeels:le});me=je==null?void 0:je.imageUrl,oe=je==null?void 0:je.imageUrl2x,N=ve||(ae==null?void 0:ae.isExternal),K=ae==null?void 0:ae.is_restricted,x=ae.is_ultra_restricted,b=ae.id,z=(0,c.oy)(ae)}U=(0,M.d4)(Re=>Ee&&N?(0,u.Ux)(Re,ae):void 0);let Te=pe?void 0:G||X&&X.icons;if(!pe){if(se){Te=Te||se.icons;const Re=(0,A.Cu)()?I.O:I.U;(se==null?void 0:se.app_id)===Re&&(Te=(se==null?void 0:se.icons)||Te)}if(!$&&Te&&($=Te.emoji),!$){const Re=(0,v.Ay)({size:q,botImages:Te,isBot:!0});me=Re.imageUrl,oe=Re.imageUrl2x}}U=(0,M.d4)(Re=>pe?U:(te==null?void 0:te.id)||(0,m.s)(Re,{bot:se,botProfile:X,botId:J})||void 0),N=(0,M.d4)(Re=>pe?N:U?U!==(0,y.Kc)(Re):!1);const Ae=(0,M.d4)(Re=>{if(Ee)return(0,_.sE)(Re,ae);if(!pe)return(0,l.Hg)(se)}),Ie=(0,M.d4)(Re=>{let je=$&&U&&(0,D.ux)(Re,{text:$,teamId:U});if(!je&&$&&U===(0,y.Kc)(Re)){const Ge=(0,R.H7)(Re),Qe=Ge&&Ge.id;Qe&&Qe!==U&&(je=(0,D.ux)(Re,{text:$,teamId:Qe}))}return je}),Ue=(0,M.d4)(Re=>fe?(0,f.d)(Re,j):void 0),Be=(0,M.d4)(Re=>fe?(0,g.h)(Re,j):!1);var we;const re=(we=j??b)!==null&&we!==void 0?we:"",ge=(0,M.d4)(Re=>re?(0,k.a)(Re,re):!1),De=(0,t.useCallback)(Re=>w((0,T.U)(Re)),[w]),be=(0,t.useCallback)(Re=>w((0,s.A)(Re)),[w]),xe=(0,t.useCallback)(Re=>w(ue&&_e?(0,d.o)((0,o.sL)(Re,_e,ue.id)):(0,d.o)(Re)),[w,ue,_e]);return t.createElement(h.f1,V({},S,{userId:j,imageUrl:me||void 0,imageUrl2x:oe||void 0,botEmoji:$,canRenderEmoji:!!Ie,teamId:U,isRestricted:K,isUltraRestricted:x,isDeleted:z,memberOrBotName:Ae,botId:Z||J,disableLink:!de&&(!se||(0,c.v3)(se)),isExternal:N,isUserHidden:ge,userType:Ue,isDnd:Be,isSlackbot:j===E.Q$,size:q,openProfile:De,showMemberProfileInWindow:be,navigate:xe}))}),W=(0,a.A)(t.memo(B));W.displayName="ConnectedAvatar";const L=W},4775127335:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>s,RG:()=>n.RG,f1:()=>n.f1,fp:()=>n.fp});var t=e(1912114396),n=e(3824874166);const s=t.A},9270432170:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(8683010724);function r(o){let{className:a="",size:l,"data-qa":m}=o;return t.createElement("span",{className:(0,n.A)(a,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":l===16}),style:{width:`${l}px`,height:`${l}px`},"data-qa":m},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(s.A,{size:l<=24?"16":"24",name:"user-hide"})))}i(r,"HiddenUserAvatar"),r.displayName="HiddenUserAvatar";const d=t.memo(r)},8025090314:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(8683010724),s=e(735940183);const r=new s.Ay("members");function d(){return t.createElement("span",{className:"c-hidden_user_icon_and_name "},t.createElement(n.A,{name:"user-hide",inline:!0}),"\xA0",r.t("Name hidden"))}i(d,"HiddenUserIconAndName"),d.displayName="HiddenUserIconAndName";const o=t.memo(d)},9332393661:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(5255740490),s=e(3398586081),r=e(7715417323),d=e(1610251172);const o=(0,s.A)(u=>({height:`${u}px`,width:`${u}px`}));function a(u){let{icon:h,classes:E=null,size:A=20,ariaHidden:v=void 0,ariaRole:f="img",ariaLabel:g=void 0}=u;const y=(0,n.A)("c-base_font_icon",E);return t.createElement("div",{className:y,style:o(A),"aria-hidden":v,role:f,"aria-label":g},t.createElement(d.A,{type:h}))}i(a,"BaseFontIcon"),a.displayName="BaseFontIcon";const l=a,m=(0,s.A)(u=>({height:`${u}px`,width:`${u}px`})),c=(0,s.A)(u=>({width:`${u}px`}));function _(u){let{image:h=void 0,size:E=20,srcSet:A="",classes:v=void 0,icon:f=void 0,ariaHidden:g=!1,ariaRole:y="img",ariaLabel:T=void 0,widthOnly:M=!1,onLoad:O=r.A,onError:I=r.A,resetIA:D,"data-qa":P}=u;if(h&&f)throw Error("Cannot pass in both image and icon!");if(!g&&!T)throw Error("If ariaHidden is false, we must have an ariaLabel for a11y!");const k=(0,n.A)("c-base_icon",v,{"c-base_icon--unknown":!h&&!f,"c-base_icon--image":h,"c-base_icon--resetIA":D});if(f)return t.createElement(l,{icon:f,classes:k,size:E,ariaHidden:g,ariaRole:y,ariaLabel:T});const R=t.createElement("img",{src:h,srcSet:A,className:k,style:M?c(E):m(E),"aria-hidden":g,role:y,"aria-label":T,alt:"",onLoad:O,onError:I,"data-qa":P});return M?t.createElement("span",{className:(0,n.A)("c-base_icon__width_only_container",{"c-base_icon--resetIA":D}),style:m(E)},R):R}i(_,"BaseIcon"),_.displayName="BaseIcon";const p=_},4302969948:(Q,C,e)=>{"use strict";e.d(C,{A:()=>K});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(4481313819),d=e(307717037),o=e(2208015175),a=e(2664504268),l=e(4250078557),m=e(3207321841),c=e(5602423845),_=e(348699080),p=e(7937864072),u=e(5204962244),h=e(6308822),E=e(6244014364),A=e(735940183),v=e(2562405183),f=e(2047021170);const g=new A.Ay("slack_kit_video"),T=(0,t.forwardRef)((x,b)=>{let{src:z,vtt:$,videoPoster:Z,title:U,label:ee,autoPlay:se=!0,enableMediaCaptions:de,onLoadedMetadata:ue,isLoading:_e,setIsLoading:pe,isPlaying:ae,setIsPlaying:Ee,duration:Le,setDuration:ye,setElapsed:Te,enableControls:Ae=!1,controlsList:Ie,shiftCaptionsUp:Ue,setHasError:Be,videoContainerClassName:we}=x;const re=(0,p.A)(),ge=(0,c.A)(),De=(0,t.useRef)(null),be=(0,u.d)(a.A),[xe,Re]=(0,t.useState)(!1),je=(0,t.useRef)(),Ge=(0,t.useRef)(0),[Qe,Xe]=(0,t.useState)(null),et=(0,v.d4)(jt=>(0,f.ty)(jt,"media_muted"));var rt;const it=(rt=(0,v.d4)(jt=>(0,f.ty)(jt,"media_volume")))!==null&&rt!==void 0?rt:1,lt=(0,v.d4)(jt=>(0,f.ty)(jt,"media_playback_speed")),ot=(0,t.useRef)({});(0,t.useEffect)(()=>{De.current&&Qe&&(ot.current={file_src:Qe,media_type:"video",duration_ms:Le*1e3,playback_session:be,title:U})},[be,Qe,U,Le]),(0,t.useEffect)(()=>{fetch(z).then(jt=>jt.blob()).then(jt=>{const _n=URL.createObjectURL(jt);Xe(_n)}).catch(jt=>{re.error(`Video player err: ${jt}`),Be(!0)})},[re,Be,Xe,z]);const Et=(0,t.useRef)(!1),At=(0,t.useCallback)(()=>{!Et.current&&xe&&(je.current&&(Ge.current+=Date.now()-je.current,je.current=void 0),ge.track(E.EventId.SK_VIDEO_PLAYER,(0,d.A)({},ot.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:de?"on":"off",playback_speed:`${lt??1}x`,duration_watched_ms:Ge.current})),Et.current=!0,Ge.current=0)},[ge,xe,de,lt]),Ot=(0,t.useRef)(At);Ot.current=At,(0,_.A)(()=>()=>Ot.current(),[]);const Rt=(0,t.useCallback)(()=>{At()},[At]);(0,t.useEffect)(()=>{if(!De.current)return;const jt=i(()=>{ae&&Ee(!1),pe(!0)},"onWaiting"),_n=i(()=>{pe(!1),Ee(!0),ge.track(E.EventId.SK_VIDEO_PLAYER,(0,d.A)({},ot.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),xe||(Re(!0),ge.track(E.EventId.SK_VIDEO_PLAYER,(0,d.A)({},ot.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),je.current=Date.now()},"onPlay"),ze=i(()=>{Ee(!1),pe(!1),ge.track(E.EventId.MEDIA_PLAYER,(0,d.A)({},ot.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),je.current&&(Ge.current+=Date.now()-je.current,je.current=void 0)},"onPause"),Dt=De.current,hn=i(()=>{if(!Dt.buffered)return;const Bt=Dt.duration||0;ye(Bt)},"onProgress"),yn=i(()=>{pe(!1);const Bt=Dt.duration;ye(Bt),Te(Dt.currentTime)},"onTimeUpdate"),ht=i(()=>{const Bt=Dt.playbackRate;m.Cv.includes(Bt)&&(Dt.playbackRate=Bt)},"handleRateChange");return Dt.addEventListener("waiting",jt),Dt.addEventListener("progress",hn),Dt.addEventListener("timeupdate",yn),Dt.addEventListener("play",_n),Dt.addEventListener("playing",_n),Dt.addEventListener("pause",ze),Dt.addEventListener("ratechange",ht),Dt.addEventListener("ended",Rt),()=>{Dt.addEventListener("waiting",jt),Dt.removeEventListener("progress",hn),Dt.removeEventListener("timeupdate",yn),Dt.removeEventListener("play",_n),Dt.removeEventListener("playing",_n),Dt.removeEventListener("pause",ze),Dt.removeEventListener("ratechange",ht),Dt.removeEventListener("ended",Rt)}},[De,_e,ae,ye,pe,Te,Ee,xe,Re,Rt,ge]),(0,t.useEffect)(()=>{var jt;const _n=(jt=De.current)===null||jt===void 0?void 0:jt.textTracks[0];_n&&(_n.mode=de?"showing":"hidden")},[de]),(0,t.useEffect)(()=>{if(de){var jt,_n;const ze=(jt=De.current)===null||jt===void 0?void 0:jt.textTracks[0];if(!ze)return;const Dt=((_n=De.current)===null||_n===void 0?void 0:_n.clientWidth)<500?50:80;ze.mode="hidden",Ue?(0,o.A)(ze==null?void 0:ze.cues,hn=>{(hn.text.match(/\n/g)||[]).length>=2||hn.text.length>Dt?hn.line=-6:hn.line=-5}):(0,o.A)(ze==null?void 0:ze.cues,hn=>{hn.line="auto"}),ze.mode="showing"}},[de,Ue]);const yt=(0,t.useCallback)(function(jt){let _n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;De!=null&&De.current&&(De.current.currentTime=jt,_n&&De.current.play())},[De]),Mt=(0,t.useCallback)(()=>{De!=null&&De.current&&(De.current.paused?De.current.play():De.current.pause())},[De]),en=(0,t.useCallback)(()=>{var jt;De!=null&&De.current&&((jt=De.current)===null||jt===void 0||jt.pause())},[De]),Tt=(0,t.useCallback)(jt=>{De!=null&&De.current&&(De.current.muted=jt)},[De]),xt=(0,t.useCallback)(jt=>{De!=null&&De.current&&(De.current.volume=jt)},[De]),bt=(0,t.useCallback)(jt=>{De!=null&&De.current&&m.Cv.includes(jt)&&(De.current.playbackRate=jt)},[De]);(0,t.useImperativeHandle)(b,()=>({setCurrentTime:yt,togglePlayPause:Mt,setMuted:Tt,setVolume:xt,setPlaybackRate:bt,pause:en})),(0,t.useEffect)(()=>{et&&Tt(et),it&&xt(it),lt&&!Ae&&bt(lt)});const nn=(0,t.useCallback)(()=>{var jt;const _n=(jt=De.current)===null||jt===void 0?void 0:jt.error;_n&&(Be(!0),re.error(`error code: ${_n.code}, msg: ${_n.message}`))},[De,re,Be]),dn=(0,t.useCallback)(()=>{pe(!1)},[pe]),Xt=(0,n.A)("c-video_player-video-container",we);return t.createElement("div",{className:Xt,"data-media-focus-container":!0,tabIndex:-1},_e&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(h.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:se,"aria-label":ee,className:"c-video_player-video",controls:Ae&&!_e?!0:void 0,controlsList:Ae?Ie:void 0,title:U,ref:De,poster:Z,disablePictureInPicture:!0,onLoadedMetadata:ue,onCanPlay:dn,onError:nn},Qe&&t.createElement("source",{src:Qe,type:"video/mp4"}),g.t("Your browser does not support the video tag"),$&&t.createElement(l.A,{vtt:$,enableMediaCaptions:de})))});var M=e(5460331959),O=e(3118200703),I=e(8371678613),D=e(3242899446),P=e(4916948857),k=e(3749524846),R=e(6084388622),V=e(8300007136),B=e(9362126998),W=e(2036354333),L=e(5946832122),S=e(8683010724),H=e(2312625946),w=e(387484329);const F=new A.Ay("video_player"),j=i(x=>{let{vtt:b,isInlinePlayer:z,className:$,backgroundStyle:Z}=x;const U=(0,V.wA)(),ee=(0,v.d4)(ae=>(0,f.ty)(ae,"enable_media_captions")),se=(0,v.d4)(B.y0),de=(0,t.useCallback)(()=>{U((0,w.AZ)({pref:"enable_media_captions",value:!ee}))},[U,ee]),ue=ee&&b?F.t("Turn off captions",{fallbackHash:"c344bd39683fc6566ab53b0d886e93230fd21cbf",fallbackHashNs:"stories_av"}):F.t("Turn on captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"}),_e=F.t("Display captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"});if(!se)return null;const pe=ee?t.createElement(S.A,{name:"closed-caption",variation:"filled",size:"inherit"}):t.createElement(S.A,{name:"closed-caption",size:"inherit"});return t.createElement(H.Ay,{tip:ue,position:"top",delay:H.n1,hideFromScreenReader:!0},z?t.createElement(W.A,{className:(0,n.A)("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":_e,"aria-pressed":ee,onClick:de},pe):t.createElement(L.A,{"aria-label":_e,"aria-pressed":ee,icon:ee?"cc-filled":"cc",onClick:de,size:"medium",className:$,backgroundStyle:Z},"CC"))},"VideoCaptionsButton");j.displayName="VideoCaptionsButton";const J=j;var X=e(5874162200),q=e(9446966957);function G(){return G=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var z=arguments[b];for(var $ in z)Object.prototype.hasOwnProperty.call(z,$)&&(x[$]=z[$])}return x},G.apply(this,arguments)}i(G,"_extends");const ne=new A.Ay("video_scrubber"),te=i(x=>{let{elapsed:b,duration:z,setTime:$}=x;const Z=(0,t.useRef)(null);(0,t.useEffect)(()=>{var de;(de=Z.current)===null||de===void 0||de.toggleAttribute("data-no-drag-on-mouse-move",!0)},[Z]);const U=(0,t.useCallback)(de=>t.createElement("div",G({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:Z},de)),[]),ee=(0,t.useCallback)(de=>t.createElement("div",G({className:"c-video_player_controls_scrubber__track"},de)),[]),se=(0,t.useCallback)(de=>t.createElement("div",G({className:"c-video_player_controls_scrubber__elapsed"},de)),[]);return t.createElement(q.A,{value:b,max:z,onChange:$,renderContainer:U,renderTrack:ee,renderInner:se,"aria-label":ne.t("Time scrubber",{currentTime:(0,X.A)(b),totalTime:(0,X.A)(z),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,X.A)(b)})},"VideoControlsScrubber");te.displayName="VideoControlsScrubber";const le=te;var he=e(2024014560);const fe=new A.Ay("slack_kit_video"),ve=i(x=>{let{onClickOverlay:b,showControls:z=!0,duration:$,elapsed:Z,setTime:U,isPlaying:ee,isLoading:se,videoRef:de,vtt:ue,setShiftCaptionsUp:_e=s.A,onFullscreenButtonClicked:pe,isFullScreen:ae}=x;const Ee=(0,t.useContext)(k.A),[Le,ye]=(0,t.useState)(!1),[Te,Ae]=(0,t.useState)(!1),Ie=(0,t.useRef)(null),Ue=(0,t.useRef)(null),Be=ee?fe.t("Pause",{fallbackHash:"781961bc81c25697841ecce5d4d9dad9f6b261c6",fallbackHashNs:"stories_av"}):fe.t("Play",{fallbackHash:"5d12bd53552cafc41ca6146c04870df2e1574e13",fallbackHashNs:"stories_av"}),we=(0,t.useCallback)(Xe=>{var et,rt;const it=Xe.target,lt=!!(Ee&&(!((et=Ie.current)===null||et===void 0)&&et.contains(it)||!((rt=Ue.current)===null||rt===void 0)&&rt.contains(it)));Ae(lt)},[Ee]),re=(0,t.useCallback)(Xe=>{var et,rt;const it=Xe.relatedTarget,lt=!!(Ee&&(!((et=Ie.current)===null||et===void 0)&&et.contains(it)||!((rt=Ue.current)===null||rt===void 0)&&rt.contains(it)));Ae(lt)},[Ee]),{mouseIsOverElement:ge,onMouseLeave:De,onMouseEnter:be,onMouseMove:xe,onMouseOver:Re}=(0,P.A)(),je=(0,t.useCallback)(()=>{be()},[be]);(0,t.useEffect)(()=>{_e(ge)},[ge,_e]);const Ge=(()=>Z?(0,he.A)(Z*1e3):$?(0,he.A)($*1e3):fe.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"call_buttons"}))(),Qe=se?t.createElement(h.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(S.A,{name:ee?"pause":"play",variation:"filled",inline:!0});return z?t.createElement(M.A,null,Xe=>{let{measureRef:et,width:rt}=Xe;const it=rt||360,lt=!!(it&&it<=330);return t.createElement("div",{className:(0,n.A)("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":Te,"p-video_player_controls_overlay--vertical_volume_active":Le}),onFocus:we,onBlur:re,onMouseEnter:je,onMouseLeave:De,onMouseMove:xe,onMouseOver:Re,"data-prevent-fade":"true",role:"group",ref:et},t.createElement(R.Nm,{className:"c-video_player_controls_overlay__button",onClick:b,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:Ie},t.createElement(le,{elapsed:Z,duration:$,setTime:U}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(R.Nm,{className:(0,n.A)("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":ee}),"aria-label":Be,"aria-pressed":ee,onClick:b},Qe,t.createElement("div",{className:"c-video_player_controls_overlay__time"},Ge)),t.createElement(D.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:lt,setIsVerticalVolumeActive:ye,videoRef:de}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(I.A,{isInlinePlayer:!0,videoRef:de}),ue&&t.createElement(J,{vtt:ue,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:Ue},!ae&&pe&&t.createElement(O.A,{classPrefix:"c-video_player",onClick:pe})))}):null},"VideoOverlay");ve.displayName="VideoOverlay";const me=ve,oe=new A.Ay("slack_kit_video"),N=i(x=>{let{className:b,styleProps:z,title:$,label:Z,src:U,vtt:ee,enableMediaCaptions:se=!1,autoPlay:de,videoPoster:ue,enableControls:_e=!1,controlsList:pe,bubbleErrorOrLoadingStateToParent:ae=s.A,videoContainerClassName:Ee}=x;const Le=(0,t.useRef)(null),[ye,Te]=(0,t.useState)(!1),[Ae,Ie]=(0,t.useState)(!1),[Ue,Be]=(0,t.useState)(!0),[we,re]=(0,t.useState)(0),[ge,De]=(0,t.useState)(0),[be,xe]=(0,t.useState)(!1),Re=(0,v.d4)(Xe=>(0,f.ty)(Xe,"enable_media_captions"))||se;(0,t.useEffect)(()=>{ae&&ae({hasError:Ae,isLoading:Ue})},[Ae,Ue,ae]);const je=(0,t.useCallback)(Xe=>{if(Le!=null&&Le.current){var et;(et=Le.current)===null||et===void 0||et.setCurrentTime(Xe,!1)}else re(Xe)},[Le,re]),Ge=(0,t.useCallback)((Xe,et)=>{et&&De(et)},[]),Qe=(0,t.useCallback)(Xe=>{var et;Xe.stopPropagation(),(et=Le.current)===null||et===void 0||et.togglePlayPause()},[Le]);return t.createElement(r.A,{clogImpression:!0,eventId:E.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:(0,n.A)("c-video_player",b),style:z},t.createElement(T,{title:$,label:Z,src:U,vtt:ee,ref:Le,autoPlay:de,videoPoster:ue,enableControls:_e,controlsList:pe,setIsLoading:Be,isLoading:Ue,isPlaying:ye,setIsPlaying:Te,duration:ge,setDuration:De,setElapsed:re,onLoadedMetadata:Ge,enableMediaCaptions:Re,shiftCaptionsUp:be,setHasError:Ie,videoContainerClassName:Ee}),Ae&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,oe.t("Error loading video. Please try again later."))),t.createElement(me,{onClickOverlay:Qe,elapsed:we,duration:ge,showControls:!_e,setTime:je,isPlaying:ye,isLoading:Ue,videoRef:Le,vtt:ee,setShiftCaptionsUp:xe,onFullscreenButtonClicked:s.A,isFullScreen:!1})))},"VideoPlayer");N.displayName="VideoPlayer";const K=t.memo(N)},8533059483:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>o,YC:()=>s});var t=e(3134334389),n=e(5255740490);const s={TopLeft:"top-left",Top:"top",TopRight:"top-right",BottomLeft:"bottom-left",Bottom:"bottom",BottomRight:"bottom-right",LeftTop:"left-top",Left:"left",LeftRight:"left-bottom",RightTop:"right-top",Right:"right",RightBottom:"right-bottom"},r=null;let d=i(class extends t.PureComponent{componentDidMount(){this.forceUpdate()}render(){const{children:l,coachmarkAnchorClassNames:m,coachmarkElement:c,orientation:_,style:p}=this.props,u=(0,n.A)("c-coachmark-anchor",m);return t.createElement("div",{id:"c-coachmark-anchor",ref:this.anchorRef,className:u,style:p},l,c&&t.cloneElement(c,{anchorElement:this.anchorRef.current,orientation:_}))}constructor(l){super(l),this.anchorRef=t.createRef()}},"DeprecatedCoachmarkAnchor");d.displayName="DeprecatedCoachmarkAnchor";const o=d},736397114:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>q});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(307717037),d=e(4505564445),o=e(2664504268),a=e(4481313819),l=e(4902318931),m=e(1466003359),c=e(6258289677),_=e(4244379358),p=e(4821016610),u=e(7447985439),h=e(2683115972);function E(){return E=Object.assign||function(G){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne];for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&(G[le]=te[le])}return G},E.apply(this,arguments)}i(E,"_extends");let A=i(class extends t.PureComponent{componentDidMount(){this.focusOnButton()}focusOnButton(){this.buttonRef.current&&this.buttonRef.current.focus()}render(){const{children:ne,...te}=this.props;return t.createElement(h.Ay,E({ref:this.buttonRef,"data-qa":"coachmark_close_button"},te),ne)}constructor(ne){super(ne),this.buttonRef=t.createRef(),this.focusOnButton=this.focusOnButton.bind(this)}},"DeprecatedCoachmarkCloseButton");A.displayName="DeprecatedCoachmarkCloseButton";const v=A;var f=e(6105929840),g=e(8739505998),y=e(7727419142),T=e(3864748912),M=e(8683010724),O=e(8193414630),I=e(2322735331),D=e(6244014364),P=e(735940183),k=e(8359728598),R=e(9391594207),V=e(4761125736);function B(){return B=Object.assign||function(G){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne];for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&(G[le]=te[le])}return G},B.apply(this,arguments)}i(B,"deprecated_coachmark_extends");const W=new P.Ay("generic_dialog"),L=(0,k.A)(G=>({qa:G})),S=(0,k.A)((G,ne)=>({overlay:G,content:ne}),2),H=(0,k.A)(G=>[{elementName:`${G}_close_coachmark_button`,action:D.UiAction.CLOSE,onClick:{enableClogAction:!0}},{elementName:`${G}_secondary_cta`,onClick:{enableClogAction:!0}},{elementName:`${G}_primary_cta`,onClick:{enableClogAction:!0}}]),w=i(G=>{G.stopPropagation()},"stopPropagation"),F=i(G=>{(G==null?void 0:G.keyCode)===d.wn&&G.stopPropagation()},"maybeStopPropagation"),j=null;class J extends t.PureComponent{componentDidMount(){this.props.isOpen&&(this.maybeUpdateCoachmarkPosition(),this.pollForChangesToAnchorPosition()),this.props.isMegaphoneCoachmark&&!this.context.isInMegaphoneContainerContext&&(0,m.b)(m.r.DeprecatedCoachmark)}componentDidUpdate(ne){this.props.isOpen&&this.maybeUpdateCoachmarkPosition(),!ne.isOpen&&this.props.isOpen&&this.pollForChangesToAnchorPosition(),ne.isOpen&&!this.props.isOpen&&this.maybeClearInterval()}componentWillUnmount(){this.maybeClearInterval()}onAfterOpen(){const{anchorElement:ne,onAfterOpen:te}=this.props;ne&&(te==null||te(ne))}maybeClearInterval(){this.intervalId&&clearInterval(this.intervalId)}pollForChangesToAnchorPosition(){var ne;this.intervalId=(ne=this.props.windowRef.deref())===null||ne===void 0?void 0:ne.setInterval(this.maybeUpdateCoachmarkPosition,50)}maybeUpdateCoachmarkPosition(){var ne;const{anchorElement:te,forceCoachmarkRefurbish:le,windowRef:he}=this.props;if(!te)return;const fe=te.getBoundingClientRect(),ve=((ne=he.deref())===null||ne===void 0?void 0:ne.innerWidth)||0;(!this.lastAnchorPosition||this.lastWindowWidth!==ve||fe.x!==this.lastAnchorPosition.x||fe.y!==this.lastAnchorPosition.y||le&&(fe.width!==this.lastAnchorPosition.width||fe.height!==this.lastAnchorPosition.height))&&(this.lastAnchorPosition=fe,this.lastWindowWidth=ve,this.forceUpdate())}getComputedStyles(ne,te){const{offsetX:le,offsetY:he,centerOnArrow:fe,forceCoachmarkRefurbish:ve,windowRef:me}=this.props,oe=me.deref(),N=oe?oe.scrollX||oe.pageXOffset:0,K=oe?oe.scrollY||oe.pageYOffset:0,x=(oe==null?void 0:oe.innerWidth)||0,b=(oe==null?void 0:oe.innerHeight)||0,z=20,$={};if(ve){switch(te){case"top-left":$.left=ne.left+le,$.top=ne.top-z+he;break;case"top":$.left=ne.left+le,$.top=ne.top-z+he,fe&&($.left+=ne.width/2);break;case"top-right":$.left=ne.left+le,$.top=ne.top-z+he,fe&&($.left+=ne.width);break;case"bottom-left":$.left=ne.left+le,$.top=ne.top+ne.height+z+he;break;case"bottom":$.left=ne.left+le,$.top=ne.top+ne.height+z+he,fe&&($.left+=ne.width/2);break;case"bottom-right":$.left=ne.left+le,$.top=ne.top+ne.height+z+he,fe&&($.left+=ne.width);break;case"left-top":$.left=ne.left+le+z,$.top=ne.top+he;break;case"left":$.left=ne.left+le+z,$.top=ne.top+ne.height/2+he;break;case"left-bottom":$.left=ne.left+le+z,$.top=ne.top+ne.height+he;break;case"right-top":$.left=ne.left+ne.width+z+le,$.top=ne.top+he;break;case"right":$.left=ne.left+ne.width+z+le,$.top=ne.top+ne.height/2+he;break;case"right-bottom":$.left=ne.left+ne.width+z+le,$.top=ne.top+ne.height+he;break;default:(0,O.Kh)(te);break}return $}switch(te){case"top":$.left=ne.left+N+le,$.top=ne.top+K-ne.height+he,fe&&($.left+=ne.width/2);break;case"bottom":$.left=ne.left+N+le,$.top=ne.top+K+ne.height+z+he,fe&&($.left+=ne.width/2);break;case"right":$.left=ne.left+N+ne.width+z+le,$.top=ne.top+K+ne.height/2+he;break;case"left":$.left=ne.left+N+le,$.top=ne.top+K+ne.height/2+he;break;case"bottom-left":$.right=x-ne.right+le,$.top=ne.top+K+ne.height+z+he;break;case"top-left":$.right=x-ne.right+le,$.bottom=b-ne.top+he,fe&&($.left+=ne.width/2);break;case"left-top":$.left=ne.left+N+le,$.top=ne.top+he;break;default:break}return $}renderModalContent(){const{children:ne,closeCoachmark:te,isOpen:le,onClickPrimaryButton:he,onClickSecondaryButton:fe,onClickTertiaryButton:ve,primaryCallToActionText:me,secondaryCallToActionText:oe,tertiaryCallToActionText:N,primaryCallToActionType:K,secondaryCallToActionType:x,autoClogProps:b,contentLabel:z,labelledby:$,describedby:Z,hideCloseButton:U,experimentNonModalCoachmarkGroupTreatment:ee,enableSectionNavigation:se}=this.props,de=N||oe||me,[ue,_e,pe]=H(b==null?void 0:b.elementName),ae=t.createElement(p.A,null,!U&&t.createElement(f.A,{className:"c-coachmark__close",onClick:te,"aria-label":W.t("Close"),"data-qa":"close_coachmark_button",autoClogProps:ue,autoFocus:!!(z||$||Z)&&!de},t.createElement(M.A,{name:"close",size:"20"})),ne,de&&t.createElement("div",{className:"c-coachmark__footer"},N&&t.createElement(t.Fragment,null,t.createElement(g.A,{onClick:ve,"data-action-type":"tertiary"},N),t.createElement("div",{className:"flex_one"})),oe&&t.createElement(v,{onClick:fe,type:x,className:"margin_right_75","data-action-type":"secondary",autoClogProps:_e},oe),me&&t.createElement(v,{onClick:he,type:K,"data-action-type":"primary",autoClogProps:pe},me)));return ee?t.createElement(u.A,{id:this.id,index:T.A.SECONDARY_VIEW+.1,focusFn:s.A,onFocus:w,enableSectionNavigation:se&&le,onKeyDown:F},ae):ae}render(){const{anchorElement:ne,arrowPosition:te,closeCoachmark:le,coachmarkClassNames:he,overlayClassNames:fe,modalBodyOpenClassNames:ve,qa:me,isOpen:oe,orientation:N,centerOnArrow:K,style:x,overlayStyle:b,autoClogProps:z,contentLabel:$,labelledby:Z,describedby:U,forceCoachmarkRefurbish:ee,UNSAFE_parentSelector:se,shouldCloseOnOverlayClick:de,isModal:ue,experimentNonModalCoachmarkGroupTreatment:_e}=this.props;if(!oe||!ne||!this.lastAnchorPosition)return null;const pe=(0,n.A)("c-coachmark",`c-coachmark--${N}`,`c-coachmark--${te}`,{"c-coachmark--center_on_arrow":K,"c-coachmark--refurbish":ee},he),ae=(0,n.A)("c-coachmark__overlay",fe),Ee=(0,n.A)(ve),Le=this.getComputedStyles(this.lastAnchorPosition,N),ye=(0,r.A)({},Le,x),Te=(0,r.A)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},b),Ae={...z};return delete Ae.elementName,t.createElement(t.Fragment,null,t.createElement(a.A,B({disableValidationWarnings:!0,enableClogImpressionOffScreen:!0,clogImpression:oe},Ae),t.createElement(c.A,B({data:L(me),className:pe,isOpen:oe,onRequestClose:le,overlayClassName:ae,bodyOpenClassName:Ee,ref:this.contentRef,shouldCloseOnEsc:!0,style:S(Te,ye),contentLabel:$},_e?{ariaHideApp:ue,aria:{labelledby:Z,describedby:U,modal:ue}}:{aria:{labelledby:Z,describedby:U}},{onAfterOpen:this.onAfterOpen,parentSelector:se,shouldCloseOnOverlayClick:de}),this.renderModalContent())),t.createElement(y.J,{isOverlayOpen:oe}))}constructor(ne){super(ne),this.contentRef=t.createRef(),this.id=`Coachmark_${(0,o.A)()}`,(0,I.v)(this,["maybeUpdateCoachmarkPosition","onAfterOpen"])}}i(J,"DeprecatedBaseCoachmark"),J.displayName="DeprecatedBaseCoachmark",J.defaultProps={arrowPosition:50,closeCoachmark:s.A,qa:"coachmark",offsetX:0,offsetY:0,onClickPrimaryButton:s.A,onClickSecondaryButton:s.A,onClickTertiaryButton:s.A,primaryCallToActionType:"primary",secondaryCallToActionType:"outline",centerOnArrow:!1,autoClogProps:{elementName:"unset"},isMegaphoneCoachmark:!0,shouldCloseOnOverlayClick:!0,isModal:!1,enableSectionNavigation:!0},J.contextType=l.$W;const X=i(G=>({experimentNonModalCoachmarkGroupTreatment:(0,V._Z)(G,"non_modal_coachmark")==="treatment"}),"mapStateToProps"),q=(0,_.A)((0,R.N)(X,void 0,void 0,{forwardRef:!0})(J))},9574544148:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(1649982175),s=e(3297051565),r=e.n(s),d=e(9262712126),o=e(8921478798),a=e(3534324375),l=e(735940183),m=e(9391594207),c=e(5761207079);function _(){return _=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(f[T]=y[T])}return f},_.apply(this,arguments)}i(_,"_extends");const p=new l.Ay("files"),u={name:r().string.isRequired,isChannelFiles:r().bool,showMemberNameIfHidden:r().bool},h={isChannelFiles:!1,showMemberNameIfHidden:!1},E=i(f=>{const g=(0,n.A)(f,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let y=f.name;if(f.isChannelFiles){const T=f.name;y=p.t("Shared by {memberName}",{memberName:T})}return t.createElement("span",_({},g),y)},"MemberName");E.displayName="MemberName",E.propTypes=u,E.defaultProps=h;const A=i((f,g)=>{const{id:y,member:T,skipPrefCompliance:M,showMemberNameIfHidden:O}=g;if(M)return{name:(0,d.wg)(T)};let I;return!O&&(0,c.a)(f,y)?I=p.t("Name hidden"):I=T?(0,a.sE)(f,T,!1,!1,M,!1):(0,o.I)(f,y,!1,!1,!1,!1),{name:I}},"mapStateToProps"),v=(0,m.N)(A)(E)},6496493732:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(7715417323),s=e(6084388622),r=e(4979382452),d=e(4636370173),o=e(2465132699),a=e(8523371695),l=e(3606117573),m=e(8029613601),c=e(4947127560),_=e(735940183);const p=new _.Ay("generic_dialog"),u=i(E=>{let{title:A,children:v,submitButtonType:f="primary",submitButtonText:g=p.t("Confirm"),submitButtonIsDisabled:y=!1,submitButtonIsLoading:T=!1,showCancelButton:M=!0,showCloseButton:O=!0,showSubmitButton:I=!0,cancelButtonText:D=p.t("Cancel"),onSubmit:P=n.A,onCancel:k=n.A,onClose:R=n.A,"aria-describedby":V,"data-qa":B="dialog",className:W,overlayClassName:L,submitAutoClogProps:S,cancelAutoClogProps:H,shouldReturnFocusAfterClose:w=!0}=E;return t.createElement(r.A,{describedby:V,closeModal:R,role:"dialog",className:W,overlayClassName:L,dataQa:B,shouldReturnFocusAfterClose:w,showCloseButton:O},t.createElement(m.A,null,t.createElement(c.A,{title:A,"data-qa":`${B}_header`})),t.createElement(d.A,null,t.createElement(o.A,{"data-qa":`${B}_body`},v)),(M||I)&&t.createElement(a.A,{"data-qa":`${B}_footer`},t.createElement(l.A,null,M&&t.createElement(s.Ay,{type:"outline",onClick:k,"data-qa":`${B}_cancel`,autoClogProps:H},D),I&&t.createElement(s.lV,{type:f,onClick:P,loading:T,disabled:y,"data-qa":`${B}_go`,autoClogProps:S},g))))},"DialogModalProps");u.displayName="DialogModalProps";const h=u},8661826718:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M,k:()=>v});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(4559887502),d=e(6007206761),o=e(6194667569),a=e(3914799651),l=e(3654840599),m=e(2671211451),c=e(3877384923),_=e(9285382326),p=e(796111729),u=e(4757466470),h=e(9391594207),E=e(9101533895);function A(){return A=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(O[P]=D[P])}return O},A.apply(this,arguments)}i(A,"_extends");function v(O){return!(0,s.LI)(O)&&!(0,s.yz)(O)}i(v,"shouldUseInlineChannelEntity");const f="INLINE-CHANNEL-ENTITY";function g(O){let{className:I,channel:D,bestFormerName:P,displayFormerNames:k=c.P.false,logger:R,boldIcon:V=!1,showTeam:B=!0,truncate:W=!1,truncateWidth:L,overrideHiddenName:S,overrideHiddenIcon:H,withTruncationTooltip:w,channelNameClassName:F,omitNonExistentTooltip:j,channelHasNonUniqueName:J=!1,showDisambiguatingTeamName:X=!1}=O;const q=(0,s.t8)(D),G=(0,s.QR)(D||null),ne=(0,t.useCallback)(oe=>{let{className:N,...K}=oe;return(!G||H)&&t.createElement(l.A,A({},K,{bold:V,className:N,channel:D,overrideHiddenIcon:H}))},[D,V,G,H]);if(!v(D||null))return R==null||R.warn(f,"InlineChannelEntity should not display IMs or MPIMs"),null;const te=(0,n.A)(I,"c-inline_channel_entity"),le=(0,d.F)(D)?c.pI.dim:void 0,he=D&&S?{...D,name:S}:D||void 0,fe=(0,n.A)(F,"c-inline_channel_entity__content"),ve=J&&X,me=(q||G)&&!S?t.createElement(_.A,{"data-qa":"inline_channel_entity__missing",type:q?"unknown":"non-existent",size:"small",width:L,omitNonExistentTooltip:j}):t.createElement("span",{className:fe},t.createElement(o.A,{bold:V,channel:he,bestFormerName:P,displayFormerNames:k,showTeam:B,showTeamForLocalChannel:ve,width:L,"data-qa":"inline_channel_entity__name",overrideHiddenName:S}));return t.createElement(m.A,{avatar:ne,className:te,"data-qa":"inline_channel_entity","data-channel-id":D&&D.id,style:le,truncate:W,truncateWidth:L,withTruncationTooltip:w,primaryContent:me,secondaryContent:L&&t.createElement(t.Fragment,null,B&&t.createElement(a.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:he,"data-qa":"inline_channel_entity__team"}))})}i(g,"InlineChannelEntity"),g.displayName="InlineChannelEntity";function y(O){return Object.prototype.hasOwnProperty.call(O,"channel")}i(y,"propsContainsChannel");function T(O,I){const D=y(I)?I.channel:(0,E.OL)(O,I.channelId);let P;return I.showDisambiguatingTeamName&&(P=(0,r.i)((0,E.MS)(O),D)),{channel:D,channelHasNonUniqueName:P,logger:(0,p.Ay)({state:O})}}i(T,"mapStateToProps");const M=(0,h.N)(T,null,null,{areStatePropsEqual:u.kt})(g)},5387475318:(Q,C,e)=>{"use strict";e.d(C,{A:()=>I});var t=e(3134334389),n=e(5255740490),s=e(6696292586),r=e(9884588328),d=e(1407713935),o=e(4559887502),a=e(6007206761),l=e(6119417095),m=e(6194667569),c=e(5273017660),_=e(3877384923),p=e(9285382326),u=e(796111729),h=e(735940183),E=e(9391594207),A=e(9101533895),v=e(8286248123);function f(){return f=Object.assign||function(D){for(var P=1;P<arguments.length;P++){var k=arguments[P];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(D[R]=k[R])}return D},f.apply(this,arguments)}i(f,"_extends");const g=new h.Ay("channel_entity"),y="SMALL-CHANNEL-ENTITY";function T(D){let{className:P,channel:k,bestFormerName:R,inlineNameSuffix:V,invert:B=!1,logger:W,displayFormerNames:L=_.P.false,showTeamForLocalChannel:S,showDraftIcon:H=!1,showFilledIcon:w=!1,showTeam:F,memberCount:j,onlyBoldIfUnread:J=!1,showTruncatedChannelNameTooltip:X=!1,"data-qa":q="small_channel_entity",channelHasNonUniqueName:G=!1,showDisambiguatingTeamName:ne=!1}=D;const te=(0,t.useCallback)(z=>t.createElement(l.A,f({},z,{className:"c-small_channel_entity__icon",channel:k,size:_.RG.small,showDraftIcon:H,showFilledIcon:w})),[k,H,w]);if((0,d.LI)(k)||(0,d.yz)(k))return W==null||W.warn(y,"SmallChannelEntity should not display IMs or MPIMs"),null;const le=(0,n.A)(P,"c-small_channel_entity"),he=!J||(0,r.KJ)(k),fe=(0,d.t8)(k),ve=(0,d.QR)(k);let me=(0,a.F)(k)?_.pI.dim:void 0;B&&(me=_.pI.highlightDark);let oe=null;if((0,s.A)(j)){const z=g.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:j,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});oe=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":z},"(",j,")")}const N=G&&ne,K=t.createElement(m.A,{channel:k,bestFormerName:R,inlineNameSuffix:V,displayFormerNames:L,showTeamForLocalChannel:S||N,showTeam:F,bold:!!he}),x=X?t.createElement(c.CG,{withTruncationTooltip:!0},K):K,b=(0,n.A)("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":X});return t.createElement(c.Ay,{avatar:te,className:le,"data-qa":q,size:"small",style:me,text:t.createElement(c.CG,null,fe||ve?t.createElement(p.A,{type:fe?"unknown":"non-existent",invert:B,size:"small"}):t.createElement("span",{className:b},x,V&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},V),oe))})}i(T,"SmallChannelEntity"),T.displayName="SmallChannelEntity";function M(D){return Object.prototype.hasOwnProperty.call(D,"channel")}i(M,"propsContainsChannel");function O(D,P){let k;if(P.showMemberCounts){var R;const W=(0,v.q8)(D,M(P)?(0,r.FB)(P.channel):P.channelId);k=W?W==null||(R=W.counts)===null||R===void 0?void 0:R.member_count:null}const V=M(P)?P.channel:(0,A.OL)(D,P.channelId);let B;return P.showDisambiguatingTeamName&&(B=(0,o.i)((0,A.MS)(D),V)),{memberCount:k,channel:V,logger:(0,u.Ay)({state:D,label:y}),channelHasNonUniqueName:B}}i(O,"mapStateToProps");const I=(0,E.N)(O)(T)},5103164797:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5387475318),s=e(2828836153),r=e(3877384923),d=e(9163962844),o=e(9391594207),a=e(9101533895);function l(){return l=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var v in A)Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}return h},l.apply(this,arguments)}i(l,"_extends");function m(h,E,A){if(h)return E||A?r.pI.highlightDim:r.pI.highlightDark;if(E||A)return r.pI.dim}i(m,"getBaseStyle");function c(h){let{className:E,secondaryContent:A,isActive:v=!1,isDeactivated:f=!1,isDisabled:g=!1,showUnreadBadge:y=!1,badgeCount:T=0,onlyBoldIfUnread:M=!1,...O}=h,I=A;y&&(I=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},A,t.createElement(d.A,{count:T,className:"c-channel_entity__mentions",style:v?"white":"red"})));const D=m(v,g,f);return t.createElement(s.A,{className:E,primaryContent:t.createElement(n.A,l({invert:D===r.pI.highlightDark,onlyBoldIfUnread:M},O)),secondaryContent:I,size:"small",style:D})}i(c,"SmallChannelListEntity"),c.displayName="SmallChannelListEntity";function _(h){return Object.prototype.hasOwnProperty.call(h,"channel")}i(_,"propsContainsChannel");function p(h,E){const A=_(E)?E.channel:(0,a.OL)(h,E.channelId),v=E.showUnreadBadge?E.badgeCount||(0,a.TJ)(h,A):0;return{channel:A,badgeCount:v}}i(p,"mapStateToProps");const u=(0,o.N)(p)(c)},6119417095:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(890457517),d=e(3877384923),o=e(8683010724),a=e(2562405183);function l(){return l=Object.assign||function(_){for(var p=1;p<arguments.length;p++){var u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},l.apply(this,arguments)}i(l,"_extends");function m(_){let{size:p=d.RG.medium,className:u,channel:h,showDraftIcon:E=!1,showFilledIcon:A=!1}=_;const v=(0,s.t8)(h),f=(0,a.d4)(g=>(0,r.Ay)(g,h,{filled:A,showDraftIcon:E}));return p!==d.RG.small&&(f.inline=!0),t.createElement("span",{className:(0,n.A)("c-channel_icon",{"c-channel_icon--unknown":v,"c-channel_icon--with-background":p!==d.RG.small},u),"data-channel-type-icon":(f==null?void 0:f.name)||"unknown"},!v&&t.createElement(o.A,l({},p===d.RG.small?{size:"18"}:{},f)))}i(m,"ChannelIcon"),m.displayName="ChannelIcon";const c=m},6194667569:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(3134334389),n=e(5255740490),s=e(9113979368),r=e(6159136815),d=e(9884588328),o=e(6007206761),a=e(395285811),l=e(4630136761),m=e(2188787324),c=e(3634593162),_=e(6839188756),p=e(3914799651),u=e(3654840599),h=e(3877384923),E=e(82287009),A=e(1596328926),v=e(735940183),f=e(9391594207),g=e(937317117),y=e(3677514771);function T(){return T=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var V=arguments[R];for(var B in V)Object.prototype.hasOwnProperty.call(V,B)&&(k[B]=V[B])}return k},T.apply(this,arguments)}i(T,"_extends");const M=new v.Ay("search"),O=new v.Ay("inline_channel");function I(k){const{bestFormerName:R,bold:V=!0,channel:B,channelName:W,overrideHiddenName:L,width:S,displayFormerNames:H=h.P.true,isChannelFrozenAndInGracePeriod:w,showTeam:F=!0,showTeamForLocalChannel:j=!1,showTeamName:J,titleBlocks:X}=k,q=(0,o.F)(B)&&!w;let G=`${L??W}${q?` ${M.t("(archived)")}`:""}`,ne;if(H)if(R){const le=t.createElement(u.A,{bold:V,className:"c-channel_name__former_channel_icon",channel:B}),he=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(r.A,{text:R,showTooltips:!1}));ne=R&&t.createElement("span",{className:"c-channel_name__suffix"},O.rt(" (formerly {icon}{name})",{icon:le,name:he,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}))}else{let le;const he=(0,d.Hx)(B);if(he&&!(0,s.A)(he)){const fe=he.map(me=>`#${me}`);le=(0,v.jd)(fe,{noConj:!0}).join("")}le&&(G+=` ${O.t("(formerly {names})",{names:le,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'})}`)}const te=(0,n.A)("c-channel_entity__name",{"c-channel_entity__name--bold":V});return t.createElement(t.Fragment,null,t.createElement("span",T({className:te},(0,A.A)(k)),X??t.createElement(t.Fragment,null,t.createElement(r.A,{text:G,showTooltips:!1}),H&&ne)),!S&&t.createElement(t.Fragment,null,F&&t.createElement(p.A,{className:"c-channel_entity__team",iconSize:h.RG.inline,channel:B,"data-qa":"channel_entity__team",shouldRender:j,showTeamName:J})))}i(I,"ChannelName"),I.displayName="ChannelName";function D(k,R){let{channel:V,includeChannelPrefix:B}=R;const W=(0,y.H7)(k)||(0,y.lp)(k),L=(0,_.ZT)(W),S=V&&(0,a.jT)(V)&&(0,c.l)(V.id),H=S?(0,g.Lp)(k,S):void 0,w=H&&(0,m.U9)(H)?(0,E.GU)({id:S,fileId:S,size:"caption",truncate:!1}):null;var F;return{channelName:(F=(0,d.SB)(k,V,{publicChannelIncludeHashSign:!!B,imIncludeAtSign:!1}))!==null&&F!==void 0?F:void 0,titleBlocks:w,isChannelFrozenAndInGracePeriod:(0,l.sP)(L,V)}}i(D,"mapStateToProps");const P=(0,f.N)(D)(I)},3914799651:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(9884588328),r=e(6839188756),d=e(9950739645),o=e(9391594207),a=e(9101533895),l=e(3677514771);let m=i(class extends t.Component{render(){const{shouldRender:u,team:h,className:E}=this.props;return!u||!h?null:t.createElement("div",{className:(0,n.A)("c-channel_team","c-channel_team--xws",E),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,r.F1)(h)))}},"ChannelTeam");m.displayName="ChannelTeam";const c=i((p,u)=>{let{channel:h,channelId:E,shouldRender:A}=u;const v=h||(0,a.OL)(p,E),f=!!(v!=null&&v.context_team_id&&(0,d.B)(p,v.context_team_id));let g;if((0,s.lo)(v))g=(0,l._J)(p,(0,s.bK)(p,v));else if(A||f){const y=(0,s.ne)(p,v);g=(y?(0,l._J)(p,y):void 0)||(0,l.H7)(p)}return{shouldRender:A||f||!!(0,s.lo)(v),team:g??void 0}},"mapStateToProps"),_=(0,o.N)(c)(m)},3654840599:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(890457517),d=e(8683010724),o=e(2562405183);function a(){return a=Object.assign||function(c){for(var _=1;_<arguments.length;_++){var p=arguments[_];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(c[u]=p[u])}return c},a.apply(this,arguments)}i(a,"_extends");const l=i(c=>{let{className:_,filled:p,bold:u,channel:h,disableArchived:E,overrideHiddenIcon:A}=c;const v=(0,o.d4)(g=>A||(0,r.Ay)(g,h,{filled:p||(0,s.Zp)(h),bold:u,disableArchived:E})),f=(0,n.A)(_,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.createElement("span",{className:f,"data-inline-channel-type-icon":v.name},t.createElement(d.A,a({inline:!0},v)))},"InlineChannelIcon");l.displayName="InlineChannelIcon";const m=t.memo(l)},890457517:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>I,PR:()=>M,pH:()=>y});var t=e(5892132962),n=e(9884588328),s=e(1407713935),r=e(6007206761),d=e(395285811),o=e(4630136761),a=e(2188787324),l=e(3634593162),m=e(6839188756),c=e(9101533895),_=e(937317117),p=e(3677514771);const u={name:"archive"},h={name:"archive",variation:"filled"},E={name:"edit"},A={name:"edit",variation:"filled"},v={name:"file"},f={name:"lists"},g={name:"lock"},y={name:"lock",variation:"filled"},T={name:"channel"},M={name:"channel",variation:"filled"},O={name:"canvas"};function I(D,P){let{filled:k,bold:R,disableArchived:V,showDraftIcon:B}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const W=(0,p.H7)(D)||(0,p.lp)(D),L=(0,m.ZT)(W);if(!(0,o.sP)(L,P)&&((0,r.F)(P)&&!V||(0,o.Zz)(P)))return k?h:u;if(B&&(0,n.yc)(D,P.id))return k?A:E;if((0,d.jT)(P)){const H=(0,_.Lp)(D,(0,l.l)(P.id));if((0,a.wL)(H))return O;if((0,a.aD)(H)){const w=(0,c.Pf)(D,H.id),F=(0,c.OL)(D,w);return(0,s.Zp)(F)||(0,s.JM)(F)?k?y:g:O}return(0,a.l7)(H)?f:v}const S=(0,t.sc)(P);return S||((0,s.Zp)(P)?k?y:g:R?M:T)}i(I,"getChannelIconType")},444524526:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(3750057149),r=e(3037015781),d=e(8170643398),o=e(9262712126),a=e(4562579337),l=e(1084169413),m=e(2671211451),c=e(3877384923),_=e(9391594207),p=e(5761207079),u=e(8276911661),h=e(3146663623);function E(f){const{className:g,forceRealName:y=!1,id:T,member:M,truncate:O=!1,truncateWidth:I,withTruncationTooltip:D=!1,"data-qa":P="inline_member_entity",isBold:k=!0,showAppOrBotBadge:R,isUserHidden:V=!1}=f,B=(0,n.A)(g,"c-inline_member_entity"),W=(0,a.A)(M),L=(0,d.v3)(M),S=(0,d.oy)(M),H=(0,r.lv)(M),w=(0,r.mX)(M),F=(0,o.wg)(M),j=(0,o.Fh)(M);let J;y||!j?J=F:J=j;const X=S?c.pI.dim:void 0;return t.createElement(m.A,{className:B,"data-qa":P,"data-member-id":T||(M==null?void 0:M.id),style:X,truncate:O,truncateWidth:I,withTruncationTooltip:D,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(l.A,{isBold:k,name:J,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:W,isWorkflowBot:L,isDeleted:S,isNonExistent:H,isUnknown:w,showAppOrBotBadge:R,isUserHidden:V}))})}i(E,"InlineMemberEntity"),E.displayName="InlineMemberEntity";function A(f,g){let{forceRealName:y,member:T,id:M}=g;const O=T||(0,u.nv)(f,M);return{member:O??void 0,forceRealName:(0,s.A)(y)?y:(0,h.E)(f),isUserHidden:O&&(0,p.a)(f,O.id)}}i(A,"mapStateToProps");const v=(0,_.N)(A)(E)},7076189804:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>R,lP:()=>D});var t=e(3134334389),n=e(5255740490),s=e(2486585453),r=e(3037015781),d=e(9884588328),o=e(8170643398),a=e(9262712126),l=e(3534324375),m=e(4562579337),c=e(4775127335),_=e(1084169413),p=e(1464713483),u=e(51460783),h=e(161084047),E=e(3534100833),A=e(3877384923),v=e(9828955991),f=e(8683010724),g=e(82287009),y=e(9391594207),T=e(9101533895),M=e(5761207079),O=e(8276911661);function I(){return I=Object.assign||function(V){for(var B=1;B<arguments.length;B++){var W=arguments[B];for(var L in W)Object.prototype.hasOwnProperty.call(W,L)&&(V[L]=W[L])}return V},I.apply(this,arguments)}i(I,"_extends");const D={right:"right",bottom:"bottom"};function P(V){const{className:B,id:W,invert:L=!1,member:S,memberPrimaryName:H,memberSecondaryName:w,secondaryContent:F,secondaryContentPosition:j=D.bottom,subtext:J,showSubtext:X=!0,showAvatar:q=!0,showDraftIcon:G=!1,showPresence:ne=!0,showStatus:te=!0,showTooltip:le=!0,showAppOrBotBadge:he=!0,isDeactivated:fe=!1,useShortMode:ve,showHoverCard:me=!1,forwardedRef:oe,"data-sk":N="medium_member_entity","data-qa":K="medium_member_entity",isUserHidden:x=!1,noStatusText:b=!1}=V,z=(0,m.A)(S),$=(0,o.v3)(S),Z=(0,o.oy)(S),U=(0,o.fy)(S),ee=(0,o.hh)(S),se=(0,r.lv)(S),de=(0,r.mX)(S),ue=t.createElement(_.A,{"data-qa":"member-entity__primary-name",name:H,invert:L&&!fe,isAppOrBot:z,isWorkflowBot:$,showAppOrBotBadge:he,isDeleted:Z,isSelf:U,isNonExistent:se,isUnknown:de,isUserHidden:x}),_e=(0,g.yN)({memberId:W,children:ue}),pe=!x&&t.createElement(E.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},w),ae=S&&t.createElement(h.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,o.rN)(S)),Ee=!Z&&!ee&&t.createElement(v.Ay,{memberId:W,className:"c-member__presence",invert:L&&!fe,"data-qa":"member-entity__presence",inline:!1}),Le=t.createElement(s.A,{memberId:W,tooltip:le,animated:ve,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:b}),ye=j===D.bottom&&F?t.createElement(u.A,{"data-qa":"member-entity__metadata"},F):null,Te=t.createElement("span",{className:"c-member__primary_content"},me?_e:ue,ne&&Ee,!ve&&pe,te&&Le),Ae=Z||fe?A.pI.dim:void 0,Ie=(0,n.A)(B,"c-member","c-member--medium",{"c-member--with-presence":ne}),Ue=(0,t.useCallback)(Be=>q&&(G?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(f.A,{name:"edit"})):t.createElement(c.Ay,I({},Be,{size:A.RG.medium,userId:W,"data-qa":"member-entity__avatar",isInteractive:!1}))),[q,G,W]);return t.createElement(p.A,{avatar:Ue,className:Ie,size:"medium",style:Ae,text:Te,subtext:X&&(J||ae),metadata:!Z&&ye,"data-qa":K,"data-sk":N,forwardedRef:oe})}i(P,"MediumMemberEntity"),P.displayName="MediumMemberEntity";function k(V,B){let{id:W,isDraftContext:L,member:S,showStatus:H}=B;const w=S||(0,O.nv)(V,W);let F=!1;if(L&&W){const J=(0,T.Pu)(V,W);F=!!(J&&(0,d.yc)(V,J.id))}const j=W||(w==null?void 0:w.id);return{id:j,member:w??void 0,memberPrimaryName:(0,l.sE)(V,w,!1,!1),memberSecondaryName:(0,a.Mu)(V,w),showDraftIcon:F,showStatus:H&&(0,o.aH)(w),isUserHidden:!!j&&(0,M.a)(V,j)}}i(k,"mapStateToProps");const R=(0,y.N)(k)(P)},4822627003:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5255740490),s=e(9438480351),r=e(7076189804),d=e(2828836153),o=e(3877384923),a=e(2762351398),l=e(9391594207),m=e(8276911661);function c(){return c=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var v in A)Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}return h},c.apply(this,arguments)}i(c,"_extends");let _=i(class extends t.Component{render(){const{className:E,isActive:A=!1,isDeactivated:v=!1,isDisabled:f=!1,secondaryContent:g,secondaryContentPosition:y=r.lP.right,showUnreadCount:T=!1,showStatus:M,showPresence:O,useShortMode:I=!1,showHoverCard:D,forwardedRef:P,unreadCount:k,ariaLabel:R}=this.props,V=T&&k&&t.createElement(a.Ay,{className:"c-member__unread_count",count:k,style:a.rY.red}),B=g&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},g),W=(y===r.lP.right&&B||V)&&t.createElement("span",{className:"c-member__secondary_content"},y===r.lP.right&&B,V),L=(0,n.A)(E,"c-medium_member_list_entity");let S;return A?f||v?S=o.pI.highlightDim:S=o.pI.highlightLight:(f||v)&&(S=o.pI.dim),t.createElement(d.A,{"data-qa":"medium_member_list_entity",className:L,style:S,primaryContent:t.createElement(r.Ay,c({},this.props,{secondaryContent:y===r.lP.right?null:g,showStatus:M,showPresence:O,showHoverCard:D,useShortMode:I,forwardedRef:P})),secondaryContent:W,size:"medium",ariaLabel:R})}},"MediumMemberListEntity");_.displayName="MediumMemberListEntity";function p(h,E){let{id:A}=E;const v=(0,m.nv)(h,A);return{member:v??void 0,unreadCount:(0,s.A)(h,v)}}i(p,"mapStateToProps");const u=(0,l.N)(p,null,null,{forwardRef:!0})(_)},5289504844:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>F,Cg:()=>L});var t=e(3134334389),n=e(5255740490),s=e(3750057149),r=e(7278430876),d=e(3037015781),o=e(9884588328),a=e(8170643398),l=e(9438480351),m=e(9262712126),c=e(4562579337),_=e(5096647761),p=e(6536982570),u=e(4775127335),h=e(1084169413),E=e(5273017660),A=e(3534100833),v=e(3877384923),f=e(2762351398),g=e(8028620372),y=e(9828955991),T=e(8683010724),M=e(5484624422),O=e(735940183),I=e(9391594207),D=e(9101533895),P=e(4761125736),k=e(5761207079),R=e(8276911661),V=e(3146663623);function B(){return B=Object.assign||function(j){for(var J=1;J<arguments.length;J++){var X=arguments[J];for(var q in X)Object.prototype.hasOwnProperty.call(X,q)&&(j[q]=X[q])}return j},B.apply(this,arguments)}i(B,"_extends");const W=20,L=16,S=new O.Ay("members");function H(j){const{className:J,id:X,invert:q=!1,member:G,teamId:ne,showAvatar:te=!0,showDraftIcon:le=!1,showPresence:he=!0,showBadge:fe=!0,showStatus:ve=!0,showTooltip:me=!0,showUnreadCount:oe=!1,showDeactivated:N=!0,isDeactivated:K=!1,unreadCount:x,useShortMode:b=!1,forceRealName:z=!1,tokenSize:$,truncateStatus:Z=!1,withTruncationTooltip:U,"data-sk":ee="small_member_entity","data-qa":se="small_member_entity",isBold:de,experimentSidebarPrefsApplyToMenusGroupOn:ue=!1,isUserHidden:_e=!1}=j,pe=(0,c.A)(G),ae=(0,a.v3)(G),Ee=(0,a.oy)(G),Le=(0,_.g)(G),ye=(0,a.fy)(G),Te=(0,a.hh)(G),Ae=(0,d.lv)(G),Ie=(0,d.mX)(G),Ue=Ae||Ie,Be=q&&!K,we=N&&Ee,re=(0,m.wg)(G),ge=(0,m.Fh)(G);let De,be;_e?(De=S.t("Name hidden"),be=S.t("Name hidden")):z||!ge?(De=re,be=ge):(De=ge,be=re);const xe=t.createElement(h.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:De,invert:Be,isAppOrBot:pe,isWorkflowBot:ae,isDeleted:we,isSelf:ye,isNonExistent:Ae,isUnknown:Ie,withTruncationTooltip:U,isBold:de}),Re=!_e&&!Te&&t.createElement(A.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},be),je=(0,t.useMemo)(()=>!_e&&!Ee&&!Te&&t.createElement(y.Ay,{memberId:X||(G==null?void 0:G.id),className:"c-member__presence",invert:Be,inline:!1}),[_e,Ee,Te,X,Be,G]),Ge=(0,t.useCallback)(Et=>te?_e?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(T.A,{size:"20",name:"user-hide"})):Ue?t.createElement(g.A,B({},Et,{"data-qa":"member-entity__missing",isNonExistent:Ae,size:W})):le?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(T.A,{name:"edit"})):t.createElement(u.Ay,B({},Et,{"data-qa":"member-entity__avatar",size:v.RG.small,userId:X,user:G,showBadge:fe,tabIndex:-1,isInteractive:!1,tokenSize:$})):he&&ue?je:null,[te,X,Ae,Ue,G,$,le,_e,je,he,fe,ue]),Qe=Le&&t.createElement(M.A,B({},j,{"data-qa":"member-entity__team-icon",id:ne,size:L,className:"c-member__team_icon"})),Xe=t.createElement(r.A,{memberId:X||"",tooltip:me,animated:b,className:(0,n.A)("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:Z}),"data-qa":"member-entity__status"}),et=oe&&!!x&&t.createElement(f.Ay,{className:"c-member__unread_count",count:x,style:Be?"white":"red","data-qa":"member-entity__mention-badge"}),rt=t.createElement("span",{className:"c-member__primary_content"},xe,he&&!Ue&&te&&je,!b&&Re,ve&&Xe),it=(Qe||et)&&t.createElement("span",{className:"c-member__secondary_content"},Qe,et),lt=Ee&&!q?v.pI.dim:void 0,ot=(0,n.A)(J,"c-member","c-member--small",{"c-member--with-presence":he,"c-member--deleted":Ee,"c-base_entity--dim":_e});return t.createElement(E.Ay,{avatar:Ge,className:ot,text:rt,size:"small",style:lt,subtext:it,"data-qa":se,"data-sk":ee})}i(H,"SmallMemberEntity"),H.displayName="SmallMemberEntity";function w(j,J){let{forceRealName:X,member:q,id:G,isDraftContext:ne,showStatus:te,onlyBoldIfUnread:le,useShortMode:he,neverBold:fe}=J;const ve=q||(0,R.nv)(j,G);let me;const oe=G||(ve==null?void 0:ve.id);oe&&(ne||le)&&(me=(0,D.Pu)(j,oe));const N=(0,k.a)(j,oe);let K=!0;N?K=!!he:le?K=!!(me&&(0,o.KJ)(me)):fe&&(K=!1);let x;return ne&&(x=!!(me&&(0,o.yc)(j,me.id))),{id:G||(ve==null?void 0:ve.id),member:ve??void 0,teamId:(0,p.Ux)(j,ve),forceRealName:(0,s.A)(X)?X:(0,V.E)(j),unreadCount:(0,l.A)(j,ve),showDraftIcon:x,showStatus:te&&(0,a.aH)(ve),isBold:K,experimentSidebarPrefsApplyToMenusGroupOn:(0,P._Z)(j,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:N}}i(w,"mapStateToProps");const F=(0,I.N)(w)(H)},8300576667:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(5289504844),r=e(2828836153),d=e(3877384923);function o(){return o=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var _=arguments[c];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p])}return m},o.apply(this,arguments)}i(o,"_extends");let a=i(class extends t.Component{render(){const{className:c,id:_,isActive:p=!1,isDeactivated:u=!1,isDisabled:h=!1,isDraftContext:E,showAvatar:A,showBadge:v,showPresence:f,showStatus:g,showTooltip:y,withTruncationTooltip:T,showUnreadCount:M,useShortMode:O,secondaryContent:I,onlyBoldIfUnread:D=!1,forceRealName:P}=this.props;let k;return p?h||u?k=d.pI.highlightDim:k=d.pI.highlightDark:(h||u)&&(k=d.pI.dim),t.createElement(r.A,{className:(0,n.A)(c,"c-small_member_list_entity"),primaryContent:t.createElement(s.Ay,o({id:_,invert:k===d.pI.highlightDark,isDeactivated:u,truncateStatus:!!I,showAvatar:A,showPresence:f,showBadge:v,useShortMode:O,showStatus:g,showTooltip:y,withTruncationTooltip:T,showUnreadCount:M,isDraftContext:E,onlyBoldIfUnread:D,forceRealName:P},this.props)),secondaryContent:I,size:"small",style:k})}},"SmallMemberListEntity");a.displayName="SmallMemberListEntity";const l=a},1084169413:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5255740490),s=e(9509635375),r=e(5273017660),d=e(3229001818),o=e(1596328926),a=e(5734745215),l=e(2562405183),m=e(4761125736);function c(){return c=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var v in A)Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}return h},c.apply(this,arguments)}i(c,"_extends");const _=new a.Ay("inline_member");function p(h){const{className:E,multiline:A=!1,inline:v=!1,invert:f=!1,name:g,isSelf:y=!1,isAppOrBot:T=!1,isWorkflowBot:M=!1,showAppOrBotBadge:O=!0,isDeleted:I=!1,isUnknown:D=!1,isNonExistent:P=!1,withTruncationTooltip:k=!1,isBold:R=!0,isUserHidden:V=!1,isChannelFiles:B=!1,isCreator:W=!1,showMemberNameIfHidden:L=!1}=h,S=(0,l.d4)(j=>(0,m._Z)(j,"member_name_channel_files_view_two")==="on");let H;if(D||P)H=t.createElement(d.A,{type:P?"non-existent":"unknown","data-qa":"member_name__missing"});else if(V&&!L)H=_.t("Name hidden");else if(B){const j=S?_.rt("Created by {name}",{name:g}):`Created by ${g}`;H=W?j:_.rt("Shared by {name}",{name:g})}else H=g;const w=(0,n.A)(E,"c-member_name",{"c-member_name--deactivated":I,"c-member_name--inverted":f}),F=R?"strong":"span";return t.createElement(r.CG,c({className:w,multiline:A,inline:v,withTruncationTooltip:k},(0,o.A)(h)),t.createElement(F,{"data-qa":"member_name"},H,y&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},_.t("(you)")),I&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},_.t("(deactivated)")),(T||M)&&O&&t.createElement(s.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:f,isWorkflow:M})))}i(p,"MemberName"),p.displayName="MemberName";const u=p},8460568133:(Q,C,e)=>{"use strict";e.d(C,{A:()=>he});var t=e(3134334389),n=e(5255740490),s=e(3297051565),r=e.n(s),d=e(2562405183),o=e(5795074931),a=e(6989432693),l=e(735940183);const m=new l.Ay("channel_token"),c=10,_=i(fe=>{let{memberIds:ve}=fe;var me;const oe=(me=(0,d.d4)(o.WR))!==null&&me!==void 0?me:void 0;let N=ve.map((K,x)=>t.createElement(a.A,{key:K,userId:K,isFirst:x===0,isSelf:oe===K}));return ve.length>c+1&&(N=N.slice(0,c).concat(m.rt("{count} others",{count:ve.length-c}))),t.createElement(t.Fragment,null,(0,l.jd)(N))},"TooltipMemberNames");_.displayName="TooltipMemberNames";const p=_;var u=e(3037015781),h=e(9884588328),E=e(4775127335),A=e(5146991437),v=e(8170643398),f=e(3534324375),g=e(4562579337),y=e(1084169413),T=e(3877384923),M=e(8028620372),O=e(9391594207),I=e(8276911661);const D=20,P={id:r().string.isRequired,invert:r().bool,isDeactivated:r().bool,isHidden:r().bool,member:r().object,memberPrimaryName:r().string},k={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},R=t.forwardRef((fe,ve)=>{const{id:me,invert:oe,member:N,memberPrimaryName:K,isDeactivated:x,isHidden:b}=fe,z=(0,g.A)(N),$=(0,v.v3)(N),Z=(0,v.oy)(N),U=(0,u.lv)(N),ee=(0,u.mX)(N),se=U||ee,de=oe&&!x,ue=t.createElement(y.A,{"data-qa":"mpim-entity__name",name:K,invert:de,isAppOrBot:z,isWorkflowBot:$,isDeleted:Z,isNonExistent:U,isUnknown:ee});let _e;se?_e=t.createElement(M.A,{isNonExistent:U,size:D}):_e=t.createElement(E.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:T.RG.small,userId:me,tabIndex:-1,isInteractive:!1});const pe=(0,n.A)("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":Z,"c-small_mpim_entity__member--hidden":b});return t.createElement("div",{className:pe,"data-id":me,ref:ve},_e,ue)});R.propTypes=P,R.defaultProps=k;function V(fe,ve){let{id:me}=ve;const oe=(0,I.nv)(fe,me);return{member:oe,memberPrimaryName:(0,f.sE)(fe,oe,!1,!1)}}i(V,"mapStateToProps");const B=(0,O.N)(V,null,null,{forwardRef:!0})(R);var W=e(5273017660),L=e(2762351398),S=e(2312625946),H=e(8170659516),w=e(3852424459),F=e(9101533895),j=e(3328068409),J=e(4761125736);function X(){return X=Object.assign||function(fe){for(var ve=1;ve<arguments.length;ve++){var me=arguments[ve];for(var oe in me)Object.prototype.hasOwnProperty.call(me,oe)&&(fe[oe]=me[oe])}return fe},X.apply(this,arguments)}i(X,"_extends");const q=T.RG.small,G={className:r().string,"data-qa":r().string,"data-sk":r().string,mpim:r().object,id:r().string,invert:r().bool,isDeactivated:r().bool,memberIds:r().array,isActive:r().bool,clientTheme:r().oneOf(["light","dark"]),matchData:r().array,onlyBoldIfUnread:r().bool,showUnreadBadge:r().bool,unreadCount:r().number,shortenTooltipContents:r().bool,showAvatar:r().bool,experimentSidebarPrefsApplyToMenusGroupOn:r().bool},ne={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,experimentSidebarPrefsApplyToMenusGroupOn:!1};function te(fe){let{className:ve,"data-qa":me,"data-sk":oe,id:N,invert:K,isDeactivated:x,mpim:b,memberIds:z,isActive:$,clientTheme:Z,matchData:U,onlyBoldIfUnread:ee,showUnreadBadge:se,unreadCount:de,shortenTooltipContents:ue,showAvatar:_e,experimentSidebarPrefsApplyToMenusGroupOn:pe}=fe;const ae=(0,u.lv)(b),Ee=(0,u.mX)(b),Le=(0,h.N4)(b),ye=N||(b==null?void 0:b.id),Te=K&&!x,Ae=se&&!!de&&t.createElement(L.Ay,{className:"c-member__unread_count",count:de,style:Te?"white":"red","data-qa":"member-entity__mention-badge"}),Ie=Ae&&t.createElement("span",{className:"c-member__secondary_content"},Ae),Ue=(0,t.useCallback)(ge=>{if(ae||Ee)return t.createElement(M.A,X({},ge,{isNonExistent:ae,size:q,invert:Te}));const De=z==null?void 0:z[0];return t.createElement("span",{className:(0,n.A)("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",ve,{"c-small_mpim_entity__mpim_avatars--inverted":Te,[`c-small_mpim_entity__mpim_avatars--${Z}`]:Z!=="light"})},_e&&t.createElement(E.Ay,{userId:De,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:(0,n.A)("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!_e&&pe}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},Le)))},[ve,Z,ae,Ee,Le,Te,z,_e,pe]),Be=(0,t.useCallback)(()=>{let ge;return ue?ge=t.createElement(p,{memberIds:z}):ge=z.map(De=>t.createElement(B,{id:De,key:De})),t.createElement(t.Fragment,null,ge)},[z,ue]);let we=x?T.pI.dim:null;Te&&(we=T.pI.highlightDark);const re=t.createElement(W.Ay,{"data-id":ye,"data-qa":me,"data-sk":oe,avatar:Ue,className:ve,size:"small",style:we,subtext:Ie,text:t.createElement(A.A,{"data-qa":"name",id:ye,mpim:b,invert:Te,matchData:U,onlyBoldIfUnread:ee})});return t.createElement(S.Ay,{tip:Be(),tipClassName:ue?"":"c-small_mpim_entity__tooltip",position:"top-right",shouldForceVisible:$,shouldOnlyShowWhenTruncated:$,zIndex:"above_fs"},t.createElement("div",null,re))}i(te,"SmallMpimEntity"),te.displayName="SmallMpimEntity",te.propTypes=G,te.defaultProps=ne;function le(fe,ve){let{id:me,mpim:oe,matchData:N}=ve;const K=oe||(0,F.OL)(fe,me),x=(0,w.B)(fe,me),b=(0,J._Z)(fe,"sidebar_prefs_apply_to_menus")==="on",z=(0,H.A)({state:fe,mpim:K,matchData:N}),$=(0,j.to)(fe),Z=(0,h.kR)(K,x);return{mpim:K,experimentSidebarPrefsApplyToMenusGroupOn:b,memberIds:z,clientTheme:$,unreadCount:Z}}i(le,"small_mpim_entity_mapStateToProps");const he=(0,O.N)(le)(te)},5146991437:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(9867500491),s=e(1703559452),r=e(3297051565),d=e.n(r),o=e(3037015781),a=e(9884588328),l=e(5273017660),m=e(7026348746),c=e(8170659516),_=e(9391594207),p=e(9101533895),u=e(8276911661);const h=4,E={className:d().string,mpim:d().object,multiline:d().bool,name:d().string,isAnyMemberUnknown:d().bool,invert:d().bool,inline:d().bool,onlyBoldIfUnread:d().bool},A={className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1,inline:void 0,onlyBoldIfUnread:!1};function v(y){let{className:T,mpim:M,multiline:O,name:I,invert:D,isAnyMemberUnknown:P,inline:k,onlyBoldIfUnread:R}=y;const V=(0,o.lv)(M),B=(0,o.mX)(M),W=(0,a.N4)(M),L=!R||(0,a.KJ)(M);let S;return B||V||P?S=(0,n.A)(W||h).map(H=>t.createElement(m.A,{key:H,className:"c-mpim_entity__missing_text",isNonExistent:V,size:"random",invert:D})):S=L?t.createElement("strong",{"data-qa":"mpim_name"},I):t.createElement("span",{"data-qa":"mpim_name"},I),t.createElement(l.CG,{className:T,multiline:O,breakWords:!1,inline:k},S)}i(v,"MpimName"),v.displayName="MpimName",v.propTypes=E,v.defaultProps=A;const f=i((y,T)=>{let{id:M,mpim:O,matchData:I}=T;const D=O||(0,p.OL)(y,M),P=(0,c.A)({state:y,mpim:D,matchData:I}),k=P&&P.map(B=>(0,u.nv)(y,B)),R=(0,s.A)(k,o.GU),V=(0,a.Xx)(y,D,P);return{mpim:D,name:V,isAnyMemberUnknown:R}},"mapStateToProps"),g=(0,_.N)(f)(v)},51460783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(1596328926);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(a[c]=m[c])}return a},r.apply(this,arguments)}i(r,"_extends");function d(a){const{children:l,className:m}=a;return l?t.createElement("span",r({className:(0,n.A)(m,"c-base_entity__metadata")},(0,s.A)(a)),l):null}i(d,"BaseEntityMetadata"),d.displayName="BaseEntityMetadata";const o=d},161084047:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(1596328926);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(a[c]=m[c])}return a},r.apply(this,arguments)}i(r,"_extends");function d(a){const{children:l,className:m}=a;return l?t.createElement("span",r({className:(0,n.A)(m,"c-base_entity__subtext")},(0,s.A)(a)),l):null}i(d,"BaseEntitySubtext"),d.displayName="BaseEntitySubtext";const o=d},3534100833:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(8011352381),r=e(1596328926);function d(){return d=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(l[_]=c[_])}return l},d.apply(this,arguments)}i(d,"_extends");function o(l){const{children:m=null,className:c="",multiline:_=!1,inline:p=!1,breakWords:u=!0,withTruncationTooltip:h=!1}=l;if(!m)return null;const E=_?2:1;return p?t.createElement("span",d({className:(0,n.A)(c,"c-base_entity__text")},(0,r.A)(l)),m):t.createElement("span",d({className:(0,n.A)(c,"c-base_entity__text")},(0,r.A)(l)),t.createElement(s.A,{lines:E,breakWords:u,withTooltip:h},m))}i(o,"BaseEntityText"),o.displayName="BaseEntityText";const a=o},1464713483:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3877384923),d=e(1596328926);function o(){return o=Object.assign||function(_){for(var p=1;p<arguments.length;p++){var u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},o.apply(this,arguments)}i(o,"_extends");const a=i((_,p,u,h)=>!(_!==r.ny.medium||!u||h||p),"shouldVerticallyCenter"),l={className:"c-base_entity__avatar"},m=i(_=>{const{size:p,style:u=r.pI.normal,text:h=null,className:E="",subtext:A=null,avatar:v=s.A,metadata:f=null,forwardedRef:g=null}=_,y=v(l),T=!!y;return t.createElement("div",o({className:(0,n.A)(E,"c-base_entity",`c-base_entity--${p}`,{"c-base_entity--has-avatar":T,"c-base_entity--dim":u===r.pI.dim,"c-base_entity--vertically-center":a(p,A,T,f)})},(0,d.A)(_),{ref:g}),y,t.createElement("div",{className:"c-base_entity__text-contents"},h,A,f))},"BaseEntity");m.displayName="BaseEntity";const c=m},5273017660:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d,CG:()=>r.A,Q:()=>n.A,sT:()=>s.A});var t=e(1464713483),n=e(51460783),s=e(161084047),r=e(3534100833);const d=t.A},2671211451:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(8011352381),d=e(3877384923),o=e(1596328926);function a(){return a=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E])}return p},a.apply(this,arguments)}i(a,"_extends");const l=i(p=>{let{children:u,truncate:h=!1,truncateWidth:E,withTruncationTooltip:A=!1}=p;const v=(0,t.useMemo)(()=>({maxWidth:E||void 0}),[E]);if(!h)return t.createElement("span",null,u);let f;return E?f=t.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:v},u):f=t.createElement("span",null,t.createElement(r.A,{lines:1,withTooltip:A},u)),f},"MaybeTruncate");l.displayName="MaybeTruncate";const m={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let c=i(class extends t.Component{render(){const{className:u,avatar:h=s.A,primaryContent:E,secondaryContent:A,style:v=d.pI.normal,truncate:f=!1,truncateWidth:g,withTruncationTooltip:y=!1}=this.props,T=h(m),M=!!T;return t.createElement("span",a({className:(0,n.A)(u,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":M,"c-base_inline_entity--truncate_block":f&&!g,"c-base_inline_entity--truncate_inline":f&&g,"c-base_inline_entity--dim":v===d.pI.dim,"c-base_inline_entity--highlight-dark":v===d.pI.highlightDark,"c-base_inline_entity--highlight-dim":v===d.pI.highlightDim,"c-base_inline_entity--highlight-light":v===d.pI.highlightLight})},(0,o.A)(this.props)),t.createElement(l,{truncate:f,truncateWidth:g,withTruncationTooltip:y},T,t.createElement("span",{className:"c-base_inline_entity__primary_content"},E),A&&t.createElement("span",{className:"c-base_inline_entity__secondary_content"},A)))}},"BaseInlineEntity");c.displayName="BaseInlineEntity";const _=c},2828836153:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(3877384923),r=e(1596328926);function d(){return d=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(l[_]=c[_])}return l},d.apply(this,arguments)}i(d,"_extends");let o=i(class extends t.Component{render(){const{className:m,ariaLabel:c,primaryContent:_,secondaryContent:p,size:u=s.ny.medium,style:h=s.pI.normal,padding:E=s.FK.normal}=this.props;return t.createElement("div",d({className:(0,n.A)(m,"c-base_list_entity",`c-base_list_entity--${u}`,{"c-base_list_entity--dim":h===s.pI.dim,"c-base_list_entity--highlight-dark":h===s.pI.highlightDark,"c-base_list_entity--highlight-dim":h===s.pI.highlightDim,"c-base_list_entity--highlight-light":h===s.pI.highlightLight,"c-base_list_entity--no-pad":E===s.FK.none})},(0,r.A)(this.props),{"aria-label":c}),t.createElement("div",{className:"c-base_list_entity__primary_content"},_),p&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},p))}},"BaseListEntity");o.displayName="BaseListEntity";const a=o},5415825258:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(3134334389),n=e(5255740490),s=e(6839188756),r=e(2023092677),d=e(5273017660),o=e(3877384923),a=e(4816967449),l=e(8683010724),m=e(735940183),c=e(9391594207),_=e(8847766420),p=e(3677514771),u=e(1835177371);function h(){return h=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(g[M]=T[M])}return g},h.apply(this,arguments)}i(h,"_extends");const E=new m.Ay("user_group_entity");function A(g){let{className:y,invert:T,showDescription:M=!0,userGroup:O,userGroupTeamName:I,isDeactivated:D}=g;const P=D||!(0,r.V1)(O),k=(0,t.useCallback)(H=>t.createElement("span",{className:"margin_right_50"},t.createElement(l.A,h({},H,{name:"user-groups",size:"18"}))),[]);if((0,r.t8)(O)||(0,r.QR)(O)){const H=(0,n.A)("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":T});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:H},t.createElement(l.A,{name:"user-groups",size:"18"})),t.createElement(a.A,{type:(0,r.t8)(O)?"unknown":"non-existent",invert:T}))}const R=(0,r.ue)(O),V=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},R),B=(0,r.Br)(O),W=I&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},I)),L=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",E.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:B}),")"),W);let S;return P?S=o.pI.dim:T&&(S=o.pI.highlightDark),t.createElement(d.Ay,{avatar:k,className:y,size:"small",style:S,text:t.createElement(d.CG,null,V,M&&L),"data-usergroup-id":O.id})}i(A,"SmallUserGroupEntity"),A.displayName="SmallUserGroupEntity";const v=i((g,y)=>{let{id:T,userGroup:M}=y;const O=M||(0,u.lJ)(g,T),I=(0,_.ZT)(g),D=(0,r.$Q)(O),P=D!==I&&(0,s.F1)((0,p._J)(g,D));return{userGroup:O,userGroupTeamName:P}},"mapStateToProps"),f=(0,c.N)(v)(A)},3877384923:(Q,C,e)=>{"use strict";e.d(C,{FK:()=>s,P:()=>d,RG:()=>t,ny:()=>r,pI:()=>n});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},n={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},s={normal:"12px",none:"0"},r={small:"small",medium:"medium"},d={true:!0,bestOnly:"best_only",false:!1}},3989454579:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),d=e(3753517560),o=e(2201208793),a=e(4882164428),l=e(6244014364),m=e(2595238443),c=e(8869734951);function _(){return _=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var v in A)Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}return h},_.apply(this,arguments)}i(_,"_extends");const p=t.forwardRef((h,E)=>{let{className:A,isRequired:v=!1,"aria-disabled":f,indeterminate:g=!1,checked:y,hasKeyboardFocus:T,unstyled:M,autoClogProps:O,onChange:I,focusOnMount:D,...P}=h;const k=(0,t.useRef)(null),[R,V]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(g&&y==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");k.current&&(k.current.indeterminate=g)},[y,g]),(0,t.useEffect)(()=>{if(D){var F;(F=k.current)===null||F===void 0||F.focus()}},[D]);const B=(0,t.useCallback)(F=>{y===void 0&&O&&V(F.target.checked),I==null||I(F)},[O,y,I]),W=(0,a.f)(o.j.Checkbox),L=M?(0,n.A)("c-input_unstyled_checkbox",A,W,{"c-input_unstyled_checkbox--focus-visible":T,"c-input_unstyled_checkbox--checked":y}):(0,n.A)("c-input_checkbox",A,W,{"c-input_checkbox--focus-visible":T,"c-input_checkbox--disabled":f}),S=t.createElement("input",_({},P,(0,m.A)(P),{"aria-disabled":f,"aria-checked":g?"mixed":void 0,checked:y,type:"checkbox",required:v,className:L,ref:(0,c.P)(k,E),onChange:f?s.A:B})),H=y!==void 0?y:R,w=(0,t.useMemo)(()=>({onChange:{action:H?l.UiAction.UNCHECK:l.UiAction.CHECK}}),[H]);return O?t.createElement(r.A,{autoClogProps:O,actionProps:w,elementType:l.ElementType.CHECKBOX},S):S});p.displayName="Checkbox";const u=(0,d.A)(p)},5797272849:(Q,C,e)=>{"use strict";e.d(C,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},3391133100:(Q,C,e)=>{"use strict";e.d(C,{Es:()=>s,Yk:()=>d,r7:()=>a,r9:()=>r,zI:()=>o});var t=e(735940183);const n=new t.Ay("form_inputs");function s(l,m){return`${l}_${m}`}i(s,"getInputBuddyId");function r(){return Math.random().toString(36).substring(2,10)}i(r,"getRandomId");const d=i(l=>{const m=l.filter(c=>c);if(m.length!==0)return m.join(" ")},"makeAriaComboIds"),o=i(l=>n.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:l}),"getMaximumCharacterErrorText"),a=i(l=>n.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:l}),"getMinimumCharacterErrorText")},2660476100:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389),n=e(5255740490);function s(r){let{children:d,className:o,id:a}=r;return d?t.createElement("div",{className:(0,n.A)("c-hint",o),id:a},d):null}i(s,"Hint")},7138682671:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,Q:()=>o});var t=e(3134334389),n=e(5255740490),s=e(735940183);function r(){return r=Object.assign||function(c){for(var _=1;_<arguments.length;_++){var p=arguments[_];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(c[u]=p[u])}return c},r.apply(this,arguments)}i(r,"_extends");const d=new s.Ay("app_dialog"),o={block:"block",inline:"inline"};var a;let l=i(class extends(a=t.Component){getCursor(){const{cursor:_,htmlFor:p,isDisabled:u}=this.props;return u?null:typeof _>"u"&&p?"pointer":_}renderOptionalTextMaybe(){const{optional:_}=this.props,p=d.t("(optional)");return _?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},p):null}renderSubtextMaybe(){const{subtext:_}=this.props;return _?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},_):null}render(){const{className:_,cursor:p,htmlFor:u,optional:h,subtext:E,text:A,type:v,isDisabled:f,dataQaLabel:g,...y}=this.props,T=(0,n.A)("c-label",_,{"c-label--block":v===o.block,"c-label--inline":v===o.inline,"c-label--with_subtext":E,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":f,"c-label--with_formatted_text":typeof A!="string"});return t.createElement("label",r({},y,{htmlFor:u,className:T,"data-qa-label":g,"data-qa-label-type":v}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},A,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");l.displayName="Label",l.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"};const m=l},5375115868:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(5617110048),r=e(6244014364);function d(){return d=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var _=arguments[c];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p])}return m},d.apply(this,arguments)}i(d,"_extends");const o={onChange:{action:r.UiAction.CLICK}};let a=i(class extends t.PureComponent{componentDidMount(){const{focusOnMount:c,autoFocus:_}=this.props;(c||_)&&this.focus()}componentDidUpdate(){const{autoFocus:c}=this.props;c&&this.focus()}focus(){var c;(c=this.inputRef.current)===null||c===void 0||c.focus()}render(){const{className:c,autoClogProps:_,autoFocus:p,focusOnMount:u,...h}=this.props,E=(0,n.A)("c-input_radio",c),A=t.createElement("input",d({},h,{className:E,ref:this.inputRef,type:"radio"}));return _?t.createElement(s.A,{autoClogProps:_,actionProps:o,elementType:r.ElementType.RADIO},A):A}constructor(c){super(c),this.inputRef=t.createRef()}},"Radio");a.displayName="Radio",a.defaultProps={autoFocus:!1};const l=a},9205344153:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(3708320478),r=e(5166368300),d=e(2322735331),o=e(3514889545),a=e(735940183);const l=new a.Ay("form_inputs"),m={inline:"inline",multiline:"multiline"},c=i((A,v)=>A>v,"isCurrentCountInvalid"),_=i((A,v)=>v-A,"getCharacterCount"),p=i((A,v,f)=>!f||A>=f?_(A,v):"","getCharacterCountDisplay"),u=i(A=>A.toString().length,"getCharacterCountLength");let h=i(class extends t.Component{getSnapshotBeforeUpdate(v){if(v.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const f=_(this.props.currentCount,this.props.maxCharacterLimit),g=u(f);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==g&&this.setCharacterCountLength(g)}return null}componentDidUpdate(v,f){this.props.type===m.inline&&f.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(v){this.setState(()=>({characterCountLength:v}))}setCharactersRemainingMessage(v,f){const g=this.makeCharactersRemainingMessage(v,f);this.setState(()=>({charactersRemainingMessage:g}))}setCharactersRemainingRef(v){this.charactersRemainingElement=v}makeCharactersRemainingMessage(v,f){const g=_(v,f);return l.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:g})}measureCountWidth(){const v=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=v,v}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:v,maxCharacterLimit:f,counterMinimumCharacters:g}=this.props,y=p(v,f,g);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},y)}render(){const{className:v,currentCount:f,maxCharacterLimit:g,children:y,isDisabled:T,size:M,type:O,id:I}=this.props,D=(0,n.A)(v,"c-input_character_count",{"c-input_character_count--multiline":O===m.multiline,"c-input_character_count--large":M===r.F.large,"c-input_character_count--small":M===r.F.small,"c-input_character_count--invalid":this.state.hasFocus&&c(f,g),"c-input_character_count--disabled":T}),P=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:I,hidden:!0},this.state.charactersRemainingMessage);let k;return this.shouldReadCharactersRemainingMessage||(k=t.createElement(s.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:D,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},y,this.renderCharactersRemaining(),k,P)}constructor(v){super(v);const f=this.makeCharactersRemainingMessage(v.currentCount,v.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:f,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,(0,d.v)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,o.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");h.displayName="CharacterCount",h.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:m.inline,size:r.F.medium,counterMinimumCharacters:0,id:void 0};const E=h},2219904496:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(3134334389),n=e(5255740490),s=e(2003990933),r=e(7715417323),d=e(581167618),o=e(3391133100),a=e(2660476100),l=e(9205344153),m=e(5166368300),c=e(1610251172);const _={small:"small",medium:"medium",large:"large"},p=i(k=>{let{size:R,icon:V,children:B}=k;const W=(0,n.A)("c-input_text_icon",{"c-input_text_icon--small":R===_.small,"c-input_text_icon--large":R===_.large}),L=(0,n.A)("c-input_text_icon__icon",{"c-input_text_icon__icon--small":R===_.small,"c-input_text_icon__icon--large":R===_.large});return t.createElement("div",{className:W},t.createElement(c.A,{type:V,className:L,size:"inherit"}),B)},"TextInputIcon");p.displayName="TextInputIcon";const u=t.memo(p);let h=i(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:R,prefix:V,suffix:B}=this.props,W=(0,n.A)("c-input_text_overlay",{"c-input_text_overlay--large":R===m.F.large},this.props.className);return t.createElement("div",{className:W,"data-overlay-prefix":V,"data-overlay-suffix":B,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:R,suffix:V}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${V} appended to the text value.`},this.renderOverlay(),R)}},"TextInputOverlay");h.displayName="TextInputOverlay",h.defaultProps={className:"",placeholder:"",size:m.F.medium,value:"",prefix:"",suffix:""};const E=h;var A=e(434544446),v=e.n(A),f=e(647040695);function g(k,R){const V=y(k);return R&&V.length?V.replace((0,f.A)(),"E").replace(v()(),"E").length:V.length}i(g,"getTextLength");function y(k){return k==null?"":typeof k=="string"?k:String(k)}i(y,"coerceValueToString");var T=e(9665283624),M=e(2322735331);function O(){return O=Object.assign||function(k){for(var R=1;R<arguments.length;R++){var V=arguments[R];for(var B in V)Object.prototype.hasOwnProperty.call(V,B)&&(k[B]=V[B])}return k},O.apply(this,arguments)}i(O,"_extends");const I=12;let D=i(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(R,V){(this.props.value!==R.value||this.state.isFocused!==V.isFocused)&&this.getTextStyle(),this.props.value!==R.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(R)}onBlur(R){const{onBlur:V}=this.props;this.setState(()=>({isFocused:!1})),V&&V(R)}onFocus(R){const{onFocus:V}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),V&&V(R)}getPrefixStyle(){const{size:R,prefix:V}=this.props;if(!V)return;let B;const L=document.createElement("canvas").getContext("2d");return L&&(R===m.F.medium?(L.font="15px Slack-Lato",B=L.measureText(V).width+I):R===m.F.small?(L.font="13px Slack-Lato",B=L.measureText(V).width+I):(L.font="18px Slack-Lato",B=L.measureText(V).width+I)),{paddingLeft:B}}getTextStyle(){var R;const{maxCharacterLimit:V}=this.props;if(!V){this.setTextStyle({});return}const W={paddingRight:(R=this.characterCount)===null||R===void 0?void 0:R.getCharacterCountWidth()};this.setTextStyle(W)}setTextStyle(R){this.setState(()=>({textStyle:R}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(R){const{focusOnMount:V,forceSelectAll:B}=this.props;this.state.everFocused&&V&&R&&R.focusOnMount===V||!this.input||!this.input.current||!V||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),B&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:R,isRequired:V,minCharacterLimit:B,value:W}=this.props,{everReceivedUserInput:L}=this.state;if(!L||B==null)return!1;const S=g(W,R);return!V&&S===0?!1:S<B}getIsInputLengthTooLong(){const{maxCharacterLimit:R,value:V,emojisShouldCountAsSingleCharacter:B}=this.props;return R==null?!1:g(V,B)>R}renderDeprecatedErrorMaybe(){const{errorLevel:R,errorText:V,errorType:B,minCharacterLimit:W,maxCharacterLimit:L}=this.props;return V?t.createElement(d.Ay,{id:this.state.errorId,level:R,type:B,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},V):this.getIsInputLengthTooLong()?t.createElement(d.Ay,{id:this.state.errorId,level:d.A_.error,type:B,className:"margin_bottom_100"},(0,o.zI)(L)):this.getIsInputLengthTooShort()?t.createElement(d.Ay,{id:this.state.errorId,level:d.A_.error,type:B,className:"margin_bottom_100"},(0,o.r7)(W)):null}renderErrorMaybe(){const{errorText:R,minCharacterLimit:V,maxCharacterLimit:B}=this.props;return R?t.createElement(T.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},R):this.getIsInputLengthTooLong()?t.createElement(T.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.zI)(B)):this.getIsInputLengthTooShort()?t.createElement(T.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.r7)(V)):null}renderHintMaybe(){const{hintText:R}=this.props;return R?t.createElement(a.A,{id:this.state.hintId,"data-qa":"form-text-hint"},R):null}renderTextInput(){const{className:R,errorId:V,errorLevel:B,errorText:W,errorType:L,hintId:S,hintText:H,id:w,isRequired:F,isInvalid:j,labelId:J,name:X,onBlur:q,onChange:G,onCopy:ne,forceSelectAll:te,onFocus:le,size:he,prefix:fe,suffix:ve,maxCharacterLimit:me,minCharacterLimit:oe,emojisShouldCountAsSingleCharacter:N,counterMinimumCharacters:K,icon:x,focusOnMount:b,useInlineAlert:z,showError:$,inputRef:Z,preventScrollOnFocus:U,ariaDescribedById:ee,autoComplete:se,type:de,readOnly:ue,..._e}=this.props,pe=!!W||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||j,ae=(0,n.A)({[`c-input_text--with_${B}`]:pe,"c-input_text--with_hint":H,"c-input_text--with_icon":x},R),Ee=(0,o.Yk)([J,pe?this.state.errorId:null]),Le=(0,o.Yk)([ee,this.state.hintId,this.characterCounterId]),ye={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(m.A,O({},_e,{style:ye,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:Le,isInvalid:pe,ariaLabelledby:Ee,ariaRequired:F,className:ae,id:w,name:X,onChange:G,onCopy:ne,forceSelectAll:te,ref:this.input,size:he,autoComplete:se,type:de,readOnly:ue??void 0}))}renderWrappedTextMaybe(){const{prefix:R,suffix:V,value:B,placeholder:W,maxCharacterLimit:L,counterMinimumCharacters:S,size:H,isDisabled:w,icon:F}=this.props;let j=this.renderTextInput();if(L){const J=g(B,this.props.emojisShouldCountAsSingleCharacter);j=t.createElement(l.A,{id:this.characterCounterId,currentCount:J,isDisabled:w,maxCharacterLimit:L,counterMinimumCharacters:S,size:H,ref:X=>{this.characterCount=X}},j)}return(R||V)&&(j=t.createElement(E,{className:F&&"c-input_text_overlay--icon",placeholder:W,size:H,prefix:R,suffix:V,value:B??void 0},j)),F&&(j=t.createElement(u,{icon:F,size:H},j)),j}render(){const R=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&R,this.renderHintMaybe())}constructor(R){super(R),(0,M.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:V}=R;this.state={errorId:(0,s.A)(this.props,"errorId",(0,o.Es)(V,"error")),everReceivedUserInput:!1,hintId:(0,s.A)(this.props,"hintId",(0,o.Es)(V,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},R.maxCharacterLimit&&(this.characterCounterId=(0,o.Es)(V,"character-count")),this.input=R.inputRef||t.createRef()}},"FormTextInput");D.displayName="FormTextInput",D.defaultProps={className:null,errorId:void 0,errorLevel:d.A_.error,errorText:null,errorType:d.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:r.A,onChange:r.A,onCopy:r.A,forceSelectAll:!1,readOnly:!1,onFocus:r.A,placeholder:void 0,size:m.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:r.A,onMouseLeave:r.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:r.A,onKeyDown:r.A,onCompositionStart:r.A,onCompositionEnd:r.A};const P=D},8472205500:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(5255740490),s=e(2003990933),r=e(7715417323),d=e(5617110048),o=e(581167618),a=e(3391133100),l=e(2660476100),m=e(9205344153),c=e(8452232783),_=e(9665283624),p=e(2322735331),u=e(6244014364);function h(){return h=Object.assign||function(v){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y])}return v},h.apply(this,arguments)}i(h,"_extends");const E={onChange:{action:u.UiAction.ENTER_TEXT}};let A=i(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var f;(f=this.input.current)===null||f===void 0||f.focus()}}componentDidUpdate(f,g){if((this.props.value!==f.value||this.state.isFocused!==g.isFocused)&&this.getTextStyle(),this.props.value!==f.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&f.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var y;(y=this.input.current)===null||y===void 0||y.focus()}}onBlur(){const{onBlur:f}=this.props;this.setFocus(!1),f&&f()}onFocus(){const{onFocus:f}=this.props;this.setFocus(!0),f&&f()}getTextStyle(){var f;const{maxCharacterLimit:g}=this.props;if(!g){this.setTextStyle({});return}const T={paddingRight:(f=this.characterCount)===null||f===void 0?void 0:f.getCharacterCountWidth()};this.setTextStyle(T)}setCharacterCountRef(f){this.characterCount=f}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(f){this.setState(()=>({isFocused:f}))}setInputRef(f){this.input=f}setTextStyle(f){this.setState(()=>({textStyle:f}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:f,minCharacterLimit:g,value:y}=this.props,{everReceivedUserInput:T}=this.state;return!T||g==null||!f&&y.length===0?!1:y.length<g}getIsInputLengthTooLong(){const{maxCharacterLimit:f,value:g}=this.props;return f==null?!1:g.length>f}renderDeprecatedErrorMaybe(){const{showError:f,errorLevel:g,errorText:y,errorType:T,isRequired:M,maxCharacterLimit:O,minCharacterLimit:I,value:D}=this.props;return f?y?t.createElement(o.Ay,{id:this.state.errorId,level:g,type:T,className:"margin_bottom_100"},y):!M&&D.length===0?null:this.getIsInputLengthTooLong()?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:T,className:"margin_bottom_100"},(0,a.zI)(O)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:T,className:"margin_bottom_100"},(0,a.r7)(I)):null:null}renderErrorMaybe(){const{showError:f,errorText:g,isRequired:y,maxCharacterLimit:T,minCharacterLimit:M,value:O}=this.props;return f?g?t.createElement(_.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},g):!y&&O.length===0?null:this.getIsInputLengthTooLong()?t.createElement(_.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,a.zI)(T)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(_.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,a.r7)(M)):null:null}renderHintMaybe(){const{hintText:f}=this.props;return f?t.createElement(l.A,{id:this.state.hintId},f):null}renderTextArea(){const{className:f,showError:g,errorId:y,errorLevel:T,errorText:M,errorType:O,hintId:I,hintText:D,useInlineAlert:P,id:k,isRequired:R,isInvalid:V,labelId:B,name:W,onChange:L,onFocus:S,onBlur:H,maxCharacterLimit:w,minCharacterLimit:F,focusOnMount:j,autoClogProps:J,ariaDescribedById:X,inputRef:q,...G}=this.props,{textStyle:ne}=this.state,te=!!M||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||V,le=(0,n.A)({[`c-input_textarea--with_${T}`]:te,"c-input_textarea--with_hint":D,"c-input_textarea--with_character_count":!!w,"c-input_text--with_inline_alert":P},f),he=(0,a.Yk)([B,te?this.state.errorId:void 0]),fe=(0,a.Yk)([X,this.state.hintId,this.characterCounterId]),ve=t.createElement(c.A,h({},G,{ref:this.setInputRef,style:ne,ariaDescribedby:fe,isInvalid:te,ariaLabelledby:he,ariaRequired:R,className:le,id:k,"data-qa":G["data-qa"]||k,name:W,onChange:L,onFocus:this.onFocus,onBlur:this.onBlur}));return J?t.createElement(d.A,{autoClogProps:J,actionProps:E,elementType:u.ElementType.TEXTAREA},ve):ve}renderWrappedTextareaMaybe(){const{value:f,maxCharacterLimit:g,size:y,isDisabled:T}=this.props;let M=this.renderTextArea();return g&&(M=t.createElement(m.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:f==null?void 0:f.length,isDisabled:T,maxCharacterLimit:g,type:"multiline",size:y},M)),M}render(){const f=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),f,this.renderHintMaybe())}constructor(f){super(f);const{id:g}=this.props;(0,p.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,s.A)(this.props,"errorId",(0,a.Es)(g,"error")),hintId:(0,s.A)(this.props,"hintId",(0,a.Es)(g,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(g,"character-count")),this.input=t.createRef()}},"FormTextareaInput");A.displayName="FormTextareaInput",A.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:o.A_.error,errorText:null,errorType:o.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:r.A,onFocus:r.A,onBlur:r.A,placeholder:void 0,size:c.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},5166368300:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_,F:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),d=e(5797272849),o=e(6244014364);function a(){return a=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E])}return p},a.apply(this,arguments)}i(a,"_extends");const l={small:"small",medium:"medium",large:"large"};var m;let c=i(class extends(m=t.Component){componentDidMount(){if(this.props.focusOnMount){var u;(u=this.props.refToForward.current)===null||u===void 0||u.focus()}}onChange(u){this.props.onChange&&this.props.onChange(u.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(u){this.props.readOnly&&this.props.forceSelectAll&&u.currentTarget.select()}blur(){var u;(u=this.props.refToForward.current)===null||u===void 0||u.blur()}focus(){var u;(u=this.props.refToForward.current)===null||u===void 0||u.focus()}render(){const{ariaDescribedby:u,isInvalid:h,ariaLabelledby:E,ariaRequired:A,className:v,id:f,isDisabled:g,name:y,placeholder:T,size:M,type:O,refToForward:I,ariaLabel:D,forceSelectAll:P,focusOnMount:k,autoClogProps:R,autoComplete:V,...B}=this.props,W=(0,n.A)("c-input_text",{"c-input_text--large":M===l.large,"c-input_text--small":M===l.small,"c-input_text--with_error":h,"c-input_text--with_inline_alert":h,[d.E.small]:M===l.small,[d.E.large]:M===l.large},v),L=t.createElement("input",a({},B,{"aria-describedby":B["aria-describedby"]||u,"aria-invalid":B["aria-invalid"]||h,"aria-labelledby":B["aria-labelledby"]||E,"aria-required":B["aria-required"]||A,"aria-label":B["aria-label"]||D,autoComplete:V,className:W,disabled:g,id:f,name:y,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:T,ref:I,type:O}));return R?t.createElement(r.A,{autoClogProps:R,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},L):L}constructor(u){super(u),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");c.displayName="TextInput",c.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:s.A,onCopy:s.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"};const _=t.forwardRef((p,u)=>t.createElement(c,a({},p,{refToForward:u||t.createRef()})))},8452232783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p,F:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),d=e(5797272849),o=e(6244014364);function a(){return a=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var E=arguments[h];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(u[A]=E[A])}return u},a.apply(this,arguments)}i(a,"_extends");const l={small:"small",medium:"medium",large:"large"},m={onBlur:{action:o.UiAction.SAVE}};var c;let _=i(class extends(c=t.Component){componentDidMount(){var h;this.props.focusOnMount&&(!((h=this.textAreaRef)===null||h===void 0)&&h.current)&&this.textAreaRef.current.focus()}onChange(h){this.props.onChange(h.target.value)}render(){const{ariaDescribedby:h,isInvalid:E,ariaLabelledby:A,ariaRequired:v,className:f,placeholder:g,id:y,isDisabled:T,name:M,resize:O,size:I,focusOnMount:D,autoClogProps:P,...k}=this.props,R=(0,n.A)("c-input_textarea",{"c-input_textarea--large":I===l.large,"c-input_textarea--small":I===l.small,"c-input_textarea--resize_none":O==="none","c-input_textarea--resize_both":O==="both","c-input_textarea--resize_h":O==="horizontal","c-input_textarea--with_error":E,"c-input_textarea--with_inline_alert":E,[d.E.small]:I===l.small,[d.E.large]:I===l.large},f),V=t.createElement("textarea",a({},k,{"aria-describedby":h,"aria-invalid":E,"aria-labelledby":A,"aria-required":v,className:R,disabled:T,id:y,name:M,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:g,ref:this.textAreaRef,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return P?t.createElement(r.A,{autoClogProps:P,actionProps:m,elementType:o.ElementType.TEXTAREA},V):V}constructor(h){super(h),this.onChange=this.onChange.bind(this),this.textAreaRef=t.createRef()}},"TextareaInput");_.displayName="TextareaInput",_.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:s.A,onFocus:s.A,onBlur:s.A,placeholder:"",resize:null,size:l.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0};const p=_},4967176632:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(3564666345);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])}return o},s.apply(this,arguments)}i(s,"_extends");function r(o){let{className:a=void 0,initialValues:l,initialErrors:m=void 0,validate:c=void 0,validationSchema:_=void 0,validateOnBlur:p=!0,validateOnChange:u=!0,validateOnMount:h=!1,onReset:E=void 0,onSubmit:A,children:v,...f}=o;const g=E?{onReset:E}:{};return t.createElement(n.l1,s({initialValues:l,initialErrors:m,validate:c,validationSchema:_,validateOnBlur:p,validateOnChange:u,validateOnMount:h,onSubmit:A},g,f),y=>{let{handleSubmit:T,handleReset:M,...O}=y;return t.createElement("form",{className:a,onSubmit:T,onReset:M},v({...O}))})}i(r,"Form"),r.displayName="Form";const d=r},3155323475:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(5255740490),s=e(9665283624);function r(d){let{className:o,errors:a}=d;var l;return a&&a.length>0?t.createElement(t.Fragment,null,a.map(m=>(0,t.isValidElement)(m.message)?t.cloneElement(m.message,{key:m.id,id:m.id,className:(0,n.A)(o,"c-field_input__helpers")}):(l=!!m.message&&t.createElement(s.A,{className:(0,n.A)(o,"c-field_input__helpers"),key:m.id,id:m.id},m.message))!==null&&l!==void 0?l:null)):null}i(r,"FieldErrors")},7811786890:(Q,C,e)=>{"use strict";e.d(C,{DQ:()=>c,IM:()=>o,T$:()=>m,Wz:()=>u,Zr:()=>h,m4:()=>r,mw:()=>d});var t=e(9746734072),n=e(6313685253),s=e(9113979368);const r={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phone:/^[0-9._+-]{8,15}$/i},d=i(E=>{const A=typeof E=="boolean",v=typeof E=="string",f=A&&!E,g=v&&(!E||!E.trim()),y=(0,t.A)(E)&&!E.length;return f||g||y||E===null?"Required":null},"required"),o=i((E,A)=>v=>(r[E]||E).test(v)?null:A,"regexPattern"),a=o(r.email,"Please enter a valid email address."),l=o(r.phone,"Please enter a valid phone number."),m=i(E=>A=>!A||A.length<E?`Minimum of ${E} characters`:null,"minCharacterCount"),c=i(E=>A=>A.length>E?`Max character limit is ${E}`:null,"maxCharacterCount"),_=i(E=>A=>{let v=null;return E.forEach(f=>{A===f&&(v=`Cannot use ${A}`)}),v},"tokenNotAllowed"),p=i(E=>A=>{let v=null,f;return A&&A.length&&(A.includes(",")?(f=A.split(",").filter(g=>!!E.includes(g)),v=`Cannot use ${f}`):E.includes(A)&&(f=A,v=`Cannot use ${f}`)),v},"tokensNotAllowed"),u=i(E=>A=>{const v=(0,n.A)(E,(f,g,y)=>{const T=g.map(M=>M(A[y],A)).filter(Boolean);return T.length>0&&(f[y]=T),f},{});return(0,s.A)(v)?void 0:v},"createValidation"),h=i(E=>A=>{const v=E.map(f=>f(A)).filter(Boolean);return(0,s.A)(v)?void 0:v},"createValidate")},9665283624:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(8683010724);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(a[c]=m[c])}return a},r.apply(this,arguments)}i(r,"_extends");let d=i(class extends t.PureComponent{render(){const{children:l,className:m,id:c,..._}=this.props,p=(0,n.A)("c-inline_alert",m);return t.createElement("div",r({},_,{className:p,id:c,"data-qa-error":!0}),t.createElement(s.A,{name:"info"}),t.createElement("span",{className:"c-inline_alert__text"},l))}},"InlineAlert");d.displayName="InlineAlert",d.defaultProps={className:"",id:""};const o=d},440635146:(Q,C,e)=>{"use strict";e.d(C,{ed:()=>h,tc:()=>c,zG:()=>E});var t=e(3134334389),n=e(5255740490),s=e(1610251172),r=e(8214116048),d=e(571104883),o=e(735940183);const a=new o.Ay("keyboard_key");var l;(function(A){A.ArrowUp="\u2191",A.ArrowDown="\u2193",A.ArrowLeft="\u2190",A.ArrowRight="\u2192"})(l||(l={}));var m;(function(A){A.CmdOrCtrl="CmdOrCtrl",A.OptOrAlt="OptOrAlt"})(m||(m={}));const c={...l,...m},_=Object.values(l).map(A=>A.toString()),p={Cmd:"cmd-small",[l.ArrowUp]:"caret-up",[l.ArrowDown]:"caret-down",[l.ArrowLeft]:"caret-left",[l.ArrowRight]:"caret-right"},u=i(A=>A===m.CmdOrCtrl?(0,d.cX)()?"Cmd":"Ctrl":A===m.OptOrAlt?(0,d.cX)()?"Option":"Alt":A,"getKeyForOS"),h=i(A=>({"\u2191":a.t("up arrow"),"\u2193":a.t("down arrow"),"\u2190":a.t("left arrow"),"\u2192":a.t("right arrow"),Ctrl:a.t("control"),"\u2318":a.t("command"),Cmd:a.t("command"),Option:a.t("option"),Alt:a.t("alt"),".":a.t("period"),",":a.t("comma"),"[":a.t("left bracket"),"]":a.t("right bracket"),"+":a.t("plus"),"-":a.t("minus"),Esc:a.t("escape"),Strg:"Steuerung"}[A]||String(A)).toLowerCase(),"getNameForKey"),E=i(A=>{let{label:v,className:f,slim:g=!1,theme:y=r.Sx.Light,tooltip:T=!1}=A;const M=String(v),O=_.includes(M),I=u(M),D=p[I],P=(0,n.A)(f,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":O,"c-keyboard_key--slim":g,"c-keyboard_key--dark":y===r.Sx.Dark,"c-keyboard_key__tooltip":T}),k=h(I);return t.createElement("div",{role:"img","aria-label":k,className:P},D?t.createElement(s.A,{type:D,size:g?"inherit":20,inline:g}):I)},"KeyboardKey");E.displayName="KeyboardKey"},9194155027:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(440635146),r=e(571104883);const d=i(()=>(0,r.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");d.displayName="Delimiter";const o=i(l=>{let{isInline:m=!1,title:c,mainKey:_,modifier:p,modifiers:u,className:h,useSlimModifiers:E}=l;const A=(0,n.A)("c-keyboard_keys",{"c-keyboard_keys--inline":m,"c-keyboard_key__tooltip_text":!(p||u)},h),v=(0,n.A)("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":m}),f=p?[p]:u,g=f==null?void 0:f.map(y=>t.createElement(t.Fragment,{key:`${y}_key`},t.createElement(s.zG,{label:y,tooltip:!0,slim:E}),t.createElement(d,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:v,"aria-hidden":"true"},c),t.createElement("span",{className:A},g,t.createElement(s.zG,{label:_,tooltip:!0})))},"KeyboardKeysTooltip");o.displayName="KeyboardKeysTooltip";const a=o},9742374352:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(5617110048),r=e(3753517560),d=e(6538933722),o=e(6244014364),a=e(2907415594);function l(){return l=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E])}return p},l.apply(this,arguments)}i(l,"_extends");const m={onClick:{action:o.UiAction.CLICK}},c=t.forwardRef(i(function(u,h){let{autoClogProps:E,className:A,href:v,invert:f=!1,children:g,hasKeyboardFocus:y=!1,...T}=u;const M=(0,n.A)("c-link",{"c-link--focus-visible":y,"c-link--invert":f},A),O=T.target==="_blank"||(v==null?void 0:v.startsWith("mailto:")),I=t.createElement("a",l({},(0,a.A)(T),{className:M,href:v,ref:h}),g,O&&t.createElement(d.A,null));return E?t.createElement(s.A,{autoClogProps:E,actionProps:m,elementType:o.ElementType.LINK},I):I},"BaseLink"));c.displayName="BaseLink";const _=(0,r.A)(c)},5821662500:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(5191871564);const n=t.A},5191871564:(Q,C,e)=>{"use strict";e.d(C,{A:()=>F,b:()=>S});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3297051565),d=e.n(r),o=e(8642919232),a=e(5267010247),l=e(8822892075),m=e(3275490582),c=e(3244118357),_=e(8170643398),p=e(9464746668),u=e(9262712126),h=e(8025090314),E=e(5289504844),A=e(8739505998),v=e(7576317051),f=e(1563996154),g=e(82287009),y=e(735940183),T=e(485355941),M=e(4096483543),O=e(4327331459),I=e(9391594207),D=e(8847766420),P=e(5795074931),k=e(5761207079),R=e(8276911661);function V(){return V=Object.assign||function(j){for(var J=1;J<arguments.length;J++){var X=arguments[J];for(var q in X)Object.prototype.hasOwnProperty.call(X,q)&&(j[q]=X[q])}return j},V.apply(this,arguments)}i(V,"_extends");const B={id:d().string.isRequired,fallback:d().string,isCurrentUser:d().bool,name:d().string,noHighlights:d().bool,noLinking:d().bool,showTooltip:d().bool,onClick:d().func,isUnknown:d().bool,isNonExistent:d().bool,serviceId:d().string,appTeamId:d().string,clogLinkClick:d().func,showMemberProfileInWindow:d().func,isUserHidden:d().bool,className:d().string,clientTheme:d().string,tabIndex:d().number,ariaHidden:d().bool,navigate:d().func,supressLinkColors:d().bool,forceRealNames:d().bool,supressMentionAtSymbol:d().bool},W={fallback:null,isCurrentUser:!1,name:null,noHighlights:!1,noLinking:!1,onClick:void 0,showTooltip:!1,isUnknown:!0,isNonExistent:!1,serviceId:void 0,appTeamId:void 0,clogLinkClick:s.A,className:void 0,clientTheme:"light",tabIndex:0,ariaHidden:!1,showMemberProfileInWindow:s.A,isUserHidden:!1,navigate:s.A,supressLinkColors:!1,supressMentionAtSymbol:!1,forceRealNames:!1},L=new y.Ay("members");let S=i(class extends t.PureComponent{onCardClose(){this.tooltip.current&&this.tooltip.current.hideTip()}onClick(J){const{id:X,clogLinkClick:q,onClick:G,showMemberProfileInWindow:ne}=this.props;J.preventDefault(),q({item_id:X,item_type:X.charAt(0),link_type:"user"}),this.tooltip.current&&this.tooltip.current.hideTip(),(0,T.Cz)(J)?ne(X):this.props.navigate((0,l.Fo)({memberId:X})),G&&G(J,X)}getTooltipContent(){return t.createElement(E.Ay,{id:this.props.id,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0})}render(){const{id:J,serviceId:X,fallback:q,isCurrentUser:G,name:ne,noHighlights:te,noLinking:le,onClick:he,showTooltip:fe,isUnknown:ve,isNonExistent:me,className:oe,clientTheme:N,tabIndex:K,ariaHidden:x,isUserHidden:b,supressLinkColors:z,supressMentionAtSymbol:$}=this.props;if(!J)return null;const Z=`${$?"":"@"}${ne||q}`,U=(0,n.A)("c-member_slug",oe,`c-member_slug--${N}`,{"c-member_slug--link":!le,"c-member_slug--mention":G&&!te,"c-member_slug--grey":z});if(ve)return t.createElement(v.A,{type:"unknown"});if(me)return t.createElement(v.A,{type:"non-existent"});if(b)return fe?t.createElement(f.Ay,{ref:this.tooltip,tip:L.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",null,t.createElement(h.A,null))):t.createElement(h.A,null);if(le)return t.createElement("span",{className:U},Z);const ee={};(0,M.A)()?(ee["data-stringify-type"]="mention",ee["data-stringify-id"]=J,ee["data-stringify-label"]=Z):ee["data-stringify-text"]=`@${J}`;const se=`/team/${J}`,de=t.createElement(A.A,V({className:U,href:se,"data-member-id":J,"data-member-label":Z},ee,{onClick:this.onClick,tabIndex:K,"aria-hidden":x}),Z);return he?fe?t.createElement(f.Ay,{ref:this.tooltip,tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",{dir:"ltr"},de)):de:(0,g.yN)({memberId:J,serviceId:X,children:de})}constructor(J){super(J),this.tooltip=t.createRef(),this.onClick=this.onClick.bind(this),this.onCardClose=this.onCardClose.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"MemberSlug");S.displayName="MemberSlug",S.propTypes=B,S.defaultProps=W;function H(j,J){const{id:X,noLinking:q,forceRealNames:G}=J,ne=(0,P.WR)(j),te=(0,R.nv)(j,X),le=(0,D.ZT)(j);let he,fe,ve,me=q,oe;te&&(he=G?(0,u.wg)(te):(0,u.Gt)(te),fe=(0,_.t8)(te),ve=(0,_.QR)(te),oe=(0,p.A)(j,te)),ve&&!(0,O.A)(X)&&(he=X,fe=!1,ve=!1,me=!0);let N;oe&&(N=(0,c.cl)(te,le));const K=(0,k.a)(j,te.id);return{name:he,isUnknown:fe,isNonExistent:ve,serviceId:oe,appTeamId:N,noLinking:me,isCurrentUser:X===ne,isUserHidden:K}}i(H,"mapStateToProps");function w(j){return{showMemberProfileInWindow:function(){for(var J=arguments.length,X=new Array(J),q=0;q<J;q++)X[q]=arguments[q];return j((0,o.A)(...X))},navigate:function(){for(var J=arguments.length,X=new Array(J),q=0;q<J;q++)X[q]=arguments[q];return j((0,a.o)(...X))}}}i(w,"mapDispatchToProps");const F=(0,m.A)((0,I.N)(H,w)(S))},9163962844:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,r:()=>t.rY});var t=e(2762351398);const n=t.Ay},2762351398:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>l,rY:()=>d});var t=e(3134334389),n=e(5255740490),s=e(2312625946);function r(){return r=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var _=arguments[c];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p])}return m},r.apply(this,arguments)}i(r,"_extends");const d={transparent:"transparent",black:"black",red:"red",white:"white",blue:"blue",minGray:"min_gray",minGrayDarken:"min_gray_darken",themed:"themed"},o=i((m,c)=>m>c?`${c}+`:String(m),"getCountText"),a=i(m=>{let{className:c,count:_,maxCount:p=9,style:u="black",toolTipText:h=""}=m;if(!_||_<0)return null;const E=h?s.Ay:t.Fragment,A=h?{tip:h}:{};return t.createElement(E,r({},A),t.createElement("span",{"aria-hidden":"true",className:(0,n.A)(c,"c-mention_badge",`c-mention_badge--${u}`,{"c-mention_badge--max":_>p},h&&"c-mention_badge--default"),"data-qa":"mention_badge"},o(_,p)))},"MentionBadge");a.displayName="MentionBadge";const l=t.memo(a)},3514831633:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>l,Dr:()=>s.A,YJ:()=>t.YJ,a:()=>n.A,bX:()=>d.Ay,c$:()=>r.Ay,cQ:()=>o.A});var t=e(5152183509),n=e(8383646472),s=e(8245211418),r=e(7417231112),d=e(8184841524),o=e(7433650413),a=e(101973425);const l=t.Ay},8383646472:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(2141441167),s=e(862210999),r=e(3297051565),d=e.n(r),o=e(1658558415),a=e(4902318931),l=e(6308822),m=e(5152183509),c=e(8245211418),_=e(7417231112),p=e(8184841524),u=e(8773153312),h=e(1959847761);function E(){return E=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},E.apply(this,arguments)}i(E,"_extends");const A={type:d().oneOf((0,n.A)(u.A)),label:d().node,description:d().oneOfType([d().string,d().element]),children:d().element,key:d().string,click:d().func,danger:d().bool,dataQa:d().string,checked:d().bool,indeterminate:d().bool,ariaHidden:d().bool,target:d().string,href:d().string,download:d().string,action:d().func,payload:d().object,autoClogProps:d().object},v={template:d().arrayOf(d().shape({...A,renderSubmenu:d().func,template:d().arrayOf(d().shape(A)),submenu:d().arrayOf(d().shape(A)),checked:d().bool})).isRequired};let f=i(class Jr extends t.PureComponent{render(){const{template:T,...M}=this.props,O=T.map((I,D)=>{if(!I)return null;if(I.type===u.A.separator)return t.createElement(p.Ay,E({},I,{key:I.key||`separator-${D}`}));if(I.type===u.A.sub_separator)return t.createElement(p.Ay,E({},I,{className:"c-menu_separator__li--sub",key:I.key||`separator-${D}`}));if(I.type===u.A.header)return t.createElement(_.Ay,{key:I.key||`header-${D}`,label:I.label,className:I.className});if(I.type===u.A.loading)return t.createElement(l.A,{key:I.key||"loading",size:"large"});const P={children:I.children,className:I.className,classNameListItem:I.classNameListItem,label:I.label,description:I.description,icon:I.icon,badgeCount:I.badgeCount,badgeLabel:I.badgeLabel,badgeClassName:I.badgeClassName,shortcut:I.shortcut,showEnter:I.showEnter,onSelected:I.click,target:I.target,href:I.href,download:I.download,danger:I.danger,type:I.type,"data-qa":I.dataQa,disabled:I.disabled,showOfflineIcon:I.showOfflineIcon,showLinkIndicatorIcon:I.showLinkIndicatorIcon,checked:I.checked,indeterminate:I.indeterminate,width:I.submenuWidth,autoClogProps:I.autoClogProps,megaphoneSpaceName:I.megaphoneSpaceName,megaphoneNotificationName:I.megaphoneNotificationName,onMount:I.onMount,onUnmount:I.onUnmount,ariaDescribedBy:I.ariaDescribedBy,ariaRole:I.ariaRole},k=I.key||I.label;if(I.type===u.A.submenu){const V=(0,s.A)(I.renderSubmenu)?I.renderSubmenu:B=>t.createElement(Jr,E({template:I.template||I.submenu},B,{width:I.submenuWidth}));return t.createElement(h.A,E({},P,{label:I.label,renderSubmenu:V,key:k}))}if(I.type===u.A.custom)return I.ariaHidden===!1&&!(0,o.A)()?I.children:t.createElement("div",{"aria-hidden":I.ariaHidden===!1?"false":"true",key:I.key,"data-qa":I.dataQa},I.children);if(I.type===u.A.subheaderChild)return t.createElement(c.A,E({key:k,type:u.A.subheaderChild},P));const R=t.createElement(c.A,E({key:k},P));return I.megaphoneSpaceName&&I.megaphoneNotificationName?t.createElement(a.Ay,{key:k,spaceName:I.megaphoneSpaceName,notifications:{[I.megaphoneNotificationName]:{component:()=>R}}}):R});return t.createElement(m.Ay,E({},M),O)}},"MenuFromTemplate");f.displayName="MenuFromTemplate",f.propTypes=v;const g=f},7417231112:(Q,C,e)=>{"use strict";e.d(C,{$b:()=>m,Ay:()=>a,a6:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323);function r(){return r=Object.assign||function(c){for(var _=1;_<arguments.length;_++){var p=arguments[_];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(c[u]=p[u])}return c},r.apply(this,arguments)}i(r,"_extends");const d="_isSlackMenuItemHeader";function o(c){let{for:_,label:p,className:u,onMouseEnter:h=s.A}=c;return t.createElement("div",r({},_&&{id:m(_)},{"aria-hidden":"true",className:(0,n.A)("c-menu_item__header",u),onMouseEnter:h,"data-qa":"menu-item-header"}),p)}i(o,"MenuItemHeader"),o.displayName="MenuItemHeader",o[d]=!0;const a=o;function l(c){return!!(c!=null&&c[d])}i(l,"isMenuItemHeader");function m(c){return`${c}-label`}i(m,"getMenuItemHeaderIdForGroup")},8245211418:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(3134334389),n=e(5255740490),s=e(3078252698),r=e(7715417323),d=e(8049923572),o=e(6084388622),a=e(7420598276),l=e(1610251172),m=e(2762351398),c=e(8773153312),_=e(101973425),p=e(8683010724),u=e(6244014364),h=e(571104883),E=e(735940183),A=e(9391594207);const v=new E.Ay("menu");let f=i(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(O){var I,D;(D=(I=this.props).menuCallbackBefore)===null||D===void 0||D.call(I,O),this.props.onSelected(O),this.props.menuCallback(this.props.menuCallbackId,O)}determineMenuRole(){const{type:O,ariaRole:I}=this.props;if(I)return I;switch(O){case c.A.radio:return"menuitemradio";case c.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:O,badgeCount:I,badgeClassName:D,badgeVariant:P,highlighted:k}=this.props;return I?t.createElement(m.Ay,{count:I,style:k?m.rY.white:m.rY.red}):O?t.createElement(a.A,{className:D,variant:P},O):null}renderAdditionalIconMaybe(){const{additionalIcon:O}=this.props;return O?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},O):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(p.A,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:O,highlighted:I}=this.props;return!O||!I?null:t.createElement(l.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:O,checked:I,indeterminate:D}=this.props,P=O===c.A.radio||O===c.A.checkbox;return P&&D?t.createElement(l.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):P&&I?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(p.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:O}=this.props;return O?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},O):null}renderLinkIconMaybe(){const{href:O,showLinkIndicatorIcon:I}=this.props;return I===!1||I!==!0&&!O?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(p.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:O,containerSize:I,experimentSkResponsiveMenusGroupOn:D,isResponsive:P}=this.props;if(!O||D&&P&&I&&I.width<300)return null;if(!(0,s.A)(O)&&"label"in O){const{label:k}=O;if(k&&(0,s.A)(k))return t.createElement("div",{className:"c-menu_item__shortcut"},k)}return t.createElement("div",{className:"c-menu_item__shortcut"},O)}render(){const{autoClogProps:O,children:I,className:D,classNameListItem:P,danger:k,description:R,disabled:V,showOfflineIcon:B,highlighted:W,label:L,onMouseEnter:S,onMouseLeave:H,href:w,target:F,download:j,type:J,withSubmenu:X,standaloneHoverEffect:q,checked:G,indeterminate:ne,measureRef:te,containerSize:le,experimentSkResponsiveMenusGroupOn:he,isResponsive:fe,ariaDescribedBy:ve,ariaLabelledBy:me,ariaLabel:oe,disableHoverStyling:N}=this.props,K=(0,n.A)(D,"c-menu_item__button",{"c-menu_item__button--highlighted":W&&!V&&!N,"c-menu_item__button--danger":k,"c-menu_item__button--disabled":V,"c-menu_item__button--with_submenu":X,"c-menu_item--button--subheader_child":J===c.A.subheaderChild,"c-menu_item__button--checked":(J===c.A.radio||J===c.A.checkbox)&&(G||ne),"c-menu_item--compact":J===c.A.compactItem,"c-menu_item--standalone":q}),x=(0,n.A)(P,"c-menu_item__li",{"c-menu_item__li--highlighted":W&&!N}),b=(0,n.A)(P,"c-menu_item__label",{"c-menu_item__label--with_description":R}),z=X?"true":void 0,$=R?t.createElement("div",{className:"c-menu_item__description"},R):"",Z=this.props.activeMenuId,U=this.props.featureSubmenuRoleDescription?v.t("submenu"):void 0,ee=(0,h.cX)()&&X?U:void 0;return t.createElement("div",{ref:te,className:x,onMouseEnter:S,onMouseLeave:H,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(o.Nm,{autoClogProps:{...O,elementType:u.ElementType.MENU_ITEM},ref:this.buttonRef,id:Z,className:K,disabled:V,onClick:this.onSelected,href:w,target:F,download:j,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:G,"aria-checked":ne?"mixed":G,"aria-haspopup":z,tabIndex:-1,"aria-roledescription":ee,"aria-describedby":ve,"aria-labelledby":me,"aria-label":oe},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:b},L,I,!(he&&fe&&le&&le.width<300)&&$),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),B&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(l.A,{type:"cloud-offline-small"}))))}constructor(O){super(O),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");f.displayName="MenuItem",f.defaultProps={children:void 0,highlighted:!1,onMouseEnter:r.A,onMouseLeave:r.A,onSelected:r.A,menuCallback:r.A,menuCallbackBefore:r.A,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:c.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:r.A,onUnmount:r.A,showFullCarat:!1,disableHoverStyling:!1};const g={MenuItem:f},y=i(M=>({experimentSkResponsiveMenusGroupOn:(0,d.IN)(M)}),"mapStateToProps"),T=(0,_.Ay)((0,A.N)(y)((0,d.BM)(f)))},8184841524:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d,HP:()=>o});var t=e(3134334389),n=e(5255740490);const s="_isSlackMenuSeparator";function r(a){let{className:l,noPadding:m,noPaddingAbove:c,noPaddingBelow:_,noFirstChild:p,noLastChild:u,dataQa:h="menu_separator__separator"}=a;const E=(0,n.A)("c-menu_separator__li",{padding_0:m,padding_top_0:c,padding_bottom_0:_,"c-menu_separator__li--no_first_child":p,"c-menu_separator__li--no_last_child":u},l);return t.createElement("div",{className:E},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":h}))}i(r,"MenuSeparator"),r.displayName="MenuSeparator",r[s]=!0;const d=r;function o(a){return!!(a!=null&&a[s])}i(o,"isMenuSeparator")},7433650413:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5249175977),s=e(2689960678);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(a[c]=m[c])}return a},r.apply(this,arguments)}i(r,"_extends");const d=i(a=>{const{renderMenu:l,onPopoverOpen:m,onPopoverClose:c,isDisabled:_=!1,closeOnSelect:p=!0,onTriggerClose:u,onMenuItemSelected:h,onMenuKeyDown:E,...A}=a,v=i(()=>{m&&m()},"onOpenProp"),f=i(y=>{const{onClose:T,...M}=y,O=i((k,R)=>{T&&T(k),c&&c(k)},"onCloseProp"),P=l({...y,onTriggerClose:i(k=>{T&&T(k),u&&u(k)},"onTriggerClose"),onMenuItemSelected:i((k,R)=>{p&&(T&&T(R),c&&c(R)),h&&h(k,R)},"onMenuItemSelected"),onMenuKeyDown:E});return P?t.createElement(n.AM,r({shouldFade:!1,onClose:O,onOpen:v},M),P):!1},"renderPopover");if(f.displayName="renderPopover",_)return typeof a.children=="function"?a.children(s.t0):a.children;const g=a.isContextMenu?s.t0:{"aria-haspopup":"menu"};return t.createElement(n.Wv,r({},A,{triggerProps:g,renderPopover:f}),a.children)},"MenuTrigger");d.displayName="MenuTrigger";const o=d},8773153312:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",sub_separator:"sub_separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},n=t},5152183509:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>H,YJ:()=>B});var t=e(3134334389),n=e(5255740490),s=e(3078252698),r=e(9746734072),d=e(8424846741),o=e(7715417323),a=e(4481313819),l=e(4244379358),m=e(8049923572);const c=i(w=>{let{"aria-labelledby":F,"aria-owns":j}=w;return j?t.createElement("div",{className:"offscreen",role:"group","aria-owns":j,"aria-labelledby":F}):null},"MenuItemGroup");c.displayName="MenuItemGroup";const _=c;var p=e(7417231112),u=e(8184841524),h=e(101973425),E=e(1959847761),A=e(6244014364);function v(w){return t.isValidElement(w)&&"children"in w.props}i(v,"hasChildren");function f(w){return w!=null&&typeof w=="object"&&"type"in w&&w.type===t.Fragment}i(f,"isFragment");function g(w){return w instanceof Array?w.map(g):f(w)&&v(w)?g(w.props.children):w}i(g,"defragment");function y(w){return t.Children.toArray(g(w))}i(y,"flattenChildren");var T=e(796111729),M=e(3821598679),O=e(9391594207);function I(){return I=Object.assign||function(w){for(var F=1;F<arguments.length;F++){var j=arguments[F];for(var J in j)Object.prototype.hasOwnProperty.call(j,J)&&(w[J]=j[J])}return w},I.apply(this,arguments)}i(I,"_extends");function D(w){const F=w&&w.type;return!!F&&(0,h.l0)(F)}i(D,"isMenuItem");function P(w){const F=w&&w.type;return!!F&&(0,E.e)(F)}i(P,"isSubmenu");function k(w){const F=w&&w.type;return F&&(0,u.HP)(F)}i(k,"isSeparator");function R(w){const F=w&&w.type;return F&&(0,p.a6)(F)}i(R,"isMenuItemHeader");let V=0;function B(){return V>0}i(B,"isMenuVisible");const W={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let L=i(class extends t.Component{componentDidMount(){this.focus(),V+=1}componentDidUpdate(F){this.props.kbNavActive&&!F.kbNavActive&&this.activateKBNav()}componentWillUnmount(){V-=1,this.props.onUnmount&&this.props.onUnmount()}onMenuNavigation(F){const j=this.getIndexOfNextMenuItemInDirection(F);this.setState(()=>({highlightedMenuItemIndex:j,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(F){const j=this.state.highlightCanChangeOnMouseMovement?F:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:j,contingentHighlightedMenuItemIndex:F,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var J;(J=this.ariaMenuNode)===null||J===void 0||J.focus()}}getAllMenuItemIndices(){const F=[];return y(this.props.children).filter(t.isValidElement).forEach((j,J)=>{(D(j)||P(j))&&F.push(J)}),F}getIndexOfNextMenuItemInDirection(F){const j=this.getAllMenuItemIndices(),J=j.indexOf(this.state.highlightedMenuItemIndex),X=j.length-1;if(F==="selectnext"){const G=J<X?J+1:0;return j[G]}const q=J-1>=0?J-1:X;return j[q]}getSelectedMenuItem(){const{highlightedMenuItemIndex:F}=this.state;if(!(F<0)&&this.menuChildren)return this.menuChildren[F]}focus(){const{kbNavActive:F,isSubmenu:j}=this.props;if(!F)return;if(!j){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const J=this.getAllMenuItemIndices();if(!J.length){var X;(X=this.ariaMenuNode)===null||X===void 0||X.focus();return}this.setState(()=>({highlightedMenuItemIndex:J[0]}),()=>{var q;(q=this.ariaMenuNode)===null||q===void 0||q.focus()})}registerKeyboardShortcutForMenuItem(F,j){if(!F||!j)return;const{label:J,key:X}=F;(0,s.A)(J)&&((0,s.A)(X)||(0,r.A)(X))&&(0,d.A)(X).forEach(q=>{this.keyboardShortcutsMap[q]=j})}renderMenuItem(F,j){const J=this.onMouseEnterMenuItem.bind(this,j),{highlightedMenuItemIndex:X,highlightedMenuItemKbNavActive:q,isKeyboardHighlight:G}=this.state,{onMenuItemSelectedBefore:ne,stripTerminalSeparators:te,isResponsive:le}=this.props;R(F)&&F.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[F.props.for]={key:F.props.for,"aria-labelledby":(0,p.$b)(F.props.for),"aria-owns":[],index:j});const he={...F.props,onMouseEnter:J,key:j},fe=`${this.activeMenuId}-${j}`,{shortcut:ve}=F.props;if(ve&&this.registerKeyboardShortcutForMenuItem(ve,fe),D(F)||P(F)){const K=X===j;if(he.activeMenuId=fe,K&&G){var me,oe,N;(oe=(me=this.ariaMenuNode)===null||me===void 0?void 0:me.querySelector(`#${he.activeMenuId}`))===null||oe===void 0||(N=oe.scrollIntoView)===null||N===void 0||N.call(oe)}he.menuCallbackBefore=ne,he.menuCallback=this.onMenuItemSelected,he.menuCallbackId||(he.menuCallbackId=j),he.highlighted=X===j,he.isKeyboardHighlight=he.highlighted&&G,he.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[he.group]||(this.menuGroups[he.group]={key:he.group,"aria-owns":[],index:j}),this.menuGroups[he.group]["aria-owns"].push(he.activeMenuId))}if(P(F)&&(he.isOpen=he.highlighted&&!G||he.highlighted&&q,he.kbNavActive=he.highlighted&&q,he.returnKBNav=this.activateKBNav,he.preventHighlightChange=this.preventHighlightChange,he.allowHighlightChange=this.allowHighlightChange),k(F)&&te)if(!this.menuChildren)(0,T.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const K=this.menuChildren[j-1];if(k(K))return null;he.noFirstChild=!0,he.noLastChild=!0}return D(F)&&(he.isResponsive=le),t.cloneElement(F,he)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(F=>F["aria-owns"].length>0).map(F=>({group:t.createElement(_,{key:F.key,"aria-labelledby":F["aria-labelledby"],"aria-owns":F["aria-owns"].join(" ")}),index:F.index})).sort((F,j)=>j.index-F.index):[]}renderMenuItems(){this.menuChildren=y(this.props.children).filter(t.isValidElement);const F=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(J=>{let{group:X,index:q}=J;F.splice(q,0,X)}),F}renderMenu(){const{noMargin:F,menuClassNames:j,"data-qa":J,isUnstyled:X,isResponsive:q,experimentSkResponsiveMenusGroupOn:G}=this.props,ne=(0,n.A)("c-menu__items",{"c-menu__items--no_margin":F}),te=this.state.highlightedMenuItemIndex!==-1?`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`:null,le=(0,n.A)({"c-menu":!X,"c-menu--responsive":q&&G},j);return t.createElement("div",{className:le,"data-qa":J,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":te??void 0,ref:this.setAriaMenuRef,className:ne,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const F=this.renderMenu(),{autoClogProps:j}=this.props;return j?t.createElement(a.A,I({elementType:A.ElementType.MENU},j),F):F}constructor(F){super(F),this.activeMenuId=`menu-${(0,M.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(j,J)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(j,J)},this.onMenuKeyDown=j=>{var J;const{kbNavActive:X,onMenuKeyDown:q,onCloseSubmenu:G,onTriggerClose:ne,windowRef:te}=this.props;if(!X)return;const{key:le}=j,he=W[le],fe=(J=this.keyboardShortcutsMap)===null||J===void 0?void 0:J[le],ve=this.getSelectedMenuItem(),me=ve&&P(ve),oe=this.getAllMenuItemIndices();(he||fe)&&(j.stopPropagation(),j.preventDefault()),(he==="selectnext"||he==="selectprevious")&&this.onMenuNavigation(he),he==="closesubmenu"&&(G==null||G(j)),(he==="select"||he==="opensubmenu")&&me&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),he==="closemenu"&&(ne==null||ne(j)),he==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:oe[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),he==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:oe[oe.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const N=`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`;if(he==="select"&&N&&!me){var K,x;(x=(K=te.deref())===null||K===void 0?void 0:K.document.getElementById(N))===null||x===void 0||x.click(),ne==null||ne(j)}if(fe){var b,z;(z=(b=te.deref())===null||b===void 0?void 0:b.document.getElementById(fe))===null||z===void 0||z.click(),ne==null||ne(j)}q==null||q(j,{isCurrentItemSubmenu:me,closeMenu:ne,selectedMenuItem:ve})},this.onMouseLeaveMenu=()=>{const j=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:j,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=j=>{this.ariaMenuNode=j},this.activateKBNav=()=>{var j;(j=this.ariaMenuNode)===null||j===void 0||j.focus(),this.setState(J=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:J.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):J.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(j=>({highlightedMenuItemIndex:j.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");L.displayName="Menu",L.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.A,onMenuItemSelectedBefore:o.A,onTriggerClose:o.A,onCloseSubmenu:o.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.A,allowHighlightChange:o.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.A,onUnmount:o.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0};const S=i(w=>({experimentSkResponsiveMenusGroupOn:(0,m.IN)(w)}),"mapStateToProps"),H=(0,l.A)((0,O.N)(S,null,null,{forwardRef:!0})(L))},101973425:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>m,KJ:()=>o,LN:()=>a,l0:()=>l});var t=e(2208015175),n=e(3297051565),s=e.n(n),r=e(4724591729),d=e(796111729);const o="_isSlackMenuItem",a={menuCallback:s().func,menuCallbackId:s().number,highlighted:s().bool};function l(c){return!!c[o]}i(l,"isMenuItem");function m(c){if((0,r.Cu)()){const _=c.propTypes||{};let p;Object.defineProperty(c,"propTypes",{get:()=>p,set:u=>{const h=c.displayName||c.name||"Component";(0,t.A)(a,(E,A)=>{const v=u[A];v&&v!==E&&v!==E.isRequired&&(0,d.Wo)().warn(`${h}'s ${A} prop type doesn't match menu item`)}),p={...a,...u}}}),c.propTypes=_}return c[o]=!0,c}i(m,"wrapMenuItem")},9285382326:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6162189146);const n=t.A},6162189146:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(7026348746),r=e(8683010724),d=e(2312625946),o=e(653780586),a=e(735940183);const l=new a.Ay("channel_token"),m=i(_=>{let{type:p=o.A.Unknown,subtler:u=!1,size:h=o.o.Small,width:E="random",invert:A=!1,showHash:v=!0,omitNonExistentTooltip:f=!1}=_;const g=(0,n.A)("c-missing_channel",{"c-missing_channel--unknown":p===o.A.Unknown,"c-missing_channel--nonexistent":p===o.A.Nonexistent,"c-missing_channel--subtler":u,"c-missing_channel--medium":h===o.o.Medium,"c-missing_channel--unknown_inverted":p===o.A.Unknown&&A,"c-missing_channel--non_existent_inverted":p===o.A.Nonexistent&&A}),y=(0,n.A)("c-missing_channel--medium_hash",{"c-missing_channel--subtler":u});let T;if(p===o.A.Unknown)T=l.t("Loading...");else if(p===o.A.Nonexistent)T=l.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(p===o.A.Nonexistent){const M=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(r.A,{name:"lock"}),t.createElement("span",null,l.t("private channel")));return f?M:t.createElement(d.Ay,{tip:T},M)}return h===o.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},v&&t.createElement("span",{className:y},t.createElement(r.A,{name:"channel"})),t.createElement(s.A,{tooltip:T,isNonExistent:!1,size:E,className:g})),t.createElement(s.A,{tooltip:T,isNonExistent:!1,size:E,className:g})):t.createElement(s.A,{tooltip:T,isNonExistent:!1,size:E,className:g})},"MissingChannel");m.displayName="MissingChannel";const c=t.memo(m)},8028620372:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(653780586);const r=i(o=>{let{className:a,isNonExistent:l=!1,size:m,subtler:c=!1,invert:_=!1,dataQa:p}=o;const{Unknown:u,Nonexistent:h}=s.A,E=l?h:u,A=(0,t.useMemo)(()=>({height:m,width:m}),[m]);return t.createElement("span",{className:(0,n.A)(a,"c-missing_icon",`c-missing_icon--${E}`,{"c-missing_icon--unknown_inverted":E===u&&_,"c-missing_icon--non_existent_inverted":E===h&&_,"c-missing_icon--subtler":c}),style:A,"data-qa":p})},"MissingIcon");r.displayName="MissingIcon";const d=r},7576317051:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3229001818);const n=t.A},3229001818:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(7026348746),s=e(653780586),r=e(735940183);const d=new r.Ay("member_token"),{Unknown:o,Nonexistent:a}=s.A,l=i(c=>{let{type:_=o,subtler:p=!1,className:u,"data-qa":h}=c;const E=_===o?d.t("Loading\u2026"):d.t("Private user info");return t.createElement(n.A,{className:u??"",isNonExistent:_===a,subtler:p,tooltip:E,"data-qa":h})},"MissingMember");l.displayName="MissingMember";const m=t.memo(l)},4816967449:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(7026348746),s=e(653780586),r=e(735940183);const d=new r.Ay("user_group_token"),{Unknown:o,Nonexistent:a}=s.A,{Small:l,Medium:m}=s.o,c=i(u=>{let{invert:h=!1,size:E=l,type:A=o,subtler:v=!1}=u;const f=A===o?d.t("Loading..."):d.t("Private user group info");if(E===m){const g="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(n.A,{tooltip:f,isNonExistent:A===a,size:"small",invert:h})," ",t.createElement(n.A,{tooltip:f,isNonExistent:A===a,size:"small",invert:h})),t.createElement("div",null,t.createElement(n.A,{tooltip:f,isNonExistent:A===a,size:"small",invert:h}),g,t.createElement(n.A,{tooltip:f,isNonExistent:A===a,size:"large",invert:h})))}return t.createElement(n.A,{tooltip:f,isNonExistent:A===a,size:"random",subtler:v,invert:h})},"MissingUserGroup");c.displayName="MissingUserGroup";const p=c},2372217664:(Q,C,e)=>{"use strict";e.d(C,{i:()=>m,m:()=>p});var t=e(3134334389),n=e(4980558152),s=e(9236644324),r=e(735940183),d=e(9391594207);const o=new r.Ay("message"),a={code:"code",codeBlock:"codeBlock"};function l(u){let{children:h,blockType:E,...A}=u,v;const f=t.Children.only(h),g=t.cloneElement(f,{...A,ref:T=>{T&&(v=T)}}),y=(0,t.useCallback)(()=>[{label:E==="codeBlock"?o.t("Copy this code block"):o.t("Copy this code"),click:()=>v&&(0,s.x3)(v.innerText)}],[E,v]);return t.createElement(n.A,{getTemplate:y},g)}i(l,"BaseCopyCodeBlockContextMenuTrigger"),l.displayName="BaseCopyCodeBlockContextMenuTrigger";const m=(0,d.N)(()=>({}),()=>({}))(l),c=t.forwardRef((u,h)=>{let{children:E,...A}=u;const v=t.Children.only(E);return t.cloneElement(v,{...A,ref:h,onMouseDown:_})});function _(u){if(u.button!==0||u.detail<3)return;u.preventDefault();const h=window.getSelection(),E=document.createRange();h==null||h.removeAllRanges(),E.selectNodeContents(u.currentTarget),h==null||h.addRange(E)}i(_,"selectContentsOnTripleMouseDown");const p=(0,d.N)(()=>({}),()=>({}),null,{forwardRef:!0})(c)},7970461309:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(8300007136),s=e(3771536679),r=e(8739505998),d=e(3270010894),o=e(4841770661);function a(m){let{ts:c,format:_,fallback:p=void 0,link:u=void 0,noLinking:h=!1,do24hrTime:E=!1,timezone:A=void 0}=m;const v=(0,n.wA)(),f=(0,d.Yq)(c,_,{fallbackString:p,do24hrTime:E,timezone:A}),g=(0,t.useCallback)(y=>{u&&f&&(0,s.A)(f,u)&&(v((0,o.A)({text:f,url:u})),y.preventDefault())},[v,f,u]);return!f||f===_?null:!u||h?t.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},f):t.createElement(r.A,{"data-qa":"mrkdwn_date",href:u,maybeOpenSuspiciousLinkDialog:g},f)}i(a,"DateCommand"),a.displayName="DateCommand";const l=t.memo(a)},3089302312:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(6380257921);let r=i(class extends t.PureComponent{render(){const{type:a,noHighlights:l,noLinking:m}=this.props,c=!l,_=(0,s.A)({type:a,tsfMode:"NORMAL"}),p=_,u=(0,n.A)("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!m,"c-mrkdwn__broadcast--mention":c});return t.createElement("span",{className:u,"data-broadcast-id":`BK${a}`,"data-stringify-text":_},p)}},"MrkdwnBroadcastCommand");r.displayName="MrkdwnBroadcastCommand",r.defaultProps={noHighlights:!1,noLinking:!1};const d=r},2507822440:(Q,C,e)=>{"use strict";e.d(C,{A:()=>X});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(6388117406),d=e(8950789382),o=e(9253306e3),a=e(1190344069),l=e(5892132962),m=e(2233365467),c=e(5267010247),_=e(8822892075),p=e(3275490582),u=e(9884588328),h=e(1407713935),E=e(4559887502),A=e(6495946979),v=e(8661826718),f=e(8739505998),g=e(9285382326),y=e(8683010724),T=e(1563996154),M=e(6345573615),O=e(735940183),I=e(485355941),D=e(6904279885),P=e(5123689463),k=e(9391594207),R=e(3273285825),V=e(9101533895),B=e(8146089001),W=e(3677514771);function L(){return L=Object.assign||function(q){for(var G=1;G<arguments.length;G++){var ne=arguments[G];for(var te in ne)Object.prototype.hasOwnProperty.call(ne,te)&&(q[te]=ne[te])}return q},L.apply(this,arguments)}i(L,"_extends");const S=new O.Ay("recordchannels"),H={channelName:void 0,className:void 0,fallbackName:void 0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isRecord:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:s.A,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1,experimentRecordChannelsGroupOn:!1,noTabbableContent:!1};let w=i(class extends t.PureComponent{onClick(G){const{id:ne}=this.props;if((0,I.Cz)(G)){G.preventDefault(),G.stopPropagation(),this.props.maybeOpenInWindow({viewId:ne});return}G.preventDefault(),G.stopPropagation(),this.props.navigate((0,_.pr)(ne))}getTooltipContent(){const{id:G,isRecord:ne,isChannelImOrMpim:te,mpimMemberNames:le,teamName:he,channelHasNonUniqueName:fe,recordLabel:ve,experimentRecordChannelsGroupOn:me}=this.props;return te?le.join(", "):ne?t.createElement("div",{className:"c-mrkdwn__record_channel--tooltip"},me?S.t("{recordLabel} channel ",{recordLabel:ve,recordType:ve,fallbackHash:"c94ad953533f172490dd2c0d82f8740c0ff19f9b"}):`${ve} channel`,t.createElement(o.r,{channelId:G})):t.createElement(t.Fragment,null,t.createElement(v.A,{channelId:G}),fe&&t.createElement("br",null),fe&&t.createElement("span",{className:"c-member_slug__tooltip_subheader"},he))}clogLinkClick(){var G,ne;(ne=(G=this.props).clogLinkClick)===null||ne===void 0||ne.call(G,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}render(){const{channelName:G,className:ne,fallbackName:te,id:le,isPrivate:he,isChannelImOrMpim:fe,isRecord:ve,recordChannelIconProps:me,isMember:oe,isNonExistent:N,isUnknown:K,noLinking:x,isFromAnotherTeam:b,team:z,noTabbableContent:$}=this.props;if(K)return t.createElement(g.A,{type:"unknown"});if(N&&!te)return t.createElement(g.A,{type:"non-existent"});const Z=!he||oe||ve;if(!Z)return t.createElement(g.A,{type:"non-existent"});const U=(0,M.A)({channelName:G,fallbackName:te,isUnknown:K,isNonExistent:N,includePrefix:!he&&!fe&&!me}),ee=U;let se,de;se=!x&&!N&&Z,he&&(de=(0,D.A)({channelName:G,isPrivate:he})),se&&b&&(se=!!z);const ue=(0,n.A)("c-mrkdwn__channel c-member_slug",{internal_channel_link:se,"c-member_slug--link":se},ne);if(!se)return t.createElement("span",{className:ue},he&&t.createElement(y.A,{name:"lock",variation:"filled",inline:!0}),ee);let _e;me?_e=t.createElement(y.A,L({inline:!0},me)):he&&(_e=t.createElement(y.A,{name:"lock",variation:"filled",inline:!0}));const pe=b&&z?(0,P.Kk)({team:z,channelId:le}):(0,P.iu)({channelId:le});return t.createElement(r.A,{id:le},t.createElement(T.Ay,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},t.createElement(f.A,L({className:ue,href:pe,clogLinkClick:this.clogLinkClick,"data-channel-name":U,"data-channel-id":le,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":de,onClick:this.onClick},$&&{tabIndex:-1}),_e,ee)))}constructor(G){super(G),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"BaseMrkdwnChannel");w.displayName="BaseMrkdwnChannel",w.defaultProps=H;function F(q,G){let{id:ne}=G,te,le,he,fe,ve,me,oe=null;const N=(0,V.OL)(q,ne);let K,x,b=null,z=[],$,Z,U;const ee=(0,a.hm)(q);return N?(te=(0,u.SB)(q,N,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),ve=(0,h.t8)(N),le=(0,h.Zp)(N),fe=(0,A.b)(N),K=(0,h.JM)(N),x=(0,h.rI)(N),b=(0,l.sc)(N),he=(0,h.QR)(N),me=(0,u.lo)(N),oe=me?(0,W._J)(q,(0,u.bK)(q,N)):null,z=(0,u.Zu)(q,ne),Z=(0,E.i)((0,V.MS)(q),N),U=(0,m.jT)(N),Z&&($=(0,B.a)(q,{channel:N}))):he=!0,{channelName:te,isPrivate:le,isChannelImOrMpim:K,isRecord:x,recordChannelIconProps:b,isNonExistent:he,isMember:fe,isUnknown:ve,isFromAnotherTeam:me,team:oe,mpimMemberNames:z,channelHasNonUniqueName:Z,teamName:$,recordLabel:U,experimentRecordChannelsGroupOn:ee}}i(F,"mapStateToProps");const j=i(q=>({updateChannelLastTrigger:function(){for(var G=arguments.length,ne=new Array(G),te=0;te<G;te++)ne[te]=arguments[te];return q((0,R.Z)(...ne))},navigate:function(){for(var G=arguments.length,ne=new Array(G),te=0;te<G;te++)ne[te]=arguments[te];return q((0,c.o)(...ne))},maybeOpenInWindow:function(){for(var G=arguments.length,ne=new Array(G),te=0;te<G;te++)ne[te]=arguments[te];return q((0,d.s)(...ne))}}),"mapDispatchToProps"),X=(0,p.A)((0,k.N)(F,j)(w))},9869662507:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>ae});var t=e(3134334389),n=e(2774532222),s=e(7715417323),r=e(5734673180),d=e(5604079762),o=e(1650415028),a=e(8170244779),l=e(4116177835),m=e(1206744593),c=e(6536982570),_=e(1521013946),p=e(8739505998),u=e(6044196829),h=e(1191942715),E=e(897219217),A=e(7621878090),v=e(1030162945),f=e(6658490498),g=e(3037015781),y=e(9884588328),T=e(1407713935),M=e(6007206761),O=e(7334104107),I=e(1198382523),D=e(7980641),P=e(3787230964),k=e(675958705),R=e(4138249182),V=e(6457401668),B=e(8661826718),W=e(3199988258),L=e(735940183),S=e(9391594207),H=e(9101533895),w=e(7606781622);const F=new L.Ay("linkify_emails");function j(Le){let{href:ye,isMsgPermalink:Te=!1,msg:Ae=void 0,channelDisplayName:Ie,msgSenderName:Ue,permalinkChannelId:Be=void 0,channel:we=void 0,experimentRichTextGroupOn:re=!1}=Le,ge=ye.length>500?`${ye.substr(0,500)}\u2026`:ye;if(ge=Te?ge:ge==null?void 0:ge.toLowerCase(),!Te||(0,g.lv)(Ae)||(0,O.ow)(Ae)||(0,M.F)(we)||(0,P.A)(Ae==null?void 0:Ae.subtype)||(0,V.ys)(Ae)==="tombstone"||(0,V.s7)(Ae)||(0,V.Dv)(Ae)||(0,V.TD)(Ae)||(0,V.oX)(Ae)||!(0,O.iM)(Ae)&&!(Ae!=null&&Ae.text)){if(ye.startsWith("mailto:")){const Re=ye.split("mailto:")[1]?ye.split("mailto:")[1]:ye;return F.rt("Contact {emailAddress} in Slack",{emailAddress:Re})}return t.createElement(t.Fragment,null,ge)}let De;if(Ae&&(0,k.A)(Ae,re)&&(0,E.n)(Ae.blocks)&&!(0,R.A)(Ae))De=t.createElement(h.A,{richTextBlock:(Ae==null?void 0:Ae.blocks)&&Ae.blocks[0],emojiSize:v.lw.SMALL,truncateLength:125});else{const xe=Ae&&(0,I.A)(Ae);xe&&(De=t.createElement(W.A,{text:xe,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:v.lw.SMALL,maxCharacters:125}))}const be=(0,T.LI)(we)||(0,T.yz)(we)?Ie:t.createElement(B.A,{className:"normal",channelId:Be});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Ue),t.createElement("span",{className:"normal"}," | ",be)),De&&t.createElement("div",{className:"normal"},De),t.createElement("div",{className:"sk_foreground_high_solid break_all"},ye))}i(j,"MrkdwnLinkTooltip"),j.displayName="MrkdwnLinkTooltip";function J(Le,ye){let{href:Te}=ye;const Ae=(0,_.$N)(Le,Te),Ie=!!(Ae&&Ae.type==="message"&&Ae.ts),Ue=Ie?Ae.channelId:void 0,Be=Ie&&Ae.channelId&&Ae.ts&&(0,w.Ld)(Le,Ae.channelId,Ae.ts),we=Be&&(0,D.A)(Le,Be);var re;return{isMsgPermalink:Ie,msg:Be||void 0,permalinkChannelId:Ue||void 0,channel:Ue&&(re=(0,H.OL)(Le,Ue))!==null&&re!==void 0?re:void 0,channelDisplayName:Ie?(0,y.SB)(Le,(0,H.OL)(Le,Ue)):void 0,msgSenderName:we?(0,f.A)(Le,{userId:we.userId,botId:we.botId,username:we.username,botProfile:Be.bot_profile}):void 0,experimentRichTextGroupOn:(0,A.E)(Le)}}i(J,"mapStateToProps");const X=(0,S.N)(J)(j);var q=e(1563996154),G=e(3339229351),ne=e(82287009),te=e(4877597461),le=e(8257102208),he=e(796111729),fe=e(9899967630),ve=e(3955524292),me=e(8234448831),oe=e(7547876038),N=e(8677230210),K=e(4761125736),x=e(5492254797),b=e(8276911661),z=e(2047021170),$=e(8262898118);function Z(){return Z=Object.assign||function(Le){for(var ye=1;ye<arguments.length;ye++){var Te=arguments[ye];for(var Ae in Te)Object.prototype.hasOwnProperty.call(Te,Ae)&&(Le[Ae]=Te[Ae])}return Le},Z.apply(this,arguments)}i(Z,"_extends");const U="javascript:";function ee(Le){let{url:ye,origin:Te,botId:Ae,urlIsSIWSLink:Ie,experimentWebIdentityLinksGroupTreatment:Ue,isFileQuipAndNotAccessible:Be,isFileListAndNotAccessible:we}=Le;return Ie&&Ue?"siws":Be?"quip-inaccessible":we?"list-inaccessible":Ae?"bot":(0,n.A)(ye,U)?"javascript":(0,n.A)(ye,`${Te}/messages`)?"messages":(0,n.A)(ye,`${G.SQ}chat.help`)?"old-slack-action":(0,n.A)(ye,`${G.Rw}`)?"slack-action":"external"}i(ee,"getUrlType");const se=(0,ve.A)();function de(Le){let{botId:ye,botName:Te,children:Ae,origin:Ie=se,doSlackAction:Ue,doSlackActionLinks:Be=!0,requestAccessModalThunk:we,noLinking:re=!1,url:ge,maybeOpenSuspiciousLinkDialog:De=s.A,clogLinkClick:be=s.A,urlIsSIWSLink:xe=!1,explicitlyRenameBotLink:Re=!1,showTooltip:je=!1,suppressLinkWarningPref:Ge=!1,experimentWebIdentityLinksGroupTreatment:Qe=!1,isHermesLinkTrigger:Xe=!1,triggerId:et,isFileQuipAndNotAccessible:rt=!1,isFromAppHome:it=!1,permalinkType:lt=null,permalinkFileId:ot=void 0,isFileListAndNotAccessible:Et=!1,noTabbableContent:At=!1}=Le;const Ot=(0,t.useCallback)(()=>{Ue(ge)},[Ue,ge]),Rt=(0,t.useCallback)(ze=>{ze.preventDefault(),we({url:ge})},[we,ge]),yt=(0,t.useCallback)(ze=>{let Dt="external",hn;lt===_.im.MESSAGE?Dt="message":lt===_.im.FILE?(Dt="file",ot&&(hn={item_id:ot,item_type:"F",link_action:"file_preview_link"})):lt===_.im.SEARCH?Dt="search_link":lt&&(Dt="internal"),be({...ze,...hn,link_type:Dt})},[be,lt,ot]),Mt=(0,t.useCallback)(()=>{const ze=(0,r.A)(ge);return t.createElement(X,{href:ze})},[ge]);if(re)return t.createElement("span",null,Ae);const en=ee({url:ge,origin:Ie,botId:ye,urlIsSIWSLink:xe,experimentWebIdentityLinksGroupTreatment:Qe,isFileQuipAndNotAccessible:rt,isFileListAndNotAccessible:Et}),Tt=(0,r.A)(ge);let xt,bt=null,nn=!1,dn=!1,Xt=Ae,jt=!1;if(en==="slack-action")dn=!0,Be?bt=Ot:(nn=!0,xt="(Disabled) ");else if(en==="old-slack-action")nn=!0,xt="(Disabled) ";else if(en==="quip-inaccessible"||en==="list-inaccessible"){const Dt=new L.Ay("request_access").t("Request access"),hn=t.createElement(p.A,Z({className:"c-mrkdwn__quip_and_list_file_request_access_link","data-stringify-link":Tt,"data-qa":"file-request-access-link",href:Tt,onClick:Rt,isFromAppHome:it},At&&{tabIndex:-1}),Ae);return t.createElement(q.Ay,{tip:Dt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},hn)}else if(en==="javascript")dn=!0,bt=s.A;else if(en==="bot"&&Re)dn=!0,Xt=Te||Ae,jt=!0;else if(en==="siws"){const ze=i((hn,yn)=>t.createElement(p.A,{autoClogProps:yn,clogLinkClick:yt,className:"c-mrkdwn__identity_trigger",onClick:hn,href:Tt},Xt),"renderBaseLink");let Dt=ze;return je&&(Dt=i((hn,yn)=>t.createElement(q.Ay,{tip:Mt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},ze(hn,yn)),"renderSiwsLink")),t.createElement(o.A,{url:Tt},Dt)}if(dn){let ze=t.createElement(u.A,{onClick:bt&&!nn?bt:s.A,disabled:nn,renderAsSpan:!0},xt,Xt);return jt&&(ze=t.createElement(l.A,{botId:ye,onClick:!nn&&bt},ze)),ze}const _n=t.createElement(p.A,Z({"data-stringify-link":Tt,href:Tt,clogLinkClick:yt,maybeOpenSuspiciousLinkDialog:Ge?s.A:De,isFromAppHome:it},At&&{tabIndex:-1}),Ae);return Xe&&et?t.createElement(a.A.Consumer,null,ze=>{let{...Dt}=ze;const hn={triggerId:et,url:ge},yn=(0,x.P)(Dt),ht=(0,x.S)(Dt,hn);return(0,ne.sh)({shortcutInfo:hn,channelId:Dt.channelId,hermesLinkTriggerUIContext:yn,autoClogEntryPoint:(ht==null?void 0:ht.entryPoint)||"other",children:t.createElement(p.A,{"data-stringify-link":Tt,href:Tt,clogLinkClick:yt,autoClogProps:ht,hermesLinkTriggerUIContext:yn,maybeOpenSuspiciousLinkDialog:Ge?s.A:De},Ae)})}):je?t.createElement(q.Ay,{tip:Mt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},_n):_n}i(de,"BaseMrkdwnLink"),de.displayName="BaseMrkdwnLink";const ue=i((Le,ye)=>{let{children:Te,memberId:Ae,url:Ie}=ye;const Ue=(0,K._Z)(Le,"web_identity_links")==="treatment",Be=(0,te.A)(Ie)||void 0,we=(0,me.Ay)(Ie),re=we?(0,_.XN)(Le,we):null;let ge;if(Be&&(ge=(0,N.vu)(Le,Be),!ge&&Ae)){const Re=(0,b.nv)(Le,Ae);(0,c.Ux)(Le,Re)&&(ge=Te),ge||(0,he.Ay)({state:Le}).warn(`MrkdwnLink: no bot name found for ${Be}`)}const De=(0,m.Wc)(Le)&&(re==null?void 0:re.type)===_.im.SHORTCUT_LINK_TRIGGER,be=we&&(0,fe.dR)(Le,we)!==null,xe=we&&(0,le.W4)(Le,we)!==null;return{botId:Be,botName:ge,experimentWebIdentityLinksGroupTreatment:Ue,suppressLinkWarningPref:!!(0,z.ty)(Le,"suppress_link_warning"),urlIsSIWSLink:we?(0,$.Ls)(Le,we):!1,isHermesLinkTrigger:De,triggerId:re==null?void 0:re.triggerId,permalinkType:re==null?void 0:re.type,permalinkFileId:re==null?void 0:re.fileId,isFileQuipAndNotAccessible:be,isFileListAndNotAccessible:xe}},"mrkdwn_link_mapStateToProps"),_e=i(Le=>({doSlackAction:ye=>Le((0,oe.A)(ye)),requestAccessModalThunk:ye=>Le((0,d.A)(ye))}),"mapDispatchToProps"),ae=(0,S.N)(ue,_e)(de);Object.defineProperty({},"getUrlType",{get:()=>ee,set:Le=>{ee=Le}})},3199988258:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ve});var t=e(3134334389),n=e(1398359918),s=e(6696292586),r=e(8891672792),d=e(8840779375),o=e(9113979368),a=e(7715417323),l=e(3297051565),m=e.n(l),c=e(3771536679),_=e(1030162945),p=e(3043682041),u=e(5821662500),h=e(2372217664),E=e(7970461309),A=e(3089302312),v=e(2507822440),f=e(9869662507),g=e(1470040509),y=e(1563996154),T=e(6818330210),M=e(2952777997),O=e(5888656082),I=e(1842363787),D=e(796111729),P=e(735940183),k=e(4096483543),R=e(5619542846),V=e(9391594207),B=e(6652001255),W=e(4841770661),L=e(3328068409),S=e(4761125736),H=e(1317368584),w=e(2047021170),F=e(3146663623);function j(){return j=Object.assign||function(me){for(var oe=1;oe<arguments.length;oe++){var N=arguments[oe];for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(me[K]=N[K])}return me},j.apply(this,arguments)}i(j,"_extends");const J=void 0,X="\u2026.,_-",q=/\ue000|\ue001/,G=new P.Ay("message"),ne=(0,D.Wo)();let te=i(class extends t.PureComponent{componentDidMount(){const{onRender:oe}=this.props;oe==null||oe({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:oe}=this.props;oe==null||oe({isTruncated:this.isTruncated()})}render(){const{text:oe,className:N,noJumbomoji:K,noSpecials:x,customContentHandler:b,addDirectionAttr:z,refToForward:$,onMouseEnter:Z,onMouseLeave:U,"data-qa":ee,experimentTsfSnitchGroupOn:se}=this.props;if(!oe)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const de=x?"NOMRKDWN":this.props.tsfMode,ue=this.props.ariaAssertive?"assertive":void 0;let _e=(0,I.sm)(oe,de,{jumbomoji:!K,allow_intra_word_formatting:!0});q.test(oe)&&(_e=(0,n.A)(_e,Ee=>Ee.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let pe=(0,O.A)(_e);b&&(pe=b(pe));const ae=z?"auto":void 0;return t.createElement("span",{className:se?`c-mrkdwn__snitch ${N||""}`:N,ref:$,"aria-live":ue,dir:ae,"data-qa":ee,onMouseEnter:Z,onMouseLeave:U},this.renderMrkdwnFormatting(pe,!0))}constructor(...oe){var N;super(...oe),N=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(K,x)=>{const{onUserGroupClick:b}=this.props;K.preventDefault(),b==null||b(x)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=K=>{let{contents:x}=K;const b=(0,P.Yp)()==="ja-JP"?"\uFF0A":"*",z=(0,k.A)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":b,"data-stringify-suffix":b,"data-stringify-requires-siblings":!0};return t.createElement("b",j({key:this.nextKey()},z),this.renderMrkdwnFormatting(x))},this.renderChannel=K=>{let{id:x="",name:b=""}=K;const{noLinking:z,clogLinkClick:$}=this.props;return this.numCharactersUsed+=(b||x).length+1,t.createElement(v.A,{key:this.nextKey(),id:x,noLinking:z,clogLinkClick:$})},this.renderCode=K=>{let{contents:x}=K;if(this.props.noCode)return t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(x));const b=(0,P.Yp)()==="ja-JP"?"\uFF40":"`",z=(0,k.A)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":b,"data-stringify-suffix":b,"data-stringify-requires-siblings":!0};return t.createElement(h.i,{blockType:"code",key:this.nextKey()},t.createElement(h.m,null,t.createElement("code",j({key:this.nextKey(),className:"c-mrkdwn__code"},z),this.renderMrkdwnFormatting(x))))},this.renderCommand=K=>{let{data:x}=K;const{type:b,label:z,...$}=x,{noHighlights:Z,noLinking:U,do24hrTime:ee}=this.props;switch(b){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=b.length+1,t.createElement(A.A,j({},$,{key:this.nextKey(),type:b,noHighlights:Z,noLinking:U}));case"subteam":return this.numCharactersUsed+=(z||b).length,t.createElement(g.Ay,j({},$,{key:this.nextKey(),fallback:z,noHighlights:Z,noLinking:U,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(z||b).length,t.createElement(E.A,j({},$,{key:this.nextKey(),fallback:z,do24hrTime:ee}));default:return J}},this.renderEmoji=K=>{let{name:x=""}=K;const{showTooltips:b,stopAnimations:z,emojiDisplayInfo:$,emojiSize:Z=_.lw.MEDIUM,isEmojiInlineWithText:U,iconInTextMode:ee,sourceTeamId:se}=this.props;this.numCharactersUsed+=1;const{name:de=x,url:ue=void 0}=(0,T.H)(x,$);return t.createElement(_.Ay,{key:this.nextKey(),text:de,emojiSize:Z,showTooltip:b,stopAnimations:z,iconInTextMode:ee,sourceTeamId:se,isEmojiInlineWithText:U,url:ue})},this.renderHardSpace=K=>this.props.customLineEnding?"\xA0":["\xA0",t.createElement("wbr",{key:this.nextKey()})],this.renderHex=K=>{let{color:x=""}=K;const{noHexColors:b}=this.props;return this.numCharactersUsed+=x.length,b?null:t.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:x}})},this.renderHighlight=K=>t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},K),this.renderHighlightMarkers=K=>{let{contents:x}=K;return t.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(x))},this.renderHighlights=(K,x)=>{let{text:b=""}=K;const{highlights:z,noHighlights:$,maxCharacters:Z}=this.props,{isLastItem:U}=x;if((0,s.A)(Z)&&this.numCharactersUsed<Z){const _e=Z-this.numCharactersUsed;if(_e<b.length||_e===b.length&&!U){const pe=(0,r.A)((0,r.A)(b.slice(0,_e)),X);return this.numCharactersUsed=Z,[this.renderHighlights({text:pe},x),"\u2026"]}this.numCharactersUsed+=b.length}if(!b||!z||$)return(0,R.A)(b);const ee=(0,M.zE)(z),se=(0,M.Ay)(b,ee),de=[];let ue=0;if(se.forEach(_e=>{let{index:pe,length:ae}=_e;const Ee=(0,R.A)(b.slice(ue,pe));de.push(Ee);const Le=(0,R.A)(b.substr(pe,ae));de.push(this.renderHighlight(Le)),ue=pe+ae}),ue!==b.length){const _e=(0,R.A)(b.slice(ue));de.push(_e)}return de},this.renderItalic=K=>{let{contents:x}=K;const b=(0,P.Yp)()==="ja-JP"?"\uFF3F":"_",z=(0,k.A)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":b,"data-stringify-suffix":b,"data-stringify-requires-siblings":!0};return t.createElement("i",j({key:this.nextKey()},z),this.renderMrkdwnFormatting(x))},this.renderJumbomoji=K=>{let{name:x}=K;const{showTooltips:b,stopAnimations:z,sourceTeamId:$}=this.props;return this.numCharactersUsed+=1,t.createElement(_.Ay,{key:this.nextKey(),text:x,emojiSize:_.lw.LARGE,showTooltip:b,stopAnimations:z,sourceTeamId:$})},this.renderLineBreak=()=>{const{customLineEnding:K}=this.props,x=t.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,K?[t.createElement("span",{key:this.nextKey()},K),x]:x},this.onMaybeOpenSuspiciousLinkDialog=(K,x)=>{let{url:b="",contents:z=[]}=x;const{onOpenSuspiciousLinkDialog:$,suppressLinkWarningPref:Z}=this.props;if(Z)return;const U=i(ue=>ue!=null&&ue.text?ue.text:ue!=null&&ue.name?ue.name:ue!=null&&ue.contents?ue.contents.map(U):"","textFromContents"),ee=z.map(U).join(""),se=ee.replace(/&amp;/g,"&"),de=b.replace(/&amp;/g,"&");(0,c.A)(ee,b)&&($==null||$({text:se,url:de}),K.preventDefault())},this.renderLink=K=>{let{url:x="",contents:b=[]}=K;const{doSlackActionLinks:z,noLinking:$,origin:Z,memberId:U,clogLinkClick:ee,explicitlyRenameBotLink:se,isFromAppHome:de}=this.props;return t.createElement(f.Ay,{key:this.nextKey(),url:x,noLinking:$,doSlackActionLinks:z,origin:Z,memberId:U,clogLinkClick:ee,explicitlyRenameBotLink:se,showTooltip:!0,maybeOpenSuspiciousLinkDialog:ue=>{this.onMaybeOpenSuspiciousLinkDialog(ue,{url:x,contents:b})},isFromAppHome:de},this.renderMrkdwnFormatting(b))},this.renderLongQuotePrefix=()=>(0,k.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=K=>{let{id:x="",fallback:b}=K;const{noHighlights:z,noLinking:$,showTooltips:Z,clogLinkClick:U,clientTheme:ee,forceRealNames:se,supressMentionAtSymbol:de}=this.props;return this.numCharactersUsed+=x.length,t.createElement(u.A,{key:this.nextKey(),forceRealNames:se,id:x,fallback:b,showTooltip:Z,noHighlights:z,noLinking:$,clogLinkClick:U,clientTheme:ee,supressMentionAtSymbol:de})},this.renderMrkdwnFormatting=function(K){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:b}=N.props;return(0,d.A)(K,(z,$)=>{if(N.isTruncated())return!1;const Z=z.type,U=Z&&N.FORMAT_HANDLERS[Z]||N.renderHighlights,ee=i(()=>{const de=Boolean(x&&K&&$===K.length-1);return U(z,{index:$,isLastItem:de})},"getDefaultOutput");let se;try{b?(se=b({item:z,getDefaultOutput:ee}),t.isValidElement(se)&&(se=t.cloneElement(se,{key:N.nextKey()}))):se=ee()}catch(de){ne.error(de)}return se===J&&(se=N.renderUnknownItem(z)),se})},this.renderParagraphBreak=()=>{const{customLineEnding:K}=this.props;return K?this.renderLineBreak():(0,k.A)()?t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.createElement("i",{className:"copy_only"},t.createElement("br",null)))},this.renderPre=(K,x)=>{let{contents:b}=K,{index:z}=x;if(this.props.noCode)return this.renderUnformattedBlock({contents:b,index:z});const $=(0,P.Yp)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",Z=(0,k.A)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":$,"data-stringify-suffix":$,"data-stringify-requires-siblings":!0};return t.createElement(h.i,{blockType:"codeBlock"},t.createElement(h.m,null,t.createElement("pre",j({key:this.nextKey(),className:"c-mrkdwn__pre"},Z),this.renderMrkdwnFormatting(b))))},this.renderQuote=(K,x)=>{let{contents:b}=K,{index:z}=x;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:b,index:z});const $={};if((0,k.A)()&&!(0,o.A)(b)){const Z=(b==null?void 0:b[0].type)==="long_quote_prefix"?"blockquote":"quote";$["data-stringify-type"]=Z}return t.createElement("blockquote",j({key:this.nextKey(),className:"c-mrkdwn__quote"},$),this.renderMrkdwnFormatting(b))},this.renderQuotePrefix=()=>(0,k.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=K=>{let{contents:x}=K;const b=(0,k.A)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.createElement("strike",j({key:this.nextKey()},b),this.renderMrkdwnFormatting(x))},this.renderUnformattedBlock=K=>{let{contents:x,index:b}=K;const z=t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(x));if(b===0)return z;const $=this.renderLineBreak();return this.isTruncated()?$:[$,z]},this.renderUnknownItem=K=>{let{token:x}=K;const{showTooltips:b}=this.props;return b?t.createElement(y.Ay,{key:this.nextKey(),tip:G.t("Sorry! This part didn\u2019t render correctly.")},t.createElement("code",{className:"sk_primary_foreground"},x)):t.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},x)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");te.displayName="BaseMrkdwn",te.defaultProps={text:"",tsfMode:"NORMAL",highlights:"",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:a.A,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:a.A,onMouseEnter:a.A,onMouseLeave:a.A,explicitlyRenameBotLink:!1,onUserGroupClick:a.A,onOpenSuspiciousLinkDialog:a.A,clientTheme:"light",refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1};const le=i((me,oe)=>{const{emojiMode:N,noHexColors:K,noJumbomoji:x,useUserNamePrefs:b}=oe,z=N||(0,p.w)(me),$=(0,H.A)(me);return{emojiMode:z,noJumbomoji:x||!$,highlights:(0,w.ty)(me,"highlight_words"),noHexColors:K||(0,w.ty)(me,"hide_hex_swatch"),do24hrTime:(0,w.ty)(me,"time24"),suppressLinkWarningPref:(0,w.ty)(me,"suppress_link_warning"),clientTheme:(0,L.to)(me),experimentTsfSnitchGroupOn:(0,S._Z)(me,"tsf_snitch")==="on",forceRealNames:b&&(0,F.E)(me)}},"mapStateToProps"),he=i(me=>({onUserGroupClick:oe=>me((0,B.q)({groupId:oe})),onOpenSuspiciousLinkDialog:oe=>{let{text:N,url:K}=oe;return me((0,W.A)({text:N,url:K}))}}),"mapDispatchToProps"),fe=(0,V.N)(le,he)(te);fe.propTypes={emojiMode:m().string,highlights:m().string,noHexColors:m().bool,emojiDisplayInfo:m().object},fe.defaultProps={emojiMode:void 0,highlights:void 0,noHexColors:!1,emojiDisplayInfo:{}};const ve=fe},1470040509:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>T});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(6839188756),d=e(2023092677),o=e(8739505998),a=e(4816967449),l=e(4695291896),m=e(6695353875),c=e(4096483543),_=e(9391594207),p=e(6652001255),u=e(3677514771),h=e(598369692),E=e(1835177371);function A(){return A=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(M[D]=I[D])}return M},A.apply(this,arguments)}i(A,"_extends");function v(M){let{id:O,className:I=void 0,fallback:D=void 0,handle:P=void 0,isUserInGroup:k=!1,onClick:R=s.A,noHighlights:V=!1,noLinking:B=!1,isNonExistent:W=!1,isUnknown:L=!1,isDeactivated:S=!1,team:H=void 0,experimentIa4Enabled:w,showUserGroupDetailsProps:F}=M;const j=(0,t.useCallback)(le=>{w&&(F(O),le.preventDefault()),R(le,O)},[O,R,w,F]);if(L)return t.createElement(a.A,{type:"unknown"});if(W&&!D)return t.createElement(a.A,{type:"non-existent"});const J=!B&&!W&&!S,X=(0,l.A)({userGroupHandle:P,fallbackHandle:D,isUnknown:L,isNonExistent:W}),q=X,G=k&&!V,ne=(0,n.A)("c-mrkdwn__user_group",I,{"c-mrkdwn__user_group--link":J,"c-mrkdwn__user_group--mention":G});if(!J)return t.createElement("span",{"data-user-group-id":O,"data-qa-user-group-mrkdwn-is-linked":J,"data-qa-user-group-mrkdwn-is-mention":G,className:ne},q);const te={};return(0,c.A)()?(te["data-stringify-type"]="mention",te["data-stringify-id"]=O,te["data-stringify-label"]=X):te["data-stringify-text"]=X,t.createElement(o.A,A({className:ne,"data-user-group-id":O,"data-qa-user-group-mrkdwn-is-linked":J,"data-qa-user-group-mrkdwn-is-mention":G,href:`${(0,r.Zl)(H)}admin/user_groups`,onClick:j},te),q)}i(v,"UserGroup"),v.displayName="UserGroup";const f=null;function g(M,O){let{id:I}=O;const D=(0,E.lJ)(M,I);let P;if(D){const R=(0,d.t8)(D),V=(0,d.QR)(D),B=!(0,d.V1)(D),W=D.handle||void 0;var k;P={handle:W,isUnknown:R,isNonExistent:V,isDeactivated:B,isUserInGroup:(0,h.nc)(M,D.id)&&!B,team:(k=(0,u.H7)(M))!==null&&k!==void 0?k:void 0,experimentIa4Enabled:!!(0,m.cc)(M)}}else P={isNonExistent:!0,experimentIa4Enabled:!!(0,m.cc)(M)};return P}i(g,"mapStateToProps");const y=i(M=>({showUserGroupDetailsProps:O=>M((0,p.q)({groupId:O}))}),"mapDispatchToProps"),T=(0,_.N)(g,y)(v)},4376397139:(Q,C,e)=>{"use strict";e.d(C,{j:()=>o,A:()=>l});var t=e(3134334389),n=e(6105929840),s=e(735940183);const r=new s.Ay("generic_dialog");function d(m){let{onClick:c,..._}=m;return t.createElement(n.A,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:c,"aria-label":r.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"}),"data-qa":_["data-qa"]})}i(d,"ModalBackButton"),d.displayName="ModalBackButton";const o=t.memo(d);var a=e(1427522952);const l=a.A},1427522952:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(7937864072),r=e(4979382452);function d(){return d=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var _ in c)Object.prototype.hasOwnProperty.call(c,_)&&(l[_]=c[_])}return l},d.apply(this,arguments)}i(d,"_extends");function o(l){let{defaultPane:m,panes:c,forceFullRerenderOnPageChange:_=!0,...p}=l;const u=(0,s.A)(),[h,E]=(0,t.useState)({pane:m}),A=(0,t.useCallback)((g,y)=>E({pane:g,props:y}),[]),{render:v,modalProps:f}=c[h.pane];return v||u.error("MULTI_PANE_MODAL",`Unknown pane "${h.pane}"`),t.createElement(r.A,d({},p,f,{className:(0,n.A)(p.className,f==null?void 0:f.className,"c-multi_pane_modal")}),_?t.createElement(t.Fragment,{key:h.pane},v({switchPane:A,...h.props})):v({switchPane:A,...h.props}))}i(o,"MultiPaneModal"),o.displayName="MultiPaneModal";const a=o},3501104594:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(7715417323),s=e(348699080),r=e(1251589538);function d(){return d=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(f[T]=y[T])}return f},d.apply(this,arguments)}i(d,"_extends");const o=(0,t.memo)(f=>{let{addMemberToPresenceSubscription:g=n.A,memberId:y,removeMemberFromPresenceSubscription:T=n.A,renderDoublePresence:M=!1,firstElementExtraClassName:O="",...I}=f;return(0,s.A)(()=>(g(y),()=>T(y)),[y]),M?t.createElement(t.Fragment,null,t.createElement(r.Ay,d({},I,{className:`${I.className||""} ${O}`})),t.createElement(r.Ay,d({},I))):t.createElement(r.Ay,d({},I))});o.displayName="PresenceWithSubscriptions";const a=o;var l=e(3339229351),m=e(92812954),c=e(6045540917),_=e(9391594207),p=e(5241075893),u=e(5795074931),h=e(9290914927);const E=i((f,g)=>{const y=(0,h.gd)(f,g.memberId),T=(0,m.d)(f,g.memberId),M=(0,c.h)(f,g.memberId),O=(0,u.WR)(f)===g.memberId;return{...g,userType:T,isDnd:M,isSelf:O,isSlackbot:g.memberId===l.Q$,isActive:y==="active"}},"mapStateToProps"),A=i(f=>({addMemberToPresenceSubscription:g=>f((0,p.xz)({memberId:g})),removeMemberFromPresenceSubscription:g=>f((0,p.Fd)({memberId:g}))}),"mapDispatchToProps"),v=(0,_.N)(E,A)(a)},9828955991:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>s});var t=e(3501104594),n=e(1251589538);const s=t.A},1251589538:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_});var t=e(3134334389),n=e(5255740490),s=e(2036354333),r=e(8683010724),d=e(1563996154),o=e(735940183);function a(){return a=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E])}return p},a.apply(this,arguments)}i(a,"_extends");const l=new o.Ay("presence");function m(p,u){return p?u?l.t("Active, notifications snoozed"):l.t("Active"):u?l.t("Away, notifications snoozed"):l.t("Away")}i(m,"getPresenceText");const c=i(p=>{let{inheritIconSize:u=!1,inline:h=!0,isActive:E=!1,isDnd:A=!1,isSelf:v=!1,isSlackbot:f=!1,invert:g=!1,userType:y="member",focusable:T=!1,showText:M=!1,resetIA:O=!1,className:I}=p,D=E?{name:"status-member",variation:"filled"}:{name:"status-member"};const P=(0,n.A)(I,"c-presence",{"c-presence--active":E&&!g,"c-presence--resetIA":O,"c-presence--away":!E&&!g,"c-presence--inverted":g,"is-inline":h,block:!h}),k=m(E,A);y==="member"?A?D=E?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:f&&(D={name:"status-slackbot",variation:"filled"}):y==="ra"||y==="external"?A?D=E?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:D=E?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:y==="ura"&&(A?D=E?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:D=E?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const R=t.createElement("span",{className:P},t.createElement(r.A,a({},D,{title:k,"aria-label":k,"aria-hidden":"false",size:u?"inherit":"20",inline:h,"data-qa":"presence_indicator","data-qa-type":D.name,"data-qa-presence-self":v,"data-qa-presence-active":E,"data-qa-presence-dnd":A})));return T?t.createElement(t.Fragment,null,t.createElement(d.Ay,{tip:k},t.createElement(s.A,null,R)),M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},k)):t.createElement(t.Fragment,null,R,M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},k))},"Presence");c.displayName="Presence";const _=t.memo(c)},8259709686:(Q,C,e)=>{"use strict";e.d(C,{Pb:()=>o,bP:()=>a,n_:()=>s,ol:()=>d,yE:()=>n});var t=e(3193155968);const n="QuipEmbed",s=[n,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],r=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter","QuipFloatingActions","QuipPreviewTemplatesFooter"],d=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],o=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary","WFBWaysToStart"],a=[...s,...r,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",t.mq.Sidebar,t.mq.Primary,t.mq.Secondary,t.mq.Modal,"HuddleWorkspace","PocketGuide","ProductivityTips","VideoClipsMiniplayer"]},3864748912:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3193155968);const s={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:7,HUDDLE_WORKSPACE:8,POCKET_GUIDE:9,PRODUCTIVITY_TIPS:10,VIDEO_CLIPS_MINIPLAYER:11,[t.mq.Sidebar]:4,[t.mq.Primary]:5,[t.mq.Secondary]:6,[t.mq.Split]:7,[t.mq.Modal]:-1,[t.mq.Peek]:-1}},2533466394:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(7715417323),s=e(4394722864);const r=t.createContext({registerSection:n.A,unregisterSection:n.A,setActiveSection:n.A,getActiveSection:s.Q,resetSectionNavigation:n.A})},5846524816:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),d=e(5617110048),o=e(3391133100),a=e(2660476100),l=e(3155323475),m=e(4505564445),c=e(4244379358),_=e(7193040700),p=e(8683010724),u=e(2322735331),h=e(735940183),E=e(4757466470);function A(){return A=Object.assign||function(W){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var H in S)Object.prototype.hasOwnProperty.call(S,H)&&(W[H]=S[H])}return W},A.apply(this,arguments)}i(A,"_extends");const v=new h.Ay("select");let f=i(class extends t.Component{componentDidMount(){const{focusOnMount:L=!1}=this.props;L&&this.onClick()}componentDidUpdate(L){const{selectState:S}=this.props,{options:H}=S,{selectState:w}=L,{options:F}=w;!(0,E.Ay)(F,H,4)&&this.flattenOptions()}flattenOptions(){const{selectState:L}=this.props,{options:S}=L;this.allOptions=S&&S.reduce((H,w)=>(Object.prototype.hasOwnProperty.call(w,"options")&&Array.isArray(w.options)?H.push(...w.options):H.push(w),H),[])}onEscPressed(L){const{selectState:S,setSelectState:H}=this.props;S.isExpanded&&(L.stopPropagation(),H(()=>({isExpanded:!1})))}onKeyDown(L){if(!(L.shiftKey||L.ctrlKey||L.metaKey||L.altKey))switch(L.keyCode){case m._f:this.onEscPressed(L);break;case m.Fm:case m.I6:this.onClick();break;case m.i7:case m.n6:this.onUpOrDownPressed(L);break;case m.wn:this.onTabPressed();break;default:break}}onTabPressed(){const{setSelectState:L}=this.props;L(()=>({isExpanded:!1}))}onClick(){const{onClick:L=s.A,setSelectState:S,selectState:H}=this.props;this.updateOptionsListPosition(),L&&L(),S(()=>({isExpanded:!H.isExpanded}))}onUpOrDownPressed(L){const{selectState:S,setSelectState:H}=this.props,{isExpanded:w}=S;w||(L.stopPropagation(),this.updateOptionsListPosition(),H(()=>({isExpanded:!0})))}getSelectedOptionIndex(){const{selectState:L}=this.props,{selectedOption:S}=L;return S?this.allOptions.findIndex(H=>H.label===S.label&&H.value===S.value):-1}updateOptionsListPosition(){const{selectState:L}=this.props,{isExpanded:S}=L;if(!S&&this.measurePopoverEvent){var H;(H=this.props.windowRef.deref())===null||H===void 0||H.dispatchEvent(this.measurePopoverEvent)}}renderContent(L){var S;const{renderSelectedOption:H,selectState:w,textSelect:F=!1,textSelectLabel:j=void 0,selectDataQa:J=void 0,placeholderText:X=void 0}=this.props,{selectedOption:q}=w,G=q?H(q):t.createElement("span",{className:"c-select_button__placeholder"},X||v.t("Please select an option")),ne=F&&j?t.createElement("span",{className:"c-select_button--text-select-label"},j):void 0,te=(S=this.allOptions)===null||S===void 0?void 0:S.length,le=te||void 0,he=te?this.getSelectedOptionIndex()+1:void 0,ve=he===void 0||he===0?{}:{role:"option","aria-selected":!0,"aria-setsize":le,"aria-posinset":he};return t.createElement("div",A({id:L},ve,{"data-qa":J?`${J}-button-content`:null,className:"c-select_button__content"}),ne,G)}render(){const{ariaLabelledBy:L=void 0,ariaDescribedBy:S=void 0,ariaLabel:H=void 0,selectState:w,size:F,width:j,textSelect:J=!1,selectDataQa:X=void 0,classPrefix:q=void 0,onBlur:G=s.A,onMouseEnter:ne=void 0,onMouseLeave:te=void 0,refToForward:le}=this.props,{isDisabled:he,isExpanded:fe,isInvalid:ve,selectId:me}=w,oe=(0,n.A)("c-select_button",`c-select_button--${F}`,{"c-select_button--disabled":he,"c-select_button--expanded":fe,"c-select_button--text-select":J,"c-select_button--invalid":ve,[`${q}__select_button`]:q}),N=J?{}:{width:j},K=(0,o.Es)(me,"button"),x=`${K}-option`;return t.createElement("div",{role:"listbox",tabIndex:0,className:oe,onClick:this.onClick,onKeyDown:this.onKeyDown,style:N,"aria-disabled":he?!0:void 0,"data-qa":X?`${X}-button`:null,id:K,onBlur:G,onMouseEnter:ne,onMouseLeave:te,"aria-labelledby":L,"aria-describedby":S,"aria-label":H,"aria-invalid":ve,"aria-activedescendant":ve?void 0:x,ref:le,"aria-expanded":fe,"aria-multiselectable":!1},this.renderContent(x),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${F}`},t.createElement(p.A,{name:"caret-down",size:F===_.hu.SMALL?"inherit":"20"})))}constructor(L){super(L),this.allOptions=[],(0,u.v)(this,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","onClick","onEscPressed","onTabPressed"]);const{measurePopoverEventName:S=null}=this.props;S&&(this.measurePopoverEvent=new Event(S)),this.flattenOptions()}},"SelectButton");f.displayName="SelectButton";const g=(0,c.A)(f),y=t.forwardRef((W,L)=>t.createElement(g,A({},W,{refToForward:L})));var T=e(1162627626),M=e(4640201401),O=e(3650946343),I=e(6244014364);function D(){return D=Object.assign||function(W){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var H in S)Object.prototype.hasOwnProperty.call(S,H)&&(W[H]=S[H])}return W},D.apply(this,arguments)}i(D,"basic_select_extends");const P={onOptionSelected:{action:I.UiAction.SELECT}},k=i(W=>W.map(L=>{let{id:S}=L;return S}),"getIdsFromHintOrErrors");let R=i(class extends t.Component{renderOptionsList(){const{ariaLabel:L,onOptionSelected:S,onOptionsListClose:H,renderOption:w,resultsInPopover:F,overlayClassName:j,listClassName:J,selectState:X,setSelectState:q,width:G,classPrefix:ne,minOptionsListWidth:te,optionsRowHeight:le,maxListHeight:he,onScrollablePage:fe,dynamicHeight:ve,forceMaxHeight:me,includePadding:oe,includeDividers:N,preventScroll:K,autoClogProps:x}=this.props,{isDisabled:b}=X;if(b)return null;const z=F?t.createElement(M.A,{className:J,selectState:X,setSelectState:q,renderOption:w,ariaLabel:L,onOptionSelected:S,onOptionsListClose:H,width:G,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:ne,selectDataQa:this.fallbackDataQa,minOptionsListWidth:te,optionsRowHeight:le,focusOnMount:!0,popoverProps:j?{overlayClassName:j}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:he,onScrollablePage:fe,dynamicHeight:ve,forceMaxHeight:me,includePadding:oe,includeDividers:N,preventScroll:K}):t.createElement(T.A,{className:J,selectState:X,setSelectState:q,renderOption:w,ariaLabel:L,onOptionSelected:S,onOptionsListClose:H,width:G,inputRef:this.inputContainerRef,classPrefix:ne,selectDataQa:this.fallbackDataQa,optionsRowHeight:le,maxListHeight:he,focusOnMount:!0,shouldAlwaysHaveActiveRow:!0,dynamicHeight:ve,forceMaxHeight:me,includePadding:oe,includeDividers:N,preventScroll:K});return x?t.createElement(d.A,{autoClogProps:x,actionProps:P,elementType:I.ElementType.DROPDOWN},z):z}render(){const{resultsInPopover:L,selectState:S,setSelectState:H,className:w,textSelect:F,textSelectLabel:j,focusOnMount:J,onBlur:X,ariaLabel:q,ariaLabelledBy:G,ariaDescribedBy:ne,buttonRef:te,errors:le,hints:he,size:fe,renderSelectedOption:ve}=this.props,{isInvalid:me}=S,oe=(0,O.A)(le),N=(0,O.A)(he);let K;le&&(K=oe?k(le):void 0);let x;he&&(x=N?k(he):void 0);const b=(0,o.Yk)([ne,K,x]);return t.createElement("div",{className:(0,n.A)(w,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(y,D({},this.props,{size:fe,renderSelectedOption:ve,selectDataQa:this.fallbackDataQa,selectState:S,setSelectState:H,measurePopoverEventName:L?this.measurePopoverEventName:void 0,textSelect:F,textSelectLabel:j,focusOnMount:J,onBlur:X,ariaLabel:q,ariaLabelledBy:G,ariaDescribedBy:b,"aria-invalid":me,ref:te})),oe&&le&&t.createElement(l.A,{errors:le}),N&&he&&he.map($=>{let{id:Z,message:U}=$;return t.createElement(a.A,{key:Z,id:Z},U)}),this.renderOptionsList())}constructor(L){super(L),(0,u.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef();const{selectId:S}=L.selectState;this.measurePopoverEventName=`measureSelectPopover--${S}`,this.fallbackDataQa=L.selectDataQa||S}},"ControlledBasicSelect");R.displayName="ControlledBasicSelect",R.defaultProps={renderOption:W=>W.label,renderSelectedOption:W=>W.label,size:_.hu.MEDIUM,width:225,optionsRowHeight:_.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:s.A,onOptionSelected:s.A,onOptionsListClose:s.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:s.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0};let V=i(class extends t.Component{static getDerivedStateFromProps(L,S){const{selectedOption:H}=L,{selectedOption:w}=S;return!w||H!==void 0&&H!==w?{selectedOption:H}:null}setSelectState(L,S){return this.setState(L,S)}render(){const{isDisabled:L,isInvalid:S,isRequired:H,errors:w}=this.props,F=S||(0,O.A)(w),j=(0,r.A)(()=>({...this.state,isDisabled:L,isInvalid:F,isRequired:H}));return t.createElement(R,D({},this.props,{selectState:j(),setSelectState:this.setSelectState}))}constructor(L){super(L),this.state={activeRowIndex:null,isDisabled:L.isDisabled,isExpanded:L.isExpanded,isInvalid:L.isInvalid,isRequired:L.isRequired,options:L.options,selectId:L.selectId,selectedOption:L.selectedOption,selectType:_.US.BASIC},(0,u.v)(this,["setSelectState"])}},"BasicSelect");V.displayName="BasicSelect",V.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:s.A,onOptionsListClose:s.A,selectedOption:void 0,selectId:`basic-select-${(0,o.r9)()}`,maxListHeight:void 0,autoClogProps:void 0};const B=V},5536692738:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d,HH:()=>s.A,P2:()=>r.A,Z1:()=>n.A});var t=e(5846524816),n=e(2727264612),s=e(8274994582),r=e(320706952);const d=t.A},7090824688:(Q,C,e)=>{"use strict";e.d(C,{$c:()=>k,Ay:()=>D,Gn:()=>R,h7:()=>P,xn:()=>V,yW:()=>O});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),d=e(5617110048),o=e(3391133100),a=e(2660476100),l=e(3155323475),m=e(868047630),c=e(1162627626),_=e(4640201401),p=e(9573786552),u=e(2742076544),h=e(3239909785),E=e(7193040700),A=e(3650946343),v=e(7772530643),f=e(2322735331),g=e(6244014364);function y(){return y=Object.assign||function(B){for(var W=1;W<arguments.length;W++){var L=arguments[W];for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(B[S]=L[S])}return B},y.apply(this,arguments)}i(y,"_extends");const T={onOptionSelected:{action:g.UiAction.SELECT}},M=i(B=>B.map(W=>{let{id:L}=W;return L}),"getIdsFromHintOrErrors");let O=i(class extends t.Component{renderOptionsList(W){var L,S;const{selectState:H,setSelectState:w,renderOption:F,emptyStateMessage:j,enableLoadingState:J,width:X,maxOptionsListHeight:q,inputRef:G,resultsInPopover:ne,isLoading:te,classPrefix:le,optionsRowHeight:he,onOptionsListOpen:fe,onOptionsListClose:ve,overlayClassName:me,onScrollablePage:oe,onOptionSelected:N,shouldOptionBeSelected:K,shouldTokenizeOnComma:x,shouldTokenizeOnSpace:b,autoClogProps:z,dynamicHeight:$,shouldAllowUnselectInMultiSelectMode:Z,stayExpandedAfterSelection:U,optionsListFooterBannerContent:ee,offsetY:se,offsetX:de}=this.props,{isDisabled:ue,loadInBackground:_e}=H;if(ue)return null;const pe={key:`${H.selectId}-popover`};me&&(pe.overlayClassName=me),se&&(pe.offsetY=se);var ae,Ee;pe.offsetY=W?(Ee=pe.offsetY)!==null&&Ee!==void 0?Ee:0-((ae=(L=this.additionalInfoContainerRef)===null||L===void 0||(S=L.current)===null||S===void 0?void 0:S.offsetHeight)!==null&&ae!==void 0?ae:0):pe.offsetY,de&&(pe.offsetX=de);const Le=ne?t.createElement(_.A,{selectState:H,setSelectState:w,renderOption:F,emptyStateMessage:j,enableLoadingState:J,width:X,maxListHeight:q,multiSelectMode:!0,inputRef:G,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:te&&!_e,classPrefix:le,selectDataQa:this.fallbackDataQa,optionsRowHeight:he,onOpen:fe,onOptionsListClose:ve,popoverProps:pe,onScrollablePage:oe,onOptionSelected:N,shouldOptionBeSelected:K,shouldTokenizeOnComma:x,shouldTokenizeOnSpace:b,autoClogProps:z,dynamicHeight:$,shouldAllowUnselectInMultiSelectMode:Z,stayExpandedAfterSelection:U,footerBannerContent:ee}):t.createElement(c.A,{selectState:H,setSelectState:w,renderOption:F,emptyStateMessage:j,enableLoadingState:J,width:X,maxListHeight:q,multiSelectMode:!0,classPrefix:le,selectDataQa:this.fallbackDataQa,optionsRowHeight:he,onOptionsListClose:ve,onOptionSelected:N,shouldOptionBeSelected:K,shouldTokenizeOnComma:x,shouldTokenizeOnSpace:b,dynamicHeight:$,footerBannerContent:ee});return z?t.createElement(d.A,{elementType:g.ElementType.DROPDOWN,actionProps:T,autoClogProps:z},Le):Le}render(){const{selectState:W,setSelectState:L,inputRef:S,maxHeight:H,placeholderText:w,size:F,width:j,isLoading:J,focusOnMount:X,resultsInPopover:q,onSelectedItemsChange:G,onKeyDown:ne,onKeyUp:te,className:le,classPrefix:he,onFilterQueryChange:fe,onFilterQueryPaste:ve,processOptions:me,onBlur:oe,onOptionsListClosedBlur:N,onOptionsListClose:K,expandOnFocus:x,ariaLabel:b,ariaLabelledBy:z,ariaDescribedBy:$,onTokenSelect:Z,onInputFocused:U,forceRealName:ee,autoClogProps:se,errors:de,hints:ue,disableIdParsing:_e,customizeTokenProps:pe,iconType:ae,isTokenEditable:Ee,ignoreSelectAllTokensAfterMount:Le,disableCloseOnTab:ye,throttleForceRenderSelectContainer:Te,forceRenderSelectContainerThrottleRate:Ae}=this.props;let Ie;de&&(Ie=(0,A.A)(de));let Ue;ue&&(Ue=(0,A.A)(ue));let Be;de&&(Be=Ie?M(de):void 0);let we;ue&&(we=Ue?M(ue):void 0);const re=(0,o.Yk)([$,Be,we]),ge=!!(Ie&&de||Ue&&ue);return t.createElement("div",{className:(0,n.A)(le,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(m.A,{selectState:W,setSelectState:L,size:F,width:j,maxHeight:H,placeholderText:w,isLoading:J,inputRef:S,focusOnMount:X,measurePopoverEventName:q&&this.measurePopoverEventName,onSelectedItemsChange:G,selectDataQa:this.fallbackDataQa,onKeyDown:ne,onKeyUp:te,classPrefix:he,onFilterQueryChange:fe,onFilterQueryPaste:ve,processOptions:me,onBlur:oe,onOptionsListClosedBlur:N,onOptionsListClose:K,expandOnFocus:x,ariaLabel:b,ariaLabelledBy:z,ariaDescribedBy:re,onTokenSelect:Z,onInputFocused:U,forceRealName:ee,autoClogProps:se,customizeTokenProps:pe,iconType:ae,disableIdParsing:_e,isTokenEditable:Ee,ignoreSelectAllTokensAfterMount:Le,disableCloseOnTab:ye,throttleForceRenderSelectContainer:Te,forceRenderSelectContainerThrottleRate:Ae}),t.createElement("div",{ref:this.additionalInfoContainerRef},Ie&&de&&t.createElement(l.A,{errors:de}),Ue&&ue&&ue.map(De=>{let{id:be,message:xe}=De;return t.createElement(a.A,{key:be,id:be},xe)})),this.renderOptionsList(ge))}constructor(W){super(W),(0,f.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:L}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${L}`,this.fallbackDataQa=W.selectDataQa||L}},"ControlledMultiSelect");O.displayName="ControlledMultiSelect",O.defaultProps={renderOption:B=>B.label,size:E.hu.MEDIUM,width:300,optionsRowHeight:E.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:s.A,onKeyDown:s.A,onKeyUp:s.A,className:void 0,classPrefix:void 0,onFilterQueryChange:s.A,onFilterQueryPaste:s.A,processOptions:s.A,onBlur:s.A,onOptionsListClosedBlur:s.A,ariaLabel:void 0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:s.A,onInputFocused:s.A,forceRealName:void 0,onOptionsListOpen:s.A,onOptionsListClose:s.A,onScrollablePage:!1,onOptionSelected:s.A,shouldOptionBeSelected:s.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0};let I=i(class extends t.Component{setSelectState(W,L){this.setState(S=>{let H=W();const{filter:w,options:F}=this.props;return H.filterQuery!==void 0&&H.filterQuery!==S.filterQuery&&w&&(H=w(F,H)),H},L)}render(){const{isDisabled:W,isInvalid:L,isRequired:S,customControlledMultiSelectComponent:H,errors:w}=this.props,F=L||(0,A.A)(w),j=H??O,J=(0,r.A)(()=>({...this.state,isDisabled:W,isInvalid:F,isRequired:S}));return t.createElement(j,y({},this.props,{selectState:J(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(W){super(W),this.state={filterQuery:"",options:W.options,isDisabled:W.isDisabled,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isRequired:W.isRequired,selectId:W.selectId,selectedOptions:W.selectedOptions||[],shouldRefocusInputAfterSelection:!!W.showConfirmDialog,selectedTokenIndexes:W.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,f.v)(this,["setSelectState"])}},"MultiSelect");I.displayName="MultiSelect",I.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:v.k,selectId:`multi-select-${(0,o.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]};const D=I,P=(0,h.A)(O),k=(0,h.A)((0,p.A)(O)),R=(0,p.A)(O),V=(0,u.A)(O)},630868093:(Q,C,e)=>{"use strict";e.d(C,{AM:()=>R,Ay:()=>P,Fw:()=>I,JJ:()=>O,mH:()=>V,uR:()=>k});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),d=e(5617110048),o=e(3391133100),a=e(2660476100),l=e(3155323475),m=e(581574686),c=e(1162627626),_=e(4640201401),p=e(9573786552),u=e(2742076544),h=e(3239909785),E=e(7193040700),A=e(3650946343),v=e(7772530643),f=e(2322735331),g=e(6244014364);function y(){return y=Object.assign||function(B){for(var W=1;W<arguments.length;W++){var L=arguments[W];for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(B[S]=L[S])}return B},y.apply(this,arguments)}i(y,"_extends");const T={onOptionSelected:{action:g.UiAction.SELECT}},M=i(B=>B.map(W=>{let{id:L}=W;return L}),"getIdsFromHintOrErrors");let O=i(class extends t.Component{maybeRenderOptionsList(){const{selectState:W,setSelectState:L,renderOption:S,width:H,inputRef:w,ariaLabel:F,resultsInPopover:j,overlayClassName:J,offsetY:X,offsetX:q,onOptionSelected:G,className:ne,classPrefix:te,optionsRowHeight:le,onOpen:he,emptyStateMessage:fe,minOptionsListWidth:ve,maxOptionsListHeight:me,isLoading:oe,onOptionsListClose:N,onScrollablePage:K,enableLoadingState:x,autoClogProps:b,shouldAllowUnselectInSingleSelectMode:z,shouldOptionBeSelected:$,optionsListFooterBannerContent:Z}=this.props;if(j&&(!this.props.inputRef||!this.props.inputRef.current))return null;const U={key:`${W.selectId}-popover`};J&&(U.overlayClassName=J),X&&(U.offsetY=X),q&&(U.offsetX=q);const ee=j?t.createElement(_.A,{selectState:W,setSelectState:L,renderOption:S,width:H,inputRef:w,ariaLabel:F,onOptionSelected:G,popoverProps:U,measurePopoverEventName:this.measurePopoverEventName,className:ne,classPrefix:te,selectDataQa:this.fallbackDataQa,optionsRowHeight:le,onOpen:he,emptyStateMessage:fe,minOptionsListWidth:ve,maxListHeight:me,isLoading:oe,onOptionsListClose:N,onScrollablePage:K,enableLoadingState:x,autoClogProps:b,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:z,shouldOptionBeSelected:$,footerBannerContent:Z}):t.createElement(c.A,{selectState:W,setSelectState:L,renderOption:S,width:H,inputRef:w,ariaLabel:F,onOptionSelected:G,classPrefix:te,selectDataQa:this.fallbackDataQa,emptyStateMessage:fe,maxListHeight:me,optionsRowHeight:le,onOptionsListClose:N,enableLoadingState:x,shouldAllowUnselectInSingleSelectMode:z,shouldOptionBeSelected:$,footerBannerContent:Z});return t.createElement(d.A,{elementType:g.ElementType.DROPDOWN,actionProps:T,autoClogProps:b},ee)}render(){const{renderSelectedOption:W,className:L,classPrefix:S,placeholderText:H,size:w,width:F,selectState:j,setSelectState:J,inputRef:X,focusOnMount:q,showDropdownIcon:G,isLoading:ne,resultsInPopover:te,isDisabled:le,isRequired:he,onFocus:fe,onEsc:ve,ariaLabelledBy:me,ariaDescribedBy:oe,inputIcon:N,maxCharacterLimit:K,onOptionsListClose:x,ariaLabel:b,expandOnClick:z,searchOnClick:$,autoClogProps:Z,errors:U,hints:ee,expandOnFocus:se,hideSelectedOptionOnDropdownOpen:de,retainPreviousSelectionOnDelete:ue}=this.props,{isInvalid:_e}=j,pe=(0,A.A)(U),ae=(0,A.A)(ee);let Ee;U&&(Ee=pe?M(U):void 0);let Le;ee&&(Le=ae?M(ee):void 0);const ye=(0,o.Yk)([oe,Ee,Le]),Te=_e||pe;return t.createElement("div",{className:(0,n.A)(L,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(m.Ay,{selectState:{...j,isInvalid:Te,isRequired:he,isDisabled:le},setSelectState:J,renderSelectedOption:W,placeholderText:H,size:w,width:F,selectDataQa:this.fallbackDataQa,inputRef:X,focusOnMount:q,showDropdownIcon:G,isLoading:ne,resultsInPopover:te,measurePopoverEventName:te?this.measurePopoverEventName:void 0,classPrefix:S,onBlur:this.onBlur,onFocus:fe,onEsc:ve,"aria-label":b,ariaLabelledBy:me,ariaDescribedBy:ye,icon:N,maxCharacterLimit:K,onOptionsListClose:x,expandOnClick:z,autoClogProps:Z,searchOnClick:$,expandOnFocus:se,hideSelectedOptionOnDropdownOpen:de,retainPreviousSelectionOnDelete:ue}),pe&&U&&t.createElement(l.A,{errors:U}),ae&&ee&&ee.map(Ae=>{let{id:Ie,message:Ue,className:Be}=Ae;return Ue&&t.createElement(a.A,{key:Ie,id:Ie,className:Be},Ue)}),this.maybeRenderOptionsList())}constructor(W){super(W),this.onBlur=S=>{if(this.dropdownContainer){const H=this.dropdownContainer.current;if(H&&H.contains(S.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(S)};const{selectId:L}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${L}`,this.fallbackDataQa=W.selectDataQa||L,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");O.displayName="ControlledSearchSelect",O.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:B=>B.label,renderSelectedOption:B=>B.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:E.hu.MEDIUM,width:360,optionsRowHeight:E.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:s.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:s.A,onFocus:s.A,onEsc:s.A,onOpen:s.A,onOptionsListClose:s.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:s.A,isInvalidStateControlled:!1};const I=(0,p.A)(O);let D=i(class extends t.Component{setSelectState(W,L){this.setState(S=>{let H=W();const{filter:w,options:F}=this.props;return H.filterQuery!==void 0&&H.filterQuery!==S.filterQuery&&w&&(H=w(F,H)),H},L)}render(){const{isRequired:W,isInvalid:L,isDisabled:S,showConfirmDialog:H}=this.props,w=H?I:O,F=(0,r.A)(()=>({...this.state,isInvalid:L,isRequired:W,isDisabled:S}));return t.createElement(w,y({},this.props,{selectState:F(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(W){super(W),this.state={filterQuery:"",displayQuery:"",options:W.options,selectId:W.selectId,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isDisabled:W.isDisabled,selectedOption:W.selectedOption},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,f.v)(this,["setSelectState"])}},"SearchSelect");D.displayName="SearchSelect",D.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:v.k,onOptionSelected:s.A,selectId:`search-select-${(0,o.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0};const P=D,k=(0,h.A)(O),R=(0,h.A)((0,p.A)(O)),V=(0,u.A)(O)},2727264612:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(6044196829),s=e(8683010724),r=e(735940183);const d=new r.Ay("form_inputs"),o=i(l=>{let{onCtaClick:m,errorCopy:c,ctaCopy:_}=l;return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.createElement(s.A,{name:"warning",inline:!0})),t.createElement("span",null,c||d.t("Selected entries contain errors."),t.createElement(n.A,{onClick:m,className:"margin_left_25"},_||d.t("Delete all errors"))))},"MultiSelectErrorText");o.displayName="MultiSelectErrorText";const a=o},868047630:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(3134334389),n=e(5255740490),s=e(8628145494),r=e(6696292586),d=e(3398586081),o=e(5950652755),a=e(7715417323),l=e(6422693406),m=e(5617110048),c=e(9797002255),_=e(4244379358),p=e(6308822),u=e(5797272849),h=e(3391133100),E=e(1610251172),A=e(7193040700),v=e(561151542),f=e(2322735331),g=e(6244014364),y=e(571104883),T=e(4757466470);function M(){return M=Object.assign||function(W){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var H in S)Object.prototype.hasOwnProperty.call(S,H)&&(W[H]=S[H])}return W},M.apply(this,arguments)}i(M,"_extends");const O={onChange:{action:g.UiAction.ENTER_TEXT}},I={onClick:{action:g.UiAction.CLICK}},D=new Array(95).fill("").map((W,L)=>String.fromCharCode(L+32)),P=i(W=>t.createElement("span",M({className:"c-multi_select_input__space"},W),"\xA0"),"makeSpace"),k=1e3,R={leading:!0,trailing:!1};let V=i(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(L){var S;const H=L.selectState,{selectState:w,onTokenSelect:F,onSelectedItemsChange:j,setSelectState:J,hasKeyboardFocus:X,isTokenEditable:q}=this.props,{selectedOptions:G,isExpanded:ne,isDisabled:te}=w,le=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&L.focusOnMount!==this.props.focusOnMount&&this.focus(),((S=w.filterQuery)===null||S===void 0?void 0:S.length)&&w.filterQuery!==H.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(H),this.haveSelectedTokens()&&!(0,T.Ay)(H.selectedTokenIndexes,le)&&G&&(le==null||le.forEach(oe=>{F&&F(G[oe])}),ne&&J(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),H.isDisabled&&!te&&this.moveCursorAndScrollToFilterQuery(),!(0,T.Ay)(H.selectedOptions,G,3)){if(j&&typeof G<"u"){if(q){var ve;const{isCurrentlyEditingToken:oe}=this.state;if((((ve=H.selectedOptions)===null||ve===void 0?void 0:ve.length)||0)<G.length){if(oe){const N=G.pop();N&&G.splice(this.state.editTokenIndex,0,N),this.setTokenState(!1,0)}}else oe&&G.length===0&&this.setTokenState(!1,0)}j(G)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),X&&!L.hasKeyboardFocus&&(0,s.A)(w.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(L){const{selectState:S,setSelectState:H,hideFilterQueryOnBlur:w,onBlur:F,onOptionsListClosedBlur:j}=this.props,{selectedOptions:J,filterQuery:X,isExpanded:q}=S,G=w&&X&&!q;this.setState(()=>({focused:!1})),this.deselectAllTokens(),G&&H(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,F&&F(L,J),!q&&j&&j()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(L,S){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:L,editTokenIndex:S}))}onFilterQueryChanged(){const{setSelectState:L,selectState:S,onFilterQueryChange:H}=this.props,w=this.filterQueryRef.current,F=w==null?void 0:w.textContent,j=S.filterQuery!==F;if(this.backspaceWasPressed&&!j){this.backspaceWasPressed=!1;return}const J=F?F.length>0:!1;this.saveCaretPosInFilterQuery(),L(()=>({filterQuery:F,isExpanded:J})),H&&H(F)}onFocus(L){this.setState(()=>({focused:!0}));const{expandOnFocus:S,onInputFocused:H,setSelectState:w,onFocus:F}=this.props;S&&w(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),H&&H(L),this.mouseDownOnToken=!1,F&&F(L)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var L;const S=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection(),H=S==null?void 0:S.getRangeAt(0),w=this.getTokensAsArray(),{selectState:F}=this.props,{filterQuery:j}=F,J=w.reduce((he,fe,ve)=>S!=null&&S.containsNode(fe)?[...he,ve]:he,[]),X=J.length>0;if(!j&&!X&&!(S!=null&&S.isCollapsed)){this.ignoreSelectionChange=!0,S==null||S.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!X){var q;this.ignoreSelectionChange=!0,H==null||H.setStartBefore((q=this.filterQueryRef.current)===null||q===void 0?void 0:q.firstChild);return}const G=J[0],ne=J[J.length-1],te=w[G],le=w[ne];if(!j&&X){this.ignoreSelectionChange=!0,H==null||H.setStartBefore(te),this.ignoreSelectionChange=!0,H==null||H.setEndAfter(le),this.setSelectedTokenIndexes(J);return}this.isEntireFilterQuerySelected()&&X&&(this.ignoreSelectionChange=!0,H==null||H.setStartBefore(te),this.setSelectedTokenIndexes(J))}onSelectionChange(){var L;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const S=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();let H=null;if(S){const{type:w}=S;H=w}H==="Caret"&&this.onCaretSelectionChange(),H==="Range"&&this.onRangeSelectionChange()}onKeyDown(L){if(this.state.composing)return;const{key:S,ctrlKey:H,metaKey:w,altKey:F,shiftKey:j}=L,{selectState:J,onKeyDown:X}=this.props,q=(0,y.cX)()?w:H,G=S==="Delete"&&((0,y.cX)()&&F||(0,y.uF)()&&q);(S==="Backspace"||G)&&this.onBackspace(L),!G&&S==="Delete"&&this.onDelete(L),S==="Escape"&&this.onEscape(L),(S==="Home"||w&&!j&&S==="ArrowLeft"||w&&!j&&S==="ArrowUp")&&this.onHome(L),(S==="End"||w&&!j&&S==="ArrowRight"||w&&!j&&S==="ArrowDown")&&this.onEnd(L),!w&&S==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(L)),!w&&S==="ArrowRight"&&this.onRightArrow(L),S==="Tab"&&this.onTab(L),(S==="ArrowUp"||S==="ArrowDown")&&L.preventDefault(),S==="Enter"&&L.preventDefault(),!q&&D.includes(S)&&this.onCharacterKey(),X&&X(L,{hasActiveRowIndex:(0,r.A)(J.activeRowIndex),isExpanded:!!J.isExpanded})}onHome(L){L.preventDefault();const{selectState:S}=this.props,{selectedOptions:H}=S;H!=null&&H.length?this.setSelectedTokenIndexes([0],{initiator:L.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(L){L.preventDefault();const{selectState:S}=this.props,{selectedTokenIndexes:H}=S;H!=null&&H.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(L){const{selectState:S,onKeyUp:H}=this.props,w=this.getSelectedTokenIndexes(),F=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(w!=null&&w.length)&&(this.selectTextInNode(F[w[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),H&&H(L,{hasActiveRowIndex:(0,r.A)(S.activeRowIndex)})}onInputContainerMouseDown(L){L.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(L){if(!L||!L.clipboardData)return;const{onFilterQueryPaste:S}=this.props;S&&S(L)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:L}=this.props,{selectState:S}=this.props,{filterQuery:H,selectedOptions:w}=S,F=this.getSelectedTokenIndexes(),j=w==null?void 0:w.filter((q,G)=>(F==null?void 0:F.indexOf(G))===-1),J=this.getSelectedFilterQueryText(),X=H==null?void 0:H.replace(J,"");L(()=>({selectedOptions:j,selectedTokenIndexes:[],filterQuery:X})),this.moveCursorToFilterQuery()}onBackspace(L){const{setSelectState:S}=this.props,{selectState:H,isTokenEditable:w}=this.props,{filterQuery:F}=H;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!F)){L.preventDefault(),S(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(w&&(F==null?void 0:F.length)===1){L.preventDefault(),S(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){L.preventDefault(),S(()=>({filterQuery:"",isExpanded:!1}));return}const J=this.getTokensAsArray().length,X=this.getSelectedTokenIndexes(),q=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,q&&J===0){L.preventDefault();return}if(!q&&!this.haveSelectedTokens()&&F)return;if(L.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([J-1],{initiator:L.type});return}X==null||X.forEach(le=>{this.removeToken(le,"backspaceKey")});const G=X&&X[0],ne=G===0;let te=null;G&&(te=ne?[0]:[G-1]),te!=null&&te.length&&this.setSelectedTokenIndexes(te,{initiator:L.type})}onDelete(L){const{setSelectState:S}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){L.preventDefault(),S(()=>({filterQuery:"",isExpanded:!1}));return}const w=this.getTokensAsArray().length,F=this.getSelectedTokenIndexes();if(w===0||!this.haveSelectedTokens()||(L.preventDefault(),F==null||F.forEach(q=>{this.removeToken(q,"deleteKey")}),!(F!=null&&F.length)))return;const J=F[F.length-1]===w-1,X=(F==null?void 0:F.length)===w;(J||X)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(L){const{selectState:S,setSelectState:H,onOptionsListClose:w}=this.props;S.isExpanded&&(L.stopPropagation(),w&&w(),H(()=>({isExpanded:!1})))}onLeftArrow(L){var S;const w=this.getTokensAsArray().length,F=this.getSelectedTokenIndexes(),j=(F==null?void 0:F.length)&&F[0],J=(S=this.props.windowRef.deref())===null||S===void 0?void 0:S.getSelection();let X=null,q=null;if(J){const{type:fe,anchorOffset:ve}=J;X=fe,q=ve}const G=X==="Caret",ne=X==="Range";if(L.shiftKey&&ne&&this.isRangeSelectionOfFilterQueryComplete(q)){L.preventDefault();return}const te=G&&this.isCaretAtStartOfFilterQuery();if(w===0&&te){L.preventDefault();return}if(w===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&te){L.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:L.type});return}if(!this.haveSelectedTokens()&&te){this.setSelectedTokenIndexes([w-1],{initiator:L.type});return}if(ne&&this.haveSelectedTokens()&&j===0){L.preventDefault();return}this.haveSelectedTokens()&&typeof j=="number"&&this.setSelectedTokenIndexes([j-1],{initiator:L.type})}onRightArrow(L){var S;const H=(S=this.props.windowRef.deref())===null||S===void 0?void 0:S.getSelection(),w=(H==null?void 0:H.type)==="Range",j=this.getTokensAsArray().length,J=this.getSelectedTokenIndexes(),X=(J==null?void 0:J.length)&&J[0];if(typeof X!="number")return;if(!(w&&this.haveSelectedTokens()&&X<j-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){L.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof X=="number"&&this.setSelectedTokenIndexes([X+1],{initiator:L.type})}onTab(L){const{shiftKey:S}=L,{expandOnFocus:H,selectState:w,onOptionsListClose:F,setSelectState:j,disableCloseOnTab:J}=this.props;J||(F&&F(),(S||H&&w.activeRowIndex===null)&&j(()=>({isExpanded:!1})))}onTokenMouseDown(L,S){const{focused:H,isCurrentlyEditingToken:w}=this.state,{selectState:F,isTokenEditable:j}=this.props;if(F.isDisabled)return;if(L.preventDefault(),this.mouseDownOnToken=!0,L.stopPropagation(),j&&!w){this.onTokenEdit(S);return}H||this.focus();const J=this.getTokensAsArray();this.selectTextInNode(J[S]);const X=this.getSelectedTokenIndexes();S!==(X==null?void 0:X[0])&&this.setSelectedTokenIndexes([S])}onTokenEdit(L){const{selectState:S,setSelectState:H,processOptions:w}=this.props,{selectedOptions:F}=S;this.setTokenState(!0,L);let j="";F&&F[L]&&(typeof F[L].label=="string"&&F[L].label!==F[L].value?j=F[L].label:j=F[L].value),this.removeToken(L,"editToken"),this.updateFilterQueryValue(j),w&&w([],j).then(J=>{H(()=>({isExpanded:!0,options:J,filterQuery:j}))})}onTokenRemoveMouseDown(L,S){const{focused:H,isCurrentlyEditingToken:w,editTokenIndex:F}=this.state;L.preventDefault(),this.mouseDownOnToken=!0,L.stopPropagation(),H||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&w&&S<F&&this.setTokenState(!0,F-1),this.removeToken(S,"iconClick")}onFilterQueryMouseDown(L){var S;this.state.focused&&(!((S=this.filterQueryRef.current)===null||S===void 0)&&S.textContent)&&L.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(L){const{onFilterQueryChange:S}=this.props;this.updateQueryTimer=setTimeout(()=>{S&&S(L),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(L){var S;const{setSelectState:H}=this.props;L.preventDefault(),H(()=>({selectedTokenIndexes:[],isExpanded:!1}));const w=(S=this.filterQueryRef)===null||S===void 0?void 0:S.current;w!=null&&w.textContent&&this.selectTextInNode(w)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:L}=this.props,{filterQuery:S,selectedOptions:H}=L,w=this.getSelectedTokenIndexes(),F=H==null?void 0:H.filter((X,q)=>(w==null?void 0:w.indexOf(q))===-1),j=this.getSelectedFilterQueryText(),J=S==null?void 0:S.replace(j,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:F,filterQuery:J,isExpanded:!1}}onNodeAdded(L){const{nodeName:S}=L;(S==="B"||S==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(L){const{setSelectState:S}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),S(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}L===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(L){L.forEach(S=>{S.addedNodes.forEach(this.onNodeAdded),S.removedNodes.forEach(this.onNodeRemoved)})}getAriaPlaceholderText(){const{selectState:L,placeholderText:S}=this.props,{filterQuery:H,selectedOptions:w}=L;if(!H&&!(w&&w.length>0))return S}getAriaActiveDescendant(){const{selectState:L}=this.props,{selectId:S,activeRowIndex:H}=L;return(0,r.A)(H)?(0,h.Es)(S,`option_${H}`):void 0}getInputHeight(){const{inputRef:L}=this.props,S=L==null?void 0:L.current;return S?S.offsetHeight:null}getTokensAsArray(){var L,S;const H=(L=this.props.inputRef)===null||L===void 0||(S=L.current)===null||S===void 0?void 0:S.querySelectorAll(".c-token");return Array.prototype.slice.call(H)}getSelectedFilterQueryText(){var L;const{selectState:S}=this.props,{filterQuery:H}=S;if((H==null?void 0:H.length)===0)return"";const w=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection(),F=w==null?void 0:w.toString();if(!(w==null?void 0:w.containsNode(this.filterQueryRef.current,!0)))return"";const J=F==null?void 0:F.split(`
`);return J!=null&&J.length?J[J.length-1].trim():""}setSelectedTokenIndexes(L){let{initiator:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:H}=this.props;H(()=>({selectedTokenIndexes:L}))}getSelectedTokenIndexes(){const{selectState:L}=this.props,{selectedTokenIndexes:S}=L;return S||[]}allTokensAreSelected(){const L=this.getSelectedTokenIndexes(),S=this.getTokensAsArray();return L!=null&&L.length?L.length>0&&L.length===S.length:!1}attachMutationObserver(){var L;if(this.mutationObserver=new MutationObserver(this.onMutation),!((L=this.props.inputRef)===null||L===void 0)&&L.current){var S;this.mutationObserver.observe((S=this.props.inputRef)===null||S===void 0?void 0:S.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:L}=this.props,{filterQuery:S}=L;if(this.caretPosInFilterQuery===-1||!S)return 0;const H=S==null?void 0:S.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>H?H:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var L;(L=this.mutationObserver)===null||L===void 0||L.disconnect(),this.mutationObserver=null}focus(){var L;const S=(L=this.props.inputRef)===null||L===void 0?void 0:L.current;S==null||S.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(L){const{isLoading:S,throttleForceRenderSelectContainer:H}=this.props;H?(L&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),S||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var L;return!!(!((L=this.getSelectedTokenIndexes())===null||L===void 0)&&L.length)}isCaretAtStartOfFilterQuery(){var L;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:S}=this.props,{filterQuery:H}=S;if(!H)return!0;const w=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();let F=null;if(w){const{anchorOffset:j}=w;F=j}return F===0}isCaretOutSideFilterQuery(){var L,S;const H=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();let w=null;if(H){const{anchorNode:F}=H;w=F}return!(!((S=this.filterQueryRef.current)===null||S===void 0)&&S.contains(w))}isRangeSelectionOfFilterQueryComplete(L){const S=this.getSelectedFilterQueryText();if(!S)return!1;const{selectState:H}=this.props,w=H.filterQuery;return!w||!L?!1:S.substr(0,L)===(w==null?void 0:w.substr(0,L))}isEntireFilterQuerySelected(){const{selectState:L}=this.props,S=this.getSelectedFilterQueryText();return!!S&&S===L.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:L}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var S,H,w,F;const j=document.createRange(),J=(S=this.props.windowRef.deref())===null||S===void 0?void 0:S.getSelection();J==null||J.removeAllRanges();const X=(H=this.filterQueryRef)===null||H===void 0?void 0:H.current,q=(X==null?void 0:X.firstChild)||X,G=L?0:(F=X==null||(w=X.textContent)===null||w===void 0?void 0:w.trim())===null||F===void 0?void 0:F.length;q!==null&&typeof G=="number"&&j.setStart(q,G),j.collapse(!0),J==null||J.addRange(j)}possiblyRepositionOptionsList(L){if(!this.measurePopoverEvent)return;const{selectState:S}=this.props,H=S.isExpanded&&!L.isExpanded,w=this.getInputHeight(),F=this.inputHeight!==w;if(H||F){var j;(j=this.props.windowRef.deref())===null||j===void 0||j.dispatchEvent(this.measurePopoverEvent)}}removeToken(L,S){const{selectState:H,setSelectState:w,isTokenEditable:F}=this.props,{selectedOptions:j,pendingQueries:J,filterQuery:X}=H,q=J?J.length:0,G=j&&j[L]&&j[L].queryId,te=G&&q?J==null?void 0:J.filter(le=>{let{queryId:he}=le;return he!==G}):J;w(()=>({selectedOptions:j==null?void 0:j.filter((le,he)=>he!==L),selectedTokenIndexes:[],removalInitiator:S,removedItemIndex:L,pendingQueries:te})),F&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(X)}saveCaretPosInFilterQuery(){var L;const S=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();this.caretPosInFilterQuery=S==null?void 0:S.anchorOffset}scrollFilterQueryIntoView(){const L=this.filterQueryRef.current;L&&L!=null&&L.scrollIntoView&&(L==null||L.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const L=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const S=this.getTokensAsArray();if(!(L!=null&&L.length))return;const H=L[L.length-1],w=S[H];w&&w.scrollIntoView&&w.scrollIntoView({block:"nearest"})}selectAllTokens(){var L;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const S=this.getTokensAsArray();if(S.length===0)return;const H=S[0],w=S[S.length-1],F=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection(),j=document.createRange();F==null||F.removeAllRanges(),j.setStartBefore(H),j.setEndAfter(w),F==null||F.addRange(j)}selectTextInNode(L){var S;if(!L)return;const H=(S=this.props.windowRef.deref())===null||S===void 0?void 0:S.getSelection(),w=document.createRange();this.ignoreSelectionChange=!0,H==null||H.removeAllRanges();const F=(0,y.cX)()?L:L.querySelector(".c-token__content");w.selectNode(F),this.ignoreSelectionChange=!0,H==null||H.addRange(w)}updateCaretPosInFilterQuery(){var L,S;const H=(L=this.filterQueryRef)===null||L===void 0?void 0:L.current;if(!H)return;const w=document.createRange(),F=(S=this.props.windowRef.deref())===null||S===void 0?void 0:S.getSelection();F==null||F.removeAllRanges();const j=this.determineCaretPosInFilterQuery();typeof j=="number"&&w.setStart((H==null?void 0:H.firstChild)||H,j),w.collapse(!0),F==null||F.addRange(w)}renderFilterQuery(){const{selectState:L,isTokenEditable:S,size:H}=this.props,{filterQuery:w,isDisabled:F}=L,{isCurrentlyEditingToken:j,editTokenIndex:J}=this.state,X=F?void 0:this.onFilterQueryMouseDown,q=(0,n.A)({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${H}_filter_query--edit`]:S&&j});return t.createElement("span",{className:q,ref:this.filterQueryRef,onMouseDown:X,key:J},w)}renderInput(){const{selectState:L,selectDataQa:S,inputRef:H,ariaLabelledBy:w,ariaLabel:F,autoClogProps:j,iconType:J,isTokenEditable:X}=this.props,{selectId:q,isDisabled:G,isExpanded:ne,isInvalid:te}=L,le=G?void 0:0,he=G?void 0:this.getAriaActiveDescendant(),fe=!G,ve=fe,me=G?void 0:this.onFocus,oe=G?void 0:this.onBlur,N=G?void 0:this.onChange,K=G?void 0:this.onPaste,x=G?void 0:this.onKeyDown,b=G?void 0:this.onKeyUp,z=G?void 0:this.onSelectionChange,$=G?void 0:this.onCut,Z=G?void 0:this.onCompositionStart,U=G?void 0:this.onCompositionEnd,ee=(0,n.A)({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!J}),se=t.createElement("div",{role:"combobox","aria-disabled":G,"aria-autocomplete":"list","aria-expanded":ne,"aria-controls":(0,h.Es)(q,"listbox"),"aria-activedescendant":he,"aria-labelledby":w,"aria-label":F,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":te,id:q,className:ee,tabIndex:le,contentEditable:fe,suppressContentEditableWarning:ve,"data-qa":S?`${S}-input`:void 0,ref:H,onFocus:me,onBlur:oe,onInput:N,onCompositionStart:Z,onCompositionEnd:U,onPaste:K,onKeyDown:x,onKeyUp:b,onSelect:z,onCut:$,"aria-multiline":!1},P(),X&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),P({contentEditable:!1}));return j?t.createElement(m.A,{autoClogProps:j,actionProps:O,elementType:g.ElementType.INPUT},se):se}renderLoadingIndicator(){const{isLoading:L,size:S}=this.props;return L?t.createElement(p.A,{className:"c-multi_select_input__spinner",color:"blue",size:S===A.hu.LARGE?A.hu.LARGE:A.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:L,placeholderText:S,iconType:H}=this.props,{filterQuery:w,selectedOptions:F,isDisabled:j}=L;if(this.state.composing||w||F&&F.length>0)return null;const J=j?void 0:this.onPlaceholderMouseDown,X=(0,n.A)({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!H});return t.createElement("div",{"aria-hidden":"true",className:X,onMouseDown:J},S)}renderToken(L,S){let{icon:H,svgIcon:w,value:F,label:j,hoverText:J,isLoading:X,isError:q,isMemberError:G,isTeamError:ne,isUnknown:te,emailTeam:le}=L;const{forceRealName:he,size:fe,selectState:ve,customizeTokenProps:me,disableIdParsing:oe}=this.props,N=this.getSelectedTokenIndexes(),K=(N==null?void 0:N.indexOf(S))!==-1,{isDisabled:x,restrictedSelectedTokenIndexes:b,disabledSelectedTokenIndexes:z,invalidSelectedTokenIndexes:$}=ve,Z=!!b&&(b==null?void 0:b.indexOf(S))!==-1,U=!!z&&(z==null?void 0:z.indexOf(S))!==-1,ee=!!$&&($==null?void 0:$.indexOf(S))!==-1,se=x||U,de=se?void 0:pe=>this.onTokenMouseDown(pe,S),ue=se?void 0:()=>this.renderTokenRemoveIcon(S),_e=fe;return t.createElement(t.Fragment,null,t.createElement(v.A,M({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},de?{onMouseDown:de}:{},{isDisabled:se,entityId:F,label:j,hoverText:J,isLoading:X,isError:q,isMemberError:G,isTeamError:ne,isUnknown:te},fe?{size:_e}:{},{isSelected:K},ue?{renderIcon:ue}:{},{forceRealName:he,icon:H,svgIcon:w,tabIndex:-1,contentEditable:!1},me,{disableIdParsing:oe},le?{emailTeam:le}:{},{isRestricted:Z,isInvalid:ee})),"\xA0")}renderTokenRemoveIcon(L){return t.createElement(m.A,{actionProps:I,elementType:g.ElementType.BUTTON},t.createElement(E.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,d.A)(S=>{this.onTokenRemoveMouseDown(S,L)})}))}renderTokens(){const{selectedOptions:L}=this.props.selectState;return L==null?void 0:L.map((S,H)=>t.createElement(t.Fragment,{key:S.key||S.value},this.renderToken(S,H)))}renderEditableTokens(){const{isCurrentlyEditingToken:L,editTokenIndex:S}=this.state,H=this.renderTokens()||[],w=this.renderFilterQuery();return L?H.splice(S,0,w):H==null||H.push(w),H}renderIcon(){const{iconType:L}=this.props;return L?t.createElement(E.A,{type:L,inline:!0}):null}render(){const{maxHeight:L,width:S,selectState:H,classPrefix:w,size:F}=this.props,{isDisabled:j,isInvalid:J,selectedOptions:X}=H,q=X==null?void 0:X.length,G=(0,n.A)("c-multi_select_input",{"c-multi_select_input--disabled":j,"c-multi_select_input--focused":this.state.focused&&!j,"c-multi_select_input--large":F===A.hu.LARGE,"c-multi_select_input--invalid":J,"c-multi_select_input--initial":!q,[`${w}__multi_select_input`]:w,[u.E.large]:F===A.hu.LARGE}),ne=j?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:G,style:{width:S,maxHeight:L},onMouseDown:ne,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(L){super(L),(0,f.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var S;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(S=L.ignoreSelectAllTokensAfterMount)!==null&&S!==void 0?S:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,L.measurePopoverEventName&&(this.measurePopoverEvent=new Event(L.measurePopoverEventName));var H;this.forceRenderSelectContainerThrottled=(0,o.A)(this.forceRenderSelectContainer,(H=L.forceRenderSelectContainerThrottleRate)!==null&&H!==void 0?H:k,R),this.filterQueryRef=t.createRef()}},"MultiSelectInput");V.displayName="MultiSelectInput",V.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:a.A,onKeyUp:a.A,size:A.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:a.A,onFilterQueryChange:a.A,onFilterQueryPaste:a.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:a.A,onInputFocused:a.A,forceRealName:void 0,onOptionsListClose:a.A,processOptions:W=>l.S.resolve(W),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:a.A,onBlur:a.A,onOptionsListClosedBlur:a.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:k};const B=(0,_.A)((0,c.A)(V))},8274994582:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(6308822),s=e(735940183);const r=new s.Ay("form_inputs"),o=i(a=>{let{count:l,clientTheme:m,spinnerSize:c="large"}=a;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(n.A,{color:m==="dark"?"white":"blue",size:c,inline:!0})),r.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:l}))},"MultiSelectLoadingText")},320706952:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(8683010724),s=e(735940183);const r=new s.Ay("form_inputs"),o=i(a=>{let{count:l}=a;return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.createElement(n.A,{name:"emoji-missing",variation:"filled",inline:!0})),r.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:l}))},"MultiSelectUnknownText")},581574686:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>O});var t=e(3134334389),n=e(5255740490),s=e(6696292586),r=e(7715417323),d=e(1641606663),o=e(6308822),a=e(3391133100),l=e(2219904496),m=e(5166368300),c=e(7193040700),_=e(8683010724),p=e(2322735331),u=e(735940183),h=e(7640408795);function E(){return E=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var k in P)Object.prototype.hasOwnProperty.call(P,k)&&(I[k]=P[k])}return I},E.apply(this,arguments)}i(E,"_extends");const A=new u.Ay("select"),v=1e4,f={ArrowLeft:!0,ArrowRight:!0},g={ArrowUp:!0,ArrowDown:!0},y={Backspace:!0,Delete:!0};let T=i(class extends t.Component{componentDidMount(){const{inputRef:D,focusOnMount:P,expandOnFocus:k}=this.props,R=D&&D.current;P&&(!this.state.hasFocus&&R&&R.focus(),k&&this.showOptionsList())}componentDidUpdate(D,P){const{inputRef:k,selectState:R,focusOnMount:V}=this.props,{selectedOption:B}=R,{selectState:W}=D,{selectedOption:L}=W,S=k&&k.current,{hasFocus:H,focusedViaMouse:w}=this.state;B&&H&&!w&&(B!==L||!P.hasFocus)&&setTimeout(()=>{S==null||S.select()},50),V&&D.focusOnMount!==V&&(this.state.hasFocus||S==null||S.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(D){const{inputRef:P,selectState:k,onClick:R,expandOnClick:V,searchOnClick:B}=this.props,{isDisabled:W,isExpanded:L,selectedOption:S}=k;if(W)return;const H=P&&P.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),H==null||H.focus()),(V||S)&&!L&&this.showOptionsList({searchOnClick:B}),R&&R(D)}onBlur(D){const{onBlur:P}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{P&&P(D)})}onFocus(D){const{onFocus:P}=this.props;this.setState(()=>({hasFocus:!0}),()=>{P&&P(D)})}onInputChanged(D){const{selectState:P,setSelectState:k,expandOnClick:R,retainPreviousSelectionOnDelete:V}=this.props,{isExpanded:B,selectedOption:W}=P;if(this.backspaceOrDeletePressed&&D.length===0&&W){k(()=>({filterQuery:D,displayQuery:D,...V?{}:{selectedOption:null}}));return}B?!R&&!D&&k(()=>({isExpanded:!1})):this.showOptionsList(),k(()=>({filterQuery:D,displayQuery:D}))}onKeyPressedEnter(D){this.props.selectState.isExpanded?D.preventDefault():(this.showOptionsList(),D.stopPropagation())}onKeyPressedEscape(D){const{selectState:P,setSelectState:k,resultsInPopover:R,onEsc:V,onOptionsListClose:B}=this.props;P.isExpanded&&R&&(D.stopPropagation(),V&&V(),B&&B(),k(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:D,onOptionsListClose:P,selectState:k}=this.props;P&&P();const{activeRowIndex:R,initialActiveOption:V}=k;typeof R!="number"&&!V&&D(()=>({isExpanded:!1}))}onUpOrDownPressed(D){D.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),D.stopPropagation())}onWrapperKeyDown(D){const{key:P}=D;if(g[P]){this.onUpOrDownPressed(D);return}if(P==="Enter"){this.onKeyPressedEnter(D);return}if(P==="Escape"){this.onKeyPressedEscape(D);return}P==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(D){const{key:P}=D,k=y[P],R=f[P],V=k||R||(0,h.A)(D);this.setState(()=>({cursorVisible:V})),this.backspaceOrDeletePressed=k}maybeRenderIconOrLoading(){const{showDropdownIcon:D,isLoading:P,size:k,expandOnClick:R}=this.props;return P?t.createElement(o.A,{className:"c-select_input__spinner",color:"blue",size:k===c.hu.LARGE?"large":"medium"}):!D||!R?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(_.A,{name:"caret-down",size:"20"}))}showOptionsList(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:P}=D;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:P}))}updateOptionsListPosition(){const{selectState:D}=this.props,{isExpanded:P}=D;if(!P&&this.measurePopoverEvent){var k;(k=this.context.windowRef.deref())===null||k===void 0||k.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:D,renderSelectedOption:P,classPrefix:k,selectDataQa:R,hideSelectedOptionOnDropdownOpen:V}=this.props,{isExpanded:B,selectedOption:W}=D;if(this.state.cursorVisible||!W||B&&(V||D.filterQuery))return null;const L=(0,n.A)("c-select_input__content",{[`${k}__select_input_content`]:k});return t.createElement("div",{className:L,"data-qa":R?`${R}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},P&&P(W)))}renderTextInput(){const{selectDataQa:D,inputRef:P,classPrefix:k,ariaLabelledBy:R,ariaDescribedBy:V,icon:B,maxCharacterLimit:W,size:L,selectState:S,autoClogProps:H,hideSelectedOptionOnDropdownOpen:w}=this.props,{activeRowIndex:F,filterQuery:j,isDisabled:J,isExpanded:X,isInvalid:q,isRequired:G,selectedOption:ne,selectId:te=""}=S;let le;j||!X&&ne||ne&&X&&!w?le=null:le=this.props.placeholderText||A.t("Please select an option");const he=X&&(0,s.A)(F)?(0,a.Es)(te,`option_${F}`):null,fe=!this.state.cursorVisible&&ne&&!X,ve=(0,n.A)("c-select_input",{"c-select_input--offscreen":fe,"c-select_input--invalid":q,[`${k}__select_input`]:k}),me=(0,a.Yk)([V,(0,a.Es)(te,"initial-focus")]),N=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&w?j||ne&&ne.label:j,K={spellCheck:!1,className:ve,id:te,name:te,"aria-activedescendant":he,"aria-autocomplete":"list","aria-expanded":X,"aria-owns":(0,a.Es)(te,"listbox"),"aria-required":G,"aria-label":this.props["aria-label"],"aria-labelledby":R,"aria-describedby":me,isInvalid:q,autoComplete:"off",isDisabled:J,onChange:this.onInputChanged,placeholder:le,value:N||"","data-qa":D?`${D}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:H};return B||W?t.createElement(l.A,E({},K,{icon:B,size:L,maxCharacterLimit:W,showError:!1,type:"text",inputRef:P,isInvalid:q})):t.createElement(m.A,E({},K,{ref:P}))}render(){const{icon:D,size:P,selectDataQa:k,width:R,classPrefix:V,showDropdownIcon:B,selectState:W}=this.props,{isInvalid:L}=W,S=(0,n.A)("c-select_input__wrapper",{[`c-select_input--${P}`]:P,"c-select_input--with_icon_right":B,"c-select_input--with_icon_left":!!D,"c-select_input--invalid":L,[`${V}__select_input_wrapper`]:V}),H=(0,n.A)("c-select_input__input_container",{[`${V}__select_input_container`]:V});return t.createElement("div",{role:"presentation",className:S,style:{width:R},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":k?`${k}-wrapper`:null},t.createElement("div",{className:H},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(D){super(D),(0,p.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},D.measurePopoverEventName&&(this.measurePopoverEvent=new Event(D.measurePopoverEventName))}},"SelectInput");T.displayName="SelectInput",T.defaultProps={autoClogProps:void 0,inputRef:null,onClick:r.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:r.A,onBlur:r.A,onEsc:r.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:r.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},T.contextType=d.M;const M={SelectInput:T},O=T},1162627626:(Q,C,e)=>{"use strict";e.d(C,{A:()=>b});var t=e(3134334389),n=e(5255740490),s=e(2053254856),r=e.n(s),d=e(45851552),o=e(1699044291),a=e(7715417323),l=e(6696292586),m=e(2003990933),c=e(3478664464),_=e(166097325),p=e(3398586081),u=e(9268023148),h=e(9636077426),E=e(6882609392),A=e(3652828077),v=e(1641606663),f=e(6308822),g=e(3391133100),y=e(7193040700),T=e(1398359918),M=e(8786006583),O=e(3821598679);function I(z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,T.A)(z,(U,ee)=>{if(U.type==="divider")return{type:"divider"};if(U.options){const{options:se,label:de,...ue}=U,_e=`${U.label.toLowerCase()}${y.Sx}${(0,O.A)()}`,pe=[{type:"heading",label:U.label,group:_e,optionsCount:U.options&&U.options.length||0,extras:ue}].concat(U.options.map((ae,Ee)=>{const Le={type:"option",option:ae,optgroup:_e};return Ee===0&&(Le.isFirstChild=!0),Ee===U.options.length-1&&(Le.isLastChild=!0),Le}));if($){if(z[ee-1]&&z[ee-1].value&&!z[ee-1].options&&pe.unshift({type:"divider"}),(0,M.A)(z)===U)return pe;pe.push({type:"divider"})}return pe}return{type:"option",option:U}})}i(I,"formatOptions");var D=e(2322735331),P;(function(z){z[z.ELEMENT=1]="ELEMENT",z[z.ATTRIBUTE=2]="ATTRIBUTE",z[z.TEXT=3]="TEXT",z[z.CDATA_SECTION=4]="CDATA_SECTION",z[z.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",z[z.ENTITY=6]="ENTITY",z[z.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",z[z.COMMENT=8]="COMMENT",z[z.DOCUMENT=9]="DOCUMENT",z[z.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",z[z.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",z[z.NOTATION=12]="NOTATION"})(P||(P={}));const k=new Set(["INPUT","TEXTAREA","SELECT"]),R=new Set([...k,"BUTTON"]),V="http://www.w3.org/1999/xhtml",B="http://www.w3.org/2000/svg";function W(z){return(z==null?void 0:z.nodeType)===P.TEXT}i(W,"isTextNode");function L(z){return(z==null?void 0:z.nodeType)===P.ELEMENT}i(L,"isElement");function S(z){return L(z)&&z.namespaceURI===V}i(S,"isHtmlElement");function H(z){return L(z)&&z.namespaceURI===B}i(H,"isSvgElement");function w(z){return S(z)||H(z)}i(w,"isHtmlOrSvgElement");function F(z){return S(z)||H(z)}i(F,"isElementCssInlineStyle");function j(z){return X(z,"a")}i(j,"isAnchorElement");function J(z){return S(z)&&R.has(z.tagName)}i(J,"isInteractiveElement");function X(z,$){return S(z)&&z.localName===$}i(X,"isHtmlElementWithTagName");function q(z){return W(z)?z:null}i(q,"asTextNode");function G(z){return L(z)?z:null}i(G,"asElement");function ne(z){return S(z)?z:null}i(ne,"asHtmlElement");function te(z,$){const Z=z;return Z.hasAttribute&&Z.hasAttribute($)}i(te,"hasAttribute");function le(z,$){return te(z,`data-${$}`)}i(le,"hasData");var he=e(735940183),fe=e(8359728598),ve=e(6979898962),me=e(4757466470);function oe(){return oe=Object.assign||function(z){for(var $=1;$<arguments.length;$++){var Z=arguments[$];for(var U in Z)Object.prototype.hasOwnProperty.call(Z,U)&&(z[U]=Z[U])}return z},oe.apply(this,arguments)}i(oe,"_extends");const N=new he.Ay("select"),K=r()("esc");let x=i(class extends ve.B{getCurrentActiveElement(){var $,Z;return(Z=($=this.context.windowRef.deref())===null||$===void 0?void 0:$.document.activeElement)!==null&&Z!==void 0?Z:null}componentDidUpdate($){var Z;const{selectState:U,setSelectState:ee,shouldIncludeActiveOption:se=!1,dynamicHeight:de=!1,optionsShallowEqualComparisonDepth:ue=4,shouldRerenderOnOptionChange:_e=!1}=this.props,{filterQuery:pe,options:ae,initialActiveOption:Ee}=U,Le=!(0,me.Ay)($.selectState.options,ae,ue),ye=pe!==$.selectState.filterQuery;if(Le||ye){const Ie=typeof Ee<"u"?this.getInitialActiveRowIndex():this.getFirstSelectableRowIndex();ee(()=>({activeRowIndex:Ie,...se?{activeOption:this.getOptionFromList(Ie)}:null}));const Ue=Ie||Ie===0;this.list.current&&Ue&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(Ie))}if(Le&&!ye&&_e){var Te;(Te=this.list.current)===null||Te===void 0||Te.recomputeRowHeights()}if(de&&(U==null?void 0:U.options)!==((Z=$.selectState)===null||Z===void 0?void 0:Z.options)){var Ae;(Ae=this.cellMeasurerCache)===null||Ae===void 0||Ae.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}clearDynamicRowHeight($){var Z;(Z=this.cellMeasurerCache)===null||Z===void 0||Z.clear($,0),this.list.current&&this.list.current.recomputeRowHeights($)}getInitialActiveRowIndex(){const{selectState:$}=this.props,{initialActiveOption:Z}=$;if(!Z)return null;const U=(0,d.A)(this.getOptionsList(),["option.value",Z.value]);return U>=0?U:null}getFirstSelectableRowIndex(){const{selectState:$,multiSelectMode:Z=!1,customOptionCompare:U,shouldAlwaysHaveActiveRow:ee=!1}=this.props,{filterQuery:se}=$,de=this.getOptionsList();let ue=null;if((se||ee)&&de.length){const _e=(0,d.A)(de,pe=>pe.type!=="heading"&&pe.type!=="divider"&&!this.isOptionSelected($,pe.option,Z,U),0);_e!==-1&&(ue=_e)}return ue}componentDidMount(){this.keyCommands=this.initKeyCommands();const{focusOnMount:$=!1,selectState:Z,setSelectState:U,shouldIncludeActiveOption:ee=!1,multiSelectMode:se=!1}=this.props,{selectedOption:de,selectType:ue}=Z;ue===y.US.BASIC&&$&&this.open();let _e=null;if(!se&&de){const pe=(0,d.A)(this.getOptionsList(),["option.value",de.value]);pe!==-1&&(_e=pe)}else _e=this.getFirstSelectableRowIndex();U(()=>({activeRowIndex:_e,...ee?{activeOption:this.getOptionFromList(_e)}:null})),this.list.current&&typeof _e=="number"&&this.list.current.scrollToRow(_e),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:$=!1,preventScroll:Z=!1}=this.props,{selectType:U}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),$&&U===y.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:Z})}open(){const{focusOnMount:$=!1,selectState:Z}=this.props,{selectType:U}=Z;!$&&U!==y.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}close($){K===$.keyCode&&this.onKeyPressedEsc($);const{focusOnMount:Z=!1,preventScroll:U=!1}=this.props,{selectType:ee}=this.props.selectState;!Z&&ee!==y.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:U})}onKeyPressedDown($){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent($))return;const{selectState:Z,setSelectState:U,shouldIncludeActiveOption:ee=!1}=this.props,{isExpanded:se,activeRowIndex:de}=Z,ue=this.getNextActiveRowIndex(de);se&&$.preventDefault(),U(()=>{var _e;return{activeRowIndex:ue,...ee?{activeOption:this.getOptionFromList(ue)}:null,displayQuery:(_e=this.getOptionFromList(ue))===null||_e===void 0?void 0:_e.value}}),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),ue===1&&this.isFirstItemUnselectable()?this.list.current.scrollToRow(0):this.list.current.scrollToRow(ue))}onKeyPressedUp($){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent($))return;const{selectState:Z,setSelectState:U,shouldIncludeActiveOption:ee=!1}=this.props,{isExpanded:se,activeRowIndex:de}=Z,ue=this.getPreviousActiveRowIndex(de);if(se&&$.preventDefault(),U(()=>{var ae;return{activeRowIndex:ue,...ee?{activeOption:this.getOptionFromList(ue)}:null,displayQuery:(ae=this.getOptionFromList(ue))===null||ae===void 0?void 0:ae.value}}),this.debouncedEnableMouseMove(),this.list.current){this.list.current.forceUpdateGrid();const ae=this.getOptionsList();if(ue){var _e,pe;if(((_e=ae[ue])===null||_e===void 0||(pe=_e.option)===null||pe===void 0?void 0:pe.height)!==0)this.list.current.scrollToRow(ue);else{const Ee=(0,o.A)(ae.slice(0,ue)).findIndex(Le=>{var ye;return(Le==null||(ye=Le.option)===null||ye===void 0?void 0:ye.height)!==0});this.list.current.scrollToRow(ue-Ee-1)}}}}onKeyPressedEsc($){const{shouldIncludeActiveOption:Z=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent($))return;$.preventDefault();const{onOptionsListClose:U=a.A}=this.props;U&&U(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:null,...Z?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onMouseEnteredOption($){const{shouldIncludeActiveOption:Z=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:$,...Z?{activeOption:this.getOptionFromList($)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:$=!1}=this.props;!this.isMouseMoveEnabled||$||this.clearActive()}onKeyPressedEnter($){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent($))return;$.preventDefault();const{activeRowIndex:Z,initialActiveOption:U}=this.props.selectState,ee=this.getOptionsList();let se;typeof Z=="number"&&(se=ee[Z]&&ee[Z].option||ee[Z]),se=se||U,!(se&&(se.isDisabled||se.nonInteractive))&&(this.onOptionSelected(se),this.close($))}onKeyPressedShiftTab($){if(!this.shouldInterceptKeyEvent($))return;const{onKeyPressedShiftTab:Z=a.A}=this.props;Z&&Z!==a.A&&Z($)}onKeyPressedTab($){const{selectState:Z,disableSelectOnTab:U=!1}=this.props;if(U||!this.shouldInterceptKeyEvent($)||!Z.isExpanded)return;const{onKeyPressedTab:ee=a.A}=this.props;if(ee&&ee!==a.A){ee($);return}const{activeRowIndex:se,initialActiveOption:de}=Z,ue=this.getOptionsList();let _e;typeof se=="number"&&(_e=ue[se]&&ue[se].option||ue[se]),_e=_e||de,_e&&$.preventDefault(),!(_e&&(_e.isDisabled||_e.nonInteractive))&&this.onOptionSelected(_e)}onOptionClicked($){this.onOptionSelected($,!0)}onScroll($){const{onScroll:Z=a.A}=this.props;Z&&Z($)}getClassName($,Z){const{unstyled:U=!1}=this.props;return U&&Z?(0,n.A)(Z):(0,n.A)(Z,$)}getRowHeight($){var Z;const{optionsRowHeight:U=y.bJ,headingRowHeight:ee=null,dividerRowHeight:se=y.r3}=this.props;return $.option&&(0,l.A)($.option.height)?Number($.option.height):$.type&&$.type==="divider"?se:$.type==="heading"&&(0,l.A)((Z=$.extras)===null||Z===void 0?void 0:Z.height)?Number($.extras.height):$.type&&$.type==="heading"&&ee!==null?ee:U}clearActive(){const{shouldIncludeActiveOption:$=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:null,...$?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}focusNode($){$&&this.getCurrentActiveElement()!==$&&$.focus()}getOptionFromList($){const Z=this.getOptionsList();return(0,m.A)(Z,`[${$}].option`,null)}getOptionsList(){const{multiSelectMode:$=!1,selectState:Z,includeDividers:U=!0}=this.props,{options:ee,isRequired:se,selectedOption:de,filterQuery:ue,minQueryLength:_e}=Z;let pe=[];return _e&&_e>0&&de&&!ue&&(pe=[de]),ee&&(!$&&de&&!se?pe=[y.az,...ee]:pe=ee),pe=[...this.formatOptions(pe,U)],pe}enableMouseMove(){this.isMouseMoveEnabled=!0}getDataQaTag($,Z){const{selectDataQa:U=void 0,selectState:ee}=this.props,{isRequired:se}=ee,de=$.value?$.value:$.label;let ue="";typeof de=="string"&&(ue=de.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const _e=se?Z:Z-1;return $.value?`${U}_option_${_e}`:`${U}_option_header_${ue}`}isFirstItemUnselectable(){var $,Z,U;const ee=this.getOptionsList();return(($=ee[0])===null||$===void 0?void 0:$.type)==="heading"||((Z=ee[0])===null||Z===void 0||(U=Z.option)===null||U===void 0?void 0:U.nonInteractive)}getNextActiveRowIndex($){const Z=this.getOptionsList(),U=this.isFirstItemUnselectable();if($===null&&!U)return 0;if($===null&&U)return 1;let ee=null;return typeof $=="number"&&(ee=(0,d.A)(Z,se=>{var de;return se.type!=="heading"&&se.type!=="divider"&&!(!(se==null||(de=se.option)===null||de===void 0)&&de.nonInteractive)},$+1)),typeof ee=="number"&&Z[ee]?ee:U?1:0}getPreviousActiveRowIndex($){const Z=this.getOptionsList();let U,ee;return typeof $=="number"&&(U=(0,o.A)(Z.slice(0,$)).findIndex(se=>{var de;return se.type!=="heading"&&se.type!=="divider"&&!(!(se==null||(de=se.option)===null||de===void 0)&&de.nonInteractive)}),ee=$-U-1),Z&&!Z.length?null:ee===$?Z.length-1:typeof ee=="number"&&typeof $=="number"&&Z[ee]&&$>0?ee:Z.length-1}initKeyCommands(){var $;const{shouldTokenizeOnComma:Z,shouldTokenizeOnSpace:U}=this.props,ee=new E.A(($=this.context.windowRef.deref())===null||$===void 0?void 0:$.document),se=["enter"];return Z&&se.push("comma"),U&&se.push("space"),ee.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:se,handler:this.onKeyPressedEnter,filter:de=>de.code.toLowerCase()==="comma"&&de.key!==","},{keys:["up"],handler:this.onKeyPressedUp},{keys:["tab"],handler:this.onKeyPressedTab},{keys:["shift+tab"],handler:this.onKeyPressedShiftTab}]),ee}handleClear(){const{selectState:$,setSelectState:Z,onOptionSelected:U=a.A,multiSelectMode:ee=!1,onMultiSelectClear:se=void 0}=this.props,{selectedOption:de,selectedOptions:ue}=$;let _e=!1;de?(Z(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{U&&U({value:null})}),_e=!0):ee&&ue&&ue.length&&(Z(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{se&&se()}),_e=!0),this.list.current&&_e&&this.list.current.forceUpdateGrid()}onOptionSelected($){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:U=a.A,onOptionUnselected:ee=a.A,selectState:se,setSelectState:de,multiSelectMode:ue=!1,inputRef:_e,customOptionCompare:pe,shouldIncludeActiveOption:ae=!1,shouldOptionBeSelected:Ee,shouldAllowUnselectInMultiSelectMode:Le=!1,shouldAllowUnselectInSingleSelectMode:ye=!0,stayExpandedAfterSelection:Te=!1}=this.props;if($&&!$.isDisabled&&!$.nonInteractive){if(Ee&&Ee($)===!1){de(()=>({activeRowIndex:null,filterQuery:"",isExpanded:!1}),()=>{U($)});return}if($.value===y.yk)this.handleClear();else if(ue){const{selectedOptions:Ae,shouldRefocusInputAfterSelection:Ie}=se;if(!this.isOptionSelected(se,$,ue,pe)&&Ae)de(()=>({selectedOptions:[...Ae,$],activeRowIndex:null,...ae?{activeOption:null}:null,filterQuery:"",isExpanded:Te}),()=>{U&&U($)});else if(Le){const Be=(0,c.A)(Ae,[$],(we,re)=>we.value===re.value);de(()=>({selectedOptions:Be,activeRowIndex:null,...ae?{activeOption:null}:null,filterQuery:"",isExpanded:Te}),()=>{ee&&ee($)})}!Ie&&!$.fromUnknown&&_e&&_e.current&&_e.current.focus()}else{const Ae={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:ye?null:se.selectedOption};!(0,_.A)(se.selectedOption,$)&&(Ae.selectedOption=$),de(()=>({...Ae}),()=>{U&&U($,Z)}),se.shouldRefocusInputAfterSelection&&_e&&_e.current&&_e.current.focus()}}}getArialabelForItem($){var Z,U,ee,se;const{isFirstChild:de,isLastChild:ue,optgroup:_e}=$;if(!_e)return null;const pe=N.t("First item in group {group}, {value}",{group:_e&&_e.split(y.Sx).slice(0,-1).join("-"),value:typeof((Z=$.option)===null||Z===void 0?void 0:Z.label)=="string"?(U=$.option)===null||U===void 0?void 0:U.label:""}),ae=N.t("Last item in group {group}, {value}",{group:_e&&_e.split(y.Sx).slice(0,-1).join("-"),value:typeof((ee=$.option)===null||ee===void 0?void 0:ee.label)=="string"?(se=$.option)===null||se===void 0?void 0:se.label:""});return de?pe:ue?ae:null}getEmptyStateMessage(){const{emptyStateMessage:$,selectState:Z}=this.props,{filterQuery:U,minQueryLength:ee}=Z;if($)return $(U);if(ee){if(!U)return N.t("Type to search\u2026");if(U.length<ee)return N.t("Keep typing\u2026")}return N.t("No items")}shouldInterceptKeyEvent($){return!$.target||!L($.target)?!1:!!(te($.target,"aria-autocomplete")||te($.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains($.target))}removeAriaAttrsFromGridNode(){const $=this.listBody.current,Z=$&&$.querySelector(".ReactVirtualized__Grid");Z&&(Z.removeAttribute("aria-label"),Z.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:$=!1,width:Z,isLoading:U=!1,selectDataQa:ee=void 0,includeWrapper:se=!0}=this.props;if(U)return t.createElement(t.Fragment,null);const de=this.getEmptyStateMessage();if(de===null)return t.createElement(t.Fragment,null);const ue=$||!se?+Z:+Z-y.$_;return t.createElement("div",{"data-qa":ee?`${ee}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:ue}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},de))}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle($){return{padding:$?y.Hy:void 0,boxSizing:"content-box"}}renderList(){const{maxListHeight:$,width:Z,includePadding:U,unstyled:ee=!1,useSlackScrollbar:se,dynamicHeight:de=!1,forceMaxHeight:ue,includeWrapper:_e=!0,classPrefix:pe=void 0}=this.props,ae=this.getOptionsList(),Ee=$||y.CK,Le=ae.map(Ue=>this.getRowHeight(Ue)||0).reduce((Ue,Be)=>Ue+Be,0),ye=ue||Le>=Ee?Ee:Le,Te=ee||!_e?+Z:+Z-y.$_,Ae=(0,n.A)("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":se,[`${pe}__virtual_list`]:!!pe}),Ie=de&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:Ue=>{let{index:Be}=Ue;return this.getRowHeight(ae[Be])};return this.cellMeasurerCache?t.createElement(A.O,{className:Ae,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(U),height:ye,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:ae?ae.length:0,rowHeight:Ie,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Te}):t.createElement(A.O,{className:Ae,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(U),height:ye,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:ae?ae.length:0,rowHeight:Ie,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Te})}renderListBody(){const{enableLoadingState:$=!0,isLoading:Z=!1}=this.props;if(Z&&$)return this.renderLoadingState();const U=this.getOptionsList();return!U||U&&!U.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:$}=this.props,Z=N.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:$}},t.createElement(f.A,{size:"medium",inline:!0}),t.createElement("div",null,Z))}renderRow($){let{index:Z,key:U,style:ee,parent:se}=$;var de;const{classPrefix:ue=void 0,selectState:_e,multiSelectMode:pe=!1,customOptionCompare:ae,unstyled:Ee=!1,dynamicHeight:Le=!1,hideOptionsListCheckbox:ye=!1}=this.props,{selectId:Te}=_e,Ae=this.getOptionsList();let Ie;Ae[Z].option?Ie=Ae[Z].option:Ie=Ae[Z];const{isPlaceholder:Ue}=Ie,{activeRowIndex:Be}=_e,{selectedOption:we,selectedOptions:re}=_e;let ge;typeof Be=="number"&&(ge=this.isOptionActive({activeRowIndex:Be},Ae,Ie));const De=this.isOptionSelected({selectedOptions:re,selectedOption:we},Ie,pe,ae),be=Ie.value===y.yk,xe=Ae[Z].type==="heading",Re=!!Ae[Z].optgroup,je=Ae[Z].type==="divider",Ge=!!Ie.isDisabled,Qe=!!Ie.nonInteractive,Xe=De&&!xe&&!je,et=xe||Qe||je,rt=Ae.filter(en=>en.type!=="heading"&&en.type!=="divider"&&!en.nonInteractive),it=(0,d.A)(rt,en=>en.option===Ie,0),lt=ue?`${ue}__option`:"",ot=(0,n.A)("c-select_options_list__option",lt,(0,m.A)(Ie,"overrides.className",!1),{"c-select_options_list__option--active":ge&&(0,m.A)(Ie,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Ue,"c-select_options_list__option--selected":Xe,"c-select_options_list__option--disabled":Ge,"c-select_options_list__group_header":xe,"c-select_options_list__group_option":Re,"c-select_options_list__divider":je,"c-select_options_list__clear_option":be});let Et=be?Ie.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!je&&!be&&(Et=this.props.renderOption(Ie,{index:Z,isActive:ge,isGroupHeader:xe,isClearOption:be,isSelected:De&&!xe&&!je,clearDynamicRowHeight:this.clearDynamicRowHeight}));let At;if(Ee||!((de=Ie.overrides)===null||de===void 0)&&de.unstyled)At=Et;else{var Ot;At=t.createElement("span",{"data-qa":Ie.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(Ot=Ie.extras)===null||Ot===void 0?void 0:Ot.forceHeaderWrap})},Et)}const Rt=rt.length,yt=it===-1?void 0:it+1,Mt=t.createElement("div",oe({"aria-hidden":et?"true":null,"aria-selected":pe?De:ge,"aria-label":xe?null:this.getArialabelForItem(Ae[Z]),className:this.getClassName(ot,lt),"data-qa":je?void 0:this.getDataQaTag(Ie,Z),id:(0,g.Es)(Te,`option_${Z}`),key:U},ee?{style:ee}:{},{onClick:Ge||Qe?(0,p.A)(()=>this.onOptionSelected(Ie)):(0,p.A)(()=>{this.onOptionClicked(Ie)}),onMouseEnter:Ge||Qe?a.A:(0,p.A)(()=>{this.onMouseEnteredOption(Z)}),onMouseLeave:Ge||Qe?a.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":ge?"true":void 0,ref:ge?this.currentRow:null,optgroup:Re?Ae[Z].optgroup:void 0,"aria-disabled":Ge||null,"aria-setsize":Rt,"aria-posinset":yt}),Xe&&!ye&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),At);return!Le||!this.cellMeasurerCache?Mt:t.createElement(h.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:Z,key:U,parent:se},Mt)}isOptionSelected($,Z,U,ee){let{selectedOptions:se,selectedOption:de}=$;return U&&(!se||se&&!se.length)||!U&&!de?!1:U?!ee&&Z?se&&se.some(ue=>ue.value===Z.value):se&&se.some(ue=>ee({selectedOption:ue,listOption:Z})):de&&Z&&de.value===Z.value}isOptionActive($,Z,U){let{activeRowIndex:ee}=$;if(!ee&&ee!==0)return!1;const de=Z[ee];return(de&&de.option?de.option:de)===U}render(){const{className:$,ariaLabel:Z,classPrefix:U=void 0,multiSelectMode:ee=!1,selectDataQa:se=void 0,selectState:de,dropdownContainer:ue=void 0,footerBannerContent:_e}=this.props,{isExpanded:pe,activeRowIndex:ae,selectId:Ee,selectType:Le}=de,ye=(0,n.A)("c-select_options_list",{[`${U}_options_list`]:U}),Te=Le===y.US.BASIC&&pe&&(0,l.A)(ae)?(0,g.Es)(Ee,`option_${ae}`):void 0,Ae=t.createElement("div",{className:ye,ref:this.listBody,"data-qa":se?`${se}-options-list`:null,id:(0,g.Es)(Ee,"listbox"),"aria-activedescendant":Te,"aria-label":Z,"aria-multiselectable":!!ee,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:Ie=!0}=this.props;if(!Ie)return Ae;const Ue=(0,n.A)("c-select_options_list__wrapper",{[`${$}`]:$,[`${U}_options_list_wrapper`]:U});return t.createElement("div",oe({className:this.getClassName(Ue),"data-qa":se?`${se}-options-list-wrapper`:"sk-select-options-list-wrapper"},ue?{ref:ue}:{}),Ae,_e&&t.createElement("div",{className:"c-select_options_list__footer_banner"},_e))}constructor($){super($),this.isMouseMoveEnabled=!1,(0,D.v)(this,["getOptionsList","getOptionFromList","handleClear","onKeyPressedDown","onKeyPressedEnter","onKeyPressedTab","onKeyPressedShiftTab","onKeyPressedUp","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,fe.A)(I),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,u.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,u.A)(this.onScroll.bind(this),200),y.az.label=N.t("Clear selection");const{optionsRowHeight:Z=y.bJ,dynamicHeight:U=!1}=$;U&&(this.cellMeasurerCache=new h.jS({defaultHeight:Z,fixedWidth:!0}))}},"SelectOptionsList");x.displayName="SelectOptionsList",x.contextType=v.M;const b=x},4640201401:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(7715417323),s=e(9268023148),r=e(5617110048),d=e(1641606663),o=e(5249175977),a=e(1162627626),l=e(7193040700),m=e(2322735331),c=e(6244014364);function _(){return _=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},_.apply(this,arguments)}i(_,"_extends");const p={onClose:{action:c.UiAction.CLOSE},onOpen:{action:c.UiAction.OPEN}},u=50,h=50,E=12,A=4,v=32;let f=i(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(T){return(T==null?void 0:T.type)==="click"}didClickInput(T){const{inputRef:M}=this.props;if(!(M!=null&&M.current)||!this.isMouseEvent(T))return;const O=T.clientX,I=T.clientY,D=M.current.getBoundingClientRect();return O>D.left&&O<D.right&&I>D.top&&I<D.bottom}onClose(T){var M;const{selectState:O,inputRef:I,onOptionsListClose:D,setSelectState:P}=this.props;if(O.isExpanded){if(T instanceof KeyboardEvent){var k;(k=this.optionsListRef.current)===null||k===void 0||k.close(T)}I==null||(M=I.current)===null||M===void 0||M.focus(),D==null||D(this.didClickInput(T)),P(()=>({isExpanded:!1,activeRowIndex:null,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:T,inputContainerRef:M=null}=this.props,O=M||T;return O&&O.current?O.current.getBoundingClientRect():null}getPopoverPosition(T){let{top:M,bottom:O}=T;var I;const D=M,P=(((I=this.context.windowRef.deref())===null||I===void 0?void 0:I.innerHeight)||0)-O,{selectState:k,maxListHeight:R=l.CK}=this.props,{options:V}=k;let B=0;const W=i(S=>S.map(H=>this.getRowHeight(H)).reduce((H,w)=>H+w,0),"calculateRowHeight");if(V){const S=[];V.forEach(H=>{if(H.options){S.push(H.label),H.options.forEach(w=>S.push(w));return}S.push(H)}),B=W(S)}const L=Math.min(B,R);return P<L&&P<D?"top-left":"bottom-left"}getRowHeight(T){const{optionsRowHeight:M=l.bJ}=this.props;return T.type&&T.type==="divider"?l.r3:M}maybeInstallListener(){var T,M;if(this.listenerInstalled)return;(T=this.context.windowRef.deref())===null||T===void 0||T.addEventListener("resize",this.onResize),(M=this.context.windowRef.deref())===null||M===void 0||M.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:O=null}=this.props;if(O){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.addEventListener(O,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:T=null}=this.props;if(this.listenerInstalled){var M,O;if(this.onResize.cancel(),this.onScroll.cancel(),(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener("resize",this.onResize),(O=this.context.windowRef.deref())===null||O===void 0||O.removeEventListener("scroll",this.onScroll),T){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.removeEventListener(T,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var T,M;const{popoverProps:O={},selectState:I,minOptionsListWidth:D=null,onOpen:P=n.A,onScrollablePage:k=!1,autoClogProps:R=void 0,maxListHeight:V=l.CK,shouldAllowUnselectInSingleSelectMode:B,shouldAllowUnselectInMultiSelectMode:W,stayExpandedAfterSelection:L}=this.props,{selectId:S}=I,H=this.state.optionsListBounds||{width:0,bottom:0,left:0},w=this.getPopoverPosition({top:H.top,bottom:H.bottom}),F=w==="top-left",j=((T=this.context.windowRef.deref())===null||T===void 0?void 0:T.innerWidth)||0;let J=H.width;D&&H.width<D&&(J=D);const X=H.left-E+J;let q=0;D&&X>j&&(q=D-H.width);const ne=(F?H.top:(((M=this.context.windowRef.deref())===null||M===void 0?void 0:M.innerHeight)||0)-H.bottom)-v,te=Math.min(ne,V),le={...this.props,autoClogProps:R,width:J+E*2,maxListHeight:te,shouldAllowUnselectInSingleSelectMode:B,shouldAllowUnselectInMultiSelectMode:W,stayExpandedAfterSelection:L},{pageYOffset:he}=this.context.windowRef.deref()||{},fe={top:H.top+he+A,bottom:H.bottom+he-A,left:H.left-(E+q),width:J};let ve;if(k){var me;ve={height:(me=this.context.windowRef.deref())===null||me===void 0?void 0:me.document.body.scrollHeight}}return t.createElement(r.A,_({elementType:c.ElementType.DROPDOWN,actionProps:p},R?{autoClogProps:R}:{}),t.createElement(o.AM,_({position:w,allowanceX:-E,ref:this.popover},O,{onClose:this.onClose,isOpen:!!I.isExpanded,key:`${S}-popover`,shouldFocusAfterRender:!1,targetBounds:fe,ariaHideApp:!1,onOpen:P},typeof ve<"u"?{overlayStyle:ve}:{},{shouldPropagateOnClose:!0}),t.createElement(a.A,_({},le,{ref:this.optionsListRef}))))}constructor(T){super(T),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,m.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,s.A)(this.measureOptionsListAndSetState,u,{maxWait:u}),this.onScroll=(0,s.A)(this.measureOptionsListAndSetState,h,{maxWait:h}),this.listenerInstalled=null}},"SelectPopoverOptionsList");f.displayName="SelectPopoverOptionsList",f.contextType=d.M,f.defaultProps={includePadding:!0,window};const g=f},9573786552:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(166097325),s=e(3297051565),r=e.n(s);function d(){return d=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(a[c]=m[c])}return a},d.apply(this,arguments)}i(d,"_extends");function o(a){const l={showConfirmDialog:r().func,setSelectState:r().func.isRequired,selectedOptions:r().array,selectedOption:r().object},m={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0};let c=i(class extends t.Component{setSelectState(p,u){const h=p();h.selectedOptions&&!(0,n.A)(h.selectedOptions,this.selectedOptions)||h.selectedOption&&!(0,n.A)(h.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({isExpanded:!1})),this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(p,u),this.selectedOptions=h.selectedOptions||this.selectedOptions,this.selectedOption=h.selectedOption||this.selectedOption}})):(this.props.setSelectState(p,u),this.selectedOptions=h.selectedOptions||this.selectedOptions,this.selectedOption=h.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:p}=this.props,u=p?this.setSelectState:this.props.setSelectState;return t.createElement(a,d({},this.props,{setSelectState:u}))}constructor(p){super(p),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=p.selectedOptions,this.selectedOption=p.selectedOption}},"ConfirmSelectWrapper");return c.displayName="ConfirmSelectWrapper",c.propTypes=l,c.defaultProps=m,c}i(o,"withConfirm")},2742076544:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(3134334389),n=e(166097325),s=e(9113979368),r=e(7715417323),d=e(9268023148),o=e(6422693406),a=e(796111729);function l(){return l=Object.assign||function(_){for(var p=1;p<arguments.length;p++){var u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},l.apply(this,arguments)}i(l,"_extends");const m=(0,a.Wo)();function c(_){let p=i(class extends t.Component{componentDidMount(){const{searchOnClick:h,disableSearchOnMount:E,expandOnFocus:A,minQueryLength:v}=this.props,{filterQuery:f}=this.state;if(!h&&!E||A){const g=!v||f&&f.length>=v;f!==void 0&&g&&this.search(f)}}componentDidUpdate(h){const{isInvalid:E,selectedOption:A,selectedOptions:v,isDisabled:f,minQueryLength:g}=this.props,y={};h.isInvalid!==E&&(y.isInvalid=E),h.isDisabled!==f&&(y.isDisabled=f),(0,n.A)(h.selectedOption,A)||(y.selectedOption=A),(0,n.A)(h.selectedOptions,v)||(y.selectedOptions=v),(0,n.A)(h.minQueryLength,g)||(y.minQueryLength=g),(0,s.A)(y)||this.setSelectState(()=>y)}componentWillUnmount(){this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}setSelectState(h,E){const A=h();(A.filterQuery!==void 0&&A.filterQuery!==this.state.filterQuery||A.searchOnClick)&&(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.state.minQueryLength||A.filterQuery&&A.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(A.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))),this.setState(()=>A,E)}search(h){const{search:E,onSearch:A=r.A,onSearchError:v=r.A,selectId:f,processOptions:g=i(y=>o.S.resolve(y),"processOptions")}=this.props;A(h),this.searchPromise=E(h).then(y=>{g(y,h).then(T=>{this.setSelectState(()=>({options:T})),this.setState(()=>({isLoading:!1}))})}).catch(y=>{this.setState(()=>({isLoading:!1})),m.error(`Error when searching for select id: ${f}, error: ${y}`),v(y)})}render(){const h=this.props.inputRef||this.inputRef;return t.createElement(_,l({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:h,isLoading:this.state.isLoading}))}constructor(h){super(h),this.inputRef=t.createRef(),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:h.isExpanded,expandOnFocus:h.expandOnFocus,selectId:h.selectId,selectedOptions:h.selectedOptions||[],selectedOption:h.selectedOption||null,isRequired:h.isRequired,isLoading:!1,isDisabled:h.isDisabled,isInvalid:h.isInvalid,searchOnClick:h.searchOnClick,minQueryLength:h.minQueryLength},this.search=(0,d.A)(this.search,h.debounceWaitPeriod)}},"CustomSearchWrapper");return p.displayName="CustomSearchWrapper",p.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:r.A,onSearchError:r.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:u=>o.S.resolve(u),shouldAllowUnselectInMultiSelectMode:!1},p}i(c,"withCustomSearch")},3239909785:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ne});var t=e(9706240641),n=e(3134334389),s=e(7715417323),r=e(166097325),d=e(9113979368),o=e(9524650809),a=e(235108050),l=e(362134992),m=e(2208015175),c=e(8086952004),_=e(4360875129),p=e(2394306156),u=e(9746734072),h=e(2101927269),E=e(8840779375),A=e(9268023148),v=e(5950652755),f=e(3297051565),g=e.n(f),y=e(6422693406),T=e(6987519067),M=e(145735569),O=e(3708320478),I=e(6543729974),D=e(2170574487);function P(te){return[...te.filter(le=>!le.isError&&!le.isUnknown),...te.filter(le=>!le.isError&&le.isUnknown),...te.filter(le=>le.isError)]}i(P,"sortTokens");var k=e(9236644324),R=e(56548687),V=e(796111729),B=e(735940183),W=e(4327331459),L=e(3707193570),S=e(4862221402),H=e(9868740303),w=e(4342685672),F=e(4757466470),j=e(9391594207),J=e(8847766420);function X(){return X=Object.assign||function(te){for(var le=1;le<arguments.length;le++){var he=arguments[le];for(var fe in he)Object.prototype.hasOwnProperty.call(he,fe)&&(te[fe]=he[fe])}return te},X.apply(this,arguments)}i(X,"_extends");const q=(0,V.Wo)(),G=new B.Ay("form_inputs");function ne(te){const le={searcherOptions:g().object.isRequired,selectId:g().string.isRequired,inputRef:g().object,isRequired:g().bool,selectedOptions:g().array,selectedOption:g().object,isExpanded:g().bool,isDisabled:g().bool,isInvalid:g().bool,focusOnMount:g().bool,searchOnPaste:g().bool,expandOnFocus:g().bool,expandOnClick:g().bool,searchBatchSize:g().number,debounceWaitPeriod:g().number,onFilterQueryPaste:g().func,onInputFocused:g().func,onSearch:g().func,onSearchError:g().func,onSearchResolved:g().func,onOptionsListClose:g().func,splitPastedQuery:g().func,processOptions:g().func,processSelectedOptions:g().func,clogger:g().object.isRequired,search:g().func.isRequired,teamId:g().string.isRequired,useSearcherSessions:g().bool,showConfirmDialog:g().func,restrictedSelectedTokenIndexes:g().array,disabledSelectedTokenIndexes:g().array,invalidSelectedTokenIndexes:g().array,useBulkSearch:g().bool},he={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:s.A,onInputFocused:s.A,onSearch:s.A,onSearchError:s.A,onSearchResolved:s.A,onOptionsListClose:s.A,splitPastedQuery:D.I,processOptions:oe=>y.K.resolve(oe),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1};let fe=i(class extends n.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(N,K){const{isDisabled:x,isInvalid:b,selectedOptions:z,selectedOption:$,searchOnPaste:Z,expandOnFocus:U,expandOnClick:ee,restrictedSelectedTokenIndexes:se,disabledSelectedTokenIndexes:de,invalidSelectedTokenIndexes:ue}=this.props,_e={};if(N.isInvalid!==b&&(_e.isInvalid=b),N.isDisabled!==x&&(_e.isDisabled=x),(0,r.A)(N.selectedOptions,z)||(_e.selectedOptions=z),(0,r.A)(N.selectedOption,$)||(_e.selectedOption=$),(N.expandOnFocus&&!U||N.expandOnClick&&!ee)&&(_e.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,K.selectedOptions)){var ae,Ee;const Ue=this.getNextUnknownTokenIndex();_e.selectedTokenIndexes=[Ue],(ae=this.inputRef)===null||ae===void 0||(Ee=ae.current)===null||Ee===void 0||Ee.focus()}N.restrictedSelectedTokenIndexes!==se&&(_e.restrictedSelectedTokenIndexes=se),N.disabledSelectedTokenIndexes!==de&&(_e.disabledSelectedTokenIndexes=de),N.invalidSelectedTokenIndexes!==ue&&(_e.invalidSelectedTokenIndexes=ue);const{isLoading:Le,pendingQueries:ye,selectedOptions:Te,pendingEscapeQueries:Ae,filterQuery:Ie}=this.state;if(Z&&!Le){if(!(0,d.A)(ye))_e.isLoading=!0,_e.loadInBackground=!0,this.searchQueryObjects(ye);else if(K.isLoading){if(this.updateDisabled(!1),Ae.length>0&&Ie===""){const Ue=(0,B.jd)(Ae.map(De=>De.query),{noConj:!0}).join(""),Be=Ae[0],{options:we}=Be,re=i(De=>De.map(be=>{const{query:xe,options:Re,...je}=be,Ge=Re?{options:re(Re)}:{};return{...je,...Ge,query:Ue}}),"getUpdatedOptions"),ge={...Be,options:re(we),query:Ue};_e.pendingEscapeQueries=[],_e.options=ge.options,_e.filterQuery=Ue,_e.isExpanded=!0,_e.isLoading=!1}if(Te.length){const Ue=Te.filter(we=>we.isError||we.isUnknown).length,Be=Ue?G.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:Ue}):G.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Be)}}}(0,d.A)(_e)||this.setSelectState(()=>_e)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}onFilterQueryPaste(N){var K=this;return(0,t.coroutine)(function*(){const{searchOnPaste:x,searcherOptions:b,splitPastedQuery:z,processOptions:$}=K.props;if(!x||!N&&!N.clipboardData)return;N.preventDefault();const Z=N.clipboardData.getData("text/plain")?"text/plain":"Text",U=(0,k.i_)(N),ee=U.text,se=z(ee,{...b,fromMetadata:U.text!==N.clipboardData.getData(Z)});K.props.onFilterQueryPaste(se);const de=[],ue=[];yield y.K.all(se.map(_e=>{const pe=K.getQueryId();return(0,W.A)(_e)||(0,S.A)(_e)||(0,L.Ay)(_e)?$([{key:pe,pasted:!0,fromMetadata:!0,value:_e,label:U.members?U.members[_e]:_e}]).then(ae=>(ae[0]&&ue.push(ae[0]),y.K.resolve())):(de.push({query:_e,queryId:pe,pasted:!0}),ue.push({label:_e,queryId:pe,isLoading:!0,key:pe,pasted:!0}),y.K.resolve())})),K.setSelectState(_e=>({pendingQueries:_e.pendingQueries.concat(de),selectedOptions:_e.selectedOptions.concat(ue)})),K.updateDisabled(!(0,d.A)(de)),K.updateAriaTextThrottled.cancel&&K.updateAriaTextThrottled.cancel()})()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(N){const{isLoading:K,isExpanded:x,filterQuery:b}=this.state;!K&&x&&b.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(N)}onTokenSelect(N){var K=this;return(0,t.coroutine)(function*(){if(!(K.props.expandOnClick||K.shouldExpandOnFocus())){if(N&&!N.isUnknown)K.setState(()=>({isExpanded:!1,options:[]}));else if(N){const x=yield K.props.processOptions(N.resultOptions.map(b=>({...b,fromUnknown:!0})),N.label);K.lastShownSearchDetails=N.searcher,K.setState(()=>({isExpanded:!0,options:x}))}}})()}getQueryId(){return(0,o.A)("query__")}setSelectState(N,K){var x=this;return(0,t.coroutine)(function*(){var b;const{processSelectedOptions:z}=x.props;let $=N(x.state);const{selectedOption:Z,selectedOptions:U}=x.state;$.filterQuery!==void 0&&$.filterQuery!==x.state.filterQuery&&($.isLoading=!0,$.loadInBackground=!1,x.searchQuery($.filterQuery));const{searchOnPaste:ee}=x.props;if(ee&&$.selectedOptions){const de=$.selectedOptions.map(_e=>{let{key:pe}=_e;return pe}),ue=(0,a.A)((0,l.A)(de.filter(_e=>de.indexOf(_e)!==de.lastIndexOf(_e))));(0,m.A)(ue,_e=>{const pe=(0,c.A)($.selectedOptions,Ee=>{let{key:Le,isUnknown:ye}=Ee;return Le===_e&&!ye}),ae=(0,l.A)($.selectedOptions.map(Ee=>Ee.key===_e?Ee.isUnknown?pe:null:Ee));$.selectedOptions=ae})}if($.selectedOptions!==void 0&&!(0,r.A)($.selectedOptions,U)){const de=$.selectedOptions.filter(_e=>{let{isLoading:pe,isUnknown:ae}=_e;return!pe&&!ae}),[ue]=(0,_.A)(de,U,"value");ue&&x.clogSearcherResults(ue)}$.selectedOption!==void 0&&$.selectedOption!==null&&((b=$.selectedOption)===null||b===void 0?void 0:b.value)!==(Z==null?void 0:Z.value)&&x.clogSearcherResults($.selectedOption);const se=!!$.removalInitiator;if($.selectedOptions&&!se&&z){if($=(0,p.A)($),$.isLoading!==void 0){const de=$.isLoading;x.setState(()=>({isLoading:de})),delete $.isLoading}$.selectedOptions=yield z($.selectedOptions)}x.setState(()=>$,K)})()}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(N=>N.isUnknown&&N.queryId)}wasUnknownTokenResolved(N,K){const x=N.filter(z=>z.isUnknown).length,b=K.filter(z=>z.isUnknown).length;return x<b}shouldExpandOnFocus(){const{expandOnFocus:N}=this.props,{selectedOptions:K}=this.state,x=(0,I.A)(K);return N&&!x}clogSearcherResults(N){if(this.lastShownSearchDetails===null)return;const{clogger:K,selectId:x,useSearcherSessions:b,teamId:z}=this.props,{query:$,results:Z}=this.lastShownSearchDetails,U={source:x,query:$,results:Z};N?(U.selectedItemId=N.value,b?(0,H.A)({teamId:z,key:x}).clogSearcherAccept({clogger:K,data:U}):(0,T.DC)({clogger:K,data:U})):b?(0,H.A)({teamId:z,key:x}).clogSearcherReject({clogger:K,data:U}):(0,T.Yb)({clogger:K,data:U})}processSearchResults(N){const{searchOnPaste:K,onSearchResolved:x,searcherOptions:b}=this.props,{escapeHatchEnabled:z,escapeHatchKeys:$}=b,Z=this.state.selectedOptions.slice(0);K&&N.forEach(U=>{let{queryId:ee,options:se,searcher:de}=U;const ue=Z.findIndex(ae=>ae.queryId===ee),_e=Z[ue];let pe=null;if(_e){this.lastShownSearchDetails=de;let ae;se.length===1?(ae=se[0],z&&de&&de.results&&de.results.length===0&&de.pasted&&$&&$[ae.key]&&this.setState(Le=>({pendingEscapeQueries:[...Le.pendingEscapeQueries,{query:de.query,options:[ae]}]})),this.clogSearcherResults(ae)):se.length?ae={isUnknown:!0}:(ae={isError:!0},this.clogSearcherResults()),pe={..._e,...ae,resultOptions:se,searcher:de,isLoading:!1},Z[ue]=pe}x({result:se,selectedOption:pe})}),this.setState(U=>{if((0,F.Ay)(U.selectedOptions,Z,2)){const{options:ee,searcher:se}=N[0];return this.lastShownSearchDetails=se,U.loadInBackground?null:{options:ee}}return{selectedOptions:P(Z)}})}runBatchedSearch(N){const K=N.slice(0,this.props.searchBatchSize);if(N.length>1&&this.props.useBulkSearch){const b=K.some($=>!!$.pasted),z=K.some($=>!!$.initial);return this.runSingleSearch({query:K,pasted:b,initial:z})}const x=K.map(b=>{let{query:z,queryId:$,pasted:Z,initial:U}=b;return this.runSingleSearch({query:z,queryId:$,pasted:Z,initial:U})});return y.K.all(x)}runSingleSearch(N){let{query:K,queryId:x,pasted:b,initial:z}=N;const{onSearch:$,onSearchError:Z,processOptions:U,searcherOptions:ee,selectId:se,useSearcherSessions:de,teamId:ue,useBulkSearch:_e}=this.props;let pe,ae,Ee=!1;const Le=x||this.getQueryId(),ye=new Map;if((0,u.A)(K)&&_e?(pe=K.map(Ie=>(ye.set(Ie.queryId,Ie.query),{query:(0,D.t)(Ie.query,ee),queryId:Ie.queryId})),Ee=!0):ae=(0,D.t)(K,ee),ae&&$(K)===!1)return U([],ae).then(Ie=>({queryId:Le,options:Ie,searcher:this.lastShownSearchDetails}));let Te;de&&(!b||Ee)?Te=(0,H.A)({teamId:ue,key:z?Le:se}).search({query:Ee?pe:ae,options:{...ee,sort:{source:se,...ee.sort},returnMetadata:!0}}):Te=this.props.search({query:Ee?pe:ae,options:{...ee,sort:{source:se,...ee.sort},returnMetadata:!0}});var Ae=this;return Te.then(function(){var Ie=(0,t.coroutine)(function*(Ue){Ae.lastShownSearchDetails={query:Ee?pe:ae,results:Ue};const Be=(Ue||[]).map((ge,De)=>{var be;return{key:Ee?ge.queryId:`${Le}_${De}`,value:ge.item.id,label:ge.name||((be=ge.item)===null||be===void 0?void 0:be.name)||(Ee?ye.get(ge.queryId):K),entity:ge.item,matchData:ge.subqueryScoresByMember}}),{selectedOption:we}=Ae.state;ae===""&&we&&((0,c.A)(Be,["value",we.value])||Be.unshift(we));const re=yield U(Be,K,{pasted:b});return{queryId:Le,options:re,searcher:{...Ae.lastShownSearchDetails,pasted:b}}});return function(Ue){return Ie.apply(this,arguments)}}()).catch(Ie=>{q.error(`Error when searching for select id: ${se}, error: ${Ie}`),Z(Ie);const Ue=[];return{queryId:Le,options:Ue,searcher:{query:Ee?pe:ae,results:Ue,pasted:b,isError:!0}}})}searchQuery(N){this._isMounted&&this.searchQueryObjects([{query:N}])}searchQueryObjects(N){if((0,d.A)(N))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:x,queryId:b}=N[0];this.searchPromise=this.runSingleSearch({query:x,queryId:b}).then(z=>{let{options:$}=z;this.setSelectState(()=>({options:$})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(N).then(x=>{let b=x;this.props.useBulkSearch&&(b=this.generateBulkSearchResultsArray(b)),this.processSearchResults(b);const z=b.map($=>{let{queryId:Z}=$;return Z});this.setState($=>({pendingQueries:$.pendingQueries.filter(U=>{let{queryId:ee}=U;return!z.includes(ee)}),isLoading:!1}))});const K=G.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:N.length});this.updateAriaTextThrottled(K)}updateAriaText(N){this.setState(K=>K.ariaText===N?null:{ariaText:N})}updateDisabled(N){this.setState(K=>K.isDisabled===N?null:{isDisabled:N})}generateBulkSearchResultsArray(N){var K;if(!(!(N==null||(K=N.options)===null||K===void 0)&&K.length))return N.splice(0);const{options:x,searcher:b}=N,{pasted:z,query:$,results:Z}=b;return $.map(ee=>({options:x.filter(se=>se.key===ee.queryId),queryId:ee.queryId,searcher:{pasted:z,query:ee.query,results:Z.filter(se=>se.queryId===ee.queryId)}}))}render(){return n.createElement(n.Fragment,null,n.createElement(te,X({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),n.createElement(O.A,{message:this.state.ariaText}))}constructor(N){super(N),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:K,searchOnPaste:x}=N,b=(0,h.A)(K,$=>(0,M.iC)($));let z=[];x&&(z=(0,l.A)((0,E.A)(b,$=>!$.label||!$.queryId?null:{query:$.label,queryId:$.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:N.isExpanded,selectId:N.selectId,selectedOptions:N.selectedOptions||[],selectedOption:N.selectedOption||null,isRequired:N.isRequired,isLoading:!1,isDisabled:N.isDisabled,isInvalid:N.isInvalid,pendingQueries:z||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!N.showConfirmDialog,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:N.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:N.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:N.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,A.A)(this.searchQuery,N.debounceWaitPeriod),this.updateAriaTextThrottled=(0,v.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=N.inputRef||n.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");fe.displayName="SearcherSelectWrapper",fe.propTypes=le,fe.defaultProps=he;const ve=i(oe=>({clogger:(0,R.e)({state:oe}),teamId:(0,J.JY)(oe),useSearcherSessions:(0,w.nK)(oe)}),"mapStateToProps"),me={search:function(){for(var oe=arguments.length,N=new Array(oe),K=0;K<oe;K++)N[K]=arguments[K];return(0,T.$P)(...N)}};return(0,j.N)(ve,me)(fe)}i(ne,"withSearcher")},2602118042:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5846524816);function s(){return s=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(a[c]=m[c])}return a},s.apply(this,arguments)}i(s,"_extends");const r={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function d(a){return t.createElement(n.A,s({},a,{textSelect:!0}))}i(d,"TextSelect"),d.displayName="TextSelect",d.defaultProps=r;const o=d},2864323261:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2825917518);const n=i(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(!a)return o;const{label:l,options:m}=a,c=new t.A(r,{fuzzyLimit:3,...d});if(!m)isFinite(c.normalizeAndScore(l))&&o.push(a);else{const _=[];m.forEach(p=>{const{label:u}=p;isFinite(c.normalizeAndScore(u))&&_.push(p)}),_.length&&o.push({label:a.label,options:_})}return o},"findMatches");function s(r,d){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d?r.reduce((a,l)=>n(d,o,a,l),[]):r}i(s,"defaultFilter")},6543729974:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(9113979368),n=e(1703559452),s=e(145735569);function r(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,t.A)(d)?!1:(0,n.A)(d,o=>(0,s.hH)(o))}i(r,"__WEBPACK_DEFAULT_EXPORT__")},3650946343:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9113979368),n=e(2101927269),s=e(4724591729),r=e(796111729);function d(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(o))return!1;const a=(0,n.A)(o,l=>(l&&!l.message&&(0,s.Cu)()&&(0,r.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${l.id}, message: ${l.message}}`),l&&!!l.message));return!(0,t.A)(a)}i(d,"__WEBPACK_DEFAULT_EXPORT__")},2170574487:(Q,C,e)=>{"use strict";e.d(C,{I:()=>a,t:()=>l});var t=e(3044566667);const n=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],s=new RegExp(`[${n}]`),r=new RegExp(`<(${t.gy})>`,"i"),d=new RegExp(`\\((${t.gy})\\)`,"i"),o=/(?=\s+[@\uFF20])/g;function a(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[];return c.entities&&c.entities.members&&c.entities.members.matchEmailField&&(r.test(m)||d.test(m))?_=m.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):s.test(m)?_=m.split(s):c.fromMetadata?_=m.split(/\s+/):c.entities&&c.entities.members&&o.test(m)&&(_=m.split(o)),(!_||!_.length)&&(_=m.split(/\s+/)),_.map(p=>p.trim()).filter(p=>Boolean(p))}i(a,"defaultSplitQuery");function l(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=m;return c.entities&&c.entities.members&&c.entities.members.matchEmailField&&t.tN.CONTAINS_EMAIL.test(m)&&(_=m.match(t.tN.CONTAINS_EMAIL)[0]),_}i(l,"parseQueryForSearch")},7772530643:(Q,C,e)=>{"use strict";e.d(C,{k:()=>n});var t=e(2864323261);const n=i(function(r,d){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d.filterQuery===void 0?d:{...d,options:(0,t.A)(r,d.filterQuery,o)}},"defaultFilter"),s=i((r,d)=>r.reduce((o,a)=>a(o),d),"applyTransforms")},1959847761:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,e:()=>n.ex});var t=e(1211063534),n=e(5139334449);const s=t.A},1211063534:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(3134334389),n=e(5255740490),s=e(5950652755),r=e(7715417323),d=e(1641606663),o=e(8245211418),a=e(5139334449),l=e(3256698098);function m(){return m=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(g[M]=T[M])}return g},m.apply(this,arguments)}i(m,"_extends");const c=1,_=10,p=10,u=2,h=12,E=50;let A=i(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(y,T){return y.isOpen!==T.passedIsOpen?{isOpen:y.isOpen,passedIsOpen:y.isOpen}:null}componentDidUpdate(y){if(y.isOpen!==this.props.isOpen)if(this.state.isOpen){var T;this.forceUpdate(),(T=this.context.windowRef.deref())===null||T===void 0||T.document.addEventListener("mousemove",this.onMouseMove)}else{var M;(M=this.context.windowRef.deref())===null||M===void 0||M.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(y){const T={x:y.clientX,y:y.clientY},M=this.mouseProgressingTowardsSubmenu(T);M!==this.state.mouseProgressingTowardsSubmenu&&(M?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(()=>({mouseCoordinates:T,mouseProgressingTowardsSubmenu:M}))}onSubmenuItemSelected(y,T){this.props.menuCallback(this.props.menuCallbackId,T)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const y=this.getContentBounds(),T=this.getTriggerBounds(),M={...this.props.submenuStyle},O=this.context.windowRef.deref();if((y==null?void 0:y.width)===void 0||(T==null?void 0:T.left)===void 0||!O)return M;const I=T.right+y.width>O.innerWidth,D=T.left>y.width,P=this.props.forceLeft||I&&D;I&&!D?M.left=O.innerWidth-y.width-_:P?M.left=T.left-y.width+u:M.left=T.right-u;const R=T.top-h,V=R+y.height>O.innerHeight-p;return M.top=V?O.innerHeight-p-y.height:R,M}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(y){this.submenuContainer=y}setTriggerRef(y){this.trigger=y}allowHighlightChange(){this.setState(y=>({...y,highlightChangePrevented:!1}))}closeSubmenu(){this.props.returnKBNav(),this.setState(()=>({isOpen:!1}),()=>{var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(y){const{mouseCoordinates:T}=this.state,M=this.getContentBounds();if(M){const{left:O,right:I,top:D,bottom:P}=M;if(y.x>=O&&y.x<=I&&y.y>=D&&y.y<=P)return!0;if(T){const R=Math.abs(I-T.x)>Math.abs(O-T.x),V={x:R?O:I,y:D-c},B={x:R?O:I,y:P+c},W={x:R?T.x-c:T.x+c,y:T.y};return(0,l._i)(y,W,V,B)}}return!1}preventHighlightChange(){this.setState(y=>({...y,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const y=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),T=this.getSubmenuContainerStyle(),M=(0,n.A)("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:M,ref:this.setSubmenuRef,style:T,"data-qa":"submenu_container"},y)}render(){const{menuCallback:y,menuCallbackId:T,...M}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(o.A,m({},M,{withSubmenu:!0})),this.renderSubmenu())}constructor(y){super(y),this.state={isOpen:!1,passedIsOpen:!1,mouseCoordinates:void 0,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},this.closeSubmenu=this.closeSubmenu.bind(this),this.setSubmenuRef=this.setSubmenuRef.bind(this),this.setTriggerRef=this.setTriggerRef.bind(this),this.onMouseMove=(0,s.A)(this.onMouseMove.bind(this),E),this.onSubmenuItemSelected=this.onSubmenuItemSelected.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this)}},"Submenu");A.displayName="Submenu",A.defaultProps={isOpen:!1,menuCallback:r.A,menuCallbackId:null,kbNavActive:!1,returnKBNav:r.A,preventHighlightChange:r.A,allowHighlightChange:r.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},A.contextType=d.M;const v={Submenu:A,SUBMENU_OVERLAP:u,MENU_VERTICAL_MARGIN:h,ALLOWANCE_X:_,ALLOWANCE_Y:p},f=(0,a.Ay)(A)},5139334449:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>c,ex:()=>m});var t=e(2208015175),n=e(3297051565),s=e.n(n),r=e(101973425),d=e(4724591729),o=e(796111729);const a="_isSlackSubmenuItem",l={...r.LN,kbNavActive:s().bool,stealKBNav:s().func,returnKBNav:s().func,preventHighlightChange:s().func,allowHighlightChange:s().func};function m(_){return!!_[a]}i(m,"isSubmenu");function c(_){if((0,d.Cu)()){const p=_.propTypes||{};let u;Object.defineProperty(_,"propTypes",{get:()=>u,set:h=>{const E=_.displayName||_.name||"Component";(0,t.A)(l,(A,v)=>{const f=h[v];f&&f!==A&&f!==A.isRequired&&(0,o.Wo)().warn(`${E}'s ${v} prop type doesn't match submenu`)}),u={...l,...h}}}),_.propTypes=p}return _[a]=!0,_[r.KJ]=!0,_}i(c,"wrapSubmenu")},4525741652:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])}return o},s.apply(this,arguments)}i(s,"_extends");const d=(0,t.forwardRef)((o,a)=>{let{tabContent:l,fullHeight:m,className:c,role:_="tabpanel",...p}=o;const u=(0,n.A)(c,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":m});return t.createElement("div",s({role:_,className:u,"data-qa":"tabs_content_container",ref:a},p),l)})},6130762911:(Q,C,e)=>{"use strict";e.d(C,{T:()=>s});var t=e(3134334389);const n={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},s=(0,t.createContext)(n)},2598612765:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3134334389),n=e(5255740490),s=e(8628145494),r=e(9268023148),d=e(4980558152),o=e(2309855086),a=e(5914783706),l=e(3749524846),m=e(9332393661),c=e(6084388622),_=e(1610251172),p=e(8683010724),u=e(6130762911),h=e(7239742441),E=e(698347924);function A(I){return/\.(jpe?g|png|gif|bmp)$/i.test(I)}i(A,"hasImageExtention");const v=A;function f(){return f=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var k in P)Object.prototype.hasOwnProperty.call(P,k)&&(I[k]=P[k])}return I},f.apply(this,arguments)}i(f,"_extends");const g=i(I=>{let{icon:D,svgIcon:P,customIcon:k,className:R}=I;return t.createElement("div",{className:R,"data-qa":"tabs_item_render_icon"},!k&&D&&!P&&t.createElement(_.A,{type:D,size:"inherit",inline:!0}),!k&&P&&!D&&t.createElement(p.A,f({},P)),k&&k)},"TabsItemIcon");g.displayName="TabsItemIcon";const y=i(I=>I>=1e4?(0,h.$k)(I,{precision:4,decimal_places:0,lowercase:!0}):(0,E.Ay)(I),"formatNumber"),T=i(I=>{let{shouldFormatCount:D,titleCount:P,maxTitleCount:k}=I;return D&&P?y(P):k&&P&&P>k?`${k}+`:P},"formatCount"),O=(0,t.forwardRef)((I,D)=>{let{label:P,onClick:k,title:R,isSelected:V,isFocused:B,focusOnMount:W,fullWidth:L,titleCount:S,maxTitleCount:H,icon:w,svgIcon:F,customIcon:j,formatCount:J,isLoading:X,isCountLoading:q,isDisabled:G,iconPosition:ne="right",className:te="",contextMenuAriaLabel:le,contextMenuTemplate:he,...fe}=I;const ve=(0,o.A)(D),[me,oe]=(0,t.useState)(!1),N=(0,t.useContext)(l.A),K=(0,n.A)(te,"c-tabs__tab","js-tab",{"c-tabs__tab--active":V,"c-tabs__tab--full_width":L}),x=P||R,b=typeof x=="string"&&v(x)?t.createElement(m.A,{classes:"c-tabs__tab_image",image:x,ariaHidden:!0}):x,z=fe.id,$=(0,t.useCallback)(ye=>{k&&k(z,ye)},[z,k]),Z=T({shouldFormatCount:J,titleCount:S,maxTitleCount:H}),U=(0,s.A)(B)?V:B,ee=(0,a.A)(U);(0,t.useEffect)(()=>{if(!U)return;const ye=(0,s.A)(ee);if(ye&&W||!ye&&!ee){var Te;(Te=ve.current)===null||Te===void 0||Te.focus()}},[U,ee,W,ve]);const se=(0,t.useCallback)(()=>he,[he]),de=(0,r.A)(()=>oe(!0),25),ue=(0,r.A)(()=>oe(!1),25),_e=(0,t.useCallback)(()=>{ue.cancel(),de()},[de,ue]),pe=(0,t.useCallback)(()=>{de.cancel(),ue()},[de,ue]),ae=N&&(B??!1),Ee=(0,t.useMemo)(()=>({isSelected:V??!1,hasMouseHover:me,hasKeyboardFocus:ae,isUserAttentionOnTab:V||me||ae}),[ae,me,V]);let Le=t.createElement(c.Nm,f({},fe,{onClick:$,onMouseOver:_e,onMouseOut:pe,role:"tab",className:K,"aria-selected":V,tabIndex:U?0:-1,disabled:G,ref:ve}),X?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!w||!!F||!!j)&&ne==="left"&&t.createElement(g,{icon:w,svgIcon:F,customIcon:j,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},b),Number.isFinite(S)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},Z),q&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!w||!!F||!!j)&&ne==="right"&&t.createElement(g,{icon:w,svgIcon:F,customIcon:j,className:"c-tabs__tab_icon--right"})));return he&&(Le=t.createElement(d.A,{getTemplate:se,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:le},Le)),t.createElement(u.T.Provider,{value:Ee},Le)})},3214129289:(Q,C,e)=>{"use strict";e.d(C,{A:()=>G});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3514831633),d=e(8773153312),o=e(8683010724),a=e(2598612765),l=e(2312625946);const m={name:"ellipsis-horizontal",variation:"filled"},_=(0,t.forwardRef)((ne,te)=>{let{renderMenu:le,position:he,label:fe,id:ve,isSelected:me,isFocused:oe}=ne;return t.createElement(r.cQ,{renderMenu:le,position:he||"bottom-left"},t.createElement(l.Ay,{tip:fe,position:"top",offsetY:6},t.createElement(a.A,{id:ve,"aria-label":fe,isSelected:me,isFocused:oe,className:"c-tabs__tab_overflow",svgIcon:m,ref:te})))});var p=e(5238395322);const u=53,h=27;function E(ne){const te=ne.ownerDocument.defaultView;if(!te)return ne.offsetWidth;const le=te.getComputedStyle(ne),he=parseFloat(le.getPropertyValue("margin-left"))+parseFloat(le.getPropertyValue("margin-right"));return ne.offsetWidth+he}i(E,"getWidth");function A(ne){const te=ne.ownerDocument.defaultView;if(!te)return ne.offsetHeight;const le=te.getComputedStyle(ne),he=parseFloat(le.getPropertyValue("margin-top"))+parseFloat(le.getPropertyValue("margin-bottom"));return ne.offsetHeight+he}i(A,"getHeight");const v=i((ne,te)=>{let{outerElement:le,innerElement:he,threshold:fe,totalTabsLength:ve,childElements:me,containerSize:oe,isHorizontal:N}=ne;if(!le||!he||!me||ve===0)return;const K=oe-fe,x=N?E:A,b=Array.from(me).map(ee=>x(ee));if((0,p.A)(b)<K&&b.length===ve){te(ve);return}let $=N?u:h,Z=K,U=1;b.forEach(ee=>{$+=ee,$<K&&ee<=Z&&(U+=1),Z-=ee}),te(U)},"recalculateVisibleTabs");var f=e(4525741652),g=e(8214116048),y=e(3078252698);const M=i(ne=>(0,y.A)(ne),"isReactNodeAString");var O=e(2322735331),I=e(6244014364),D=e(4806483452),P=e(4724591729),k=e(3688641936),R=e(796111729),V=e(8873262110),B=e(735940183),W=e(3821598679);function L(){return L=Object.assign||function(ne){for(var te=1;te<arguments.length;te++){var le=arguments[te];for(var he in le)Object.prototype.hasOwnProperty.call(le,he)&&(ne[he]=le[he])}return ne},L.apply(this,arguments)}i(L,"_extends");const S=new B.Ay("slack-kit"),H=85,w=52,F=["ArrowLeft"],j=["ArrowRight"],J=F.concat("ArrowUp"),X=j.concat("ArrowDown");let q=i(class extends t.PureComponent{setVisibleTabs(te){this.setState(()=>({numOfVisibleTabsShown:te}))}onResize(){var te,le,he,fe,ve,me,oe,N,K,x;const b=this.props.orientation===g.t4.Horizontal,z=b?(te=this.tabsContainerRef)===null||te===void 0||(le=te.current)===null||le===void 0?void 0:le.clientWidth:(he=this.tabsContainerRef)===null||he===void 0||(fe=he.current)===null||fe===void 0?void 0:fe.clientHeight;if(!z)return;const $=b?H:w,Z={outerElement:(ve=this.tabsContainerRef)===null||ve===void 0||(me=ve.current)===null||me===void 0?void 0:me.getBoundingClientRect(),innerElement:(oe=this.lastVisibleTabRef)===null||oe===void 0||(N=oe.current)===null||N===void 0?void 0:N.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(K=this.tabsContainerRef)===null||K===void 0||(x=K.current)===null||x===void 0?void 0:x.children};v({...Z,threshold:$,containerSize:z,isHorizontal:b},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var U,ee;return(ee=(U=this.props).onTabsResized)===null||ee===void 0?void 0:ee.call(U)})}componentDidMount(){this._isMounted=!0;const{maxSize:te}=this.props;if(te&&!this.resizeListener){var le;this.resizeListener=(0,V.A)(this.onResize),this.resizeListener.observe((le=this.tabsContainerRef)===null||le===void 0?void 0:le.current)}}componentDidUpdate(te,le){var he;const{defaultTabId:fe,tabs:ve,manualTabActivation:me}=this.props;var oe;((oe=(he=te.tabs)===null||he===void 0?void 0:he.length)!==null&&oe!==void 0?oe:0)!==ve.length&&this.updateSelectedTab(),fe!==te.defaultTabId&&fe&&this.selectTab(fe,void 0);const N=le.numOfVisibleTabsShown!==this.state.numOfVisibleTabsShown,K=le.selectedTabId!==this.state.selectedTabId&&!me;(N||K)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var te;(te=this.resizeListener)===null||te===void 0||te.disconnect(),this.resizeListener=null}}onFocus(te){const{focusedTabIndex:le}=this.state,he=this.getTabIndexById(te.target.id);he!==le&&this.focusTab(he)}onKeyDown(te){const le=te.key;if(te.shiftKey||te.metaKey||te.ctrlKey||te.altKey)return;const fe=this.props.orientation==="vertical",ve=fe?X:j,me=fe?J:F;if(!["Home","End"].concat(ve,me).includes(le))return;const N=ve.includes(le),K=me.includes(le);te.preventDefault(),N&&this.onNextArrow(te),K&&this.onPreviousArrow(te),le==="Home"&&this.onHome(te),le==="End"&&this.onEnd(te)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:te}=this.props,{numOfVisibleTabsShown:le}=this.state;return te.slice(le,te.length)}getVisibleTabs(){var te,le;const{tabs:he,maxSize:fe}=this.props;if(!!!fe)return he;const me=((te=this)===null||te===void 0||(le=te.state)===null||le===void 0?void 0:le.numOfVisibleTabsShown)||he.length;return he.length===me?he:he.slice(0,me).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(te=>{let{id:le}=te;return le})}getTabById(te){var le;return(le=this.props.tabs)===null||le===void 0?void 0:le.find(he=>he.id===te)}getTabIndexById(te){return this.getVisibleTabIds().indexOf(te)}onHome(te){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:le,manualTabActivation:he,onTabChange:fe}=this.props,ve=this.getVisibleTabIds(),me=0;if(this.focusTab(me),he)return;const oe=ve[me];oe!==this.overflowTabId&&(le==null?void 0:le(oe))!==!1&&this.setState(()=>({selectedTabId:oe}),()=>{fe==null||fe(oe,te)})}onEnd(te){const le=this.getVisibleTabIds(),he=le.length-1;if(this.state.focusedTabIndex===he)return;const{onTabWillChange:fe,manualTabActivation:ve,onTabChange:me}=this.props;if(this.focusTab(he),ve)return;const oe=le[he];oe!==this.overflowTabId&&(fe==null?void 0:fe(oe))!==!1&&this.setState(()=>({selectedTabId:oe}),()=>me==null?void 0:me(oe,te))}onNextArrow(te){const{onTabWillChange:le,manualTabActivation:he,onTabChange:fe}=this.props,ve=this.getVisibleTabIds(),me=this.getTabIndexById(te.target.id),oe=me>=ve.length-1?0:me+1;if(this.focusTab(oe),he)return;const N=ve[oe];N!==this.overflowTabId&&(le==null?void 0:le(N))!==!1&&this.setState(()=>({selectedTabId:N}),()=>fe==null?void 0:fe(N,te))}onPreviousArrow(te){const{onTabWillChange:le,manualTabActivation:he,onTabChange:fe}=this.props,ve=this.getVisibleTabIds(),me=this.getTabIndexById(te.target.id),oe=me===0?ve.length-1:me-1;if(this.focusTab(oe),he)return;const N=ve[oe];N!==this.overflowTabId&&(le==null?void 0:le(N))!==!1&&this.setState(()=>({selectedTabId:N}),()=>fe==null?void 0:fe(N,te))}getNextTabId(){const{defaultTabId:te,tabs:le,currentTabId:he}=this.props,fe=te?this.getTabIndexById(te):void 0,ve=he?this.getTabIndexById(he):void 0;return he&&ve?he:te&&fe?te:le[0].id}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const te=this.getNextTabId();te!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:te}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:te}=this.focusedTabRef;if(te)return te.focus(),!0;const le=this.props.currentTabId||this.state.selectedTabId,he=this.getTabIndexById(le)||0;return this.focusTab(he),!0}focusTab(te){this.setState(()=>({focusedTabIndex:te}))}selectTab(te,le){const{onTabWillChange:he,onTabChange:fe}=this.props,ve=this.getTabById(te);if(!ve)return null;if((he==null?void 0:he(te))!==!1){if(ve.isExternalLink){var me;return(me=ve.onClick)===null||me===void 0?void 0:me.call(ve,te,le)}return this.setState(()=>({selectedTabId:te}),()=>{if(fe==null||fe(te,le),this.props.focusOnFirstFocusableChildOnChange){const oe=this.panelRef&&this.panelRef.current,N=(0,k.Fp)(oe);N==null||N.focus()}}),null}}updateFocusedTabIndex(){const te=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(te)}))}onTabClick(te,le){var he;const fe=this.getTabById(te);fe&&(fe.isExternalLink||this.selectTab(fe.id,le),fe==null||(he=fe.onClick)===null||he===void 0||he.call(fe,fe.id,le))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(te){const le=S.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return le;const he=this.getTabById(te);if(!he)return le;const fe=he["aria-label"]||he.label||he.title;return!fe||!M(fe)?le:S.t("More: {selectedTabLabel}",{selectedTabLabel:fe,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(te,le){const{tabs:he,fullWidthMenu:fe,orientation:ve,iconPosition:me,focusOnMount:oe}=this.props,N=this.state.focusedTabIndex===le,K=N?this.focusedTabRef:void 0,x=te.autoClogProps?{...this.autoClogProps,...te.autoClogProps,elementType:I.ElementType.TAB}:this.autoClogProps,b=le===he.length-1?this.lastVisibleTabRef:void 0,z=b?(0,D.A)(K,b):K,$=this.props.currentTabId||this.state.selectedTabId,Z=$===te.id;return te.id===this.overflowTabId?t.createElement(_,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel($),isSelected:!this.isSelectedTabVisible(),isFocused:N,ref:z,id:te.id,key:te.id}):t.createElement(a.A,{key:te.id,id:te.id,icon:te.icon,svgIcon:te.svgIcon,customIcon:te.customIcon,label:te.label||te.title,onClick:this.onTabClick,autoClogProps:x,isSelected:Z,isFocused:N,focusOnMount:oe,isDisabled:te.isDisabled,fullWidth:fe||ve==="vertical",titleCount:te.titleCount,maxTitleCount:te.maxTitleCount,"aria-label":te["aria-label"],"aria-describedby":te["aria-describedby"],"data-qa":te["data-qa"]||"tabs_item","aria-haspopup":te["aria-haspopup"],ref:z,formatCount:this.props.formatCount,isLoading:te.isLoading,isCountLoading:te.isCountLoading,iconPosition:me,className:te.className,contextMenuAriaLabel:te.contextMenuAriaLabel,contextMenuTemplate:te.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((le,he)=>{typeof le.label!="string"&&!t.isValidElement(le.label)&&typeof le.title!="string"&&!t.isValidElement(le.title)&&!le["aria-label"]&&((0,P.Cu)()||(0,P.b3)())&&(0,R.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const fe=this.renderTabsItem(le,he);return le.renderWrapper?t.createElement(t.Fragment,{key:le.id},le.renderWrapper(fe)):fe})}renderOverflowMenu(te){var le;const{selectedTabId:he}=this.state,fe=(le=this.getHiddenTabs())===null||le===void 0?void 0:le.map(ve=>({label:ve.label||ve.title,id:ve.id,click:me=>this.onTabClick(ve.id,me),key:ve.id,type:d.A.radio,checked:ve.id===he,icon:ve.svgIcon?t.createElement(o.A,L({size:"18"},ve.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(r.a,L({width:"200px"},te,{template:fe}))}renderTabPanelLabel(te){const le=this.getTabById(te);if(!le)return;const he=le["aria-label"]||le.label||le.title;if(M(he))return he}render(){var te;const{fullHeight:le,fullWidthMenu:he,className:fe,orientation:ve,tabMenuClassnames:me,tabPanelClassnames:oe,ariaLabel:N,currentTabId:K,maxSize:x}=this.props,b=K||this.state.selectedTabId;var z;const $=(z=(te=this.getTabById(b))===null||te===void 0?void 0:te.content)!==null&&z!==void 0?z:"",Z=(0,n.A)(fe,{"c-tabs__tab_container--full_height":le,"c-tabs__tab_container--vertical":ve==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!x}),U=(0,n.A)(me,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":he,"c-tabs__tab_menu--vertical":ve==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),ee=(0,n.A)(oe,{"c-tabs__tab_panel--vertical":ve==="vertical"});return t.createElement("div",{className:Z,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:U,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-orientation":ve,"aria-label":N,ref:this.tabsContainerRef},this.renderTabsItems()),$&&t.createElement(f.A,{tabContent:$,fullHeight:le,ref:this.panelRef,className:ee,"aria-label":this.renderTabPanelLabel(b)}))}constructor(te){var le;super(te),(0,O.v)(this,["onKeyDown","onFocus","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.focusedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,te.autoClogProps&&(this.autoClogProps={...te.autoClogProps,elementType:I.ElementType.TAB});const he=te.currentTabId||te.defaultTabId||((le=te.tabs[0])===null||le===void 0?void 0:le.id),fe=this.getTabIndexById(he);this.state={selectedTabId:he,focusedTabIndex:fe!==-1?fe:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,W.A)()}`}},"Tabs");q.displayName="Tabs",q.defaultProps={onTabChange:s.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0};const G=q},4275787242:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(3708320478),s=e(5733135148);const r=i(d=>{let{children:o,duration:a,svgIconProps:l,toastClasses:m,position:c,offsetX:_,offsetY:p,showCloseButton:u,onCloseComplete:h,shouldAutoFade:E,shouldSkipToastDismissal:A,closeButtonClasses:v,svgIconClassName:f,announceContentAsAssertive:g}=d;return t.createElement(s.Ay,{fadeDelay:a,svgIconClassName:f,svgIconProps:l,toastClasses:m,offsetX:_,offsetY:p,position:c,showCloseButton:u,onCloseComplete:h,shouldAutoFade:E,shouldSkipToastDismissal:A,closeButtonClasses:v},t.createElement(n.z,{assertive:g},o))},"Toast");r.displayName="Toast",r.defaultProps={duration:6e3}},2855755676:(Q,C,e)=>{"use strict";e.d(C,{F:()=>t,n:()=>n});const t={small:"small",medium:"medium",large:"large"},n={small:22,medium:26,large:32}},561151542:(Q,C,e)=>{"use strict";e.d(C,{A:()=>w,L:()=>S});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(126225536),d=e(1030162945),o=e(7969928607),a=e(1407713935),l=e(4559887502),m=e(8798294025),c=e(6839188756),_=e(6308822),p=e(5387475318),u=e(5289504844),h=e(8460568133),E=e(5415825258),A=e(1610251172),v=e(7193040700),f=e(3267847539),g=e(8683010724),y=e(5484624422),T=e(2312625946),M=e(82287009),O=e(8040098042),I=e(6112179660),D=e(4327331459),P=e(3707193570),k=e(4862221402),R=e(9391594207),V=e(2235302340),B=e(9101533895),W=e(3677514771);function L(){return L=Object.assign||function(F){for(var j=1;j<arguments.length;j++){var J=arguments[j];for(var X in J)Object.prototype.hasOwnProperty.call(J,X)&&(F[X]=J[X])}return F},L.apply(this,arguments)}i(L,"_extends");let S=i(class extends t.Component{renderChannelToken(j){const{channel:J,showMemberCounts:X,isSelected:q,channelHasNonUniqueName:G}=this.props;let ne;return(0,a.LI)(J)?ne=t.createElement(u.Ay,{id:(0,m.e)(J),className:"c-token_channel"}):(0,a.yz)(J)?ne=t.createElement(h.A,{mpim:J,className:"c-token_channel",isActive:q}):ne=t.createElement(p.A,{channel:J,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:X,showTeamForLocalChannel:G}),t.createElement("span",{className:j,"data-qa":"token_channel"},ne)}renderContent(){const{isLoading:j,isUnknown:J,isError:X,isMemberError:q,isTeamError:G,isInvalid:ne,channel:te,memberId:le,teamName:he,userGroupId:fe,channelSection:ve,contentInnerClassName:me,emailTeam:oe}=this.props;let N=(0,n.A)("c-token_content__inner",me);return j&&!ne?(N+=" c-token_content__inner--loading",this.renderLoadingToken(N)):J?(N+=" c-token_content__inner--unknown",this.renderUnknownToken(N)):X?(N+=" c-token_content__inner--error",this.renderErrorToken(N)):oe?(N+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(N)):le&&q?(N+=" c-token_content__inner--error",this.renderMemberErrorToken(N)):le?(N+=" c-token_content__inner--member",this.renderMemberToken()):te?this.renderChannelToken(N):he&&G?(N+=" c-token_content__inner--error",this.renderTeamErrorToken(N)):he?(N+=" c-token_content__inner--team",this.renderTeamToken(N)):ve?(N+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(N)):fe?(N+=" c-token_content__inner--usergroup",this.renderUserGroupToken(N)):this.renderPlainToken(N)}renderErrorToken(j){const{label:J}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(g.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:(0,n.A)(j,"c-token_content__label"),"data-qa":"token_error"},J))}renderLoadingToken(j){const{size:J,label:X}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(_.A,L({},J?{size:J}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:(0,n.A)(j,"c-token_content__label"),"data-qa":"token_loading"},X))}renderMemberToken(){const{forceRealName:j,isDisabled:J,memberId:X,size:q}=this.props;return t.createElement(u.Ay,{id:X,isDeactivated:J,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:j,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:q})}renderMemberErrorToken(j){const{forceRealName:J,isDisabled:X,memberId:q,size:G}=this.props;return t.createElement(u.Ay,{id:q,isDeactivated:X,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:J,showStatus:!1,className:(0,n.A)(j,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:G})}renderIcon(){const{icon:j,svgIcon:J}=this.props;return J?t.createElement("span",{className:"c-token_content__icon"},t.createElement(g.A,L({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},J))):j?t.createElement(A.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:j,inline:!0}):null}renderPlainToken(j){const{label:J}=this.props;return t.createElement("span",{className:j},this.renderIcon(),t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(o.A,{text:J,inputIsEscaped:!0,emojiSize:d.lw.MEDIUM})))}renderEmailTokenWithTeamIcon(j){const{icon:J,label:X,emailTeam:q}=this.props;return t.createElement("span",{className:j},J&&t.createElement(A.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:J,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(o.A,{text:X,inputIsEscaped:!0,emojiSize:d.lw.MEDIUM})),q&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(y.A,{team:q,"data-qa":"token_email_with_team_icon",size:u.Cg,className:"c-member__team_icon"})))}renderTeamToken(j){const{teamId:J,teamName:X}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(y.A,{id:J,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:(0,n.A)(j,"c-token_content__label"),"data-qa":"token_team_name"},X))}renderTeamErrorToken(j){const{teamId:J,teamName:X}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(y.A,{id:J,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:(0,n.A)(j,"c-token_content__label"),"data-qa":"token_team_name_error"},X))}renderChannelSectionToken(j){const{channelSection:J}=this.props;return J?t.createElement("span",{className:(0,n.A)(j,"c-token_content__label")},t.createElement(r.A,{channelSection:J})):null}renderUnknownToken(j){const{label:J}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(g.A,{size:"18",name:"emoji-missing",variation:"filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:(0,n.A)(j,"c-token_content__label"),"data-qa":"token_unknown"},J))}renderUserGroupToken(j){const{userGroupId:J}=this.props;return t.createElement(E.A,{id:J,showDescription:!1,className:(0,n.A)(j,"c-token_content__label")})}render(){const{isDisabled:j,isInvalid:J,isError:X,memberId:q,isMemberError:G,isTeamError:ne,isUnknown:te,isLoading:le,isSelected:he,size:fe,hoverText:ve,tabIndex:me,contentEditable:oe,className:N,onMouseDown:K,enableProfileHoverCard:x,customizeProfileHoverCardProps:b,isRestricted:z}=this.props,$=(0,n.A)("c-token",N,`c-token--${fe}`,{"c-token--selected":he,"c-token--disabled":j,"c-token--invalid":J,"c-token--restricted":z,"c-token--error":X||G||ne,"c-token--unknown":te,"c-token--loading":le}),Z=this.renderContent();let U=Z;ve&&Z?U=t.createElement(T.Ay,{tip:ve},Z):q&&x&&(U=(0,M.yN)({...b||{},memberId:q,children:Z}));const ee=this.props.renderIcon(this.props);return t.createElement("span",{className:$,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:me,contentEditable:oe,onMouseDown:K},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},U),ee)}},"Token");S.displayName="Token",S.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:v.hu.MEDIUM,renderIcon:s.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1};const H=i((F,j)=>{const{entityId:J,disableIdParsing:X}=j;let q;(0,D.A)(J)&&!X&&(q=J);let G,ne;if(((0,P.Ay)(J)||(0,P.JV)(J))&&!X){const me=(0,W._J)(F,J);me&&(G=J,ne=(0,c.F1)(me))}let te;(0,I.A)(J)&&!X&&(te=(0,V.xe)(F,J));let le;(0,k.A)(J)&&!X&&(le=J);const he=(0,B.OL)(F,J),fe=(0,B.MS)(F);let ve;return(0,O.A)(J)&&he&&(ve=(0,l.i)(fe,he)),{channel:he,memberId:q,teamName:ne,teamId:G,userGroupId:le,channelSection:te,channelHasNonUniqueName:ve}},"mapStateToProps"),w=(0,f.nM)((0,R.N)(H,null)(S))},2312625946:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>k,PK:()=>v,Ws:()=>O,YU:()=>_.Y,n1:()=>f});var t=e(3134334389),n=e(862210999),s=e(4332857818),r=e(4505564445),d=e(1293324111),o=e(1641606663),a=e(7331519201),l=e(348699080),m=e(1523057168),c=e(5249175977),_=e(1926356522),p=e(8214116048),u=e(2689960678),h=e(8869734951),E=e(3821598679);function A(){return A=Object.assign||function(V){for(var B=1;B<arguments.length;B++){var W=arguments[B];for(var L in W)Object.prototype.hasOwnProperty.call(W,L)&&(V[L]=W[L])}return V},A.apply(this,arguments)}i(A,"_extends");const v=300,f=60,g=3,y=3;let T=i(class{track(B){this.instance&&B!==this.instance&&this.instance.hide(),this.instance=B}stopTracking(B){B===this.instance&&(this.instance=void 0)}hideActive(){this.instance&&(this.instance.hide(),this.instance=void 0)}},"TooltipManager");const M=new T;function O(){M.hideActive()}i(O,"hideVisibleTooltip");function I(V){const B=i(W=>((W==null?void 0:W.offsetWidth)||0)<((W==null?void 0:W.scrollWidth)||0)||((W==null?void 0:W.offsetHeight)||0)<((W==null?void 0:W.scrollHeight)||0),"retIsTruncated");if(V!=null&&V.querySelector){const W=V.querySelector(".c-truncate");if(W)return B(W)}return B(V)}i(I,"isElementTruncated");function D(V,B){return V.width.toFixed(2)===(B==null?void 0:B.width.toFixed(2))&&V.height.toFixed(2)===(B==null?void 0:B.height.toFixed(2))&&V.left.toFixed(2)===(B==null?void 0:B.left.toFixed(2))&&V.right.toFixed(2)===(B==null?void 0:B.right.toFixed(2))&&V.top.toFixed(2)===(B==null?void 0:B.top.toFixed(2))&&V.bottom.toFixed(2)===(B==null?void 0:B.bottom.toFixed(2))}i(D,"areBoundsEqual");const P=t.forwardRef((V,B)=>{let{children:W,position:L=p.yX.Top,delay:S=150,shouldFade:H=!0,tip:w,tipClassName:F,tipArrowOffset:j,"data-qa":J,status:X=_.Y.Info,offsetX:q=0,offsetY:G=0,zIndex:ne="menu",shouldForceVisible:te=!1,shouldOnlyShowWhenTruncated:le=!1,onShow:he,onHide:fe,onClick:ve,maxWidth:me,hideFromScreenReader:oe=!1,automaticallyPositionTip:N=!0,tipAnchorRef:K,...x}=V;const b=t.Children.only(W),{windowRef:z}=(0,t.useContext)(o.M),$=(0,t.useRef)(),Z=(0,t.useRef)(null),U=(0,t.useRef)(),ee=(0,t.useRef)(!1),[se,de]=(0,t.useState)(!1),[ue,_e]=(0,t.useState)(!1),[pe,ae]=(0,t.useState)(!1),[Ee,Le]=(0,t.useState)(),ye=(0,t.useContext)(m.A),Te=I(U.current),Ae=Te||!le,Ie=te||se||ue,Ue=!!Ee&&Ae,Be=(0,t.useMemo)(()=>(0,h.P)(Z,B),[B]),we=(0,t.useCallback)((yt,Mt)=>N?{top:yt,left:Mt}:void 0,[N]),re=(0,t.useMemo)(()=>`sk-tooltip-${(0,E.A)()}`,[]),ge=(0,t.useCallback)(()=>{ae(!0)},[]),[De,be]=(0,a.i)(ge),xe=(0,t.useMemo)(()=>({id:re,hide:()=>{be(),ee.current&&ae(!1),fe==null||fe()}}),[re,be,fe]),Re=(0,t.useCallback)(()=>{be(),M.stopTracking(xe)},[xe,be]),je=(0,t.useCallback)(()=>{te||ye?ae(!0):De(S),he==null||he({isTruncated:Te}),M.track(xe)},[te,ye,he,Te,xe,De,S]),Ge=(0,t.useCallback)(()=>{Re(),pe&&(ae(!1),fe==null||fe())},[Re,pe,fe]),Qe=(0,t.useCallback)(yt=>{b.props.onKeyDown&&b.props.onKeyDown(yt),yt.which===r._f&&pe&&ye&&(yt.nativeEvent.stopImmediatePropagation(),yt.stopPropagation(),ae(!1))},[ae,pe,ye,b.props]),Xe=(0,t.useCallback)(yt=>{b.props.onMouseEnter&&b.props.onMouseEnter(yt),de(!0),pe||($.current=yt)},[b.props,pe]),et=(0,t.useCallback)(yt=>{b.props.onFocus&&b.props.onFocus(yt),ye&&_e(!0)},[b.props,ye]),rt=(0,t.useCallback)(yt=>{b.props.onMouseLeave&&b.props.onMouseLeave(yt),de(!1),$.current=void 0},[b.props]),it=(0,t.useCallback)(yt=>{b.props.onBlur&&b.props.onBlur(yt),_e(!1)},[b.props]);(0,t.useEffect)(i(function(){U.current||(U.current=(0,s.findDOMNode)(Z.current))},"syncChildDOMNodeRef")),(0,t.useEffect)(()=>{const yt=z.deref(),Mt=i(en=>{en.which===r._f&&Ge()},"hoverEscHide");if(yt)return se?(yt.addEventListener("keydown",Mt),()=>{yt.removeEventListener("keydown",Mt)}):()=>{yt.removeEventListener("keydown",Mt)}},[se,z,Ge]),(0,t.useEffect)(()=>(ee.current=!0,()=>{ee.current=!1}),[]),(0,l.A)(i(function(){let Mt=U.current;if(K!=null&&K.current&&(Mt=(0,s.findDOMNode)(K.current)),Ie&&Mt){const en=Ee,Tt=Mt.getClientRects();let xt=Tt[0];if($.current){const jt=$.current,_n=Array.from(Tt).find(ze=>jt.clientY>=ze.top&&jt.clientY<=ze.bottom&&jt.clientX>=ze.left&&jt.clientX<=ze.right);_n&&(xt=_n)}if(!xt)return;const bt=z.deref(),nn=bt?bt.scrollX||bt.pageXOffset:0,dn=bt?bt.scrollY||bt.pageYOffset:0,Xt={height:xt.height,width:xt.width,left:xt.left+nn,right:xt.right+nn,top:xt.top+dn,bottom:xt.bottom+dn};D(Xt,en)||Le(Xt)}},"maybeCalculateContentBounds"),[Ie,K]),(0,l.A)(i(function(){Ue&&Ie?je():Ge()},"showOrHideTooltip"),[Ue,Ie]);const lt=b.props["aria-label"],ot=(0,t.useMemo)(()=>lt===w||oe?u.t0:{"aria-describedby":pe?re:void 0},[lt,oe,pe,w,re]),Et=(0,t.useMemo)(()=>t.cloneElement(b,{...x,...b.props,...ot,onClick:ve||b.props.onClick,onFocus:et,onBlur:it,onKeyDown:Qe,onMouseEnter:Xe,onMouseLeave:rt,"data-sk":"tooltip_parent"}),[ot,b,it,ve,et,Qe,Xe,rt,x]),At=(0,t.useMemo)(()=>{if(j)return j;if(Ee)return Ee.width/2},[Ee,j]),Ot=(0,t.useMemo)(()=>({position:L,arrowOffset:At,status:X,className:F,"data-qa":J,maxWidth:me}),[J,me,L,X,F,At]),Rt=(0,t.useMemo)(()=>pe?t.createElement(c.AM,{isOpen:pe,position:L,targetBounds:Ee,overlayClassName:"c-popover c-popover--no-pointer",offsetX:q,offsetY:G,allowanceX:g,allowanceY:y,key:"tooltip-popover",zIndex:ne,shouldFocusAfterRender:!1,shouldFade:H,ariaHideApp:!1,tryOppositePosition:!0,id:re,ariaRole:"tooltip",dataAttributes:{qa:"tooltip-popover"},disableOverlaysContextProvider:!0},yt=>{let{position:Mt,top:en,left:Tt,targetBounds:xt}=yt;const bt=(0,n.A)(w)?w({hasKeyboardFocus:ye}):w;return t.createElement(_.A,A({},Ot,{position:Mt,tipBounds:we(en,Tt),targetBounds:xt}),bt)}):null,[pe,Ee,L,q,G,ne,H,w,ye,Ot,we,re]);return t.createElement(t.Fragment,null,t.createElement(d.V,{ref:Be},Et),Rt)});P.displayName="Tooltip";const k=P;Object.defineProperty({isElementTruncated:I,areBoundsEqual:D},"isElementTruncated",{get:()=>I,set:V=>{I=V}})},5184226701:(Q,C,e)=>{"use strict";e.d(C,{BD:()=>t,Cz:()=>r,LH:()=>d,LX:()=>o,T0:()=>n,UC:()=>s});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},n={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},s={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class d{constructor(l){this.ok=l.ok,this.invitee=l.email,this.inviteeType=n.Email,this.accessType=l.inviteType||t.Member,this.error=l.error}}i(d,"InviteResult");function o(a){return a===t.Member||a===t.MultiChannelGuest||a===t.SingleChannelGuest}i(o,"isBaseInviteType")},9536443280:(Q,C,e)=>{"use strict";e.d(C,{D:()=>t});var t;(function(n){n[n.available=0]="available",n[n.processing=1]="processing",n[n.none=2]="none"})(t||(t={}))},8178126019:(Q,C,e)=>{"use strict";e.d(C,{Ao:()=>o.k,FQ:()=>d.q,IU:()=>l,Jg:()=>s.G,RW:()=>n.jB,YB:()=>c,fe:()=>t.T,iV:()=>m,mF:()=>r.I,on:()=>a,qU:()=>n.Sv});var t=e(1614054140),n=e(4349526263),s=e(5216556985),r=e(8485081141),d=e(6515569951),o=e(2164700852);const a={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function l(_){return!!_&&!!_.channel}i(l,"isSharedChannelInvite");function m(_){return!!_&&!l(_)&&!c(_)}i(m,"isDirectMessageInvite");function c(_){return!!_&&!!_.shared_workspace}i(c,"isSharedWorkspaceInvite")},266169032:(Q,C,e)=>{"use strict";e.d(C,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal",workflowBuilderFreemiumTrialOfferModal:"unlimited_workflows_trial_offer_modal"}},7712314707:(Q,C,e)=>{"use strict";e.d(C,{V:()=>s});var t=e(8389327410);const{BROADCAST:n}=t.Lv,s=i(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextBroadcastElement")},475043867:(Q,C,e)=>{"use strict";e.d(C,{P:()=>s});var t=e(8389327410);const{CHANNEL:n}=t.Lv,s=i(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextChannelElement")},1843207890:(Q,C,e)=>{"use strict";e.d(C,{i:()=>s});var t=e(8389327410);const{DATE:n}=t.Lv,s=i(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextDateElement")},6659965705:(Q,C,e)=>{"use strict";e.d(C,{H:()=>s});var t=e(8389327410);const{USER:n}=t.Lv,s=i(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextUserElement")},9413477854:(Q,C,e)=>{"use strict";e.d(C,{G:()=>s});var t=e(8389327410);const{USERGROUP:n}=t.Lv,s=i(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextUsergroupElement")},1305633231:(Q,C,e)=>{"use strict";e.d(C,{A:()=>K});var t=e(6696292586),n=e(498506970),s=e(1835177371),r=e(8276911661),d=e(9101533895),o=e(8847766420),a=e(3037015781),l=e(9884588328),m=e(6495946979),c=e(9262712126),_=e(1407713935),p=e(5577180258),u=e(4282439381),h=e(6188550180),E=e(8389327410),A=e(8193414630),v=e(2756015265),f=e(972463850),g=e(4695291896),y=e(6345573615),T=e(8525228540);function M(x){if(x<=0)return"";let b="",z=x;for(;z>0;)z-=1,b=String.fromCharCode("a".charCodeAt(0)+z%26)+b,z=Math.floor(z/26);return b}i(M,"convertNumberToLetterIncrement");const O=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"];function I(x){if(x<=0)return"";const b=x.toString().split("");let z="";for(let U=2;U>=0;U--){const ee=parseInt(b.pop()||"0",10);z=(O[ee+U*10]||"")+z}const $=b.join("")||"0",Z=parseInt($,10)+1;return Array(Z).join("m")+z}i(I,"convertNumberToRomanNumeral");var D=e(735940183),P=e(3270010894),k=e(8983164438),R=e(6795568989),V=e(3695531806),B=e(2188787324),W=e(937317117),L=e(3574134525);const S=new D.Ay("channel_token"),H=new D.Ay("emoji"),w=i((x,b)=>b.text||"","textToText"),F=i((x,b)=>`@${b.range}`,"broadcastToText"),j=i((x,b)=>b.value||"","colorToText"),J=i((x,b,z)=>{let{linkFormat:$}=z;const{text:Z="",url:U=""}=b;if(!Z&&!U)return"";if(!Z)return U;switch($){case"default":return Z;case"prefer_url":return U;case"bracket":return`[ ${Z}: ${U} ]`;default:(0,A.Kh)($)}},"linkToText"),X=i((x,b)=>{const z=(0,r.nv)(x,b.user_id);return`@${(0,c.Gt)(z)||b.user_id}`},"userToText"),q=i((x,b)=>{const z=(0,s.lJ)(x,b.usergroup_id);if(z===!1)return(0,g.A)({userGroupHandle:"",isUnknown:!0,isNonExistent:!0});const $=(0,a.lv)(z);var Z;return(0,g.A)({userGroupHandle:$?"":(Z=z.handle)!==null&&Z!==void 0?Z:"",isUnknown:(0,a.mX)(z),isNonExistent:(0,a.lv)(z)})},"userGroupToText"),G=i((x,b)=>{const z=(0,d.OL)(x,b.channel_id);var $;const Z=($=(0,l.SB)(x,z,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}))!==null&&$!==void 0?$:"",U=(0,a.mX)(z),ee=(0,a.lv)(z),se=(0,_.Zp)(z),de=(0,m.b)(z);return ee||se&&!de?`#${S.t("private-channel")}`:(0,y.A)({channelName:Z,isUnknown:U,isNonExistent:ee})},"channelToText"),ne=i((x,b,z)=>{let{convertEmoji:$}=z;const Z=(0,h.A)(b,{state:x,localize:!1}),U=(0,T.bR)({state:x,locale:(0,D.Yp)(),name:Z});return $==="phrase"?(0,v.A)(U||"",{state:x})||"":$==="unicode"&&(b!=null&&b.unicode)&&(0,R.d)(b.unicode)?(0,V.z)({codePointLikeString:b.unicode})||"":$==="unicode"&&!(b!=null&&b.unicode)?(0,f.A)(x,{messageText:Z,teamId:(0,o.ZT)(x)}):U??""},"emojiToText"),te=i((x,b)=>{const z=(0,W.Lp)(x,b.file_id);return(0,B.SB)(z)||b.file_id},"fileToText"),le=i((x,b,z)=>{let{convertEmoji:$}=z;const Z=(0,h.A)({...b,type:E.Lv.EMOJI},{state:x,localize:!1}),U=(0,T.bR)({state:x,locale:(0,D.Yp)(),name:Z});if($==="phrase"){var ee;return(ee=(0,v.U)(U||"",b.size||0,{state:x}))!==null&&ee!==void 0?ee:""}var se;const de=(se=$==="unicode"?(0,f.A)(x,{messageText:Z,teamId:(0,o.ZT)(x)}):U)!==null&&se!==void 0?se:"";return(0,u.x)(x)?H.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:de,size:b.size}):`${b.size} ${de} emojis`},"emojiGroupToText"),he=i((x,b)=>!b.timestamp&&b.fallback?b.fallback:(0,P.Yq)(b.timestamp,b.format,{...b.fallback&&{fallbackString:b.fallback}}),"dateToText"),fe=i((x,b)=>{const z=x.workflowBuilder.workflowEditor.variables.list,$=(0,L.x)(z,b.id);return $?`@${$.label}`:b.id},"workflowTokenToText"),ve={[E.Lv.TEXT]:w,[E.Lv.USER]:X,[E.Lv.USERGROUP]:q,[E.Lv.CHANNEL]:G,[E.Lv.BROADCAST]:F,[E.Lv.DATE]:he,[E.Lv.COLOR]:j,[E.Lv.LINK]:J,[E.Lv.EMOJI]:ne,[E.Lv.FILE]:te,[E.Lv.CANVAS]:te,[E.Lv._EMOJI_GROUP]:le,[E.Lv.WORKFLOWTOKEN]:fe};function me(x){let{indent:b}=x;return!(0,t.A)(b)||b%3===0?"\u2022":b%3===1?"\u25E6":b%3===2?"\u25A0":"\u2022"}i(me,"getUnorderedListCharacter");function oe(x){let{indent:b,incr:z}=x;return!(0,t.A)(b)||b%3===0?z:b%3===1?M(z):b%3===2?I(z):z}i(oe,"getOrderedListCharacter");function N(x,b){return(0,u.x)(x)?(0,p.A)((0,n.A)(b)):b}i(N,"maybeGroupEmojies");function K(x,b){let{convertEmoji:z="text",linkFormat:$="default"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!b||!b.length)return"";const Z=i(se=>{if(!se||!se.elements)return"";const de=[];return se.elements.forEach(ue=>{if(!ue||!ue.type)return;const _e=ve[ue.type];var pe;const ae=(pe=_e==null?void 0:_e(x,ue,{convertEmoji:z,linkFormat:$}))!==null&&pe!==void 0?pe:"";de.push(ae)}),de.join("")},"convertSection"),U=[];return N(x,b[0].elements).forEach(se=>{if(!(!se||!se.type))if((0,k.C)(se)){const de=se.offset||0,ue=se.indent||0;let _e=1+de;se.elements.forEach(pe=>{const ae=Z(pe);if(se.style==="ordered"){const Ee=oe({indent:ue,incr:_e});U.push(`${Ee}. ${ae}.`),_e+=1}else{const Ee=me({indent:ue});U.push(`${Ee} ${ae}.`)}})}else U.push(Z(se))}),U.join(`
`)}i(K,"convertRichTextToPlainText")},6188550180:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8389327410),n=e(8525228540),s=e(735940183),r=e(3829348308),d=e(6795568989);function o(a,l){let{state:m,localize:c}=l;if(!a||a.type!==t.Lv.EMOJI)return"";const _=a.skinTone||a.skin_tone,p=a.unicode;let u;return!p&&_?u=`:${a.name}::skin-tone-${_}:`:!_&&!p?u=`:${a.name}:`:p&&(0,d.d)(p)&&(u=`:${(0,r.qJ)(m,p)}:`),c?(0,n.bR)({state:m,locale:(0,s.Yp)(),name:u})||"":u}i(o,"getEmojiElementAsText")},9802930866:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(7715417323),n=e(8389327410);function s(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return r?r.reduce((a,l)=>{if(l.type===n.Lv.LIST){const c=(l.elements||[]).map(_=>_.elements.reduce((p,u)=>o(p,u),d));return a.concat(c)}const m=(l.elements||[]).reduce((c,_)=>o(c,_),d);return a.concat([m])},[]):[]}i(s,"richTextChunkReduce")},411655882:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(362134992),n=e(9671714094),s=e(8933111773);function r(){return(0,t.A)(Object.entries(n.N).filter(d=>{let[o,a]=d;return a.is_enabled_by_default}).map(d=>{let[o,a]=d;return(0,s.A)(o)}))}i(r,"getAllBroadcastKeywords")},2229186:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(362134992),n=e(9101533895),s=e(6113051341),r=e(1407713935),d=e(2350349607),o=e(9884588328),a=e(641827819),l=e(324756633),m=e(8933111773),c=e(2233365467),_=e(1190344069),p=e(9548888903),u=e(9280052135),h=e(3339229351);function E(A,v){const f=(0,n.OL)(A,v),g=(0,u.l)(A);if(!f)return[];const y=[];if((0,a.W)(A,v)&&y.push((0,m.A)("BKeveryone")),((0,d.V)(f)||(0,r.yz)(f))&&(!(0,s.N)(f)||(0,a.W)(A,v))&&(0,l.S)(A,v)&&(y.push((0,m.A)("BKchannel")),y.push((0,m.A)("BKhere"))),(0,_.hm)(A)&&(0,r.U_)(f))switch((0,c.dM)(f)){case p.hM.Account:y.push((0,m.A)("BKsf:accountteam",(0,o.SB)(A,f),!0));break;case p.hM.Opportunity:y.push((0,m.A)("BKsf:dealteam",(0,o.SB)(A,f),!0));break;default:break}if(g){const T=(0,n.Pu)(A,h.Q$);(f==null?void 0:f.id)===(T==null?void 0:T.id)&&y.push((0,m.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(y)}i(E,"getBroadcastKeywordsForUser")},3342113153:(Q,C,e)=>{"use strict";e.d(C,{Kx:()=>u,Zo:()=>E,_E:()=>A,cv:()=>h,gi:()=>m,zU:()=>c});var t=e(735940183),n=e(9101533895),s=e(1835177371),r=e(8276911661),d=e(4761125736),o=e(5605150493);const a=new t.Ay("channel_modal"),l=new t.Ay("ui_validation"),m={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1,hasUnknownWarning:!1,hasRestriction:!1};function c(){return 80}i(c,"getMaxLength");const _=/[ .,;'`~!@#$%^&*+=)(\\/:"<>?|\u2018\u2019{}[\]]/;function p(v){return v?_.test(v.trim()):!1}i(p,"hasSpecialCharacters");function u(v){return v?v.replace(new RegExp(_,"g"),""):""}i(u,"replaceSpecialCharacters");function h(v){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:80,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const M=!f.trim(),O=(0,o.A)(f)>y,I=p(f),D=/^[-|_]+$/.test(f),P=/[A-Z]/.test(f);let k=!1;return f!==g&&v&&!T&&(k=!!((0,n.Os)(v,f)||(0,r.MV)(v,f)||(0,s.xw)(v,f))),{hasNameRequiredWarning:M,hasMaxLengthWarning:O,hasSpecialsWarning:I,hasPunctuationWarning:D,hasLowercaseWarning:P,hasNameTakenWarning:k}}i(h,"channelNameValidation");function E(v){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxChannelNameLength:g,workspaceName:y,experimentFriendlyChannelNamesGroupOn:T}=f;if(v){if(v.hasNameRequiredWarning)return a.t("Give your channel a name to continue. You can always change the name later.");if(v.hasMaxLengthWarning)return l.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:g});if(v.hasSpecialsWarning)return T?a.t("Channel names can\u2019t contain the punctuation you included."):a.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(v.hasPunctuationWarning)return a.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(v.hasNameTakenWarning)return y?l.t("That name is already taken by a channel, username, or user group in {workspaceName}.",{workspaceName:y}):a.t("That name is already taken by a channel, username, or user group in this workspace.");if(v.hasRestriction)return a.t("Your organization\u2019s settings have changed and may limit who can create channels. Contact an Admin or channel Owner to add people.");if(v.hasUnknownWarning)return a.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}i(E,"getErrorStringFromChannelNameErrors");const A=i(v=>(0,d._Z)(v,"friendly_channel_names")==="on","isFriendlyChannelNamesEnabled")},755982243:(Q,C,e)=>{"use strict";e.d(C,{w:()=>s});var t=e(3193155968);function n(r){var d;return(d=r.ownerDocument)===null||d===void 0?void 0:d.defaultView}i(n,"getWindowForElement");function s(r){return!t.TQ.includes(r)}i(s,"shouldViewNavigateInContext")},1236965385:(Q,C,e)=>{"use strict";e.d(C,{$A:()=>o,ce:()=>d,hO:()=>s});var t=e(3134334389),n=e(6244014364);const s=i(a=>({action:n.UiAction.IMPRESSION,uiPage:window.location.href,...a}),"getAuthImpressionTrackParams"),r=i(a=>({action:n.UiAction.CLICK,uiPage:window.location.href,...a}),"getAuthClickTrackParams"),d=i(a=>({uiPage:window.location.href,...a}),"getAuthTrackParams");function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const l=(0,t.useRef)(null),m=(0,t.useCallback)(p=>u=>{if(l.current={track:u},a){var h;l==null||(h=l.current)===null||h===void 0||h.track(s(p))}},[l,a]),c=(0,t.useCallback)(p=>()=>{var u;l==null||(u=l.current)===null||u===void 0||u.track(r(p))},[l]),_=(0,t.useCallback)(p=>()=>{var u;l==null||(u=l.current)===null||u===void 0||u.track(d(p))},[l]);return{trackClog:l,trackClogAuthRef:m,clogAuthLoginClick:c,clogAuthLoginAction:_}}i(o,"useAuthClogger")},6089229811:(Q,C,e)=>{"use strict";e.d(C,{LC:()=>n,av:()=>s,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},n={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},s=20},3246555800:(Q,C,e)=>{"use strict";e.d(C,{FL:()=>a,HC:()=>h,Je:()=>p,KV:()=>E,L$:()=>m,P7:()=>_,RL:()=>c,Y3:()=>d,b6:()=>l,jM:()=>A,zb:()=>o});var t=e(6089229811),n=e(8086952004);function s(v,f,g,y){if(g&&y){var T,M;return v==null||(T=v[f])===null||T===void 0||(M=T.regional_overrides)===null||M===void 0?void 0:M[g]}return v==null?void 0:v[f]}i(s,"getTaxConfig");function r(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(v,f,g,y);var M;return(M=T==null?void 0:T.tax_id_form_variant)!==null&&M!==void 0?M:t.ev.NONE}i(r,"getTaxUiFormType");function d(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return r(v,f,g,y)===t.ev.EXTENSIVE}i(d,"shouldShowMultipartTaxUI");function o(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=r(v,f,g,y);return T===t.ev.EXTENSIVE||T===t.ev.OPTIONAL_ID_ONLY||T===t.ev.OPTIONAL_AND_REGIONAL_IDS}i(o,"shouldShowTaxIdInputField");function a(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return r(v,f,g,y)===t.ev.OPTIONAL_AND_REGIONAL_IDS}i(a,"shouldCollectRegionalTaxId");function l(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=r(v,f,g,y);return T===t.ev.OPTIONAL_ID_ONLY||T===t.ev.OPTIONAL_AND_REGIONAL_IDS}i(l,"isTaxIdOptional");function m(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(v,f,g,y);var M;return(M=T==null?void 0:T.stripe_tax_id_type)!==null&&M!==void 0?M:null}i(m,"getTaxIdType");function c(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(v,f,g,y);return T==null?void 0:T.tax_name}i(c,"getTaxName");function _(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(v,f,g,y);var M;const O=(M=T==null?void 0:T.tax_id_max_length)!==null&&M!==void 0?M:0;return Number.isInteger(O)&&O>0?O:t.av}i(_,"getTaxIdMaxLength");function p(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(v,f,g,y);var M;const O=(M=T==null?void 0:T.tax_id_examples)!==null&&M!==void 0?M:[];var I;return(I=O[0])!==null&&I!==void 0?I:""}i(p,"getTaxIdExample");function u(v,f,g,y){var T;const M=s(v,f,g,y),O=M==null||(T=M.tax_id_validation_regex)===null||T===void 0?void 0:T.replace(/\//g,"");return O?new RegExp(O,"i"):null}i(u,"getTaxIdValidator");function h(v,f,g,y){let T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const M=u(v,f,g,T);return!M||!y&&l(v,f,g,T)?!0:y&&M?M.test(y):!1}i(h,"isTaxIdValid");function E(v,f,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(v,f,g,y);return!!(T!=null&&T.should_ask_is_vat_registered)}i(E,"shouldAskIsVatRegistered");function A(v,f){return(0,n.A)(v,g=>g.iso_code===f)}i(A,"getCountryByCode")},9293534148:(Q,C,e)=>{"use strict";e.d(C,{AH:()=>y,Fz:()=>k,HJ:()=>P,WR:()=>g,ef:()=>v,jA:()=>p,rO:()=>D,sJ:()=>f,zB:()=>_});var t=e(3783303734),n=e(796111729),s=e(5613323535),r=e(4327331459);const d=200,o=(0,n.Wo)();let a=[];const l=i(R=>{(0,t.A)(a)>d&&(o.error("composer-tracing-utils: sentTimestamps exceeded maximum array size"),a=[]),a.push(R)},"addSentTimestamps"),m=i(R=>{a=a.filter(V=>V!==R)},"removeSentTimestamps"),c=i(R=>a.indexOf(R)>-1,"hasSentTimestamps"),_=i((R,V)=>{c(R)||(l(R),s.LI.start({label:s.gC.MessageSendRendering,id:R,options:{traceName:s.gC.MessageSendRendering,teamId:V}}))},"maybeStartMessageRenderSlugAutoTrace"),p=i(R=>{c(R)&&(m(R),s.LI.stop({label:s.gC.MessageSendRendering,id:R}))},"maybeStopMessageRenderSlugAutoTrace");let u=[];const h=i(R=>{(0,t.A)(u)>d&&(o.error("composer-tracing-utils: slugIds exceeded maximum array size"),a=[]),u.push(R)},"addSlugId"),E=i(R=>{u=u.filter(V=>V!==R)},"removeSlugId"),A=i(R=>u.indexOf(R)>-1,"hasSlugId"),v=i(R=>{A(R)||(h(R),s.LI.start({label:s.gC.ComposerEmojiRendering,id:R,options:{traceName:s.gC.ComposerEmojiRendering}}))},"maybeStartEmojiSlugAutoTrace"),f=i(R=>{A(R)&&(E(R),s.LI.stop({label:s.gC.ComposerEmojiRendering,id:R}))},"maybeStopEmojiSlugAutoTrace"),g=i(R=>{if(!A(R)){h(R);const V=(0,r.A)(R)?s.gC.ComposerMentionRendering:s.gC.ComposerChannelRendering;s.LI.start({label:V,id:R,options:{traceName:V}})}},"maybeStartMentionSlugAutoTrace"),y=i(R=>{if(A(R)){E(R);const V=(0,r.A)(R)?s.gC.ComposerMentionRendering:s.gC.ComposerChannelRendering;s.LI.stop({label:V,id:R})}},"maybeStopMentionSlugAutoTrace");let T=[];const M=i(R=>{(0,t.A)(T)>d&&(o.error("composer-tracing-utils: matchIds exceeded maximum array size"),T=[]),T.push(R)},"addMatchId"),O=i(R=>{T=T.filter(V=>V!==R)},"removeMatchId"),I=i(R=>T.indexOf(R)>-1,"hasMatchId"),D=i((R,V,B)=>{I(R)||(M(R),s.LI.start({label:s.gC.ComposerAutocompleteRender,id:R,options:{traceName:s.gC.ComposerAutocompleteRender,tags:{type:V},teamId:B}}))},"maybeStartAutocompleteMatchRenderTrace"),P=i(R=>{I(R)&&(O(R),s.LI.stop({label:s.gC.ComposerAutocompleteRender,id:R}))},"maybeStopAutocompleteMatchRenderTrace"),k=i(R=>{I(R)&&(O(R),s.LI.remove({label:s.gC.ComposerAutocompleteRender,id:R}))},"maybeCancelAutocompleteMatchRenderTrace")},3044566667:(Q,C,e)=>{"use strict";e.d(C,{gy:()=>n,tN:()=>s,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},n="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",s={EMAIL:new RegExp(`^${n}$`,"i"),CONTAINS_EMAIL:new RegExp(`${n}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},2756015265:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,U:()=>l});var t=e(735940183),n=e(5799716058),s=e(8525228540),r=e(9907843289),d=e(4282439381);const o=new t.Ay("emoji");function a(c,_){const p=(0,t.Yp)();return(0,s.WX)({state:c,locale:p,text:_})}i(a,"getLocalizedEmojiName");function l(c,_,p){let{state:u}=p;const h=a(u,c),E=(0,d.x)(u),A=h&&(0,n.Y)(h,_,E);return h?(0,r.DU)()?A:` ${A} `:E?o.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:c,size:_}):`${_} ${c} emojis`}i(l,"convertEmojiGroupNameToPhrase");function m(c,_){let{state:p}=_;const u=a(p,c),h=u&&(0,n.A)(u);return u?(0,r.DU)()?h:` ${h} `:c}i(m,"convertEmojiNameToPhrase")},3982736577:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3078252698),n=e(3740968700),s=e(362134992);const d=i(o=>{if(!(0,t.A)(o))return null;const a=[...o].map(l=>{const m=l.codePointAt(0);if(!m)return null;const c=m.toString("16");return(0,n.A)(c,4,"0")});return(0,s.A)(a).join("-")},"convertNativeEmojiToUnicodeSequence")},6818330210:(Q,C,e)=>{"use strict";e.d(C,{H:()=>s});var t=e(9113979368),n=e(9936232041);function s(r,d){if(!d||(0,t.A)(d))return{name:r};const o=(0,n.A)(r);if(!o)return{name:r};const{name:a,skinTone:l}=o,m=d[a];if(!m||(0,t.A)(m))return{name:r};const c=m.display_alias,_=c??a,p=l?`:${_}::skin-tone-${l}:`:`:${_}:`,u=m.display_url;return{name:p,url:u}}i(s,"getEmojiDisplayInfoFromMap")},2354051480:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3339229351);let n;const s=i(()=>{if(n)return n;const r=Object.keys(t.dq).map(d=>d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return n=new RegExp(`(^|\\s)(${r.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),n},"__WEBPACK_DEFAULT_EXPORT__")},7854655276:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3078252698),n=e(735940183);const s=new n.Ay("emoji");function r(d){const o=(0,t.A)(d)?d:d.toString(),a={1:()=>s.t("No skin tone"),2:()=>s.t("light skin tone"),3:()=>s.t("medium-light skin tone"),4:()=>s.t("medium skin tone"),5:()=>s.t("medium-dark skin tone"),6:()=>s.t("dark skin tone")},l={"2-3":()=>s.t("left light skin tone and right medium-light skin tone"),"2-4":()=>s.t("left light skin tone and right medium skin tone"),"2-5":()=>s.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>s.t("left light skin tone and right dark skin tone"),"3-2":()=>s.t("left medium-light skin tone and right light skin tone"),"3-4":()=>s.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>s.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>s.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>s.t("left medium skin tone and right light skin tone"),"4-3":()=>s.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>s.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>s.t("left medium skin tone and right dark skin tone"),"5-2":()=>s.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>s.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>s.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>s.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>s.t("left dark skin tone and right light skin tone"),"6-3":()=>s.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>s.t("left dark skin tone and right medium skin tone"),"6-5":()=>s.t("left dark skin tone and right medium-dark skin tone")},m=l[o]?l[o]():null;return m||a[o]&&a[o]()}i(r,"__WEBPACK_DEFAULT_EXPORT__")},1301184890:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6533394955),n=e(3829348308);function s(r,d){const o=d&&(0,t.getStateByTeamId)(d);return o&&(0,n.ux)(o,{text:r,teamId:d})?o&&(0,n.pA)(o,{text:r,teamId:d}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${r}`)}i(s,"isEmojiMultiSkinToneCapable")},5799716058:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a,Y:()=>o});var t=e(735940183),n=e(9936232041),s=e(7854655276);const r=/_|-/g,d=new t.Ay("emoji"),o=i(function(l,m){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!l||!m)return null;const{name:_,skinTone:p}=(0,n.A)(l)||{};if(!_)return c?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:l,size:m}):`${m} ${l} emojis`;const u=_.replace(r," "),h=c?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:u,size:m}):`${m} ${u} emojis`;if(!p)return h;const E=(0,s.A)(p);return E===""?h:c?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:u,size:m,skinToneDescription:E}):`${m} ${u} emojis with ${E}`},"makePhraseForEmojiGroup");function a(l){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!l)return l;const{name:c,skinTone:_}=(0,n.A)(l)||{};if(!c)return l;const p=c.replace(r," "),u=d.t("{emojiPhrase} emoji",{emojiPhrase:p});if(!_)return u===""?p:u;const h=(0,s.A)(_);return h===""?u===""?p:u:m?d.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:p,skinToneDescription:h}):d.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:p,skinToneDescription:h})}i(a,"__WEBPACK_DEFAULT_EXPORT__")},3259512346:(Q,C,e)=>{"use strict";e.d(C,{s:()=>s});var t=e(6089972488),n=e(571104883);function s(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.process&&window.process.versions&&window.process.versions.electron,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.navigator.userAgent;if(!(0,n.y3)(o)||!d)return!1;const a=(0,t.P)(r),l=(0,t.P)(d);return(0,t.Z)(l,a)>=0}i(s,"isElectronAndAtLeastVersion")},665229739:(Q,C,e)=>{"use strict";e.d(C,{U:()=>s});var t=e(4761125736);const n="files_explorer_prototype";function s(r){return(0,t._Z)(r,n)==="on"}i(s,"isFilesExplorerPrototypeEnabled")},6212362990:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,h:()=>s});const t=/^p?(\d{10})\.?(\d{6})$/;function n(r){return!r||!t.test(r)?null:r.replace(t,"$1.$2")}i(n,"formatMessageTimestamp");function s(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();if(!r)return null;const d=String((+r/1e3).toFixed(6));return n(d)}i(s,"getFormattedMessageTimestamp")},1033764764:(Q,C,e)=>{"use strict";e.d(C,{UK:()=>l,Z$:()=>r,hZ:()=>o});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],s=i(function(c,_,p){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(c===0)return 0;if(_===p)return parseFloat(c.toFixed(u));const E=h?1024:1e3,A=h?t:n,v=A.findIndex(g=>g.toLowerCase()===_.toLowerCase()),f=A.findIndex(g=>g.toLowerCase()===p.toLowerCase());if(v===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);if(f===-1)throw new Error(`Unknown desiredType '${p}' passed to convertToSize`);return v<f?parseFloat((c/E**(f-v)).toFixed(u)):parseFloat((c*E**(v-f)).toFixed(u))},"convertToSize"),r=i(function(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(c===0)return{size:0,type:"B"};const h=u?1024:1e3,E=u?t:n;let A=Math.log(c)/Math.log(h);A<1&&(A=-Math.floor(Math.log(Math.abs(A))/Math.log(10)+1));const v=E.findIndex(g=>g.toLowerCase()===_.toLowerCase()),f=Math.max(Math.min(v+Math.floor(A),E.length-1),0);if(v===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);return{size:s(c,_,E[f],p,u),type:E[f]}},"convertToOptimumSize"),d=i(function(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(c,"B","KB",_,!1)},"convertBytesToKilobytes"),o=i(function(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(c,"B","MB",_,!1)},"convertBytesToMegabytes"),a=i(function(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(c,"B","GB",_,!1)},"convertBytesToGigabytes"),l=i(function(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(c,"KB","MB",_,!1)},"convertKilobytesToMegabytes"),m=i(function(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(c,"KB","GB",_,!1)},"convertKilobytesToGigabytes")},6333950786:(Q,C,e)=>{"use strict";e.d(C,{A:()=>L});var t=e(6249041335),n=e(5342516244),s=e(1842363787),r=e(8847766420),d=e(6533394955),o=e(2047021170),a=e(6866036454),l=e(1317368584),m=e(3829348308),c=e(735940183),_=e(9846149684),p=e(8207536819),u=e(4862221402),h=e(8040098042),E=e(2414816894),A=e(1707481146),v=e(6106767915);function f(S,H,w){const F=[];return{text:S.replace(_.Y,(J,X,q)=>{let G;if((0,E.A)(X)?G=`<!${(0,v.A)(X)}>`:(0,A.A)(X)?G=H?(0,p.A)(q):q:(0,u.A)(X)?G=`<!subteam^${X}|${q}>`:(0,h.A)(X)?G=w?`<#${X}|${q.substr(1)}>`:void 0:G=`<@${X}>`,!G)return J;const te=`mention-${F.length+1}-${Date.now()}`;return F.push({mention:G,placeholder:te}),te}),mentions:F}}i(f,"replaceFormatMentions");const g=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function y(S){const H=[];let w=0;return{text:S.replace(g,j=>{w+=1;const J=`quoted-text-placeholder-${Date.now()}-${w}`;return H.push({match:j,placeholder:J}),J}),quotedSections:H}}i(y,"replaceQuotedText");var T=e(2354051480),M=e(3339229351);const O=/[-[\]{}()*+?.,\\^$|#\s]/g,I=/\n?(6\)|7\))/,D=i(S=>{let H=0;const w=[];let F=S.replace((0,T.A)(),(j,J,X,q)=>{const G=H;H=q+j.length;const ne=X.indexOf("(")!==-1,te=X.indexOf(")")!==-1;if((ne||te)&&w.indexOf(X)===-1&&w.push(X),te&&!ne){const le=S.substring(G,q);if(le.indexOf("(")!==-1&&le.indexOf(")")===-1)return j}if(j===`
8)`){const le=S.substring(0,q);if(I.test(le))return j}return M.dq[X]?`${J}:${M.dq[X]}:`:j});if(w.length){const j=w.map(X=>X.replace(O,"\\$&")),J=new RegExp(`(\\(.+)(${j.join("|")})(.+\\))`,"g");F=F.replace(J,(X,q,G,ne)=>M.dq[G]?`${q}:${M.dq[G]}:${ne}`:X)}return F},"replace_emoticons_with_colons");var P=e(8525228540),k=e(9421999304),R=e(4797500022),V=e(9599231336);const B=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,W=/(^|\S)( +)(\n|$)/gm;function L(S,H){let{isInternalMessage:w}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S||!H)return"";const F=!w,j=(0,l.A)(S),J=(0,o.ty)(S,"convert_emoticons"),X=(0,a.A)(S),q=(0,V.P)(S),G=!0;let ne=H,te=[];ne=(0,n.A)(ne),ne=(0,s.kW)(te,ne,{replace_pre:!0,replace_code:!0});const le=f(ne,F,G);if(ne=le.text,ne=ne.replace(W,"$1$3"),J&&!q){const fe=y(ne);ne=fe.text,ne=D(ne),fe.quotedSections.forEach(ve=>{ne=ne.replace(ve.placeholder,()=>ve.match)})}if(F&&(ne=(0,s.wx)(ne,"CLEAN",{jumbomoji:j,allow_intra_word_formatting:!0})),le.mentions.forEach(fe=>{ne=ne.replace(fe.placeholder,()=>fe.mention)}),!c.EZ){const fe=(0,r.ZT)(S);ne=(0,d.dispatchForTeamId)(fe,(0,P.Z_)({text:ne,locale:(0,k.JK)()}))}const he=(0,m.CK)(S);return te=te.map(fe=>{const ve={...fe},me=(0,_.A)(ve.str,{highlightWords:X,shouldRenderEmojiAsText:q,emojiNames:he,locale:(0,c.Yp)(),useChannelTagging:G});return ve.str=(0,R.A)(me),F&&(ve.str=(0,s.wx)(ve.str,"CLEAN",{jumbomoji:j,allow_intra_word_formatting:!0})),ve}),ne=(0,s.Ki)(te,ne),(0,t.A)(ne)}i(L,"clean_message_text_with_state")},6380257921:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8933111773),n=e(770649013);function s(r){let{type:d,tsfMode:o="NORMAL"}=r;if(!d)return null;let a;return d==="group"?a="group":a=(0,n.A)((0,t.A)(`BK${d}`)),o==="EDIT"?`<@BK${d}|@${a}>`:`@${a}`}i(s,"formatBroadcastCommand")},972463850:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3297051565),n=e.n(t),s=e(647040695),r=e(3829348308);const d=i(function(a){let{messageText:l,teamId:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!l||!m)return"";const c=(0,s.A)();return l.replace(c,_=>{const p=(0,r.Zc)(a,{text:_,teamId:m});return p||_})},"replaceTextEmojiWithNative"),o=d;d.propTypes={messageText:n().string,teamId:n().string}},5342516244:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});const t=i(n=>n?n.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},3802883493:(Q,C,e)=>{"use strict";e.d(C,{TU:()=>s});const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=10;function s(c,_){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(c!==null&&m(c,p,u),_!==null&&m(_,p,u),c!==null&&_!==null&&c>=_)throw new Error(`${c} >= ${_}`);if(c===null){if(_===null){const T=5*10**(u-1);return a(T,u)}const y=o(_,u);return y.toString()<_&&_.slice(u+1)!==""?a(y,u):a(y-1,u)}if(_===null){const y=o(c,u);return a(y+1,u)}const h=o(c,u),E=o(_,u),A=c.slice(u+1),v=_.slice(u+1);if(h===E){const y=d(A,v,p);return`${a(h,u)}.${y}`}const f=h+1;if(f<E)return a(f,u);const g=d(A,null,p);return`${a(h,u)}.${g}`}i(s,"generateKeyBetween");function r(c,_,p){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:n;if(p===0)return[];if(p===1)return[s(c,_,u,h)];if(_===null){let v=s(c,_,u,h);const f=[v];for(let g=0;g<p-1;g++)v=s(v,_,u,h),f.push(v);return f}if(c===null){let v=s(c,_,u,h);const f=[v];for(let g=0;g<p-1;g++)v=s(c,v,u,h),f.push(v);return f.reverse(),f}const E=Math.floor(p/2),A=s(c,_,u,h);return[...r(c,A,E,u,h),A,...r(A,_,p-E-1,u,h)]}i(r,"generateNKeysBetween");function d(c,_,p){const u=p[0];if(_!==null&&c>=_)throw new Error(`${c} >= ${_}`);if(c.slice(-1)===u||_&&_.slice(-1)===u)throw new Error("trailing zero");if(_){let A=0;for(;(c[A]||u)===_[A];)A+=1;if(A>0)return _.slice(0,A)+d(c.slice(A),_.slice(A),p)}const h=c?p.indexOf(c[0]):0,E=_!==null?p.indexOf(_[0]):p.length;if(E-h>1){const A=Math.round(.5*(h+E));return p[A]}return _&&_.length>1?_.slice(0,1):p[h]+d(c.slice(1),null,p)}i(d,"midpoint");function o(c,_){const p=c.slice(0,_);return Number(p)}i(o,"getIntegerPart");function a(c,_){if(c>=10**_)throw new Error(`Integer overflow at ${c} for fixed length ${_}`);if(c<0)throw new Error(`Integer underflow at ${c} for fixed length ${_}`);return c.toString().padStart(_,"0")}i(a,"formatInteger");function l(c,_){const p=c.length;if(p<_)throw new Error("Invalid integer portion, length too short");if(p===_){const u=c.indexOf(".");if(u>=0)throw new Error(`Unexpected . at position ${u} in string of exact length ${_}`);const h=Number(c);if(isNaN(h))throw new Error(`Invalid integer portion - not a valid integer ${c}`)}else if(c[_]!==".")throw new Error(`Expected . after int_fixed length ${_} and got ${c[_]}`)}i(l,"validateIntegerLength");function m(c,_,p){if(l(c,p),p!==c.length&&c.slice(p).endsWith(_[0]))throw new Error(`Fractional portion must not end with ${_[0]}`)}i(m,"validateOrderKey")},3256698098:(Q,C,e)=>{"use strict";e.d(C,{_i:()=>r});function t(o,a,l,m){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=[m.x-a.x,m.y-a.y],p=[l.x-a.x,l.y-a.y],u=[o.x-a.x,o.y-a.y],h=_[0]*_[0]+_[1]*_[1],E=_[0]*p[0]+_[1]*p[1],A=_[0]*u[0]+_[1]*u[1],v=p[0]*p[0]+p[1]*p[1],f=p[0]*u[0]+p[1]*u[1],g=1/(h*v-E*E),y=(v*A-E*f)*g,T=(h*f-E*A)*g;return y>=-c&&T>=-c&&y+T<1+c}i(t,"isPointInTriangle");function n(o,a,l){const m=(l.x-a.x)**2+(l.y-a.y)**2,c=((o.x-a.x)*(l.x-a.x)+(o.y-a.y)*(l.y-a.y))/m;return c<0?(o.x-a.x)**2+(o.y-a.y)**2:c<=1?(a.x-o.x)**2+(a.y-o.y)**2-c**2*m:(o.x-l.x)**2+(o.y-l.y)**2}i(n,"distanceSquarePointToSegment");function s(o,a,l,m){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=Math.min(a.x,Math.min(l.x,m.x))-c,p=Math.max(a.x,Math.max(l.x,m.x))+c,u=Math.min(a.y,Math.min(l.y,m.y))-c,h=Math.max(a.y,Math.max(l.y,m.y))+c;return o.x>_&&o.x<p&&o.y>u&&o.y<h}i(s,"pointInTriangleBoundingBox");function r(o,a,l,m){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!s(o,a,l,m,c))return!1;const _=c**2;return t(o,a,l,m,0)||n(o,a,l)<=_||n(o,l,m)<=_||n(o,m,a)<=_}i(r,"accurateIsPointInTriangle");var d={accurateIsPointInTriangle:r,isPointInTriangle:t}},2595238443:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(1516013259),n=e(2774532222);const s=i(r=>(0,t.A)(r,(d,o)=>(0,n.A)(o,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},1596328926:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(1516013259),n=e(2774532222);function s(r){return(0,t.A)(r,(d,o)=>(0,n.A)(o,"data-"))}i(s,"getDataProps")},8556787853:(Q,C,e)=>{"use strict";e.d(C,{Ac:()=>u,Ay:()=>_,lF:()=>p});var t=e(9706240641),n=e.n(t),s=e(7174777686),r=e(2047021170),d=e(2364576462),o=e(3339229351),a=e(6839188756),l=e(3677514771),m=e(9397223697);const c=i((h,E,A)=>{const v=A?h*2:h,f=A?E*2:E,y=v>o.QI||f>o.Jo?Math.min(o.QI/v,o.Jo/f):1,T=Math.floor(v*y),M=Math.floor(f*y);return{width:T,height:M}},"getConstrainedMediaDimensions");function _(h){let{url:E,width:A,height:v,rotate:f,renderSvg:g,stopAnimations:y,sizeForRetina:T,convertIco:M,isEmoji:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!E)return null;const I=(0,a.Uz)((0,l.H7)(h));if(!I||E.indexOf(I)===0||E.indexOf("/img/")===0)return E;if(E.indexOf("https://")===0&&!O){const B=(0,d.yz)(E,!0),W=(0,m.QL)();if((0,s.A)(W,B)){if(y&&B==="slack-imgs.com"){const L=new URL(E),S=L.searchParams.has("o1")?`${L.searchParams.get("o1")}.gu`:"gu";return L.searchParams.set("o1",S),L.href}return E}}const D=new URL(I);D.searchParams.set("c",o.lW);const{width:P,height:k}=A&&v?c(A,v,T):{},R=[];return P&&k&&(R.push(`wi${P}`),R.push(`he${k}`),R.push("si")),f&&R.push("ro"),g&&R.push("sv2"),(y||!(0,r.ty)(h,"a11y_animations"))&&R.push("gu"),M&&R.push("ip"),R.length&&D.searchParams.set("o1",R.join(".")),D.searchParams.set("url",E),D.href}i(_,"getImgProxyUrl");const p=function(){var h=(0,t.coroutine)(function*(E){const A=new URL(E);try{return!!(yield fetch(`https://${A.hostname}/?url=${A.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(v){if(v)return!1}return!1});return i(function(A){return h.apply(this,arguments)},"isImageAnimated")}(),u=i(h=>h.replace(".gu",""),"getAnimatedImgUrl")},8257102208:(Q,C,e)=>{"use strict";e.d(C,{$q:()=>a,W4:()=>c});var t=e(8234448831),n=e(937317117),s=e(2188787324),r=e(497761763),d=e(7102510068),o=e(5244168417);function a(_,p){if(!p)return null;const u=(0,t.Ay)(p);return m(_,u)}i(a,"getListIdFromUrl");function l(_){for(const p of d.h)if(p.urlType===o.CollabUrlType.SLACK_LIST){const u=p.regExp,h=_.match(u);if(!h||h.length<1)continue;return h}return null}i(l,"matchListCollabUrlRegex");function m(_,p){const u=p.href,h=l(u);if(!h)return null;const E=h[6];if(!E||!(0,r.A)(E))return null;const A=(0,n.Lp)(_,E);return(0,s.l7)(A)?E:null}i(m,"getListIdFromParsedUrl");function c(_,p){const u=m(_,p);if(!u)return null;const h=(0,n.Lp)(_,u);return h&&((0,s.sR)(h)||(0,s.Bp)(h))?u:null}i(c,"getListFileIdWithoutAccessFromParsedUrl")},6415587347:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>Ft});var t=e(4063699741),n=e.n(t),s=e(7129884748),r=e.n(s),d=e(4840951141),o=e.n(d),a=e(9241168512),l=e.n(a),m=e(9602720019),c=e.n(m),_=e(9777215928),p=e.n(_),u=e(9833689275),h=e.n(u),E=e(2981982679),A=e.n(E),v=e(9267813754),f=e.n(v),g=e(3963460214),y=e.n(g),T=e(9948433110),M=e.n(T),O=e(2295488157),I=e.n(O),D=e(5908867676),P=e.n(D),k=e(4948097913),R=e.n(k),V=e(5156772208),B=e.n(V),W=e(3333214639),L=e.n(W),S=e(9825918216),H=e.n(S),w=e(1302153452),F=e.n(w),j=e(474239361),J=e.n(j),X=e(350135845),q=e.n(X),G=e(7428983508),ne=e.n(G),te=e(1001408479),le=e.n(te),he=e(7331486018),fe=e.n(he),ve=e(669259003),me=e.n(ve),oe=e(1889110914),N=e.n(oe),K=e(7183565897),x=e.n(K),b=e(4814900690),z=e.n(b),$=e(3710970638),Z=e.n($),U=e(1023719767),ee=e.n(U),se=e(4165874747),de=e.n(se),ue=e(3431559584),_e=e.n(ue),pe=e(2261459203),ae=e.n(pe),Ee=e(7272988726),Le=e.n(Ee),ye=e(2200759559),Te=e.n(ye),Ae=e(451984622),Ie=e.n(Ae),Ue=e(77360885),Be=e.n(Ue),we=e(7523979550),re=e.n(we),ge=e(4245237474),De=e.n(ge),be=e(1957386787),xe=e.n(be),Re=e(8390767423),je=e.n(Re),Ge=e(983107878),Qe=e.n(Ge),Xe=e(3224273568),et=e.n(Xe),rt=e(2979422297),it=e.n(rt),lt=e(4923972147),ot=e.n(lt),Et=e(1060768686),At=e.n(Et),Ot=e(5098468056),Rt=e.n(Ot),yt=e(6906793909),Mt=e.n(yt),en=e(3708998647),Tt=e.n(en),xt=e(2256285620),bt=e.n(xt),nn=e(2316786074),dn=e.n(nn),Xt=e(3783723764),jt=e(8840779375),_n=e(2604971659),ze=e(4103274853),Dt=e(2208015175),hn=e(3339229351),yn=e(397660785),ht=e(6363331542);function Bt(Jt){return(0,Xt.A)((0,jt.A)((0,_n.A)(Jt),rn=>parseInt(rn,10)),null,"desc")}i(Bt,"makeOrderedIconSizes");function wt(Jt){return(0,ze.A)(Jt,rn=>Bt(rn))}i(wt,"makeOrderedNamedIconSizes");const Qt={24:dn(),32:Tt(),36:Rt(),72:ot(),192:et()},mn={24:bt(),32:Mt(),36:At(),72:it(),192:Qe()},On={fancy:{20:je(),24:xe(),32:De(),36:re(),48:Be(),72:Ie(),192:Te(),360:Le(),512:ae(),1024:_e()},frowny:{20:de(),24:ee(),32:Z(),36:z(),48:x(),72:N(),192:me(),360:fe(),512:le(),1024:ne()},neutral:{20:q(),24:J(),32:F(),36:H(),48:L(),72:B(),192:R(),360:P(),512:I(),1024:M()},sad_surprise:{20:y(),24:f(),32:A(),36:h(),48:p(),72:c(),192:l(),360:o(),512:r(),1024:n()}},zt=24,nt=Bt(mn),mt=wt(On),Ct="image_";function Zt(Jt){const rn=[];return(0,Dt.A)(Jt,(gn,Fe)=>{if(Fe.indexOf(Ct)!==0)return;const Ke=Fe.slice(Ct.length);rn.unshift(parseInt(Ke,10))}),rn}i(Zt,"getSizeOptionsFromProfile");function Ft(Jt){let{size:rn,teamOrEnterpriseId:gn,memberId:Fe,avatarHash:Ke,emoji:Ne,isBot:He=!1,botImages:Je=!1,slackbotFeels:ft=null,isUserHidden:Kt=!1}=Jt,St,cn,An=!1;if(!rn||!He&&!Kt&&(!gn||!Fe||!Ke)&&!Ne)return{};if(Ne)return{emoji:Ne,isDefault:!1};if(Kt){const Ln=(0,ht.A)(rn,nt),It=(0,ht.A)(rn*2,nt);St=Qt[Ln||zt],cn=Qt[It||zt],An=!0}else if(Fe===hn.Q$&&ft&&On[ft]){const Ln=(0,ht.A)(rn,mt[ft]),It=(0,ht.A)(rn*2,mt[ft]);St=On[ft][Ln||zt],cn=On[ft][It||zt]}else if(!He||gn&&Fe&&Ke){const Ln=(0,ht.A)(rn),It=(0,ht.A)(rn*2),qe=(0,yn.Z)(gn);St=`${qe}${gn}-${Fe}-${Ke}-${Ln}`,cn=`${qe}${gn}-${Fe}-${Ke}-${It}`}else if(Je){const Ln=Zt(Je),It=(0,ht.A)(rn,Ln),qe=(0,ht.A)(rn*2,Ln);St=Je[Ct+It],cn=Je[Ct+qe]}if(He&&!St&&!cn&&!Ne){const Ln=(0,ht.A)(rn,nt),It=(0,ht.A)(rn*2,nt);St=mn[Ln||zt],cn=mn[It||zt],An=!0}return{imageUrl:St,imageUrl2x:cn,emoji:Ne,isDefault:An}}i(Ft,"getMemberProfileImage")},92812954:(Q,C,e)=>{"use strict";e.d(C,{d:()=>r});var t=e(8276911661),n=e(3792998666),s=e(5096647761);function r(d,o){if(!o)return"member";const a=(0,t.nv)(d,o);let l="member";return(0,s.g)(a)?l="external":(0,n.Ez)(a)&&!(0,n.Yd)(a)?l="ra":(0,n.Yd)(a)&&(l="ura"),l}i(r,"getMemberType")},9899967630:(Q,C,e)=>{"use strict";e.d(C,{cR:()=>l,dR:()=>h});var t=e(8234448831),n=e(937317117),s=e(2188787324),r=e(497761763),d=e(4761125736),o=e(7102510068),a=e(5244168417);function l(E,A){if(!A)return null;const v=(0,t.Ay)(A);return p(E,v)}i(l,"getQuipFileIdFromUrl");function m(E,A){if(!A)return null;const v=parseUrl(A);return u(E,v)}i(m,"getQuipFileIdWithAccessFromUrl");function c(E,A){if(!A)return null;const v=parseUrl(A);return h(E,v)}i(c,"getQuipFileIdWithoutAccessFromUrl");function _(E){for(const A of o.h)if(A.urlType===a.CollabUrlType.SLACK_DOCUMENT||A.urlType===a.CollabUrlType.SLACK_DOCUMENT_SECTION){const v=A.regExp,f=E.match(v);if(!f||f.length<1)continue;return f}return null}i(_,"matchCanvasCollabUrlRegex");function p(E,A){const v=A.href,f=_(v);if(!f)return null;const g=f[6];if(!g||!(0,r.A)(g))return null;const y=(0,n.Lp)(E,g);return(0,s.DQ)(y)?g:null}i(p,"getQuipFileIdFromParsedUrl");function u(E,A){const v=p(E,A);if(!v)return null;const f=getFileById(E,v);if(!f)return null;const g=getGroupForUser(E,"canvas_ts_sfdc_slack_connect_sharing")==="on";return isNotVisible(f)||g&&isExternalAccessDenied(f)?null:v}i(u,"getQuipFileIdWithAccessFromParsedUrl");function h(E,A){const v=p(E,A);if(!v)return null;const f=(0,n.Lp)(E,v);if(!f)return null;const g=(0,d._Z)(E,"canvas_ts_sfdc_slack_connect_sharing")==="on";return(0,s.sR)(f)||g&&(0,s.Bp)(f)?v:null}i(h,"getQuipFileIdWithoutAccessFromParsedUrl")},8873262110:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6061527706),n=e(5950652755);function s(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const o=i(a=>{!Array.isArray(a)||!a.length||requestAnimationFrame(()=>r(a))},"observer");return new t.A((0,n.A)(o,d))}i(s,"getResizeObserver")},8232660909:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>c,Tp:()=>_});var t=e(6422693406),n=e(4103274853),s=e(7156798807),r=e(571104883),d=e(2786906754),o=e(3245843483);let a;const l={substitutions:{},useSmartDashes:!1,useSmartQuotes:!1},m={substitutions:{},useSmartDashes:!0,useSmartQuotes:!0};function c(){let{bustCache:u=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a&&!u)return t.K.resolve(a);const h=(0,r.cX)(),E=(0,r.y3)(),A=(0,d.qN)(window.location.href);return E&&!h||!E&&A.smart_quotes!=="1"?t.K.resolve(l):E?(a=m,(0,o.J7P)().then(v=>(a={...m,substitutions:{}},v&&((0,r.dY)("4.3.0")||(a.substitutions=(0,n.A)((0,s.A)(v.substitutions,"replace"),"with")),a.useSmartDashes=v.useSmartDashes,a.useSmartQuotes=v.useSmartQuotes,!a.substitutions["--"]&&a.useSmartDashes&&(a.substitutions["--"]="\u2014")),a))):(a={...m,substitutions:{"--":"\u2014"}},t.K.resolve(a))}i(c,"__WEBPACK_DEFAULT_EXPORT__");const _=i(()=>a,"getSystemTextPreferencesCache"),p={resetCache:()=>{a=void 0}}},3695531806:(Q,C,e)=>{"use strict";e.d(C,{z:()=>n});var t=e(6795568989);const n=i(s=>{let{codePointLikeString:r}=s;if(!(0,t.d)(r))return;const d=16;return r.split("-").map(o=>String.fromCodePoint(parseInt(o,d))).join("")},"getUnicodeFromCodePointLikeString")},8958249318:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(){var n,s;return(s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)!==null&&s!==void 0?s:"no-ua"}i(t,"getUserAgent")},5770715593:(Q,C,e)=>{"use strict";e.d(C,{C9:()=>a,Gl:()=>d,VQ:()=>o,XU:()=>n,dL:()=>s,rU:()=>r,x_:()=>l});var t=e(4761125736);const n=i(m=>{var c;return(c=(0,t._Z)(m,"help_shareables_tm")==="on")!==null&&c!==void 0?c:!1},"isHelpShareablesTmExperimentOn"),s=i(m=>{var c;return(c=(0,t._Z)(m,"help_articles_in_search")==="treatment")!==null&&c!==void 0?c:!1},"isHelpArticlesInSearchExperimentTreatment"),r=i(m=>{var c;return(c=(0,t._Z)(m,"help_smarticles")==="on")!==null&&c!==void 0?c:!1},"isHelpSmarticlesExperimentOn"),d=i(m=>{var c;return(c=(0,t._Z)(m,"help_navigation")==="on")!==null&&c!==void 0?c:!1},"isHelpNavigationExperimentOn"),o=i(m=>{var c;return(c=(0,t._Z)(m,"help_tour")==="treatment")!==null&&c!==void 0?c:!1},"isHelpTourExperimentTreatment"),a=i(m=>{var c;return(c=(0,t._Z)(m,"help_tips")==="on")!==null&&c!==void 0?c:!1},"isHelpTipsExperimentOn"),l=i(m=>{var c;return(c=(0,t._Z)(m,"help_slider_a11y_translations")==="on")!==null&&c!==void 0?c:!1},"isHelpSliderA11yTranslationsExperimentOn")},1251564078:(Q,C,e)=>{"use strict";e.d(C,{v:()=>n});var t=e(9907843289);function n(s){const r=(0,t.Yp)().toLowerCase();return r==="en-us"?s:`/intl/${r}${s}`}i(n,"getLocalizedPath")},4240442510:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3193155968),n=e(735940183);const s=new n.Ay("view");function r(d){let{tab:o,experimentSlackAiInboxGroupOn:a,experimentFilesExplorerPrototypeGroupOn:l,experimentAskSlackViewGroupOn:m}=d,c;switch(o){case t.k6.Home:c=a?s.t("Channels",{ns:"search"}):s.t("Home");break;case t.k6.DMs:c=s.t("DMs");break;case t.k6.Activity:c=a?s.t("Inbox"):s.t("Activity");break;case t.k6.Later:c=s.t("Later");break;case t.k6.SalesHome:c=s.t("Sales");break;case t.k6.Search:c=s.t("Search");break;case t.k6.Canvases:c=s.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case t.k6.Files:c=s.t("Files",{ns:"search"});break;case t.k6.FilesPrototype:c=l?s.t("Docs"):"Docs";break;case t.k6.Channels:c=s.t("Channels",{ns:"search"});break;case t.k6.People:c=s.t("People",{ns:"search"});break;case t.k6.Platform:c=s.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case t.k6.ExternalConnections:case t.k6.ExternalConnectionsTemp:c=s.t("External");break;case t.k6.Huddles:c=s.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33x`",fallbackHashNs:"search"});break;case t.k6.Assistant:c=m?s.t("Ask Slack"):"Ask Slack";break;case t.k6.Browse:c=s.t("More");break;case t.k6.Lists:c=s.t("Lists");break;case t.k6.Todos:c="To-dos";break;case t.k6.Solutions:c=s.t("Templates");break;case t.k6.SlackKitPlayground:c="Slack Kit Playground";break;case t.k6.BBM:c="";break;default:c="";break}return c}i(r,"getTabLabel")},6910192640:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T,o:()=>g});var t=e(8956161330),n=e(2384831516),s=e(3193155968),r=e(1552255081),d=e(6642124196),o=e(920478515),a=e(1340402138),l=e(6470070112),m=e(9280052135),c=e(665229739),_=e(7244076749),p=e(4626613428),u=e(2711189973),h=e(5332875232),E=e(3290693121),A=e(2664997725);const v=!1,f={[s.k6.Home]:M=>!(0,a.R)(M),[s.k6.Activity]:M=>(0,p.Ty)(M)&&!(0,E.x)(M),[s.k6.DMs]:M=>(0,p.Ty)(M),[s.k6.FilesPrototype]:M=>(0,c.U)(M)&&(0,p.Ty)(M),[s.k6.SlackKitPlayground]:M=>(0,_.b)()&&(0,p.Ty)(M),[s.k6.Solutions]:M=>(0,A.x)(M)&&(0,p.Ty)(M),[s.k6.Later]:M=>(0,o.Bp)(M),[s.k6.Assistant]:M=>(0,m.l)(M)&&(0,p.Ty)(M),[s.k6.Canvases]:M=>(0,r.F)(M)&&!(0,a.R)(M)&&!(0,c.U)(M),[s.k6.Files]:M=>!(0,a.R)(M)&&(0,p.Ty)(M),[s.k6.Channels]:M=>!(0,a.R)(M)&&(0,p.Ty)(M),[s.k6.Platform]:()=>!0,[s.k6.People]:M=>!(0,a.R)(M)&&(0,p.Ty)(M),[s.k6.Huddles]:M=>(0,l.Wd)(M)&&!(0,h.LS)(M)&&!(0,a.R)(M),[s.k6.SalesHome]:M=>(0,t.hx)(M),[s.k6.Lists]:M=>(0,d.teamHasFullListsAccess)(M)&&!(0,a.R)(M)&&!(0,c.U)(M),[s.k6.Todos]:M=>(0,d.isTodosEnabled)(M),[s.k6.ExternalConnections]:M=>(0,u.y)(M,v),[s.k6.ExternalConnectionsTemp]:M=>!(0,u.y)(M,v)},g=i(M=>(0,n.Mz)(O=>f[M](O)),"makeSelectVisibleTab"),T=i((M,O)=>g(O)(M),"getTabVisibility")},505908973:(Q,C,e)=>{"use strict";e.d(C,{A:()=>L});var t=e(6644049054),n=e(352142497),s=e(5657872960),r=e(6642124196),d=e(3559837422),o=e(6839188756),a=e(3677514771),l=e(8956161330),m=e(1552255081),c=e(7274827479),_=e(4761125736),p=e(418103123),u=e(1190344069),h=e(9889493721),E=e(7069714209),A=e(665229739),v=e(9280052135),f=e(7244076749),g=e(2711189973),y=e(5332875232),T=e(2052624953),M=e(9132066222),O=e(3856748711),I=e(8646192222),D=e(3875705815),P=e(6695353875),k=e(2664997725),R=e(6120301420);const V=!1,B={[n.D.KeyboardShortcuts]:()=>!0,[n.D.WhatsNew]:()=>!0,[n.D.RecentCanvases]:()=>!1,[n.D.CanvasesSharedWithYou]:S=>(0,_._Z)(S,"canvas_collection_prototype")==="on"&&(0,m.F)(S),[n.D.CanvasesCreatedByYou]:S=>(0,_._Z)(S,"canvas_collection_prototype")==="on"&&(0,m.F)(S),[n.D.BrowseCanvases]:S=>(0,m.F)(S),[n.D.RecentFiles]:()=>!0,[n.D.FilesCreatedByYou]:()=>!0,[n.D.FilesSharedWithYou]:()=>!0,[n.D.BrowseExternalWorkspace]:E.U,[n.D.BrowseChannels]:()=>!0,[n.D.BrowsePeople]:()=>!0,[n.D.ExternalOrganizations]:S=>(0,g.y)(S,V),[n.D.ExternalOrganization]:S=>(0,g.y)(S,V),[n.D.ExternalPeople]:()=>!1,[n.D.SlackConnectChannels]:()=>!1,[n.D.SlackConnectInvitations]:S=>(0,g.y)(S,V),[n.D.BrowseUserGroups]:S=>!(0,d.sV)(S)&&(0,o.qR)((0,a.H7)(S)),[n.D.SlackConnect]:S=>(0,t.A)(S),[n.D.Channel]:()=>!0,[n.D.AppSpace]:()=>!0,[n.D.RecentPlatform]:S=>(0,h.MA)(S),[n.D.BrowseWorkflowsManagedByYou]:S=>(0,h.EH)(S),[n.D.BrowseYourWorkflowTemplates]:S=>(0,h.M7)(S),[n.D.BrowseShortcuts]:S=>(0,h.S0)(S),[n.D.BrowseWorkflowTemplates]:S=>(0,h.fh)(S),[n.D.BrowseApps]:S=>(0,h.pr)(S),[n.D.OrgDirectory]:()=>!0,[n.D.Page]:()=>!0,[n.D.Threads]:()=>!0,[n.D.Thread]:()=>!0,[n.D.Profile]:()=>!0,[n.D.FileDetails]:()=>!0,[n.D.Help]:()=>!0,[n.D.UserGroup]:()=>!0,[n.D.Feedback]:()=>!0,[n.D.List]:S=>(0,r.isListsEnabled)(S),[n.D.ListRecord]:S=>(0,r.isListsEnabled)(S),[n.D.ListRecordDetails]:S=>(0,r.isListsEnabled)(S),[n.D.ListRecordThread]:S=>(0,r.isListsEnabled)(S),[n.D.ListRecordHistory]:S=>(0,r.isListsEnabled)(S),[n.D.DeletedLists]:S=>(0,r.isListsEnabled)(S),[n.D.Tasks]:S=>(0,r.isTodosEnabled)(S),[n.D.AssignedTasks]:S=>(0,r.isTodosEnabled)(S),[n.D.Reminders]:S=>(0,r.isTodosEnabled)(S),[n.D.Saved]:S=>(0,r.isTodosEnabled)(S),[n.D.ComposeList]:()=>!0,[n.D.Compose]:()=>!0,[n.D.QuipCommentThread]:()=>!0,[n.D.QuipCommentStream]:()=>!0,[n.D.QuipActivityHistory]:()=>!0,[n.D.QuipAutomationsOverview]:()=>!0,[n.D.Quip]:()=>!0,[n.D.Canvas]:()=>!0,[n.D.ChannelCanvas]:()=>!0,[n.D.CanvasBrowser]:S=>(0,m.F)(S),[n.D.DeletedCanvases]:S=>(0,R.qD)(S),[n.D.PaidBenefits]:()=>!0,[n.D.Setup]:()=>!0,[n.D.SearchEmpty]:()=>!0,[n.D.AboutWorkspace]:()=>!1,[n.D.Unknown]:()=>!0,[n.D.MorePeopleSidebar]:()=>!0,[n.D.MoreCanvasesSidebar]:()=>!0,[n.D.AppPopout]:()=>!0,[n.D.ChannelList]:()=>!0,[n.D.BrowseFiles]:()=>!0,[n.D.BrowseFilesPrototype]:S=>(0,A.U)(S),[n.D.SlackKitPlayground]:()=>(0,f.b)(),[n.D.Solutions]:S=>(0,k.x)(S),[n.D.BrowseLists]:S=>(0,r.teamHasFullListsAccess)(S),[n.D.DmsList]:()=>!0,[n.D.BrowseList]:()=>!0,[n.D.ActivityList]:()=>!0,[n.D.LaterList]:S=>(0,s.c)(S),[n.D.Search]:()=>!0,[n.D.MoreFilesSidebar]:()=>!0,[n.D.MoreListsSidebar]:()=>!0,[n.D.MoreTodosSidebar]:()=>!0,[n.D.FilesPrototypeSidebar]:S=>(0,A.U)(S),[n.D.MoreChannelsSidebar]:()=>!1,[n.D.MorePlatformSidebar]:()=>!0,[n.D.MoreHuddlesSidebar]:()=>!0,[n.D.MoreExternalConnectionsSidebar]:S=>(0,g.y)(S,V),[n.D.HelpBrowser]:()=>!0,[n.D.Huddle]:()=>!0,[n.D.BrowseHuddles]:S=>(0,y.LS)(S),[n.D.KeyboardShortcutsBrowser]:()=>!0,[n.D.WhatsNewBrowser]:()=>!0,[n.D.FeedbackBrowser]:()=>!0,[n.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[n.D.ExternalWorkspaceSidebar]:()=>!1,[n.D.ExternalWorkspacePeopleBrowser]:()=>!1,[n.D.ExternalWorkspaceChannelBrowser]:()=>!1,[n.D.PostEvent]:()=>!1,[n.D.AiSummaryDetails]:S=>(0,c._z)(S),[n.D.DailyDigest]:S=>(0,c.sS)(S),[n.D.MoreAiSummarySidebar]:S=>(0,c.M1)(S),[n.D.SearchSummary]:S=>(0,c.lQ)(S),[n.D.AssistantList]:S=>(0,v.l)(S),[n.D.Today]:S=>(0,p._)(S),[n.D.Record]:S=>(0,u.hm)(S),[n.D.RecordChannelCreate]:S=>(0,u.hm)(S),[n.D.RecordChannelRelatedList]:S=>(0,u.dw)(S),[n.D.SalesAdministration]:()=>!0,[n.D.SalesBulkGrid]:()=>!0,[n.D.SalesHome]:S=>(0,l.hx)(S),[n.D.SalesLogActivity]:()=>!0,[n.D.SalesListViewBrowser]:()=>!0,[n.D.SalesSidebar]:()=>!0,[n.D.SalesNotifications]:()=>!0,[n.D.AssistantThread]:()=>!0,[n.D.ChannelFiles]:S=>(0,_._Z)(S,"channel_canvas_in_bbar")==="on",[n.D.AiApp]:S=>(0,T.wP)(S),[n.D.WorkflowDetails]:S=>(0,_._Z)(S,"workflow_progress_fe")==="on",[n.D.WorkflowEditor]:S=>(0,_._Z)(S,"wfb_in_client")==="on",[n.D.BookmarksFolder]:S=>(0,M.U6)(S),[n.D.ActionItems]:S=>(0,c.FV)(S),[n.D.Inbox]:S=>(0,O.y)(S),[n.D.BBMMain]:S=>(0,I.mL)(S)&&(0,D.V)(S),[n.D.BBMWorkspaceSwitcher]:S=>(0,I.mL)(S)&&(0,D.V)(S),[n.D.SearchInChannel]:S=>(0,P.k8)(S),[n.D.HuddleTranscriptDetails]:S=>(0,y.P3)(S),[n.D.HuddlePageCanvas]:()=>!0,[n.D.BBMMore]:S=>(0,I.mL)(S)&&(0,D.V)(S)},L=i((S,H)=>B[H](S),"getViewTypeVisibility")},4900557724:(Q,C,e)=>{"use strict";e.d(C,{BB:()=>l,GP:()=>m,Uf:()=>c});var t=e(9706240641),n=e.n(t),s=e(3398586081),r=e(7715417323),d=e(6422693406);const o={didTimeout:!0,timeRemaining:()=>0},a=(0,s.A)(()=>!!(window.requestIdleCallback&&window.cancelIdleCallback));function l(p,u){return a()?window.requestIdleCallback(p,u):window.setTimeout(()=>p(o))}i(l,"requestIdleCallback");function m(p){return a()?window.cancelIdleCallback(p):window.clearTimeout(p)}i(m,"cancelIdleCallback");function c(p){return new d.S(function(u,h){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.A;const A=l(function(){var v=(0,t.coroutine)(function*(f){try{const g=yield d.S.resolve(p(f));u(g)}catch(g){h(g)}});return function(f){return v.apply(this,arguments)}}());E(()=>{m(A)})})}i(c,"awaitIdleCallback");const _={IDLE_DEADLINE_FALLBACK:o}},5731054235:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(9636997165);let n=null;function s(){if(n===null){var r,d;n=(document==null||(r=document.documentElement)===null||r===void 0||(d=r.dataset)===null||d===void 0?void 0:d.app)===t.u.APP_POPOUTS}return n}i(s,"isAppPopouts")},8800777280:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n,s){return!n||!s?!1:s(n)?!0:t(n.parentElement||void 0,s)}i(t,"isContainedBy")},6045540917:(Q,C,e)=>{"use strict";e.d(C,{h:()=>r});var t=e(8276911661),n=e(8170643398),s=e(3986753718);function r(d,o){if(!o)return!1;const a=(0,t.nv)(d,o);return!(0,n.zU)(a)&&!!o&&!!(0,s.t6)(d,o)}i(r,"isDnd")},6551836451:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth))}i(t,"isElementScrollable")},7640408795:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){var s;return!n||n.metaKey||n.ctrlKey?!1:((s=n.key)===null||s===void 0?void 0:s.length)===1}i(t,"isPrintableKeyEvent")},8707546752:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2774532222),n=e(3339229351);function s(r){return(0,t.A)(r,n.Rw)}i(s,"isSlackAction")},6605261507:(Q,C,e)=>{"use strict";e.d(C,{Dl:()=>r,Mk:()=>n,qF:()=>s});var t=e(1269024372);const n=["about","canvas"],s=["app","about","settings","chat"];function r(d){return n.indexOf(d)!==-1||s.indexOf(d)!==-1||Object.keys(t.e).indexOf(d)!==-1}i(r,"isValidTabRoute")},5587260451:(Q,C,e)=>{"use strict";e.d(C,{L:()=>t,c:()=>n});const t=["invitations","contacts"];function n(s){return t.includes(s)}i(n,"isValidViewName")},2249017398:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(9636997165);let n=null;function s(){if(n===null){var r,d;n=(document==null||(r=document.documentElement)===null||r===void 0||(d=r.dataset)===null||d===void 0?void 0:d.app)===t.u.WORKFLOW_BUILDER}return n}i(s,"isWorkflowBuilder")},1233969417:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^\d+$/;function n(s){return t.test(s)}i(n,"looksLikeHelpArticleId")},110305600:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^Ft[A-Z0-9]{7,}$/;function n(s){return t.test(s)}i(n,"looksLikeHermesTriggerId")},1466694191:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function n(s){return s?t.test(s):!1}i(n,"looksLikeQuipHistoryId")},8305125093:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^Wt[A-Z0-9]{7,}$/;function n(s){return t.test(s)}i(n,"looksLikeWorkflowTemplateId")},6904279885:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(9746734072),n=e(735940183);const s=new n.Ay("a11y");function r(){let{channelName:d,previousChannelName:o,workspaceName:a,orgName:l,isOrgGlobalSharedPublicOrPrivateChannel:m,isOrgSharedPublicOrPrivateChannel:c,isExternallySharedChannel:_,isArchived:p,isCurrent:u,hasUnreads:h,hasNotifications:E,isPrivate:A,isNotMember:v,isMuted:f,isStarred:g,hasDraft:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const T=(()=>{if(_&&a&&a.length>0){const O=(0,t.A)(a)?a:[a];return s.t("shared with {workspaceName}",{workspaceName:O[0]})}return m&&l?s.t("shared across all {orgName} workspaces",{orgName:l}):c?s.t("shared channel"):""})(),M=(()=>p?s.t("archived channel"):u&&h&&E&&A&&v&&f&&g&&y?s.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):!u&&h&&E&&A&&v&&f&&g&&y?s.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):u&&!h&&E&&A&&v&&f&&g&&y?s.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):!u&&!h&&E&&A&&v&&f&&g&&y?s.t("has notifications, private, not a member, muted, starred, has a draft message"):u&&h&&!E&&A&&v&&f&&g&&y?s.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):!u&&h&&!E&&A&&v&&f&&g&&y?s.t("has unread messages, private, not a member, muted, starred, has a draft message"):u&&!h&&!E&&A&&v&&f&&g&&y?s.t("current channel, private, not a member, muted, starred, has a draft message"):!u&&!h&&!E&&A&&v&&f&&g&&y?s.t("private, not a member, muted, starred, has a draft message"):u&&h&&E&&!A&&v&&f&&g&&y?s.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):!u&&h&&E&&!A&&v&&f&&g&&y?s.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):u&&!h&&E&&!A&&v&&f&&g&&y?s.t("current channel, has notifications, not a member, muted, starred, has a draft message"):!u&&!h&&E&&!A&&v&&f&&g&&y?s.t("has notifications, not a member, muted, starred, has a draft message"):u&&h&&!E&&!A&&v&&f&&g&&y?s.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):!u&&h&&!E&&!A&&v&&f&&g&&y?s.t("has unread messages, not a member, muted, starred, has a draft message"):u&&!h&&!E&&!A&&v&&f&&g&&y?s.t("current channel, not a member, muted, starred, has a draft message"):!u&&!h&&!E&&!A&&v&&f&&g&&y?s.t("not a member, muted, starred, has a draft message"):u&&h&&E&&A&&!v&&f&&g&&y?s.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):!u&&h&&E&&A&&!v&&f&&g&&y?s.t("has unread messages and notifications, private, muted, starred, has a draft message"):u&&!h&&E&&A&&!v&&f&&g&&y?s.t("current channel, has notifications, private, muted, starred, has a draft message"):!u&&!h&&E&&A&&!v&&f&&g&&y?s.t("has notifications, private, muted, starred, has a draft message"):u&&h&&!E&&A&&!v&&f&&g&&y?s.t("current channel, has unread messages, private, muted, starred, has a draft message"):!u&&h&&!E&&A&&!v&&f&&g&&y?s.t("has unread messages, private, muted, starred, has a draft message"):u&&!h&&!E&&A&&!v&&f&&g&&y?s.t("current channel, private, muted, starred, has a draft message"):!u&&!h&&!E&&A&&!v&&f&&g&&y?s.t("private, muted, starred, has a draft message"):u&&h&&E&&!A&&!v&&f&&g&&y?s.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):!u&&h&&E&&!A&&!v&&f&&g&&y?s.t("has unread messages and notifications, muted, starred, has a draft message"):u&&!h&&E&&!A&&!v&&f&&g&&y?s.t("current channel, has notifications, muted, starred, has a draft message"):!u&&!h&&E&&!A&&!v&&f&&g&&y?s.t("has notifications, muted, starred, has a draft message"):u&&h&&!E&&!A&&!v&&f&&g&&y?s.t("current channel, has unread messages, muted, starred, has a draft message"):!u&&h&&!E&&!A&&!v&&f&&g&&y?s.t("has unread messages, muted, starred, has a draft message"):u&&!h&&!E&&!A&&!v&&f&&g&&y?s.t("current channel, muted, starred, has a draft message"):!u&&!h&&!E&&!A&&!v&&f&&g&&y?s.t("muted, starred, has a draft message"):u&&h&&E&&A&&v&&!f&&g&&y?s.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):!u&&h&&E&&A&&v&&!f&&g&&y?s.t("has unread messages and notifications, private, not a member, starred, has a draft message"):u&&!h&&E&&A&&v&&!f&&g&&y?s.t("current channel, has notifications, private, not a member, starred, has a draft message"):!u&&!h&&E&&A&&v&&!f&&g&&y?s.t("has notifications, private, not a member, starred, has a draft message"):u&&h&&!E&&A&&v&&!f&&g&&y?s.t("current channel, has unread messages, private, not a member, starred, has a draft message"):!u&&h&&!E&&A&&v&&!f&&g&&y?s.t("has unread messages, private, not a member, starred, has a draft message"):u&&!h&&!E&&A&&v&&!f&&g&&y?s.t("current channel, private, not a member, starred, has a draft message"):!u&&!h&&!E&&A&&v&&!f&&g&&y?s.t("private, not a member, starred, has a draft message"):u&&h&&E&&!A&&v&&!f&&g&&y?s.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):!u&&h&&E&&!A&&v&&!f&&g&&y?s.t("has unread messages and notifications, not a member, starred, has a draft message"):u&&!h&&E&&!A&&v&&!f&&g&&y?s.t("current channel, has notifications, not a member, starred, has a draft message"):!u&&!h&&E&&!A&&v&&!f&&g&&y?s.t("has notifications, not a member, starred, has a draft message"):u&&h&&!E&&!A&&v&&!f&&g&&y?s.t("current channel, has unread messages, not a member, starred, has a draft message"):!u&&h&&!E&&!A&&v&&!f&&g&&y?s.t("has unread messages, not a member, starred, has a draft message"):u&&!h&&!E&&!A&&v&&!f&&g&&y?s.t("current channel, not a member, starred, has a draft message"):!u&&!h&&!E&&!A&&v&&!f&&g&&y?s.t("not a member, starred, has a draft message"):u&&h&&E&&A&&!v&&!f&&g&&y?s.t("current channel, has unread messages and notifications, private, starred, has a draft message"):!u&&h&&E&&A&&!v&&!f&&g&&y?s.t("has unread messages and notifications, private, starred, has a draft message"):u&&!h&&E&&A&&!v&&!f&&g&&y?s.t("current channel, has notifications, private, starred, has a draft message"):!u&&!h&&E&&A&&!v&&!f&&g&&y?s.t("has notifications, private, starred, has a draft message"):u&&h&&!E&&A&&!v&&!f&&g&&y?s.t("current channel, has unread messages, private, starred, has a draft message"):!u&&h&&!E&&A&&!v&&!f&&g&&y?s.t("has unread messages, private, starred, has a draft message"):u&&!h&&!E&&A&&!v&&!f&&g&&y?s.t("current channel, private, starred, has a draft message"):!u&&!h&&!E&&A&&!v&&!f&&g&&y?s.t("private, starred, has a draft message"):u&&h&&E&&!A&&!v&&!f&&g&&y?s.t("current channel, has unread messages and notifications, starred, has a draft message"):!u&&h&&E&&!A&&!v&&!f&&g&&y?s.t("has unread messages and notifications, starred, has a draft message"):u&&!h&&E&&!A&&!v&&!f&&g&&y?s.t("current channel, has notifications, starred, has a draft message"):!u&&!h&&E&&!A&&!v&&!f&&g&&y?s.t("has notifications, starred, has a draft message"):u&&h&&!E&&!A&&!v&&!f&&g&&y?s.t("current channel, has unread messages, starred, has a draft message"):!u&&h&&!E&&!A&&!v&&!f&&g&&y?s.t("has unread messages, starred, has a draft message"):u&&!h&&!E&&!A&&!v&&!f&&g&&y?s.t("current channel, starred, has a draft message"):!u&&!h&&!E&&!A&&!v&&!f&&g&&y?s.t("starred, has a draft message"):u&&h&&E&&A&&v&&f&&!g&&y?s.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):!u&&h&&E&&A&&v&&f&&!g&&y?s.t("has unread messages and notifications, private, not a member, muted, has a draft message"):u&&!h&&E&&A&&v&&f&&!g&&y?s.t("current channel, has notifications, private, not a member, muted, has a draft message"):!u&&!h&&E&&A&&v&&f&&!g&&y?s.t("has notifications, private, not a member, muted, has a draft message"):u&&h&&!E&&A&&v&&f&&!g&&y?s.t("current channel, has unread messages, private, not a member, muted, has a draft message"):!u&&h&&!E&&A&&v&&f&&!g&&y?s.t("has unread messages, private, not a member, muted, has a draft message"):u&&!h&&!E&&A&&v&&f&&!g&&y?s.t("current channel, private, not a member, muted, has a draft message"):!u&&!h&&!E&&A&&v&&f&&!g&&y?s.t("private, not a member, muted, has a draft message"):u&&h&&E&&!A&&v&&f&&!g&&y?s.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):!u&&h&&E&&!A&&v&&f&&!g&&y?s.t("has unread messages and notifications, not a member, muted, has a draft message"):u&&!h&&E&&!A&&v&&f&&!g&&y?s.t("current channel, has notifications, not a member, muted, has a draft message"):!u&&!h&&E&&!A&&v&&f&&!g&&y?s.t("has notifications, not a member, muted, has a draft message"):u&&h&&!E&&!A&&v&&f&&!g&&y?s.t("current channel, has unread messages, not a member, muted, has a draft message"):!u&&h&&!E&&!A&&v&&f&&!g&&y?s.t("has unread messages, not a member, muted, has a draft message"):u&&!h&&!E&&!A&&v&&f&&!g&&y?s.t("current channel, not a member, muted, has a draft message"):!u&&!h&&!E&&!A&&v&&f&&!g&&y?s.t("not a member, muted, has a draft message"):u&&h&&E&&A&&!v&&f&&!g&&y?s.t("current channel, has unread messages and notifications, private, muted, has a draft message"):!u&&h&&E&&A&&!v&&f&&!g&&y?s.t("has unread messages and notifications, private, muted, has a draft message"):u&&!h&&E&&A&&!v&&f&&!g&&y?s.t("current channel, has notifications, private, muted, has a draft message"):!u&&!h&&E&&A&&!v&&f&&!g&&y?s.t("has notifications, private, muted, has a draft message"):u&&h&&!E&&A&&!v&&f&&!g&&y?s.t("current channel, has unread messages, private, muted, has a draft message"):!u&&h&&!E&&A&&!v&&f&&!g&&y?s.t("has unread messages, private, muted, has a draft message"):u&&!h&&!E&&A&&!v&&f&&!g&&y?s.t("current channel, private, muted, has a draft message"):!u&&!h&&!E&&A&&!v&&f&&!g&&y?s.t("private, muted, has a draft message"):u&&h&&E&&!A&&!v&&f&&!g&&y?s.t("current channel, has unread messages and notifications, muted, has a draft message"):!u&&h&&E&&!A&&!v&&f&&!g&&y?s.t("has unread messages and notifications, muted, has a draft message"):u&&!h&&E&&!A&&!v&&f&&!g&&y?s.t("current channel, has notifications, muted, has a draft message"):!u&&!h&&E&&!A&&!v&&f&&!g&&y?s.t("has notifications, muted, has a draft message"):u&&h&&!E&&!A&&!v&&f&&!g&&y?s.t("current channel, has unread messages, muted, has a draft message"):!u&&h&&!E&&!A&&!v&&f&&!g&&y?s.t("has unread messages, muted, has a draft message"):u&&!h&&!E&&!A&&!v&&f&&!g&&y?s.t("current channel, muted, has a draft message"):!u&&!h&&!E&&!A&&!v&&f&&!g&&y?s.t("muted, has a draft message"):u&&h&&E&&A&&v&&!f&&!g&&y?s.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):!u&&h&&E&&A&&v&&!f&&!g&&y?s.t("has unread messages and notifications, private, not a member, has a draft message"):u&&!h&&E&&A&&v&&!f&&!g&&y?s.t("current channel, has notifications, private, not a member, has a draft message"):!u&&!h&&E&&A&&v&&!f&&!g&&y?s.t("has notifications, private, not a member, has a draft message"):u&&h&&!E&&A&&v&&!f&&!g&&y?s.t("current channel, has unread messages, private, not a member, has a draft message"):!u&&h&&!E&&A&&v&&!f&&!g&&y?s.t("has unread messages, private, not a member, has a draft message"):u&&!h&&!E&&A&&v&&!f&&!g&&y?s.t("current channel, private, not a member, has a draft message"):!u&&!h&&!E&&A&&v&&!f&&!g&&y?s.t("private, not a member, has a draft message"):u&&h&&E&&!A&&v&&!f&&!g&&y?s.t("current channel, has unread messages and notifications, not a member, has a draft message"):!u&&h&&E&&!A&&v&&!f&&!g&&y?s.t("has unread messages and notifications, not a member, has a draft message"):u&&!h&&E&&!A&&v&&!f&&!g&&y?s.t("current channel, has notifications, not a member, has a draft message"):!u&&!h&&E&&!A&&v&&!f&&!g&&y?s.t("has notifications, not a member, has a draft message"):u&&h&&!E&&!A&&v&&!f&&!g&&y?s.t("current channel, has unread messages, not a member, has a draft message"):!u&&h&&!E&&!A&&v&&!f&&!g&&y?s.t("has unread messages, not a member, has a draft message"):u&&!h&&!E&&!A&&v&&!f&&!g&&y?s.t("current channel, not a member, has a draft message"):!u&&!h&&!E&&!A&&v&&!f&&!g&&y?s.t("not a member, has a draft message"):u&&h&&E&&A&&!v&&!f&&!g&&y?s.t("current channel, has unread messages and notifications, private, has a draft message"):!u&&h&&E&&A&&!v&&!f&&!g&&y?s.t("has unread messages and notifications, private, has a draft message"):u&&!h&&E&&A&&!v&&!f&&!g&&y?s.t("current channel, has notifications, private, has a draft message"):!u&&!h&&E&&A&&!v&&!f&&!g&&y?s.t("has notifications, private, has a draft message"):u&&h&&!E&&A&&!v&&!f&&!g&&y?s.t("current channel, has unread messages, private, has a draft message"):!u&&h&&!E&&A&&!v&&!f&&!g&&y?s.t("has unread messages, private, has a draft message"):u&&!h&&!E&&A&&!v&&!f&&!g&&y?s.t("current channel, private, has a draft message"):!u&&!h&&!E&&A&&!v&&!f&&!g&&y?s.t("private, has a draft message"):u&&h&&E&&!A&&!v&&!f&&!g&&y?s.t("current channel, has unread messages and notifications, has a draft message"):!u&&h&&E&&!A&&!v&&!f&&!g&&y?s.t("has unread messages and notifications, has a draft message"):u&&!h&&E&&!A&&!v&&!f&&!g&&y?s.t("current channel, has notifications, has a draft message"):!u&&!h&&E&&!A&&!v&&!f&&!g&&y?s.t("has notifications, has a draft message"):u&&h&&!E&&!A&&!v&&!f&&!g&&y?s.t("current channel, has unread messages, has a draft message"):!u&&h&&!E&&!A&&!v&&!f&&!g&&y?s.t("has unread messages, has a draft message"):u&&!h&&!E&&!A&&!v&&!f&&!g&&y?s.t("current channel, has a draft message"):!u&&!h&&!E&&!A&&!v&&!f&&!g&&y?s.t("has a draft message"):u&&h&&E&&A&&v&&f&&g&&!y?s.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):!u&&h&&E&&A&&v&&f&&g&&!y?s.t("has unread messages and notifications, private, not a member, muted, starred"):u&&!h&&E&&A&&v&&f&&g&&!y?s.t("current channel, has notifications, private, not a member, muted, starred"):!u&&!h&&E&&A&&v&&f&&g&&!y?s.t("has notifications, private, not a member, muted, starred"):u&&h&&!E&&A&&v&&f&&g&&!y?s.t("current channel, has unread messages, private, not a member, muted, starred"):!u&&h&&!E&&A&&v&&f&&g&&!y?s.t("has unread messages, private, not a member, muted, starred"):u&&!h&&!E&&A&&v&&f&&g&&!y?s.t("current channel, private, not a member, muted, starred"):!u&&!h&&!E&&A&&v&&f&&g&&!y?s.t("private, not a member, muted, starred"):u&&h&&E&&!A&&v&&f&&g&&!y?s.t("current channel, has unread messages and notifications, not a member, muted, starred"):!u&&h&&E&&!A&&v&&f&&g&&!y?s.t("has unread messages and notifications, not a member, muted, starred"):u&&!h&&E&&!A&&v&&f&&g&&!y?s.t("current channel, has notifications, not a member, muted, starred"):!u&&!h&&E&&!A&&v&&f&&g&&!y?s.t("has notifications, not a member, muted, starred"):u&&h&&!E&&!A&&v&&f&&g&&!y?s.t("current channel, has unread messages, not a member, muted, starred"):!u&&h&&!E&&!A&&v&&f&&g&&!y?s.t("has unread messages, not a member, muted, starred"):u&&!h&&!E&&!A&&v&&f&&g&&!y?s.t("current channel, not a member, muted, starred"):!u&&!h&&!E&&!A&&v&&f&&g&&!y?s.t("not a member, muted, starred"):u&&h&&E&&A&&!v&&f&&g&&!y?s.t("current channel, has unread messages and notifications, private, muted, starred"):!u&&h&&E&&A&&!v&&f&&g&&!y?s.t("has unread messages and notifications, private, muted, starred"):u&&!h&&E&&A&&!v&&f&&g&&!y?s.t("current channel, has notifications, private, muted, starred"):!u&&!h&&E&&A&&!v&&f&&g&&!y?s.t("has notifications, private, muted, starred"):u&&h&&!E&&A&&!v&&f&&g&&!y?s.t("current channel, has unread messages, private, muted, starred"):!u&&h&&!E&&A&&!v&&f&&g&&!y?s.t("has unread messages, private, muted, starred"):u&&!h&&!E&&A&&!v&&f&&g&&!y?s.t("current channel, private, muted, starred"):!u&&!h&&!E&&A&&!v&&f&&g&&!y?s.t("private, muted, starred"):u&&h&&E&&!A&&!v&&f&&g&&!y?s.t("current channel, has unread messages and notifications, muted, starred"):!u&&h&&E&&!A&&!v&&f&&g&&!y?s.t("has unread messages and notifications, muted, starred"):u&&!h&&E&&!A&&!v&&f&&g&&!y?s.t("current channel, has notifications, muted, starred"):!u&&!h&&E&&!A&&!v&&f&&g&&!y?s.t("has notifications, muted, starred"):u&&h&&!E&&!A&&!v&&f&&g&&!y?s.t("current channel, has unread messages, muted, starred"):!u&&h&&!E&&!A&&!v&&f&&g&&!y?s.t("has unread messages, muted, starred"):u&&!h&&!E&&!A&&!v&&f&&g&&!y?s.t("current channel, muted, starred"):!u&&!h&&!E&&!A&&!v&&f&&g&&!y?s.t("muted, starred"):u&&h&&E&&A&&v&&!f&&g&&!y?s.t("current channel, has unread messages and notifications, private, not a member, starred"):!u&&h&&E&&A&&v&&!f&&g&&!y?s.t("has unread messages and notifications, private, not a member, starred"):u&&!h&&E&&A&&v&&!f&&g&&!y?s.t("current channel, has notifications, private, not a member, starred"):!u&&!h&&E&&A&&v&&!f&&g&&!y?s.t("has notifications, private, not a member, starred"):u&&h&&!E&&A&&v&&!f&&g&&!y?s.t("current channel, has unread messages, private, not a member, starred"):!u&&h&&!E&&A&&v&&!f&&g&&!y?s.t("has unread messages, private, not a member, starred"):u&&!h&&!E&&A&&v&&!f&&g&&!y?s.t("current channel, private, not a member, starred"):!u&&!h&&!E&&A&&v&&!f&&g&&!y?s.t("private, not a member, starred"):u&&h&&E&&!A&&v&&!f&&g&&!y?s.t("current channel, has unread messages and notifications, not a member, starred"):!u&&h&&E&&!A&&v&&!f&&g&&!y?s.t("has unread messages and notifications, not a member, starred"):u&&!h&&E&&!A&&v&&!f&&g&&!y?s.t("current channel, has notifications, not a member, starred"):!u&&!h&&E&&!A&&v&&!f&&g&&!y?s.t("has notifications, not a member, starred"):u&&h&&!E&&!A&&v&&!f&&g&&!y?s.t("current channel, has unread messages, not a member, starred"):!u&&h&&!E&&!A&&v&&!f&&g&&!y?s.t("has unread messages, not a member, starred"):u&&!h&&!E&&!A&&v&&!f&&g&&!y?s.t("current channel, not a member, starred"):!u&&!h&&!E&&!A&&v&&!f&&g&&!y?s.t("not a member, starred"):u&&h&&E&&A&&!v&&!f&&g&&!y?s.t("current channel, has unread messages and notifications, private, starred"):!u&&h&&E&&A&&!v&&!f&&g&&!y?s.t("has unread messages and notifications, private, starred"):u&&!h&&E&&A&&!v&&!f&&g&&!y?s.t("current channel, has notifications, private, starred"):!u&&!h&&E&&A&&!v&&!f&&g&&!y?s.t("has notifications, private, starred"):u&&h&&!E&&A&&!v&&!f&&g&&!y?s.t("current channel, has unread messages, private, starred"):!u&&h&&!E&&A&&!v&&!f&&g&&!y?s.t("has unread messages, private, starred"):u&&!h&&!E&&A&&!v&&!f&&g&&!y?s.t("current channel, private, starred"):!u&&!h&&!E&&A&&!v&&!f&&g&&!y?s.t("private, starred"):u&&h&&E&&!A&&!v&&!f&&g&&!y?s.t("current channel, has unread messages and notifications, starred"):!u&&h&&E&&!A&&!v&&!f&&g&&!y?s.t("has unread messages and notifications, starred"):u&&!h&&E&&!A&&!v&&!f&&g&&!y?s.t("current channel, has notifications, starred"):!u&&!h&&E&&!A&&!v&&!f&&g&&!y?s.t("has notifications, starred"):u&&h&&!E&&!A&&!v&&!f&&g&&!y?s.t("current channel, has unread messages, starred"):!u&&h&&!E&&!A&&!v&&!f&&g&&!y?s.t("has unread messages, starred"):u&&!h&&!E&&!A&&!v&&!f&&g&&!y?s.t("current channel, starred"):!u&&!h&&!E&&!A&&!v&&!f&&g&&!y?s.t("starred"):u&&h&&E&&A&&v&&f&&!g&&!y?s.t("current channel, has unread messages and notifications, private, not a member, muted"):!u&&h&&E&&A&&v&&f&&!g&&!y?s.t("has unread messages and notifications, private, not a member, muted"):u&&!h&&E&&A&&v&&f&&!g&&!y?s.t("current channel, has notifications, private, not a member, muted"):!u&&!h&&E&&A&&v&&f&&!g&&!y?s.t("has notifications, private, not a member, muted"):u&&h&&!E&&A&&v&&f&&!g&&!y?s.t("current channel, has unread messages, private, not a member, muted"):!u&&h&&!E&&A&&v&&f&&!g&&!y?s.t("has unread messages, private, not a member, muted"):u&&!h&&!E&&A&&v&&f&&!g&&!y?s.t("current channel, private, not a member, muted"):!u&&!h&&!E&&A&&v&&f&&!g&&!y?s.t("private, not a member, muted"):u&&h&&E&&!A&&v&&f&&!g&&!y?s.t("current channel, has unread messages and notifications, not a member, muted"):!u&&h&&E&&!A&&v&&f&&!g&&!y?s.t("has unread messages and notifications, not a member, muted"):u&&!h&&E&&!A&&v&&f&&!g&&!y?s.t("current channel, has notifications, not a member, muted"):!u&&!h&&E&&!A&&v&&f&&!g&&!y?s.t("has notifications, not a member, muted"):u&&h&&!E&&!A&&v&&f&&!g&&!y?s.t("current channel, has unread messages, not a member, muted"):!u&&h&&!E&&!A&&v&&f&&!g&&!y?s.t("has unread messages, not a member, muted"):u&&!h&&!E&&!A&&v&&f&&!g&&!y?s.t("current channel, not a member, muted"):!u&&!h&&!E&&!A&&v&&f&&!g&&!y?s.t("not a member, muted"):u&&h&&E&&A&&!v&&f&&!g&&!y?s.t("current channel, has unread messages and notifications, private, muted"):!u&&h&&E&&A&&!v&&f&&!g&&!y?s.t("has unread messages and notifications, private, muted"):u&&!h&&E&&A&&!v&&f&&!g&&!y?s.t("current channel, has notifications, private, muted"):!u&&!h&&E&&A&&!v&&f&&!g&&!y?s.t("has notifications, private, muted"):u&&h&&!E&&A&&!v&&f&&!g&&!y?s.t("current channel, has unread messages, private, muted"):!u&&h&&!E&&A&&!v&&f&&!g&&!y?s.t("has unread messages, private, muted"):u&&!h&&!E&&A&&!v&&f&&!g&&!y?s.t("current channel, private, muted"):!u&&!h&&!E&&A&&!v&&f&&!g&&!y?s.t("private, muted"):u&&h&&E&&!A&&!v&&f&&!g&&!y?s.t("current channel, has unread messages and notifications, muted"):!u&&h&&E&&!A&&!v&&f&&!g&&!y?s.t("has unread messages and notifications, muted"):u&&!h&&E&&!A&&!v&&f&&!g&&!y?s.t("current channel, has notifications, muted"):!u&&!h&&E&&!A&&!v&&f&&!g&&!y?s.t("has notifications, muted"):u&&h&&!E&&!A&&!v&&f&&!g&&!y?s.t("current channel, has unread messages, muted"):!u&&h&&!E&&!A&&!v&&f&&!g&&!y?s.t("has unread messages, muted"):u&&!h&&!E&&!A&&!v&&f&&!g&&!y?s.t("current channel, muted"):!u&&!h&&!E&&!A&&!v&&f&&!g&&!y?s.t("muted"):u&&h&&E&&A&&v&&!f&&!g&&!y?s.t("current channel, has unread messages and notifications, private, not a member"):!u&&h&&E&&A&&v&&!f&&!g&&!y?s.t("has unread messages and notifications, private, not a member"):u&&!h&&E&&A&&v&&!f&&!g&&!y?s.t("current channel, has notifications, private, not a member"):!u&&!h&&E&&A&&v&&!f&&!g&&!y?s.t("has notifications, private, not a member"):u&&h&&!E&&A&&v&&!f&&!g&&!y?s.t("current channel, has unread messages, private, not a member"):!u&&h&&!E&&A&&v&&!f&&!g&&!y?s.t("has unread messages, private, not a member"):u&&!h&&!E&&A&&v&&!f&&!g&&!y?s.t("current channel, private, not a member"):!u&&!h&&!E&&A&&v&&!f&&!g&&!y?s.t("private, not a member"):u&&h&&E&&!A&&v&&!f&&!g&&!y?s.t("current channel, has unread messages and notifications, not a member"):!u&&h&&E&&!A&&v&&!f&&!g&&!y?s.t("has unread messages and notifications, not a member"):u&&!h&&E&&!A&&v&&!f&&!g&&!y?s.t("current channel, has notifications, not a member"):!u&&!h&&E&&!A&&v&&!f&&!g&&!y?s.t("has notifications, not a member"):u&&h&&!E&&!A&&v&&!f&&!g&&!y?s.t("current channel, has unread messages, not a member"):!u&&h&&!E&&!A&&v&&!f&&!g&&!y?s.t("has unread messages, not a member"):u&&!h&&!E&&!A&&v&&!f&&!g&&!y?s.t("current channel, not a member"):!u&&!h&&!E&&!A&&v&&!f&&!g&&!y?s.t("not a member"):u&&h&&E&&A&&!v&&!f&&!g&&!y?s.t("current channel, has unread messages and notifications, private"):!u&&h&&E&&A&&!v&&!f&&!g&&!y?s.t("has unread messages and notifications, private"):u&&!h&&E&&A&&!v&&!f&&!g&&!y?s.t("current channel, has notifications, private"):!u&&!h&&E&&A&&!v&&!f&&!g&&!y?s.t("has notifications, private"):u&&h&&!E&&A&&!v&&!f&&!g&&!y?s.t("current channel, has unread messages, private"):!u&&h&&!E&&A&&!v&&!f&&!g&&!y?s.t("has unread messages, private"):u&&!h&&!E&&A&&!v&&!f&&!g&&!y?s.t("current channel, private"):!u&&!h&&!E&&A&&!v&&!f&&!g&&!y?s.t("private"):u&&h&&E&&!A&&!v&&!f&&!g&&!y?s.t("current channel, has unread messages and notifications"):!u&&h&&E&&!A&&!v&&!f&&!g&&!y?s.t("has unread messages and notifications"):u&&!h&&E&&!A&&!v&&!f&&!g&&!y?s.t("current channel, has notifications"):!u&&!h&&E&&!A&&!v&&!f&&!g&&!y?s.t("has notifications"):u&&h&&!E&&!A&&!v&&!f&&!g&&!y?s.t("current channel, has unread messages"):!u&&h&&!E&&!A&&!v&&!f&&!g&&!y?s.t("has unread messages"):u&&!h&&!E&&!A&&!v&&!f&&!g&&!y?s.t("current channel"):"")();return o&&!T&&!M?s.t("{channelName}, previously {previousChannelName}",{channelName:d,previousChannelName:o}):!o&&!T&&M?s.t("{channelName} ({context})",{channelName:d,context:M}):o&&!T&&M?s.t("{channelName}, previously {previousChannelName} ({context})",{channelName:d,previousChannelName:o,context:M}):!o&&T&&!M?s.t("{channelName}, {workspaceDescription}",{channelName:d,workspaceDescription:T}):o&&T&&!M?s.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:d,workspaceDescription:T,previousChannelName:o}):!o&&T&&M?s.t("{channelName}, {workspaceDescription} ({context})",{channelName:d,workspaceDescription:T,context:M}):o&&T&&M?s.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:d,workspaceDescription:T,previousChannelName:o,context:M}):d||""}i(r,"makeAriaLabelForChannel")},1269024372:(Q,C,e)=>{"use strict";e.d(C,{e:()=>n,k:()=>s});var t=e(352142497);const n={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function s(r){return n[r]}i(s,"maybeGetAutomationsTab")},264208541:(Q,C,e)=>{"use strict";e.d(C,{Ey:()=>o,Hn:()=>a,gs:()=>l,mw:()=>c,nS:()=>m});var t=e(8665296019),n=e(1033764764),s;let r=!!(!(window==null||(s=window.performance)===null||s===void 0)&&s.memory);function d(){return r?window.performance.memory.jsHeapSizeLimit:null}i(d,"getMemoryLimit");function o(){return r?window.performance.memory.totalJSHeapSize:null}i(o,"getMemoryTotal");function a(){return r?window.performance.memory.usedJSHeapSize:null}i(a,"getMemoryUsed");function l(){return r}i(l,"supportsMemoryMeasurement");function m(p){const u=p/1e3/1e3;return`${u<100?u.toPrecision(3):Math.round(u)} MB`}i(m,"humanizeBytes");function c(p,u){const h=(0,t.A)(p,E=>{let{memory:A}=E;return A[u]||0});return Math.ceil((0,n.UK)(h))}i(c,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:p=>{r=p}}})},8869734951:(Q,C,e)=>{"use strict";e.d(C,{N:()=>t,P:()=>s});function t(r,d){const{ref:o}=d;return s(r,o)}i(t,"mergeRefWithChildRef");function n(r){return d=>{typeof r=="function"?r(d):r&&(r.current=d)}}i(n,"makeRefBackwardsCompatible");function s(){for(var r=arguments.length,d=new Array(r),o=0;o<r;o++)d[o]=arguments[o];return a=>{d.forEach(l=>{n(l)(a)})}}i(s,"mergeRefs")},5737576046:(Q,C,e)=>{"use strict";e.d(C,{Pw:()=>c,bC:()=>a,wn:()=>m,zC:()=>l});var t=e(1703559452),n=e(1022424641),s=e(796111729),r=e(9470581768),d=e(8800777280);const o={};function a(_){let{channelId:p,functions:u,getInputInstance:h,threadTs:E,viewContext:A}=_;if(!h)throw new Error('Missing required "getInputInstance" param');const v=`${A}-${p}-${E}`;return o[v]&&(0,s.Ay)().warn(`Registering duplicate input (key: "${v}")`),o[v]={clear:()=>{var f,g;(f=h())===null||f===void 0||(g=f.clear)===null||g===void 0||g.call(f)},clearHistory:()=>{var f,g;(f=h())===null||f===void 0||(g=f.clearHistory)===null||g===void 0||g.call(f)},focus:()=>{var f,g;(f=h())===null||f===void 0||(g=f.focus)===null||g===void 0||g.call(f)},getContents:()=>{var f,g;return(f=h())===null||f===void 0||(g=f.getContents)===null||g===void 0?void 0:g.call(f)},getDisplayValue:()=>{var f,g;return(f=h())===null||f===void 0||(g=f.displayValue)===null||g===void 0?void 0:g.call(f)},getLength:()=>{var f,g;return(f=h())===null||f===void 0||(g=f.getLength)===null||g===void 0?void 0:g.call(f)},getSelection:()=>{var f,g;return(f=h())===null||f===void 0||(g=f.getSelection)===null||g===void 0?void 0:g.call(f)},getText:()=>{var f,g;return(f=h())===null||f===void 0||(g=f.value)===null||g===void 0?void 0:g.call(f)},hasFocus:()=>{var f,g;return(f=h())===null||f===void 0||(g=f.hasFocus)===null||g===void 0?void 0:g.call(f)},insertContentsAtCursor:function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.insertContentsAtCursor)===null||M===void 0||M.call(T,...g)},isEmpty:()=>{var f,g;return!!(!((f=h())===null||f===void 0||(g=f.isEmpty)===null||g===void 0)&&g.call(f))},isEnabled:()=>{var f,g;return!!(!((f=h())===null||f===void 0||(g=f.isEnabled)===null||g===void 0)&&g.call(f))},prependContents:f=>{var g,y;(g=h())===null||g===void 0||(y=g.prependContents)===null||y===void 0||y.call(g,f)},setContents:function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.setContents)===null||M===void 0||M.call(T,...g)},setCursor:function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.setCursor)===null||M===void 0||M.call(T,...g)},setCursorAtEnd:()=>{var f,g;(f=h())===null||f===void 0||(g=f.setCursorAtEnd)===null||g===void 0||g.call(f)},setText:function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.value)===null||M===void 0||M.call(T,...g)},...u},()=>{delete o[v]}}i(a,"registerInputAuto");function l(_){let{viewContext:p,channelId:u,threadTs:h}=_;return o[`${p}-${u}-${h||void 0}`]}i(l,"getInputProxy");function m(_){if(!_||!(0,r.A)(_))return null;let p,u,h;return(0,d.A)(_,A=>A.getAttribute("data-message-input")?(p=A.getAttribute("data-channel-id"),u=A.getAttribute("data-thread-ts"),h=A.getAttribute("data-view-context"),!0):!1)?l({viewContext:h,channelId:p,threadTs:u}):null}i(m,"getProxyForElement");function c(){let{channelId:_,threadTs:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const u=`${_}-${p}`,h=Object.keys(o);return(0,t.A)(h,E=>(0,n.A)(E,u))}i(c,"isInputRegistered")},4394722864:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>t});const t=i(()=>null,"noopNull")},662226046:(Q,C,e)=>{"use strict";e.d(C,{R2:()=>E,bP:()=>A,ec:()=>T,fU:()=>y,p6:()=>I,qe:()=>M,x2:()=>P,yj:()=>D});var t=e(6858020025),n=e(3783303734),s=e(796111729),r=e(571104883),d=e(5795074931),o=e(8847766420),a=e(2872463257),l=e(3855029223);const m="notification:sent",c="notification:received",_="notification:opened",p="notification:quick_reply",u="notification:read_in_app",h=100;function E(k){try{return JSON.stringify(k)}catch(R){return(0,s.Wo)().warn("encodeNotificationTracePassthrough json stringify error",R),""}}i(E,"encodeNotificationTracePassthrough");function A(k){try{const{traceId:R,parentSpanId:V}=JSON.parse(k);return{traceId:R,parentSpanId:V}}catch(R){return(0,s.Wo)().warn("decodeNotificationTracePassthrough json parse error",R),{traceId:"",parentSpanId:""}}}i(A,"decodeNotificationTracePassthrough");function v(k){let{tracer:R,name:V,parentSpanId:B,traceId:W}=k;return R.createSpan({name:V,samplingOptions:{sampleType:a.nl.ALWAYS},options:{parentSpanId:B,traceId:W}})}i(v,"createSpan");function f(k){let{tracer:R,name:V,parentSpanId:B,traceId:W}=k;const L=v({tracer:R,name:V,parentSpanId:B,traceId:W});return L.close(),L}i(f,"createAndCloseSpan");function g(k,R){let{tracer:V,message:B}=R;const W=f({tracer:V,name:m}),L=(0,r.y3)()?"desktop":"browser",S=(0,d.WR)(k),H=(0,o.ZT)(k),w=(0,t.A)(B==null?void 0:B.ts,".",""),F=B==null?void 0:B.channel,j=`${S}-${F}-${w}`;return W.addTags({platform:L,encoded_user_id:S,encoded_team_id:H,encoded_channel_id:F,message_ts:w,notification_id:j}),W}i(g,"createAndCloseNotificationSentSpan");function y(k,R){let{message:V}=R;if(!V||!(V!=null&&V.ts)||!(V!=null&&V.channel))return;const B=(0,l.E)({state:k});let W,L;const S=[];if((V==null?void 0:V.type)==="desktop_notification"&&(V!=null&&V.trace_ctx))W=V.trace_ctx["x-b3-traceid"],L=V.trace_ctx["x-b3-spanid"];else{const w=g(k,{tracer:B,message:V});S.push(w),L=w.getId(),W=w.getTraceId()}const H=f({name:c,tracer:B,traceId:W,parentSpanId:L});return S.push(H),B.reportSpans(S),{traceId:W,parentSpanId:L}}i(y,"traceNotificationSentAndReceived");function T(k,R){let{notificationTracePassthroughData:V}=R;if(!V)return;const{traceId:B,parentSpanId:W}=V,L=(0,l.E)({state:k}),S=f({tracer:L,traceId:B,parentSpanId:W,name:_});L.reportSpans([S])}i(T,"traceNotificationOpened");function M(k,R){let{notificationTracePassthroughData:V,clientMsgId:B}=R;if(!V||!B)return;const{traceId:W,parentSpanId:L}=V,S=(0,l.E)({state:k}),H=f({tracer:S,traceId:W,parentSpanId:L,name:p});H.addTags({reply_message_client_message_id:B}),S.reportSpans([H])}i(M,"traceNotificationQuickReply");let O={};function I(k){return!!O[k]}i(I,"messageHasPendingNotificationTrace");function D(k,R){let{timestamp:V,notificationTracePassthroughData:B}=R;if(!B)return;(0,n.A)(O)>h&&((0,s.Ay)({state:k}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),O={});const{traceId:W,parentSpanId:L}=B,S=(0,l.E)({state:k}),H=v({tracer:S,traceId:W,parentSpanId:L,name:u});O[V]=H}i(D,"openNotificationReadSpan");function P(k,R){let{timestamp:V}=R;if(!V)return;const B=O[V];if(!B)return;const W=(0,l.E)({state:k});B.close(),W.reportSpans([B]),delete O[V]}i(P,"closeAndReportNotificationReadSpan")},5123689463:(Q,C,e)=>{"use strict";e.d(C,{Kk:()=>m,iu:()=>p,px:()=>a,rk:()=>l});var t=e(8786006583),n=e(9884588328),s=e(9022734571),r=e(2523456537),d=e(8234448831);function o(h){const{hostname:E,pathname:A,search:v}=h;if(!E||!A)return;const f=E.split("."),g=A.split("/").slice(1);if(!(0,r.A)(E)||g.length<2)return;const y=g[0];switch(y){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const T=f[0],M=(0,t.A)(v.split("?")),O=M&&(0,s.nT)(M);let I;return O&&O.thread_ts&&(I=O.thread_ts),{team:T,type:y,path:g,threadTs:I}}i(o,"parsePermalinkFromUrlObject");function a(h){return l((0,d.Ay)(h))}i(a,"getPermalinkIdentifier");function l(h){const E=o(h);if(!E)return;const{path:A}=E;return A?A&&A[1]:!1}i(l,"getPermalinkIdentifierFromUrlObject");function m(h){let{team:E,channelId:A,ts:v,threadTs:f}=h,g=A&&(0,n.Bn)({team:E,channelId:A,archive:!0});return A&&v&&(g+=`/p${v.replace(".","")}`),A&&v&&f&&f!==v&&(g+=`?thread_ts=${f}&cid=${A}`),g}i(m,"getXWSPermalink");function c(h){let{encodedSearchString:E}=h;return`/search/${E}`}i(c,"getSearchPermalink");function _(h,E){return`/archives/${h}/tabs/${E}`}i(_,"getChannelTabPermalink");function p(h){let{channelId:E,ts:A,threadTs:v}=h,f="/archives";return E&&(f+=`/${E}`),E&&A&&(f+=`/p${A.replace(".","")}`),E&&A&&v&&v!==A&&(f+=`?thread_ts=${v}&cid=${E}`),f}i(p,"getPermalink");var u=null},6979898962:(Q,C,e)=>{"use strict";e.d(C,{B:()=>s,I:()=>r.A});var t=e(3134334389),n=e(4757466470);let s=i(class extends t.Component{shouldComponentUpdate(o,a){return!(0,n.Ay)(o,this.props,2)||!(0,n.Ay)(a,this.state,2)}},"PureComponentDepth2");var r=e(8993095355)},8993095355:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389),n=e(4757466470);let s=i(class extends t.Component{shouldComponentUpdate(d,o){return!(0,n.Ay)(d,this.props,3)||!(0,n.Ay)(o,this.state,3)}},"PureComponentDepth3")},8417858288:(Q,C,e)=>{"use strict";e.d(C,{B:()=>t});function t(n){if(!n)return null;const s=n.split(":");return s.length!==3||s[0]!=="S"?null:{orgId:s[1],entityId:s[2]}}i(t,"parseSalesforceRecordId")},7948868735:(Q,C,e)=>{"use strict";e.d(C,{F:()=>s});var t=e(6422693406),n=e(4615579178);class s extends n.l{fetchData(){return t.S.resolve()}onCacheData(d){super.onCacheData(d);const o=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*o)}getStaleWhileRevalidate(d){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?d:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}i(s,"AutocompleteCache")},1948374838:(Q,C,e)=>{"use strict";e.d(C,{X:()=>d});var t=e(2223860501),n=e(8847766420);let s=i(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(a){const l=this.queryCache.has(a);return this.clearIfStale(),l}containsPrefixOf(a){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(a)}add(a){return this.clearIfStale(),this.queryCache.add(a)}addAsPrefix(a){return this.clearPrefixIfStale(),this.prefixQueryCache.add(a)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function d(o){const a=(0,n.ZT)(o),m=(0,n.jV)(o)||a||"";return r[m]||(r[m]=new s),r[m]}i(d,"getWorkflowTriggersAutocompleteQueryCache")},6125148745:(Q,C,e)=>{"use strict";e.d(C,{O:()=>v,w:()=>E});var t=e(9706240641),n=e.n(t),s=e(6422693406),r=e(6987519067),d=e(9884588328),o=e(1407713935),a=e(8798294025),l=e(8040098042),m=e(926136447),c=e(9752307e3),_=e(9150404500),p=e(9101533895),u=e(2036289572),h=e(2505585477);function E(y,T){const M=(0,h.YR)(y),O=new RegExp(`\\b(${(0,_.av)().in}|in):(#([^\\s]+))`,"g"),I=c.dn.fromString(y,M),D={};return I.suggestionTokenList.forEach(k=>{if(k instanceof m.tT){const{id:R,name:V}=k.getRawIdAndNameForXwsChannelWorkaround();R&&(0,l.A)(R)&&V&&(D[V]||(D[V]=[]),D[V].push({id:R,name:V}))}}),T.replace(O,(k,R,V,B)=>{if(D[B]&&D[B].length>0){const{id:W,name:L}=D[B].shift()||{};return`${R}:<#${W}|${L}>`}return k})}i(E,"convertUserQueryXwsChannelStringsForXwsChannelWorkaround");function A(y,T){if((0,o.LI)(T))return`<@${(0,a.e)(T)}>`;const M=(0,d.SB)(y,T,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return M?`<#${T.id}|${M}>`:`<#${T.id}>`}i(A,"formatInChannelValue");function v(y,T,M){const O=T(),I={},D=[],P={};((0,h.Zi)(O)||[]).forEach(V=>{const B=(0,p.OL)(O,V);B&&D.push(B)});const R=new RegExp(`\\b(${(0,_.av)().in}|in):(#([^\\s]+))`,"g");return f(M,R,(V,B,W,L)=>{const S=D.find(w=>(0,d.mG)(w)===L&&!I[w.id]&&!P[w.id]);if(S)return I[S.id]=!0,P[S.id]=!0,s.S.resolve(`${B}:${A(O,S)}`);const H=(0,p.Os)(O,L);return H&&!I[H.id]?(I[H.id]=!0,s.S.resolve(`${B}:${A(O,H)}`)):y((0,r.$P)({query:L,options:{fuzzyLimit:0,limit:150,entities:{channels:{includeArchived:!0,includeFromAnotherTeam:!0}},sort:{frecency:!1}}})).then(w=>{const F=T(),j=L&&L.replace("#",""),J=w.find(q=>q.name===j&&!I[q.id]);if(!J)return`${B}:${W}`;I[J.id]=!0;const X=(0,h.C6)(F).queryFilter;return X.in=Array.from(new Set([...X.in||[],J.id])),y((0,u.c3)({queryFilter:X})),`${B}:${A(O,J)}`})})}i(v,"convertContentsStringForEncodedXwsChannels");function f(y,T,M){return g.apply(this,arguments)}i(f,"replaceAsync");function g(){return g=(0,t.coroutine)(function*(y,T,M){const O=[];y.replace(T,function(D){for(var P=arguments.length,k=new Array(P>1?P-1:0),R=1;R<P;R++)k[R-1]=arguments[R];const V=M(D,...k);return O.push(V),y});const I=yield s.S.all(O);return y.replace(T,()=>I.shift()||"")}),g.apply(this,arguments)}i(g,"_replaceAsync")},2825917518:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r,u:()=>s});var t=e(6030318713),n=e(9422011462);const s=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=i(class Rs{normalizeAndScore(o){const a=(0,n.B)(o);return a===this.normalizedQuery?0:this.score(a)}score(o){if(!o||this.queryNoSeparators.length>o.replace(s,"").length||!Rs.containsAllLetters(o,this.queryNode)||!this.queryNode)return 1/0;const l=Rs.lettersToGraph(o,this.options);if(!l)return 1/0;const m=Rs.searchWordBoundariesOnly(l,this.queryNode,this.options);if(!m)return 1/0;const c=Rs.countResult(m);return c>this.fuzzyLimit?1/0:c}static scoreOnce(o,a,l){const m=(0,n.B)(a),c=(0,n.B)(o);return new Rs(m,l).score(c)}static lettersToGraph(o,a){const l=o.split(""),m=l.shift();return Rs.lettersToGraphWorker(m,null,l,[],0,a)}static lettersToGraphWorker(o,a,l,m,c){let _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!o)return null;const p=(0,t.A)(o),u=Rs.makeLetterNode(o,a,m,c,p);if(Rs.shouldAddJump(a,u,_)){const E=_.fuzzyJumpLimit||5;m.length<E&&m.push(u)}const h=Rs.lettersToGraphWorker(l.shift(),u,l,m,c+1,_);return h&&(u.next=h),u}static shouldAddJump(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.ignored?!1:!!(!o||o.ignored&&!a.ignored||l.fuzzyCJK&&(o.isCJK!==a.isCJK||a.isCJK))}static makeLetterNode(o,a,l,m,c){return{letter:o,ignored:o.match(s),next:null,prev:a,jumps:l,visited:!1,index:m,isCJK:c}}static queryToLinkedList(o){if(!o)return null;let a=o.split("");return a.length>1024&&(a=a.slice(0,1024)),Rs.queryToLinkedListWorker(a,0)}static queryToLinkedListWorker(o,a){if(a>=o.length)return null;const l=o[a],m=!!(l.match(s)&&(a!==0||o.length>1));return{letter:l,isSeparator:m,isSpace:l===" ",next:Rs.queryToLinkedListWorker(o,a+1),index:a}}static searchWordBoundariesOnly(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=Rs.searchWordBoundariesOnlyWorker(o,a,0,l);return m||(m=o.jumps.reduce((c,_)=>c||_===o?c:Rs.searchWordBoundariesOnlyWorker(_,a,1,l),null)),m}static searchWordBoundariesOnlyWorker(o,a,l){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!o||!a)return null;let c;if(!o.visited&&(o.letter===a.letter||o.ignored&&a.isSeparator)&&(c={node:o,count:l}),!c)return null;if(!a.next)return c;o.visited=!0;let _=Rs.searchWordBoundariesOnlyWorker(o.next,a.next,0,m),p=a.next;for(;p.isSeparator&&p.next;)p=p.next;return _||(_=o.jumps.reduce((u,h)=>u||h.visited||h===o||(m.searchForwardOnly||m.substringsOnly)&&h.index<o.index||m.substringsOnly&&h.index>o.index+2?u:Rs.searchWordBoundariesOnlyWorker(h,p,1,m),null)),o.visited=!1,_?(c.next=_,c):null}static countResult(o){return o?o.count+Rs.countResult(o.next):0}static containsAllLetters(o,a){let l=a;for(;l;){if(!(l.isSeparator||o.includes(l.letter)))return!1;l=l.next}return!0}constructor(o,a={}){this.normalizedQuery=(0,n.B)(o),this.queryNode=Rs.queryToLinkedList(this.normalizedQuery),this.options=a;var l;this.fuzzyLimit=(l=this.options.fuzzyLimit)!==null&&l!==void 0?l:1/0,this.queryNoSeparators=this.normalizedQuery.replace(s,"")}},"FuzzyMatcher")},8170659516:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9884588328),n=e(8921478798),s=e(8701485242),r=e(5795074931);function d(o){let{state:a,mpim:l,matchData:m}=o;const c=(0,r.WR)(a);let _=[];if((0,t.Ug)(l)&&(_=(0,t.Ug)(l).filter(A=>c!==A)),!m)return _;const p=!1,u=!1,h=[];m.forEach(A=>{A.map(f=>({name:(0,n.I)(a,f.id,p,u),...f})).sort((f,g)=>f.score<g.score?1:f.score>g.score?-1:(0,s.Ay)(f.name,g.name)).filter(f=>isFinite(f.score)).forEach(f=>{_.includes(f.id)&&(h.push(f.id),_.splice(_.indexOf(f.id),1))})});const E=_.map(A=>({id:A,name:(0,n.I)(a,A,p,u)})).sort((A,v)=>(0,s.Ay)(A.name,v.name)).map(A=>A.id);return[...h,...E]}i(d,"getMemberDisplayOrderForSearcherMPIM")},220244708:(Q,C,e)=>{"use strict";e.d(C,{B:()=>r});var t=e(6495946979),n=e(8170643398),s=e(3730613858);function r(d,o,a){if((0,n.fy)(o))return(0,t.b)(a);const l=(0,s.Ql)(d,a.id,o.id);return!!(l.isKnown&&l.isMember)}i(r,"isUserKnownToBeMemberOfChannel")},1072784641:(Q,C,e)=>{"use strict";e.d(C,{A:()=>le});var t=e(7715417323),n=e(5729325965),s=e(1703559452),r=e(4249070636),d=e(5238395322),o=e(8086952004),a=e(2003990933),l=e(3037015781),m=e(8496310524),c=e(7111365413),_=e(9884588328),p=e(1407713935),u=e(8798294025),h=e(395285811),E=e(3890290905);const A=i(he=>he&&(he.displayName||he.display_name||(0,E.Y)(he)),"getEmojiDisplayName"),v=i(he=>he?(he.aliases?[he,...he.aliases]:[he]).map(ve=>({name:(0,E.Y)(ve),displayName:A(ve)})):null,"getAllEmojiNameObjects");var f=e(2188787324),g=e(102566929),y=e(5455782105),T=e(8170643398),M=e(9262712126),O=e(6120301420),I=e(3212336858),D=e(6839188756),P=e(2023092677),k=e(1033870301),R=e(796111729);const V={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var B=e(1917953477),W=e(2825917518),L=e(9422011462),S=e(8518663094),H=e(2332798892);const w=i(he=>(he||"").split(/\s+/)[0],"getFirstWord"),F=i(he=>["/","\uFF0F"].includes((he||"").charAt(0))?he:`/${he}`,"prependSlashToStr"),j=i(he=>((he||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var J=e(8847766420),X=e(2762206868),q=e(9101533895),G=e(4761125736),ne=e(8276911661),te=e(3677514771);let le=i(class{filterMembers(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if((0,T.Zx)(N)||this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery){const z={item:N,score:0,id:N.id};return this.selfFirst&&(0,T.fy)(N)&&(z.isSelf=!0),oe.push(z),oe}const{score:K,scoreDetails:x}=this.scoreMember(N),b={item:N,score:K,scoreDetails:x,id:N.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(b.isExactMatch=this.isMemberExactMatch(N),b.exactMatchDetails=this.getMemberExactMatchDetails(N)),this.selfFirst&&(0,T.fy)(N)&&(b.isSelf=!0),K<=this.fuzzyLimit&&oe.push(b),oe},[])}scoreMember(fe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const me=1/0,oe={};if(this.queryIsMaybeSelf&&(0,T.fy)(fe))oe.self_score=0;else{const b=(0,M.j_)(fe),z=(0,M.sJ)(fe);oe.real_name=b?ve.score(b):me,oe.display_name=z?ve.score(z):me}if(this.shouldMatchEmail){const b=(0,M.ZL)(fe);oe.email=b?this.forwardOnlyMatcher.score(b):1/0}var N;const K=(N=(0,n.A)(Object.values(oe)))!==null&&N!==void 0?N:me,x=Object.entries(oe).reduce((b,z)=>{let[$,Z]=z;return isFinite(Z)&&(b[$]=Z),b},{});return{score:K,scoreDetails:x}}filterChannels(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if((0,p.PC)(N)||(0,p.Zx)(N)||(0,h.jT)(N)||this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=(0,L.B)((0,_.SB)(fe,N,{publicChannelIncludeHashSign:!1})),x=this.matcher.score(K),b={item:N,score:x,id:N.id};this.preferExactMatch&&(b.isExactMatch=this.isChannelExactMatchPreNormalized(K));const z=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,$=N.previous_names&&N.previous_names.length;let Z=!1;if(z&&$){var U;const ee=N==null||(U=N.previous_names)===null||U===void 0?void 0:U.map(ue=>({score:this.matcher.normalizeAndScore(ue),name:ue}));b.previousNameScores=ee,Z=(0,s.A)(ee,ue=>ue.score<=this.fuzzyLimit);const se=Z&&x>this.fuzzyLimit;let de;if(se){const ue=(0,r.A)(ee,"score");de=ue&&ue.name}b.bestPreviousNameMatch=de}return x<=this.fuzzyLimit||Z?oe.push(b):this.rawQuery===N.id&&oe.push({item:N,score:0,id:N.id}),oe},[])}filterTeams(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if((0,D.Zx)(N)||this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.matcher.normalizeAndScore((0,D.F1)(N)),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isTeamExactMatch(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}filterUserGroups(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if((0,P.Zx)(N)||this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.scoreUserGroupName(N),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isUsergroupExactMatch(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}scoreUserGroupName(fe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,me=1/0,oe=1/0;const N=(0,P.TZ)(fe)||(0,P.ue)(fe).toLocaleLowerCase(),K=(0,P.x_)(fe,{includeAtSign:!1});return me=ve.normalizeAndScore(N),K&&(oe=ve.normalizeAndScore(K)),Math.min(me,oe)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(ve=>!!ve).map(ve=>{const me=ve.charAt(0)==="@"?ve.substring(1):ve;return new W.A(me,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=(0,_.Ug)(N);if(!K)return oe;const x=K.map(de=>(0,ne.nv)(fe,de)).filter(de=>!(0,T.fy)(de)&&!(0,T.Zx)(de)),b={},z={},$=[];let Z=0;const U=this.getSubQueryMatchers();for(const de of U){const ue=[];let _e=1/0;for(const pe of x){const{score:ae,scoreDetails:Ee}=this.scoreMember(pe,de),Le=b==null?void 0:b[pe.id];ae<(Le!==void 0?Le:1/0)&&(b[pe.id]=ae,z[pe.id]={score_details:Ee}),ue.push({id:pe.id,score:ae}),ae<_e&&(_e=ae)}$.push(ue),Z+=_e}let ee;isFinite(Z)?ee=(0,d.A)(Object.values(b).filter(isFinite)):ee=Z;const se={id:N.id,item:N,score:ee,scoreDetailsByMember:z,subqueryScoresByMember:$};return ee<=this.fuzzyLimit?oe.push(se):this.rawQuery===N.id&&oe.push({item:N,score:0,id:N.id}),oe},[])}filterIms(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;const K=(0,u.e)(N);if(!K)return oe;const x=(0,ne.nv)(fe,K);if((0,T.Zx)(x))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const{score:b,scoreDetails:z}=this.scoreMember(x),$={item:N,score:b,scoreDetails:z,id:N.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&($.isExactMatch=this.isMemberExactMatch(x),$.exactMatchDetails=this.getMemberExactMatchDetails(x)),b<=this.fuzzyLimit?oe.push($):this.rawQuery===N.id&&oe.push({item:N,score:0,id:N.id}),oe},[])}filterViews(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.matcher.normalizeAndScore(N.name),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isViewOrModalExact(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}filterModals(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.matcher.normalizeAndScore(N.name),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isViewOrModalExact(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}filterAppActions(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if((0,l.GU)(N)||this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=(0,m.u)(N),x=(0,X.sO)(fe,N.app_id),b=!(0,l.GU)(x)&&(0,c.fj)(x),z=b?[`${K} ${b}`,`${b} ${K}`]:[K],$=z.map(ee=>this.matcher.normalizeAndScore(ee)),Z=Math.min(...$),U={item:N,score:Z,id:N.id};return this.preferExactMatch&&(U.isExactMatch=!!(this.query&&z.map(L.B).includes(this.query))),Z<=this.fuzzyLimit&&oe.push(U),oe},[])}filterApps(fe,ve,me,oe){let N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const K={};return ve!=null&&ve.length&&ve.forEach(x=>{const b=x.app_id;b&&!K[b]&&(K[b]={id:b,name:x.appName})}),me!=null&&me.length&&me.forEach(x=>{const b=x==null?void 0:x.appId;b&&!K[b]&&(K[b]={id:b,name:x==null?void 0:x.appName})}),oe!=null&&oe.length&&oe.forEach(x=>{const b=x.appId;b&&!K[b]&&(K[b]={id:b,name:x.appName})}),this.filterShortcuts(fe,Object.values(K),!1,N)}filterShortcuts(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return ve.reduce((N,K)=>{if((0,l.GU)(K)||this.shouldFilterItem(K,oe))return N;if(!this.query&&this.allowEmptyQuery)return N.push({item:K,score:0,id:K.id}),N;const{score:x,scoreDetails:b,bestNameMatch:z,bestNameIsExactMatch:$}=this.scoreShortcut(K,me),Z={item:K,id:K.id,score:x};if(me){Z.firstWordOfRawQuery=w(this.query);const U=(0,H.A)(K,F(Z.firstWordOfRawQuery),{allowPartialMatches:!1});Z.commandMatch=U&&this.isOpenedWithSlash,Z.isExactMatch=Z.commandMatch}return Z.scoreDetails=b,Z.bestNameMatch=z,Z.bestNameIsExactMatch=$,Z.isExactMatch=Z.isExactMatch||$,(x<=this.fuzzyLimit||Z.commandMatch)&&N.push(Z),N},[])}scoreShortcut(fe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const oe=this.isQueryExactlySlash?[]:fe.aliases||[];let N=(0,L.B)((0,I.fK)(fe));const K={name:me.score(N),label:me.normalizeAndScore(fe.label),desc:me.normalizeAndScore((0,I.Hv)(fe)),app_name:me.normalizeAndScore((0,I.qA)(fe))};ve&&K.name!==void 0&&K.name>0&&(K.name-=1);let x,b,z;oe.forEach(ee=>{let se=(0,L.B)(ee);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(se=(0,B.O)(se));const de=me.score(se);se=(0,B.O)(se),!z&&(x===void 0||de<x)&&(x=de,b=se),this.normalizedQuery===se&&(z=!0,b=se)}),x!==void 0&&isFinite(x)&&(K.aliases=x);var $;const Z=($=(0,n.A)(Object.values(K)))!==null&&$!==void 0?$:1/0;N=(0,B.O)(N),!z&&isFinite(K.name)&&(x===void 0||K.name<x)&&(b=N),this.normalizedQuery===N&&(z=!0,b=N);const U=Object.entries(K).reduce((ee,se)=>{let[de,ue]=se;return isFinite(ue)&&(ee[de]=ue),ee},{});return{score:Z,scoreDetails:U,bestNameMatch:b,bestNameIsExactMatch:z}}filterWorkflowTriggers(fe,ve){return ve.reduce((me,oe)=>{if(!this.query&&this.allowEmptyQuery)return me.push({item:oe,score:0,id:oe.id}),me;const N=this.scoreWorkflowTrigger(oe),K={item:oe,score:N,id:oe.id};return this.preferExactMatch&&(K.isExactMatch=this.isTriggerExactMatch(oe)),N<=this.fuzzyLimit&&me.push(K),me},[])}scoreWorkflowTrigger(fe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;var me;const oe={name:ve.normalizeAndScore(fe.name),description:ve.normalizeAndScore(fe.description),appName:ve.normalizeAndScore((me=fe.workflow.app)===null||me===void 0?void 0:me.name)};var N;return(N=(0,n.A)(Object.values(oe)))!==null&&N!==void 0?N:1/0}filterBroadcastKeywords(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.scoreBroadcastKeyword(N),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isBroadcastKeywordExactMatch(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}scoreBroadcastKeyword(fe){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,me=1/0,oe=1/0;const N=ve.normalizeAndScore(fe.name);return fe.id==="BKchannel"&&(me=ve.normalizeAndScore("group")),fe.ms_name!==fe.name&&(oe=ve.normalizeAndScore(fe.ms_name)),Math.min(N,oe,me)}filterEmoji(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const oe=[];return ve.forEach(N=>{if(this.shouldFilterItem(N,me))return;if(!this.query&&this.allowEmptyQuery){var K;oe.push({item:N,emojiScore:0,emojiMatchIndices:[],score:0,id:(K=N.id)!==null&&K!==void 0?K:N.name});return}var x;const b=(x=v(N))!==null&&x!==void 0?x:[];let z=1/0,$,Z,U,ee,se,de;b.forEach(Le=>{let{name:ye,displayName:Te}=Le;if(ye){const Ae=(0,L.B)(ye),Ie=this.scoreEmojiName(Ae);(Ie.score<z||z===1/0)&&(z=Ie.score,$=Ie.matchIndices,Z=ye,U=ye,se=Ie.queryLengthRatio,de=Ie.totalComboBreaks,ee=this.query===Ae||ye==="ok_hand"&&this.query==="ok")}if(Te&&Te!==ye){const Ae=(0,L.B)(Te),Ie=this.scoreEmojiName(Ae);(Ie.score<z||z===1/0)&&(z=Ie.score,$=Ie.matchIndices,Z=Te,U=ye,se=Ie.queryLengthRatio,de=Ie.totalComboBreaks,ee=this.query===Ae)}});const ue=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,_e=N.keywords,pe=!!(_e&&_e.length&&Array.isArray(_e));_e&&_e.length&&!Array.isArray(_e)&&(0,R.Ay)({state:fe}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${N.name} is not an array - ${N.keywords}`);let ae=!1;if(z===1/0&&ue&&pe&&(ae=N.keywords.some(Le=>this.matcher.normalizeAndScore(Le)<1/0),ae&&(Z=N&&(N.displayName||N.name))),z!==1/0||ae){const Le=(0,o.A)(b,Ae=>{let{name:Ie}=Ae;return Ie===U}),ye=Le&&Le.displayName;var Ee;const Te={item:N,score:z,emojiScore:z,emojiBestNameMatch:Z,emojiBestNameMatchCanonical:U,emojiBestNameMatchLocalized:ye,emojiMatchIndices:$,emojiQueryLengthRatio:se,emojiTotalComboBreaks:de,id:(Ee=N.id)!==null&&Ee!==void 0?Ee:N.name};this.preferExactMatch&&(Te.isExactMatch=ee,Te.isEmojiExactMatch=ee),oe.push(Te)}}),oe}scoreEmojiName(fe){const ve={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!fe)return ve;if(fe==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(V[this.query]&&V[this.query].indexOf(fe)!==-1)return ve;const me=this.query.length,oe=[];let N=2,K=5;me<3?(N=0,K=0):me===3?(N=1,K=1):me===4&&(N=1);let x=1/0,b=0,z=null,$=fe.indexOf(this.query);if($===-1&&($=fe.indexOf(this.query[0])),$!==-1){const Z=/\s+/g,U=/[-]+/g,ee=this.query.replace(Z,"").replace(U,"_"),se=fe.replace(U,"_"),de=ee.split("");z=0;let ue=0,_e=0,pe=!0;for(let ae=$;ae<se.length;ae++){if(se[ae]===de[0]){if(pe=!0,oe.push(ae),de.shift(),_e>ue&&(ue=_e),_e=0,de.length===0)break}else pe&&(z+=1),pe=!1,_e+=1;if(z>N)return{score:x,matchIndices:oe,queryLengthRatio:b,totalComboBreaks:z};if(_e>K)return{score:x,matchIndices:oe,queryLengthRatio:b,totalComboBreaks:z}}if(de.length>0)return ve;b=ee.length/se.length,x=1-b,z>0&&(x+=z)}return{score:x,matchIndices:oe,queryLengthRatio:b,totalComboBreaks:z}}filterFiles(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const oe=(0,O.hq)(fe),N=(0,J.Kc)(fe),K=(0,te._J)(fe,N),x=(0,y.k)(fe),b=K&&(0,D.qR)(K),z=!x&&!b,$=(0,G._Z)(fe,"native_dlp_canvas")==="on";return ve.reduce((Z,U)=>{var ee,se;if((0,l.GU)(U)||(0,f.sR)(U))return Z;const de=(ee=this.options)===null||ee===void 0||(se=ee.entities)===null||se===void 0?void 0:se.files,ue=!!(de!=null&&de.includeChannelCanvases)||!!(de!=null&&de.onlyChannelCanvases);if(U&&(0,f.aD)(U)&&!ue)return Z;const _e=U&&(0,f.CA)(U),pe=U==null?void 0:U.user_team,ae=pe?(0,te._J)(fe,pe):null;var Ee;const ye=((Ee=(0,D.Ss)(ae??void 0))!==null&&Ee!==void 0?Ee:pe)!==N;if(_e&&(ye||z)||$&&(0,f.Sp)(U)||U&&oe&&(de!=null&&de.onlyChannelCanvases||z)&&(0,f.wL)(U)||this.shouldFilterItem(U,me))return Z;if(!this.query&&this.allowEmptyQuery)return Z.push({item:U,score:0,id:U.id}),Z;const Te=this.scoreFile(fe,U),Ae={item:U,score:Te,id:U.id};return this.preferExactMatch&&(Ae.isExactMatch=this.isFileExactMatch(U)),Te<=this.fuzzyLimit&&Z.push(Ae),Z},[])}scoreFile(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const oe=ve.name?me.normalizeAndScore(ve.name):1/0,N=ve.title&&ve.name!==ve.title?me.normalizeAndScore(ve.title):1/0,K=ve.external_url?me.normalizeAndScore(ve.external_url):1/0,x=ve.permalink?me.normalizeAndScore(ve.permalink):1/0;let b=1/0;if((0,f.aD)(ve)){const z=(0,g.Iz)(ve),$=(0,q.OL)(fe,z);if($){const Z=(0,L.B)((0,_.SB)(fe,$,{publicChannelIncludeHashSign:!1}));b=this.matcher.score(Z)}}return Math.min(oe,N,K,x,b)}filterLists(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.scoreList(N),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isListExactMatch(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}scoreList(fe){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(fe.title)}filterListRecords(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me)||!N.name||!N.listTitle)return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:N,score:0,id:N.id}),oe;const K=this.scoreListRecord(N),x={item:N,score:K,id:N.id};return this.preferExactMatch&&(x.isExactMatch=this.isListRecordExactMatch(N)),K<=this.fuzzyLimit&&oe.push(x),oe},[])}scoreListRecord(fe){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(fe.name)}filterChannelSections(fe,ve){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ve.reduce((oe,N)=>{if(this.shouldFilterItem(N,me))return oe;const K=(0,k.v2)(fe,N),x=this.matcher.normalizeAndScore(K),b={item:N,score:x,id:N.id};return!this.query&&this.allowEmptyQuery?(oe.push(b),oe):(x<=this.fuzzyLimit&&oe.push(b),oe)},[])}shouldFilterItem(fe,ve){return ve(fe)===!1||this.filter(fe)===!1}getMemberExactMatchDetails(fe){const ve={},me=(0,M.j_)(fe),oe=(0,M.sJ)(fe);return ve.real_name=me===this.query,ve.display_name=oe===this.query,this.shouldMatchEmail&&(ve.email=(0,M.ZL)(fe)===this.query),ve}isMemberExactMatch(fe){return!this.query||!this.query.length?!1:(0,s.A)(this.getMemberExactMatchDetails(fe),Boolean)}isChannelExactMatchPreNormalized(fe){return!this.query||!this.query.length?!1:fe===this.query}isFileExactMatch(fe){if(!this.query||!this.query.length)return!1;var ve,me;return(0,L.B)(fe.name)===this.query||(0,L.B)(fe.title)===this.query||(0,L.B)((ve=fe.external_url)!==null&&ve!==void 0?ve:void 0)===this.query||(0,L.B)((me=fe.permalink)!==null&&me!==void 0?me:void 0)===this.query}isListExactMatch(fe){return!this.query||!this.query.length?!1:(0,L.B)(fe.title)===this.query}isListRecordExactMatch(fe){return!this.query||!this.query.length?!1:(0,L.B)(fe.name)===this.query}isTeamExactMatch(fe){return!this.query||!this.query.length?!1:(0,L.B)((0,D.F1)(fe))===this.query}isUsergroupExactMatch(fe){return!this.query||!this.query.length?!1:(0,L.B)((0,P.x_)(fe))===this.query||(0,L.B)((0,P.ue)(fe))===this.query}isTriggerExactMatch(fe){return!this.query||!this.query.length?!1:(0,L.B)(fe.name)===this.query}isBroadcastKeywordExactMatch(fe){return!this.query||!this.query.length?!1:(0,L.B)(fe.name)===this.query||(0,L.B)(fe.ms_name)===this.query}isViewOrModalExact(fe){return!this.query||!this.query.length?!1:(0,L.B)(fe.name)===this.query}filterHelpArticles(fe,ve){const oe=ve.reduce((N,K)=>{const x=(0,L.B)(K.title),b=this.substringMatcher.normalizeAndScore(K.title);return b>this.fuzzyLimit?N:N.concat({item:{...K,id:String(K.id)},score:b,isExactMatch:x===this.query,id:String(K.id)})},[]).sort((N,K)=>N.score-K.score);return oe.slice(0,Math.min(5,oe.length))}filterSalesforceRecordSuggestions(fe,ve){const oe=ve.reduce((N,K)=>{const x=K.label;if(!x)return N;const b=(0,L.B)(x),z=this.substringMatcher.normalizeAndScore(b);if(z>this.fuzzyLimit)return N;const $=K.id;return N.concat({item:{...K,name:x,recordType:K.objectType},score:z,isExactMatch:b===this.query,id:$})},[]).sort((N,K)=>N.score-K.score);return oe.slice(0,Math.min(5,oe.length))}filterSalesListViews(fe,ve){return ve.reduce((oe,N)=>{const K=N.label;if(!K)return oe;const x=(0,L.B)(K),b=this.substringMatcher.normalizeAndScore(x);if(b>this.fuzzyLimit)return oe;const z=N.id;return oe.concat({item:{...N,id:z,name:K},score:b,isExactMatch:x===this.query,id:z})},[])}constructor({query:fe="",options:ve={entities:{}}}){var me,oe,N,K,x,b,z,$,Z,U,ee,se,de;this.options=ve,this.rawQuery=fe,this.query=(0,L.B)(fe);var ue;this.fuzzyLimit=(ue=this.options.fuzzyLimit)!==null&&ue!==void 0?ue:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((me=this.options)===null||me===void 0||(oe=me.sort)===null||oe===void 0)&&oe.avoidExactMatchForMembers),this.selfFirst=!!(!((N=this.options)===null||N===void 0||(K=N.sort)===null||K===void 0)&&K.selfFirst),this.filter=this.options.filter||t.A,this.shouldMatchEmail=(0,a.A)(this.options,"entities.members.matchEmailField")||(0,a.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,S.t)(fe),this.normalizedQuery=this.query,!((x=this.options)===null||x===void 0||(b=x.entities)===null||b===void 0||(z=b.shortcuts)===null||z===void 0)&&z.queryStartsWithSlash&&(this.query=F(this.query)),this.matcher=new W.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.forwardOnlyMatcher=new W.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new W.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!(($=this.options)===null||$===void 0||(Z=$.entities)===null||Z===void 0||(U=Z.shortcuts)===null||U===void 0)&&U.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((ee=this.options)===null||ee===void 0||(se=ee.entities)===null||se===void 0||(de=se.shortcuts)===null||de===void 0)&&de.isQueryExactlySlash)}},"SearcherMatcher")},1399977320:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(3367239067),n=e(1703559452),s=e(7264301376),r=e(129753175),d=e(9884588328),o=e(1407713935),a=e(6007206761),l=e(6495946979),m=e(8170643398),c=e(3534324375),_=e(6839188756),p=e(9190452268),u=e(8701485242),h=e(181849556),E=e(220244708),A=e(5795074931),v=e(9101533895),f=e(8276911661);const g={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let y=i(class{sort(M,O){var I;const D=(0,p.Cy)({state:M});D.mark("modern-searcher-sorting-mark");const{members:P,channels:k,mpims:R,ims:V,teams:B,userGroups:W,emoji:L,broadcastKeywords:S,views:H,modals:w,appActions:F,channelSections:j,emails:J,files:X,lists:q,listRecords:G,slashCommands:ne,slackGlobalActions:te,quipShortcutCommands:le,channelActions:he,fakeGlobalActions:fe,callActions:ve,apps:me,helpArticles:oe,salesforceRecords:N,workflowTriggers:K,salesListViews:x}=O,b={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};k&&k.reduce((se,de)=>(0,a.F)(de.item)?(se.archivedChannels.push(de),se):((0,l.b)(de.item)?se.memberChannels.push(de):se.nonmemberChannels.push(de),se),b);let z=[...P||[],...b.memberChannels,...R||[],...V||[],...L||[],...W||[],...S||[],...H||[],...w||[],...F||[],...j||[],...J||[],...X||[],...q||[],...G||[],...ve||[],...he||[],...fe||[],...me||[],...oe||[],...K||[],...N||[],...x||[]],$=[...b.nonmemberChannels,...B||[],...ne||[],...te||[],...le||[]],Z=b.archivedChannels;const U=this.getSortFuzzyFunction(M,{localeAware:!0});this.options.flat||(z=this.precomputeMatchNames(M,z).sort(U),$=this.precomputeMatchNames(M,$).sort(U),Z=this.precomputeMatchNames(M,Z).sort(U));let ee=[...z,...$,...Z];return this.options.flat&&ee.sort(U),this.options.preferExactMatch&&(ee=[...(0,t.A)(ee,de=>de.isExactMatch),...ee]),this.options.frecency&&(this.options.normalize=!0,D.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?ee=(0,h.jW)(M,{query:this.query,list:ee,bonusPoints:this.getFrecencyBonusPointsFunction(M)}):ee=(0,h.Zh)(M,{query:this.query,list:ee,bonusPoints:this.getFrecencyBonusPointsFunction(M)}),D.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((I=ee[0])===null||I===void 0)&&I.isSelf)&&(ee=[...(0,t.A)(ee,de=>de.isSelf),...ee]),D.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),ee}precomputeMatchNames(M,O){return O.map(I=>({...I,name:this.getNameForComparison(M,I)}))}getSortFuzzyFunction(M,O){let{localeAware:I}=O;return(D,P)=>{if((0,o.yz)(D.item)&&!(0,o.yz)(P.item))return 1;if((0,o.yz)(P.item)&&!(0,o.yz)(D.item)||(0,o.LI)(D.item)&&!(0,o.LI)(P.item))return-1;if((0,o.LI)(P.item)&&!(0,o.LI)(D.item))return 1;if(!(0,o.yz)(D.item)&&!(0,o.yz)(P.item)){const S=D.score-P.score;if(S!==0)return S}if((0,o.yz)(D.item)&&(0,o.yz)(P.item)){const S=D.score-P.score;if(S!==0)return S;var k,R;const H=((k=(0,d.N4)(D.item))!==null&&k!==void 0?k:0)-((R=(0,d.N4)(P.item))!==null&&R!==void 0?R:0);if(H!==0)return H}var V;const B=(V=D.name)!==null&&V!==void 0?V:"";var W;const L=(W=P.name)!==null&&W!==void 0?W:"";return I?(0,u.Ay)(B,L):B>L?1:L>B?-1:0}}getFrecencyBonusPointsFunction(M){return O=>{var I,D;const{item:P}=O,k={};if((0,o.yz)(P)){if(k.isMpim=0,this.options.preferMpimsWithActiveMembers){const R=(0,d.Ug)(P);if(!R)return k;const V=R.map(B=>(0,f.nv)(M,B));(0,n.A)(V,B=>(0,m.oy)(B)||(0,m.eJ)(B))&&(k.isMpimWithDeactivatedMember=g.mpimWithDeactivatedMember)}return k}if(O.isExactMatch?(k.isExactMatch=g.exactMatch,O.isEmojiExactMatch&&(k.isEmojiExactMatch=g.exactMatch)):O.emojiScore?k.emojiScoreBonus=this.calculateNormalizedFuzzyBonusPoints(O,"emojiScore",g.emojiMatch):(0,a.F)(P)||(0,m.oy)(P)||(0,m.eJ)(P)||(k.fuzzyScoreBonus=this.calculateNormalizedFuzzyBonusPoints(O,"score",g.fuzzyMatch)),O.bestPreviousNameMatch&&(k.onlyMatchesPreviousName=g.matchesPreviousName),this.options.preferChannelMembers&&P.presence&&this.options.currentChannel&&(0,E.B)(M,P,this.options.currentChannel)&&(k.isMemberOfThisChannel=g.memberOfThisChannel),(0,o.jq)(P)&&(0,d.m2)(M,P)&&(k.isStarred=g.starredChannel),(0,m.NB)(P)){const R=(0,v.Pu)(M,P.id);R&&(0,d.m2)(M,R)&&(k.isStarred=g.starredChannel)}return P.is_emoji&&(P.name==="thumbsup"||P.name==="point_up")&&(k.isPopularEmojiVariant=g.popularEmoji),this.options.selfFirst&&(0,m.fy)(P)&&(k.isSelf=g.isSelf),this.options.preferChannelWorkflows&&P.type==="channel_action"&&P.channelId===((I=this.options)===null||I===void 0||(D=I.currentChannel)===null||D===void 0?void 0:D.id)&&(k.isWorkflowAssociatedWithChannel=g.workflowAssociatedWithChannel),((0,o.rW)(P)||(0,o.Zp)(P))&&((0,a.F)(P)&&(k.isArchived=g.archivedChannel),(0,o.rW)(P)&&this.options.preferChannelsUserBelongsTo&&!(0,a.F)(P)&&!(0,l.b)(P)&&(k.isNotChannelMember=g.notInChannel),(0,A.u8)(M)&&(0,d.lo)(P)&&(k.isChannelFromAnotherTeam=g.channelFromAnotherTeam)),(0,m.NB)(P)&&((0,m.oy)(P)||(0,m.eJ)(P))&&(k.isDeactivatedMember=g.deactivatedMember),(P.is_usergroup||P.is_broadcast_keyword)&&(k.isUserGroupOrKeyword=g.userGroupOrKeyword),k}}calculateNormalizedFuzzyBonusPoints(M,O,I){const D=M[O];if(!(0,s.A)(D))return 0;const P=.5**D;return Math.round(I*P)}getNameForComparison(M,O){let I;const D=O.item;return(0,o.yz)(D)?I=D.name_normalized:(0,o.mz)(D)?I=(0,r.A)((0,d.SB)(M,D,{publicChannelIncludeHashSign:!1})):(0,m.NB)(D)?I=(0,c.sE)(M,D):D.is_usergroup?I=D.handle||D.name:D.team_name?I=(0,r.A)((0,_.F1)(D)):D.isEmail?I=(0,r.A)(D.value):D.title?I=D.title:I=D.name,I}constructor({query:M,options:O={}}){this.options=O,this.query=M}},"SearcherSorter")},9868740303:(Q,C,e)=>{"use strict";e.d(C,{A:()=>se});var t=e(8571983633),n=e(9746734072),s=e(9113979368),r=e(897091071),d=e(7715417323),o=e(1703559452),a=e(2141441167),l=e(5503876160),m=e(6422693406),c=e(2664504268),_=e(7599421656),p=e(6987519067),u=e(9552526132),h=e(4423055085),E=e(5613323535),A=e(1197508738),v=e(5455782105),f=e(3212336858),g=e(9931116838),y=e(411655882),T=e(2229186),M=e(6244014364),O=e(2689960678),I=e(82287009),D=e(9190452268),P=e(5770715593),k=e(6030318713),R=e(4096483543),V=e(6471801899),B=e(1917953477),W=e(1072784641),L=e(1399977320),S=e(8956261571),H=e(8847766420),w=e(4119164726),F=e(6533394955),j=e(6451390137),J=e(2854654447),X=e(9107158149),q=e(7688940281),G=e(2235302340),ne=e(9101533895),te=e(6728717861),le=e(7600673124),he=e(3829348308),fe=e(4761125736),ve=e(937317117),me=e(761034736),oe=e(4224126550),N=e(9706240641),K=e(1031947056),x=e(9174292896);const b=(0,K.Ay)("Fetch list records for lists mentions",function(){var de=(0,N.coroutine)(function*(ue,_e,pe){let{query:ae}=pe;const Ee=(0,V.V3)(ae);if(!Ee)return;const{listTitle:Le}=Ee,ye=(0,oe.Mr)(_e()),Te=(0,V.xL)(ye,Le);if(!Te)return;const Ae=Te.id;yield ue((0,x.D)({listId:Ae}))});return function(ue,_e,pe){return de.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var z=e(4525672255),$=e(8276911661),Z=e(1835177371);class U{search(ue){let{query:_e,options:pe}=ue;var ae;if(this.maybeStartSession(_e),((0,t.A)(_e)||!_e.length)&&!pe.allowEmptyQuery)return m.S.resolve(O.Ml);if((0,n.A)(_e))return this.bulkSearch({queryRecords:_e,options:pe});const Ee=(0,F.getStateByTeamId)(this.teamId),Le=(0,D.Cy)({state:Ee}),ye=(0,c.A)();Le.mark(`modern-searcher-search-mark-${ye}`);const Te=(0,B.O)(_e??"");E.LI.start({label:E.gC.Searcher,id:ye,options:{teamId:(0,H.ZT)(Ee),tags:this.getTraceTags({query:Te,options:pe})}});const Ae=(ae=E.LI.get({label:E.gC.Searcher,id:ye}))===null||ae===void 0?void 0:ae.createChildSpan({name:"searcher:search"}),Ie=(0,p.aw)(pe,p.lp,_e);if((0,s.A)(Ie))return m.S.resolve(O.Ml);if((0,A.x)(Ee)!==te.M9.ONLINE||!(pe!=null&&pe.allowEmptyQueryRemoteSearch)&&!Te.length&&(0,R.A)()&&(0,fe._Z)(Ee,"searcher_local_empty_string")==="treatment"&&!pe.entities.lists)return m.S.resolve(this.searchLocal({query:Te,options:Ie,autoTraceId:ye,parentSpanId:Ae==null?void 0:Ae.getId()}));const Ue=this.fetchRemote({query:Te,options:Ie,autoTraceId:ye,parentSpanId:Ae==null?void 0:Ae.getId()}).then(Be=>this.processFetchedEntities({query:Te,data:Be,options:Ie,autoTraceId:ye,parentSpanId:Ae==null?void 0:Ae.getId()}));if(Ie.tiered){const Be=this.searchLocal({query:Te,options:Ie,autoTraceId:ye,parentSpanId:Ae==null?void 0:Ae.getId()});return Be.promise=Ue.finally(()=>{Ae==null||Ae.close(),E.LI.stop({label:E.gC.Searcher,id:ye})}),m.S.resolve(Be).finally(()=>{Le.measureAndClear(`modern-searcher-search-mark-${ye}`,"modern-searcher-search-tiered")})}return Ue.finally(()=>{Le.measureAndClear(`modern-searcher-search-mark-${ye}`,"modern-searcher-search"),Ae==null||Ae.close(),E.LI.stop({label:E.gC.Searcher,id:ye})})}flattenResultsWithQueryId(ue){let{returnedResults:_e,queryIds:pe}=ue;const ae=_e;for(let Ee=0;Ee<_e.length;Ee++)for(let Le=0;Le<_e[Ee].length;Le++)ae[Ee][Le].queryId=pe[Ee];return(0,r.A)(ae)}bulkSearch(ue){let{queryRecords:_e,options:pe}=ue;const ae=(0,F.getStateByTeamId)(this.teamId),Ee=(0,D.Cy)({state:ae}),Le=(0,c.A)();Ee.mark(`modern-searcher-search-mark-${Le}`);const ye=(0,p.aw)(pe,p.lp,"");if((0,s.A)(ye))return m.S.resolve(O.Ml);const Te=_e.map(re=>re.query),Ae=_e.map(re=>re.queryId),Ie=Te.map(re=>(0,B.O)(re));let Ue,Be;if((0,A.x)(ae)!==te.M9.ONLINE)return Be=Ie.map(re=>this.searchLocal({query:re,options:ye})),Ue=this.flattenResultsWithQueryId({returnedResults:Be,queryIds:Ae}),m.S.resolve(Ue);const we=this.fetchRemote({query:Ie,options:ye}).then(re=>(Be=re.map((ge,De)=>this.processFetchedEntities({query:Ie[De],data:ge,options:ye})),this.flattenResultsWithQueryId({returnedResults:Be,queryIds:Ae})));return ye.tiered?(Be=Ie.map(re=>this.searchLocal({query:re,options:ye})),Ue=this.flattenResultsWithQueryId({returnedResults:Be,queryIds:Ae}),Ue.promise=we,m.S.resolve(Ue).finally(()=>{Ee.measureAndClear(`modern-searcher-search-mark-${Le}`,"modern-searcher-search-tiered")})):we.finally(()=>{Ee.measureAndClear(`modern-searcher-search-mark-${Le}`,"modern-searcher-search")})}searchLocal(ue){let{query:_e,options:pe,autoTraceId:ae,parentSpanId:Ee}=ue;var Le;const ye=(0,F.getStateByTeamId)(this.teamId);let Te=ae;Te||(Te=(0,c.A)(),E.LI.start({label:E.gC.Searcher,id:Te,options:{teamId:(0,H.ZT)(ye),tags:this.getTraceTags({query:_e,options:pe})}}));const Ae=(Le=E.LI.get({label:E.gC.Searcher,id:Te}))===null||Le===void 0?void 0:Le.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Ee}});if(!_e.length&&!pe.allowEmptyQuery)return[];const Ie=(0,p.aw)(pe,p.lp,_e);if((0,s.A)(Ie))return[];const Ue=(0,B.O)(_e),Be=this.fetchLocal({query:_e,options:Ie}),we=this.processFetchedEntities({query:Ue,data:Be,options:Ie,autoTraceId:Te,parentSpanId:Ae==null?void 0:Ae.getId()});return Ae==null||Ae.close(),we}fetchRemote(ue){let{query:_e,options:pe,autoTraceId:ae,parentSpanId:Ee}=ue;var Le;const ye=(0,F.getStateByTeamId)(this.teamId),Te=(Le=E.LI.get({label:E.gC.Searcher,id:ae}))===null||Le===void 0?void 0:Le.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Ee}});this.pendingRequests.forEach(je=>je.cancel()),this.pendingRequests=[];const Ae=[],Ie=[],{channels:Ue,emoji:Be,files:we,lists:re,members:ge,teams:De,userGroups:be,appActions:xe,workflowTriggers:Re}=pe.entities;if(ge){let je;(0,n.A)(_e)?je=(0,F.dispatchForTeamId)(this.teamId,(0,p.U7)({queries:_e,options:pe})):je=(0,F.dispatchForTeamId)(this.teamId,(0,p.QH)({query:_e,options:pe})),this.pendingRequests.push(je),ge.runaway?Ie.push(je):Ae.push(je)}if(Ue&&!(0,n.A)(_e)){const je=(0,F.dispatchForTeamId)(this.teamId,(0,p.J6)({query:_e,options:pe}));this.pendingRequests.push(je),Ue.runaway?Ie.push(je):Ae.push(je)}if(Be&&!(0,n.A)(_e)){const je=(0,F.dispatchForTeamId)(this.teamId,(0,p.LR)({query:_e,options:pe}));this.pendingRequests.push(je),Be.runaway?Ie.push(je):Ae.push(je)}if(we&&!(0,n.A)(_e)&&((0,k.A)(_e)||_e.length>3)){const je=(0,F.dispatchForTeamId)(this.teamId,(0,p.cD)({query:_e,options:pe}));this.pendingRequests.push(je),we.runaway?Ie.push(je):Ae.push(je)}if(re&&!(0,n.A)(_e)){const je=(0,F.dispatchForTeamId)(this.teamId,_e.indexOf(">")<0?(0,z.E)({query:_e}):b({query:_e}));this.pendingRequests.push(je),re.runaway?Ie.push(je):Ae.push(je)}if(be){let je;(0,n.A)(_e)?je=(0,F.dispatchForTeamId)(this.teamId,(0,p.eR)({queries:_e,options:pe})):je=(0,F.dispatchForTeamId)(this.teamId,(0,p.UC)({query:_e,options:pe})),this.pendingRequests.push(je),be.runaway?Ie.push(je):Ae.push(je)}if(De&&((0,v.k)(ye)||De.onlyExternal||De.includeExternal)&&!(0,n.A)(_e)){const je=(0,F.dispatchForTeamId)(this.teamId,(0,p.DF)({query:_e,options:pe}));this.pendingRequests.push(je),De.runaway?Ie.push(je):Ae.push(je)}if((0,g.e)(ye)&&xe){const je=(0,F.dispatchForTeamId)(this.teamId,(0,J.G)()).timeout(2e3).catch(d.A);this.pendingRequests.push(je),xe.runaway?Ie.push(je):Ae.push(je)}if(Re&&!(0,n.A)(_e)){const je=(0,F.dispatchForTeamId)(this.teamId,(0,p.fx)({query:_e}));Re.runaway?Ie.push(je):Ae.push(je)}return m.S.all(Ae).then(je=>{let Ge;if((0,n.A)(_e))Ge=_e.map(rt=>this.fetchLocal({query:rt,options:pe})).map(rt=>{const it={...rt};return it.remoteIds=(0,p.jl)(je),it});else{if(Ge=this.fetchLocal({query:_e,options:pe}),Ge.remoteIds=(0,p.jl)(je),ge&&ge.onlyFromExternalWorkspaceId){var Qe,Xe;Ge.members=(Xe=(Qe=je.find(rt=>!!rt.members))===null||Qe===void 0?void 0:Qe.members)!==null&&Xe!==void 0?Xe:O.Ml}const et=(0,o.A)((0,a.A)(Ge),"length");if(Ie.length&&!et)return m.S.all(Ie).then(()=>this.fetchLocal({query:_e,options:pe}))}return Te==null||Te.close(),Ge}).finally(()=>{this.pendingRequests=[]})}fetchLocal(ue){let{query:_e,options:pe}=ue;const ae=(0,F.getStateByTeamId)(this.teamId);(0,p.ZD)(pe);const Ee={},{members:Le,channels:ye,teams:Te,userGroups:Ae,appActions:Ie,views:Ue,broadcastKeywords:Be,emoji:we,files:re,lists:ge,channelSections:De,emails:be,modals:xe,shortcuts:Re,workflowTriggers:je,helpArticles:Ge}=pe.entities;if(ye&&(ye.includePublic||ye.includePrivate)&&(Ee.channels=(0,p.AC)(ae,pe)),ye&&ye.includeMpims&&(Ee.mpims=(0,ne.FS)(ae)),ye&&ye.includeIms&&(Ee.ims=(0,ne._B)(ae)),Le&&(Ee.members=Le.onlyFromExternalWorkspaceId?O.Ml:(0,$.I_)(ae).filter(et=>(0,X.zP)(ae,et.id)&&!(0,le.y)(ae,et.id))),Te&&(Ee.teams=(0,p.mi)(ae,pe)),Ae&&(Ee.userGroups=(0,Z.jJ)(ae)),Ie&&(Ee.appActions=(0,_.B)(ae)?(0,j.PL)(ae):(0,p.g2)(ae,Ie.channel)),re&&(Ee.files=(0,ve.Gn)(ae)),ge&&(_e.indexOf(">")<0?Ee.lists=(0,oe.C0)(ae):Ee.listRecords=(0,oe.vD)(ae,_e)),Ue&&(Ee.views=(0,p.mK)(ae)),xe&&(Ee.modals=(0,p.A$)(ae)),Be){var Qe;const et=Be.currentChannel?Be.currentChannel.id:null;Ee.broadcastKeywords=!((Qe=pe.entities.broadcastKeywords)===null||Qe===void 0)&&Qe.includeAll||!et?(0,y.A)():(0,T.A)(ae,et)}if(we&&(Ee.emoji=(0,he.Gt)(ae)),De&&(Ee.channelSections=(0,a.A)((0,G.jV)(ae))),(Re!=null&&Re.slashCommands||Re!=null&&Re.fakeGlobalActions)&&!(Re!=null&&Re.isAnnounceOnly)&&(Ee.slashCommands=(0,_.B)(ae)?(0,I.A_)(ae,Re.channel,!!Re.threadTs,!0).map(et=>({...et,id:(0,f.Bs)(et),isSlashCommand:!0})):(0,p.lS)(ae,Re.channel,Re.threadTs)),Re!=null&&Re.slackGlobalActions&&(Ee.slackGlobalActions=(0,I.Yk)(ae,Re.channel,Re.threadTs)),Re!=null&&Re.quipShortcutCommands&&(Ee.quipShortcutCommands=(0,w.Aw)(ae,!!_e)),Re!=null&&Re.channelActions&&(Ee.channelActions=(0,q.fo)(ae,Re.channel)),Re!=null&&Re.fakeGlobalActions&&(Ee.fakeGlobalActions=(0,I.JL)(ae,Re.channel,Re.threadTs)),Re!=null&&Re.callActions&&(Ee.callActions=(0,I.Uw)(ae,Re.channel,Re.threadTs,Re.isAnnounceOnly)),je){const et=(0,I.NJ)(ae);je.includeAutomated?Ee.workflowTriggers=et:Ee.workflowTriggers=et.filter(rt=>rt.type===u.M.Shortcut)}be&&(Ee.emails=(0,p.FF)(_e));const Xe=(0,P.dL)(ae);return Ge&&Xe&&(Ee.helpArticles=(0,me.Fb)(ae,"searcher/fetch_all_articles")),(0,p.S)(),Ee}processFetchedEntities(ue){let{query:_e,data:pe,options:ae,autoTraceId:Ee,parentSpanId:Le}=ue;var ye,Te,Ae;const Ie=(0,F.getStateByTeamId)(this.teamId),Ue=(ye=E.LI.get({label:E.gC.Searcher,id:Ee}))===null||ye===void 0?void 0:ye.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Le}});(0,p.ZD)(ae);const Be={},we=new W.A({query:_e,options:ae}),re=(0,D.Cy)({state:Ie});re.mark("modern-searcher-matching-mark");const ge=(Te=E.LI.get({label:E.gC.Searcher,id:Ee}))===null||Te===void 0?void 0:Te.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Ue==null?void 0:Ue.getId()}});if(pe.channels&&(Be.channels=we.filterChannels(Ie,pe.channels,(0,p.sr)(Ie,ae.entities.channels))),pe.members&&(Be.members=we.filterMembers(Ie,pe.members,(0,p.bE)(Ie,ae.entities.members))),pe.emails&&pe.members&&!(!(Be==null||(Ae=Be.members)===null||Ae===void 0)&&Ae.length)&&(Be.emails=pe.emails),pe.mpims&&(Be.mpims=we.filterMpims(Ie,pe.mpims,(0,p.AQ)(Ie,ae.entities.channels))),pe.ims&&(Be.ims=we.filterIms(Ie,pe.ims,(0,p.EM)(Ie,ae.entities.channels))),pe.userGroups&&(Be.userGroups=we.filterUserGroups(Ie,pe.userGroups,(0,p.H9)(Ie,ae.entities.userGroups))),pe.teams&&(Be.teams=we.filterTeams(Ie,pe.teams,(0,p.A1)(Ie,ae.entities.teams))),pe.views&&(Be.views=we.filterViews(Ie,pe.views)),pe.modals&&(Be.modals=we.filterModals(Ie,pe.modals)),pe.appActions&&(Be.appActions=we.filterAppActions(Ie,pe.appActions)),pe.slashCommands&&(Be.slashCommands=we.filterShortcuts(Ie,pe.slashCommands,!0)),pe.slackGlobalActions&&(Be.slackGlobalActions=we.filterShortcuts(Ie,pe.slackGlobalActions)),pe.quipShortcutCommands&&(Be.quipShortcutCommands=we.filterShortcuts(Ie,pe.quipShortcutCommands)),pe.channelActions&&(Be.channelActions=we.filterShortcuts(Ie,pe.channelActions)),pe.fakeGlobalActions&&(Be.fakeGlobalActions=we.filterShortcuts(Ie,pe.fakeGlobalActions)),pe.callActions&&(Be.callActions=we.filterShortcuts(Ie,pe.callActions)),pe.workflowTriggers&&(Be.workflowTriggers=we.filterWorkflowTriggers(Ie,pe.workflowTriggers)),pe.broadcastKeywords&&(Be.broadcastKeywords=we.filterBroadcastKeywords(Ie,pe.broadcastKeywords)),pe.emoji&&(Be.emoji=we.filterEmoji(Ie,pe.emoji)),pe.channelSections&&(Be.channelSections=we.filterChannelSections(Ie,pe.channelSections,rt=>{var it,lt;return!!(!((it=ae.entities.channelSections)===null||it===void 0||(lt=it.includeTypes)===null||lt===void 0)&&lt[rt.type])})),pe.files&&(Be.files=we.filterFiles(Ie,pe.files,(0,p.Do)(Ie,ae.entities.files))),pe.lists&&(Be.lists=we.filterLists(Ie,pe.lists)),pe.listRecords){var De;const{recordQuery:rt}=(De=(0,V.V3)(_e))!==null&&De!==void 0?De:{},it=new W.A({query:rt,options:ae});Be.listRecords=it.filterListRecords(Ie,pe.listRecords)}pe.helpArticles&&(Be.helpArticles=we.filterHelpArticles(Ie,pe.helpArticles)),re.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),ge==null||ge.close();const be=(0,p.SI)(Be,pe.remoteIds||{});let xe=(0,r.A)(Object.values(be));const Re=500,je=3;var Ge;const Qe=Math.min(((Ge=ae==null?void 0:ae.limit)!==null&&Ge!==void 0?Ge:1)*je,Re);if(ae.sort&&!ae.sort.bypassSorting){var Xe;let rt=!1;xe.length<Qe&&(rt=!0);const it=new L.A({query:_e,options:{modelOnly:rt,...ae.sort}}),lt=(Xe=E.LI.get({label:E.gC.Searcher,id:Ee}))===null||Xe===void 0?void 0:Xe.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Ue==null?void 0:Ue.getId()}});xe=it.sort(Ie,be),lt==null||lt.close()}if(ae.sort&&ae.sort.frecency&&!ae.sort.bypassSorting){var et;const rt=(et=E.LI.get({label:E.gC.Searcher,id:Ee}))===null||et===void 0?void 0:et.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Ue==null?void 0:Ue.getId()}});xe=new S.A({query:_e,options:ae.sort,teamId:(0,H.ZT)(Ie),enterpriseId:(0,v.k)(Ie)&&(0,H.jV)(Ie)?(0,H.jV)(Ie):void 0}).sort(Ie,xe.slice(0,Qe)),rt==null||rt.close()}return ae.limit&&(xe=(0,l.A)(xe,ae.limit)),ae.returnMetadata||(xe=xe.map(rt=>rt.item)),(0,p.S)(),xe||[]}clogSearcherAccept(ue){let{clogger:_e,data:pe}=ue;const{source:ae,query:Ee,results:Le,selectedItemId:ye,displayedItemIds:Te}=pe,Ae=15;if(!ye)return;const Ie=Te?Te.length:Le.length,Ue=Te?Te.indexOf(ye):Le.findIndex(Qe=>Qe.item.id===ye);if(Ue<0)return;const Be=Le.find(Qe=>Qe.item.id===ye);if(!Be)return;const we=Be.type||"other",re=(0,n.A)(Ee)?Ee.map(Qe=>(0,B.O)(Qe)):(0,B.O)(Ee),ge=Be.source||"local";let De;Be.type==="mpim"?De=Be.scoreDetailsByMember:Be.type==="member"?De={[ye]:{is_exact_match:Be.isExactMatch,exact_match_details:Be.exactMatchDetails,score_details:Be.scoreDetails}}:Be.type==="emoji"&&(De={[ye]:{is_exact_match:Be.isExactMatch}});let be=[];Le.some(Qe=>Qe.featureVectorRaw)&&(Te?be=Te.map(Qe=>{const Xe=Le.find(et=>et.item.id===Qe);return Xe&&Xe.featureVectorRaw.serialize()||""}):be=Le.map(Qe=>{var Xe,et;return Qe==null||(Xe=Qe.featureVectorRaw)===null||Xe===void 0||(et=Xe.serialize)===null||et===void 0?void 0:et.call(Xe)}));let Re;(0,n.A)(re)?Re=re.reduce((Qe,Xe)=>Qe+(0,p.Cs)((0,B.O)(Xe)),0):Re=(0,p.Cs)(re);var je;const Ge={source:ae,query_length:re.length?re.length:0,query_terms_length:Re,results_length:Ie,selected_position:Ue,selected_type:we,selected_source:ge,selected_match_details:De,feature_vector_list:be.slice(0,Ae),session_length:Date.now()-((je=this.sessionTs)!==null&&je!==void 0?je:0)};_e.track(M.EventId.SEARCHER_ACCEPT,Ge),this.endSession()}clogSearcherReject(ue){let{clogger:_e,data:pe}=ue;const{source:ae,query:Ee,results:Le,displayedItemIds:ye}=pe,Te=ye!==void 0?ye.length:Le.length,Ae=(0,n.A)(Ee)?Ee.map(we=>(0,B.O)(we)):(0,B.O)(Ee);let Ie;(0,n.A)(Ae)?Ie=Ae.reduce((we,re)=>we+(0,p.Cs)((0,B.O)(re)),0):Ie=(0,p.Cs)(Ae);var Ue;const Be={source:ae,query_length:Ae.length?Ae.length:0,query_terms_length:Ie,results_length:Te,session_length:Date.now()-((Ue=this.sessionTs)!==null&&Ue!==void 0?Ue:0)};_e.track(M.EventId.SEARCHER_REJECT,Be),this.endSession()}maybeStartSession(ue){!this.sessionId&&ue!==void 0&&ue.length&&(this.sessionTs=Date.now(),this.sessionId=(0,c.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(ue){let{query:_e,options:pe}=ue;var ae;const Ee=pe.entities;return{source:(pe==null?void 0:pe.searchViewContext)||((ae=pe.sort)===null||ae===void 0?void 0:ae.source),tiered:pe.tiered,is_searcher_sessions:!0,entities:Object.keys(Ee).filter(Le=>!!Ee[Le]).sort().toString(),query_length:_e.length}}constructor(ue){this.teamId=ue,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}i(U,"Searcher");const ee={};function se(de){let{teamId:ue,key:_e}=de;if(!ue)throw new Error("Searcher must be instantiated with a team id");return ee[ue]&&!ee[ue][_e]&&(ee[ue][_e]=new U(ue)),ee[ue]||(ee[ue]={},ee[ue][_e]=new U(ue)),ee[ue][_e]}i(se,"getSearcher"),(0,h.ul)("searcherObj",{search:(de,ue)=>new U(de).search(ue),searchLocal:(de,ue)=>{new U(de).searchLocal(ue)}})},4342685672:(Q,C,e)=>{"use strict";e.d(C,{In:()=>s,KV:()=>n,nK:()=>r});var t=e(4761125736);const n="autocompleteFallback";function s(){return n}i(s,"getModelForSorter");function r(d){return(0,t._Z)(d,"searcher_sessions_phase_1")==="treatment"}i(r,"shouldUseSearcherSessions")},8956261571:(Q,C,e)=>{"use strict";e.d(C,{A:()=>rs});var t=e(3367239067),n=e(1703559452),s=e(9816084745),r=e(5141066605),d=e(3037015781),o=e(9884588328),a=e(1407713935),l=e(6007206761),m=e(6495946979);function c(ie){var Se;const $e=(Se=ie.actions)===null||Se===void 0?void 0:Se[0];if(!$e)return 0;const Pt=parseFloat($e.ts);return isNaN(Pt)?0:Pt}i(c,"getLatestActionTs");var _=e(8170643398),p=e(9262712126),u=e(5096647761),h=e(6536982570),E=e(9190452268),A=e(3879245650),v=e(735940183),f=e(4096483543),g=e(8040098042),y=e(4496040127),T=e(6422693406),M=e(1520110262),O=e(3707193570),I=e(7948868735),D=e(6533394955);const P=.014,k=.094,R=.148,V=.132,B=.179;class W extends I.F{fetchData(){return(0,O.Am)(this.teamId)?(0,D.dispatchForTeamId)(this.teamId,(0,M.yp)()).catch(Se=>({exception:Se})).then(Se=>new L({topEmojis:Se.top_emojis,topMpims:Se.top_mpims,topChannels:Se.top_channels,topUsers:Se.top_users,emojiFeatures:Se.emoji_features,mpimFeatures:Se.mpim_features,channelFeatures:Se.channel_features,userFeatures:Se.user_features,mpimCtr:Se.mpim_ctr,channelCtr:Se.channel_ctr,userCtr:Se.user_ctr,emojiCtr:Se.emoji_ctr,otherCtr:Se.other_ctr,defaultFeatureNames:Se.default_features,topAppActions:Se.top_app_actions,topGlobalActions:Se.top_global_actions,topSlashCommands:Se.top_slash_commands,topWorkflowTriggers:Se.top_workflow_triggers,topChannelActions:Se.top_channel_actions,appActionCtr:Se.app_action_ctr,globalActionCtr:Se.global_action_ctr,slashCommandCtr:Se.slash_command_ctr,workflowTriggerCtr:Se.workflow_trigger_ctr,channelActionCtr:Se.channel_action_ctr,usersHasDmed:Se.users_has_dmed})):T.S.resolve(new L)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new L)}constructor(Se){super(),this.teamId=Se}}i(W,"AutocompleteFeaturesCache");class L{getFeatures(Se,$e){const Pt=this.topEntities[$e],Mn=this.featureNames[$e]||this.featureNames.default,Cn=this.defaultEntityFeatures[$e],Rn=Pt&&Pt[Se];if(Rn&&Mn){const on={};for(let ms=0;ms<Mn.length;ms++)on[Mn[ms]]=Rn[ms];const qn={team_ctr_90dd:Cn.team_ctr_90dd,user_ctr_30dd:Cn.user_ctr_30dd};for(const ms of Object.keys(Cn))qn[ms]=on[ms]||Cn[ms];return qn}return Cn}getEntityCtr(Se){return this.entityCtr[Se]||this.otherEntityCtr}getUserDmChannelMetadata(Se){return this.usersHasDmed?this.usersHasDmed[Se]:null}constructor({topEmojis:Se,topMpims:$e,topChannels:Pt,topUsers:Mn,emojiFeatures:Cn,mpimFeatures:Rn,channelFeatures:on,userFeatures:qn,mpimCtr:ms,channelCtr:Ts,userCtr:Ps,emojiCtr:Ss,otherCtr:vs,defaultFeatureNames:bs,topAppActions:Pn,topGlobalActions:tt,topSlashCommands:Ye,topWorkflowTriggers:Yt,topChannelActions:pt,appActionCtr:Nt,globalActionCtr:Vt,slashCommandCtr:Ht,workflowTriggerCtr:tn,channelActionCtr:pn,usersHasDmed:Dn}={}){this.topEntities={emoji:Se,mpim:$e,channel:Pt,member:Mn,appAction:Pn,globalAction:tt,slashCommand:Ye,workflowTrigger:Yt,channelAction:pt},this.featureNames={emoji:Cn,mpim:Rn,channel:on,member:qn,default:bs},this.otherEntityCtr=vs??B,this.entityCtr={mpim:ms??P,channel:Ts??R,member:Ps??V,emoji:Ss??k,appAction:Nt??this.otherEntityCtr,globalAction:Vt??this.otherEntityCtr,slashCommand:Ht??this.otherEntityCtr,workflowTrigger:tn??this.otherEntityCtr,channelAction:pn??this.otherEntityCtr},this.defaultEntityFeatures={};for(const En of Object.keys(this.entityCtr))this.defaultEntityFeatures[En]={team_ctr_90dd:this.getEntityCtr(En),user_ctr_30dd:this.getEntityCtr(En)};this.usersHasDmed=Dn}}i(L,"AutocompleteFeatures");const S={};function H(ie){let{teamId:Se,enterpriseId:$e}=ie;const Pt=$e||Se||"_default";return S[Pt]||(S[Pt]=new W(Se)),S[Pt]}i(H,"getAutocompleteFeaturesCache");var w=e(1041273904),F=e(5238395322),j=e(8571983633),J=e(2774532222),X=e(7110454183),q=e(1022424641),G=e(8274921051),ne=e(4630136761),te=e(4562579337),le=e(796111729),he=e(3051657319),fe=e(7715417323);class ve{writeNumericalFeature(Se,$e){!Se||!isFinite(Se)||(this.writeIdAndType($e,G.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,Se),this.offset+=4)}writeBinaryFeature(Se,$e){Se&&this.writeIdAndType($e,G.c.BINARY)}writeTextFeature(Se,$e){if(!Se)return;this.writeIdAndType($e,G.c.TEXT);const Pt=unescape(encodeURIComponent(Se));this.ensureCapacity(2+Pt.length),this.view.setUint16(this.offset,Pt.length),this.offset+=2,(0,he.A)(Pt.length).forEach(Mn=>{this.view.setUint8(this.offset,Pt.charCodeAt(Mn)),this.offset+=1})}writeNullFeature(){(0,fe.A)()}writeIdAndType(Se,$e){this.ensureCapacity(2),this.view.setUint16(this.offset,Se<<3|$e),this.offset+=2}ensureCapacity(Se){this.offset+Se>this.buffer.byteLength&&this.resize(this.offset+Se)}resize(Se){if(this.buffer.byteLength>=Se)return;const $e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array($e).set(new Uint8Array(this.buffer)),this.buffer=$e,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}i(ve,"BinaryFeatureVectorSerializer");var me=e(3395271606);const oe=(0,me.A)(G.Q);function N(ie){return oe[ie]}i(N,"getFeatureNameFromId");var K=e(9150404500);const x={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};var b=e(9422011462);function z(ie,Se){return bt.fromSuggestion(ie,Se)}i(z,"featureVectorForSuggestion");function $(){return(0,le.Wo)({label:"SORTER-RANKING"})}i($,"getLogger");function Z(ie){return Number.isInteger(ie)}i(Z,"isIntegerWithType");const U=60*60,ee=24*U;var se,de,ue,_e,pe,ae,Ee,Le,ye,Te,Ae,Ie,Ue,Be,we,re,ge,De,be,xe,Re,je,Ge,Qe,Xe,et,rt,it,lt,ot,Et,At,Ot,Rt,yt,Mt,en,Tt;const xt={FRECENCY:ie=>ze({id:G.Q.FRECENCY,value:hn(ie)}),TYPE_NAVIGATION_CHANNEL:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.TYPE_NAVIGATION_CHANNEL,value:$e})},TYPE_NAVIGATION_FILE:ie=>ze({id:G.Q.TYPE_NAVIGATION_FILE,value:ie.suggestionType===K.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:ie=>ze({id:G.Q.TYPE_NAVIGATION_LINK,value:ie.suggestionType===K.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:ie=>ze({id:G.Q.TYPE_NAVIGATION_MODAL,value:ie.suggestionType===K.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:ie=>ze({id:G.Q.TYPE_NAVIGATION_MPIM,value:!!(0,a.yz)(ie.item)}),TYPE_NAVIGATION_USER:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.TYPE_NAVIGATION_USER,value:$e})},TYPE_QUERY:ie=>ze({id:G.Q.TYPE_QUERY,value:ie.suggestionType===K.fd.QUERY}),TYPE_QUERY_HISTORY:ie=>ze({id:G.Q.TYPE_QUERY_HISTORY,value:ie.suggestionType===K.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_IN,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_FROM,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_TO,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_DURING,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_ON,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_AFTER,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_HAS,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_IS,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:ie=>ze({id:G.Q.ACTIVE_TOKEN_FILTER_WITH,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:ie=>ze({id:G.Q.ACTIVE_TOKEN_MEMBER,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.MEMBER}),ACTIVE_TOKEN_STRING:ie=>ze({id:G.Q.ACTIVE_TOKEN_STRING,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.STRING}),ACTIVE_TOKEN_PHRASE:ie=>ze({id:G.Q.ACTIVE_TOKEN_PHRASE,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.PHRASE}),STRING_EXACT_MATCH:ie=>Dt({id:G.Q.STRING_EXACT_MATCH,suggestion:ie,extractionFunction:Jt}),STRING_EXACT_PREFIX_MATCH:ie=>Dt({id:G.Q.STRING_EXACT_PREFIX_MATCH,suggestion:ie,extractionFunction:rn}),STRING_NORMAL_MATCH:ie=>Dt({id:G.Q.STRING_NORMAL_MATCH,suggestion:ie,extractionFunction:gn}),STRING_NORMAL_PREFIX_MATCH:ie=>Dt({id:G.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe}),STRING_SAME_NUMBER_WORDS:ie=>Dt({id:G.Q.STRING_SAME_NUMBER_WORDS,suggestion:ie,extractionFunction:Ke}),EXCESS_STRING_LENGTH:ie=>Dt({id:G.Q.EXCESS_STRING_LENGTH,suggestion:ie,extractionFunction:Ne}),ID:ie=>ze({id:G.Q.ID,value:ie.logId||ie.id}),FILE_SUGGESTION_SCORE:ie=>ze({id:G.Q.FILE_SUGGESTION_SCORE,value:ht(ie)}),ACTIVE_TOKEN_QUERY_SUGGESTION:ie=>ze({id:G.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.API}),QUERY_SUGGESTION_SCORE_V2:ie=>ze({id:G.Q.QUERY_SUGGESTION_SCORE_V2,value:yn(ie)}),TYPE_NAVIGATION_TEAM:ie=>ze({id:G.Q.TYPE_NAVIGATION_TEAM,value:ie&&ie.suggestionType===K.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:ie=>ze({id:G.Q.TYPE_NAVIGATION_VIEW,value:ie&&ie.suggestionType===K.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:ie=>ze({id:G.Q.TYPE_USER_QUERY,value:ie&&ie.suggestionType===K.fd.QUERY_USER}),NAV_EXACT_MATCH:ie=>Dt({id:G.Q.NAV_EXACT_MATCH,suggestion:ie,extractionFunction:Jt,text:Qt(ie)}),NAV_EXACT_PREFIX_MATCH:ie=>Dt({id:G.Q.NAV_EXACT_PREFIX_MATCH,suggestion:ie,extractionFunction:rn,text:Qt(ie)}),NAV_NORMAL_MATCH:ie=>Dt({id:G.Q.NAV_NORMAL_MATCH,suggestion:ie,extractionFunction:gn,text:Qt(ie)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(ie,Se)=>{let{itemIsChannel:$e}=Se;var Pt,Mn;return Dt({id:G.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:ie,extractionFunction:Cn=>{let{text:Rn,query:on}=Cn;return Rn?(0,n.A)(Rn.split(",").map(qn=>Jt({text:qn,query:on}))):!1},text:$e?(Pt=ie.item)===null||Pt===void 0||(Mn=Pt.previous_names)===null||Mn===void 0?void 0:Mn.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(ie,Se)=>{let{itemIsChannel:$e}=Se;var Pt,Mn;return Dt({id:G.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:ie,extractionFunction:Cn=>{let{text:Rn,query:on}=Cn;return Rn?(0,n.A)(Rn.split(",").map(qn=>rn({text:qn,query:on}))):!1},text:$e?ie==null||(Pt=ie.item)===null||Pt===void 0||(Mn=Pt.previous_names)===null||Mn===void 0?void 0:Mn.join(","):null})},CHANNEL_IS_ARCHIVED:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_IS_ARCHIVED,value:$e&&(0,l.F)(ie.item)})},CHANNEL_IS_MEMBER:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_IS_MEMBER,value:$e&&(0,m.b)(ie.item)})},CHANNEL_IS_STARRED:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_IS_STARRED,value:$e&&ie.isStarred})},MPIM_IS_STARRED:ie=>ze({id:G.Q.MPIM_IS_STARRED,value:(0,a.yz)(ie.item)&&ie.isStarred}),CHANNEL_IS_UNREAD:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_IS_UNREAD,value:$e&&(0,o.KJ)(ie.item)})},MPIM_IS_UNREAD:ie=>ze({id:G.Q.MPIM_IS_UNREAD,value:(0,a.yz)(ie.item)&&(0,o.KJ)(ie.item)}),CHANNEL_IS_OTHER_TEAM:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_IS_OTHER_TEAM,value:$e&&(0,o.lo)(ie.item)})},USER_IS_ACTIVE:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_IS_ACTIVE,value:$e&&(0,_.ls)(ie.item)})},USER_IS_EXTERNAL:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_IS_EXTERNAL,value:$e&&(0,u.g)(ie.item)})},USER_IS_BOT:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_IS_BOT,value:$e&&(0,te.A)(ie.item)})},USER_SAME_TEAM:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_SAME_TEAM,value:$e&&!!ie.sameTeam})},USER_IS_CURRENT_USER:(ie,Se)=>{let{isCurrentUser:$e}=Se;return ze({id:G.Q.USER_IS_CURRENT_USER,value:$e})},USER_DM_IS_STARRED:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_IS_STARRED,value:$e&&ie.im&&ie.imIsStarred})},USER_DM_IS_UNREAD:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_IS_UNREAD,value:$e&&ie.im&&(0,o.KJ)(ie.im)})},CHANNEL_PRIORITY:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_PRIORITY,value:$e&&(ie==null?void 0:ie.priority)})},CHANNEL_READ_AGE_DECAY_7D:(ie,Se)=>{let{itemIsChannel:$e,now:Pt}=Se;return ze({id:G.Q.CHANNEL_READ_AGE_DECAY_7D,value:$e&&St(Pt,parseFloat((se=ie.lastReadTs)!==null&&se!==void 0?se:""),7*ee)||0})},CHANNEL_READ_AGE_DECAY_2H:(ie,Se)=>{let{itemIsChannel:$e,now:Pt}=Se;return ze({id:G.Q.CHANNEL_READ_AGE_DECAY_2H,value:$e&&St(Pt,parseFloat((de=ie.lastReadTs)!==null&&de!==void 0?de:""),2*U)||0})},MPIM_READ_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_READ_AGE_DECAY_2H,value:(0,a.yz)(ie.item)&&St($e,parseFloat((ue=ie.lastReadTs)!==null&&ue!==void 0?ue:""),2*U)||0})},MPIM_READ_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_READ_AGE_DECAY_7D,value:(0,a.yz)(ie.item)&&St($e,parseFloat((_e=ie.lastReadTs)!==null&&_e!==void 0?_e:""),7*ee)||0})},USER_DM_READ_AGE_DECAY_7D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_AGE_DECAY_7D,value:$e&&ie.im&&St(Pt,parseFloat((pe=ie.lastReadTs)!==null&&pe!==void 0?pe:""),7*ee)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:$e&&ie.im&&St(Pt,parseFloat((ae=ie.lastReadImTs)!==null&&ae!==void 0?ae:""),7*ee)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:$e&&St(Pt,parseFloat((Ee=Ft(ie))!==null&&Ee!==void 0?Ee:""),7*ee)||0})},USER_DM_READ_AGE_DECAY_2H:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_AGE_DECAY_2H,value:$e&&ie.im&&St(Pt,parseFloat((Le=ie.lastReadTs)!==null&&Le!==void 0?Le:""),2*U)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:$e&&ie.im&&St(Pt,parseFloat((ye=ie.lastReadImTs)!==null&&ye!==void 0?ye:""),2*U)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:$e&&St(Pt,parseFloat((Te=Ft(ie))!==null&&Te!==void 0?Te:""),2*U)||0})},USER_DM_NULL:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_NULL,value:$e&&!ie.im})},USER_DM_EMPTY:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_EMPTY,value:$e&&ie.im&&!parseFloat((Ae=ie.latestTs)!==null&&Ae!==void 0?Ae:"")})},USER_DM_EMPTY_V2:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_EMPTY_V2,value:$e&&ie.im&&!parseFloat((Ie=ie.latestImTs)!==null&&Ie!==void 0?Ie:"")})},USER_HAS_DMED:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_HAS_DMED,value:$e&&!!parseFloat((Ue=Ft(ie))!==null&&Ue!==void 0?Ue:"")})},USER_DM_NOT_OPEN:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_NOT_OPEN,value:$e&&ie.im&&!(0,o.nT)(ie.im)})},USER_DM_OPEN:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_OPEN,value:$e&&ie.im&&(0,o.nT)(ie.im)})},USER_DM_LATEST_OLDER_30D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_OLDER_30D,value:$e&&An(Pt,parseFloat((Be=ie.latestTs)!==null&&Be!==void 0?Be:""),30*ee)})},USER_DM_LATEST_OLDER_30D_V2:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_OLDER_30D_V2,value:$e&&An(Pt,parseFloat((we=ie.latestImTs)!==null&&we!==void 0?we:""),30*ee)})},USER_DM_LATEST_OLDER_90D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_OLDER_90D,value:$e&&An(Pt,parseFloat((re=ie.latestTs)!==null&&re!==void 0?re:""),90*ee)})},USER_DM_LATEST_OLDER_90D_V2:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_OLDER_90D_V2,value:$e&&An(Pt,parseFloat((ge=ie.latestImTs)!==null&&ge!==void 0?ge:""),90*ee)})},USER_DM_READ_OLDER_7D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_OLDER_7D,value:$e&&An(Pt,parseFloat((De=Ft(ie))!==null&&De!==void 0?De:""),7*ee)})},USER_DM_READ_OLDER_30D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_OLDER_30D,value:$e&&An(Pt,parseFloat((be=Ft(ie))!==null&&be!==void 0?be:""),30*ee)})},USER_DM_READ_OLDER_90D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_READ_OLDER_90D,value:$e&&An(Pt,parseFloat((xe=Ft(ie))!==null&&xe!==void 0?xe:""),90*ee)})},USER_MPIM_READ_AGE_DECAY_7D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_MPIM_READ_AGE_DECAY_7D,value:$e&&ie.mpimFeatures&&St(Pt,ie.mpimFeatures.lastReadTs,7*ee)||0})},USER_MPIM_READ_AGE_DECAY_2H:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_MPIM_READ_AGE_DECAY_2H,value:$e&&ie.mpimFeatures&&St(Pt,ie.mpimFeatures.lastReadTs,2*U)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:$e&&ie.mpimFeatures&&St(Pt,ie.mpimFeatures.latestMsgTs,7*ee)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:$e&&ie.mpimFeatures&&St(Pt,ie.mpimFeatures.latestMsgTs,2*U)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(ie,Se)=>{let{itemIsMember:$e}=Se;var Pt;return ze({id:G.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:$e&&((Pt=ie.mpimFeatures)===null||Pt===void 0?void 0:Pt.itemCount)&&Math.log1p(ie.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(ie,Se)=>{let{itemIsMember:$e}=Se;var Pt;return ze({id:G.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:$e&&((Pt=ie.mpimFeatures)===null||Pt===void 0?void 0:Pt.hitCount)&&Math.log1p(ie.mpimFeatures.hitCount)||0})},QUERY_LENGTH:ie=>Dt({id:G.Q.QUERY_LENGTH,suggestion:ie,extractionFunction:ft}),NAV_QUERY_LENGTH:ie=>Dt({id:G.Q.NAV_QUERY_LENGTH,suggestion:ie,extractionFunction:ft,text:Qt(ie)}),SUGGESTION_TEXT_LENGTH:ie=>Dt({id:G.Q.SUGGESTION_TEXT_LENGTH,suggestion:ie,extractionFunction:Kt}),NAV_TEXT_LENGTH:ie=>Dt({id:G.Q.NAV_TEXT_LENGTH,suggestion:ie,extractionFunction:Kt,text:Qt(ie)}),RAW_FRECENCY:ie=>ze({id:G.Q.RAW_FRECENCY,value:ie.rawFrecencyScore}),MPIM_PRIORITY:ie=>ze({id:G.Q.MPIM_PRIORITY,value:(0,a.yz)(ie.item)&&(ie==null?void 0:ie.priority)}),QUERY_RATIO_LENGTH_STRING:ie=>Dt({id:G.Q.QUERY_RATIO_LENGTH_STRING,suggestion:ie,extractionFunction:He}),NAV_QUERY_RATIO_LENGTH_STRING:ie=>Dt({id:G.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:ie,extractionFunction:He,text:Qt(ie)}),USER_QUERY_RATIO_LENGTH_STRING:ie=>Dt({id:G.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:ie,extractionFunction:He,text:mn(ie,K.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:ie=>Dt({id:G.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:ie,extractionFunction:He,text:mn(ie,K.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:ie=>Dt({id:G.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:ie,extractionFunction:He,text:mn(ie,K.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:ie=>ze({id:G.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,a.yz)(ie.item)&&ie.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:ie=>Dt({id:G.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:Qt(ie)}),FRECENCY_BONUS:ie=>ze({id:G.Q.FRECENCY_BONUS,value:(0,F.A)(Object.values(ie.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:ie,extractionFunction:Jt,text:$e&&(0,_.XS)(ie.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:ie,extractionFunction:rn,text:$e&&(0,_.XS)(ie.item)})},USER_FIRST_NAME_NORMAL_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:ie,extractionFunction:gn,text:$e&&(0,_.XS)(ie.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:$e&&(0,_.XS)(ie.item)})},USER_LAST_NAME_EXACT_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:ie,extractionFunction:Jt,text:$e&&(0,_.lQ)(ie.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:ie,extractionFunction:rn,text:$e&&(0,_.lQ)(ie.item)})},USER_LAST_NAME_NORMAL_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:ie,extractionFunction:gn,text:$e&&(0,_.lQ)(ie.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(ie,Se)=>{let{itemIsMember:$e}=Se;return Dt({id:G.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:$e&&(0,_.lQ)(ie.item)})},USER_EMAIL_MATCH:ie=>{var Se,$e;return ze({id:G.Q.USER_EMAIL_MATCH,value:((Se=ie.scoreDetails)===null||Se===void 0?void 0:Se.email)!==void 0?(($e=ie.scoreDetails)===null||$e===void 0?void 0:$e.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:ie=>{var Se,$e;return ze({id:G.Q.USER_EMAIL_ONLY_MATCH,value:((Se=ie.scoreDetails)===null||Se===void 0?void 0:Se.email)!==void 0&&(($e=ie.scoreDetails)===null||$e===void 0?void 0:$e.email)>=0&&Object.keys((Re=ie.scoreDetails)!==null&&Re!==void 0?Re:{}).length===1})},USER_PRIORITY:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_PRIORITY,value:$e&&ie.im&&(ie==null?void 0:ie.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:ie=>ze({id:G.Q.ONLY_MATCHES_PREVIOUS_NAME,value:ie.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:ie=>ze({id:G.Q.FRECENCY_WEIGHT_HIT_VISITS,value:ie.weightHitVisits}),FRECENCY_HIT_VISITS_4H:ie=>ze({id:G.Q.FRECENCY_HIT_VISITS_4H,value:ie.hitVisits4h}),FRECENCY_HIT_VISITS_1D:ie=>ze({id:G.Q.FRECENCY_HIT_VISITS_1D,value:ie.hitVisits1d}),FRECENCY_HIT_VISITS_3D:ie=>ze({id:G.Q.FRECENCY_HIT_VISITS_3D,value:ie.hitVisits3d}),FRECENCY_HIT_VISITS_1W:ie=>ze({id:G.Q.FRECENCY_HIT_VISITS_1W,value:ie.hitVisits1w}),FRECENCY_HIT_VISITS_1M:ie=>ze({id:G.Q.FRECENCY_HIT_VISITS_1M,value:ie.hitVisits1m}),FRECENCY_HIT_VISITS_90D:ie=>ze({id:G.Q.FRECENCY_HIT_VISITS_90D,value:ie.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:ie=>ze({id:G.Q.FRECENCY_ITEM_VISITS_4H,value:ie.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:ie=>ze({id:G.Q.FRECENCY_ITEM_VISITS_1D,value:ie.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:ie=>ze({id:G.Q.FRECENCY_ITEM_VISITS_3D,value:ie.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:ie=>ze({id:G.Q.FRECENCY_ITEM_VISITS_1W,value:ie.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:ie=>ze({id:G.Q.FRECENCY_ITEM_VISITS_1M,value:ie.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:ie=>ze({id:G.Q.FRECENCY_ITEM_VISITS_90D,value:ie.itemVisits90d}),FRECENCY_HIT_COUNT:ie=>ze({id:G.Q.FRECENCY_HIT_COUNT,value:ie.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:ie=>ze({id:G.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:ie.weightItemVisits}),FRECENCY_ITEM_COUNT:ie=>ze({id:G.Q.FRECENCY_ITEM_COUNT,value:ie.itemCount}),NAV_NORMAL_MATCH_USER:ie=>Dt({id:G.Q.NAV_NORMAL_MATCH_USER,suggestion:ie,extractionFunction:Se=>{let{text:$e,normalizedQuery:Pt}=Se;return gn({text:$e,normalizedQuery:Pt})&&!Fe({text:(0,_.XS)(ie.item),normalizedQuery:Pt})},text:mn(ie,K.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:ie=>Dt({id:G.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:ie,extractionFunction:Se=>{let{text:$e,normalizedQuery:Pt}=Se;return Fe({text:$e,normalizedQuery:Pt})&&!Fe({text:(0,_.XS)(ie.item),normalizedQuery:Pt})},text:mn(ie,K.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:ie=>Dt({id:G.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:ie,extractionFunction:gn,text:On(ie)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:ie=>Dt({id:G.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:ie,extractionFunction:Fe,text:On(ie)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{itemIsChannel:$e,now:Pt}=Se;return ze({id:G.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:$e&&St(Pt,parseFloat((je=ie.latestTs)!==null&&je!==void 0?je:""),7*ee)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{itemIsChannel:$e,now:Pt}=Se;return ze({id:G.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:$e&&St(Pt,parseFloat((Ge=ie.latestTs)!==null&&Ge!==void 0?Ge:""),2*U)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,a.yz)(ie.item)&&St($e,parseFloat((Qe=ie.latestTs)!==null&&Qe!==void 0?Qe:""),2*U)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,a.yz)(ie.item)&&St($e,ie.maxLatestMsgTsOfAllMembers,2*U)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,a.yz)(ie.item)&&St($e,ie.maxLatestMsgTsOfAllMembers,7*ee)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,a.yz)(ie.item)&&St($e,ie.avgLatestMsgTsOfAllMembers,2*U)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,a.yz)(ie.item)&&St($e,ie.avgLatestMsgTsOfAllMembers,7*ee)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,a.yz)(ie.item)&&St($e,ie.maxLastReadTsOfAllMembers,2*U)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,a.yz)(ie.item)&&St($e,ie.maxLastReadTsOfAllMembers,7*ee)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,a.yz)(ie.item)&&St($e,ie.avgLastReadTsOfAllMembers,2*U)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,a.yz)(ie.item)&&St($e,ie.avgLastReadTsOfAllMembers,7*ee)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:ie=>ze({id:G.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,a.yz)(ie.item)&&ie.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:ie=>ze({id:G.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,a.yz)(ie.item)&&ie.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:ie=>ze({id:G.Q.MPIM_USERS_ALL_INTERNAL,value:(0,a.yz)(ie.item)&&ie.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,a.yz)(ie.item)&&St($e,parseFloat((Xe=ie.latestTs)!==null&&Xe!==void 0?Xe:""),7*ee)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:$e&&ie.im&&St(Pt,parseFloat((et=ie.latestTs)!==null&&et!==void 0?et:""),7*ee)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:$e&&ie.im&&St(Pt,parseFloat((rt=ie.latestImTs)!==null&&rt!==void 0?rt:""),7*ee)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:$e&&ie.im&&St(Pt,parseFloat((it=ie.latestTs)!==null&&it!==void 0?it:""),2*U)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(ie,Se)=>{let{itemIsMember:$e,now:Pt}=Se;return ze({id:G.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:$e&&ie.im&&St(Pt,parseFloat((lt=ie.latestImTs)!==null&&lt!==void 0?lt:""),2*U)||0})},FRECENCY_LOG_HIT_COUNT:ie=>ze({id:G.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((ot=ie.hitCount)!==null&&ot!==void 0?ot:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:ie=>ze({id:G.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:ie.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:ie=>ze({id:G.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((Et=ie.itemCount)!==null&&Et!==void 0?Et:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:ie=>ze({id:G.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:ie.logItemCountScaled}),QUERY_FRECENCY_RAW:ie=>ze({id:G.Q.QUERY_FRECENCY_RAW,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&ie.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:ie=>ze({id:G.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&ie.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:ie=>ze({id:G.Q.QUERY_FRECENCY_HIT_COUNT,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&ie.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:ie=>ze({id:G.Q.QUERY_LOG_HIT_COUNT,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&Ln(ie.scoringContext.frecencyHitCount)||ie.suggestionType===K.fd.QUERY_HISTORY&&Ln((At=ie.count)!==null&&At!==void 0?At:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:ie=>ze({id:G.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&ie.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:ie=>ze({id:G.Q.QUERY_FRECENCY_ITEM_COUNT,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&ie.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:ie=>ze({id:G.Q.QUERY_FUZZY_SCORE,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&ie.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:ie=>{var Se;return ze({id:G.Q.QUERY_FRECENCY_BONUS,value:(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER)&&(0,F.A)(Object.values(((Se=ie.scoringContext)===null||Se===void 0?void 0:Se.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:ie=>ze({id:G.Q.QUERY_HISTORY_LOG_INDEX,value:ie.suggestionType===K.fd.QUERY_HISTORY&&Ln(ie.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.QUERY_HISTORY_AGE_DECAY_30D,value:ie.suggestionType===K.fd.QUERY_HISTORY&&St($e,ie.lastUpdateTs,30*ee)||0})},FUZZY_SCORE:ie=>ze({id:G.Q.FUZZY_SCORE,value:ie.score}),FUZZY_SCORE_SCALED_EXP:ie=>ze({id:G.Q.FUZZY_SCORE_SCALED_EXP,value:Z(ie.score)&&.5**Math.min(ie.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:ie=>ze({id:G.Q.FUZZY_SCORE_SCALED_FLIPPED,value:Z(ie.score)&&10-Math.min(ie.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:ie=>ze({id:G.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:Z(ie.score)&&Math.min(ie.score,10)-1}),FUZZY_SCORE_50:ie=>ze({id:G.Q.FUZZY_SCORE_50,value:ie.bonusPointMap&&ie.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:ie=>ze({id:G.Q.FUZZY_SCORE_25,value:ie.bonusPointMap&&ie.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:ie=>ze({id:G.Q.FUZZY_SCORE_ALL,value:ie.bonusPointMap&&ie.bonusPointMap.fuzzyScoreBonus&&ie.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:ie=>ze({id:G.Q.FILTER_USER_IS_ACTIVE,value:ie.lastSuggestionToken&&ie.lastTokenMemberOrNull&&(0,_.ls)(ie.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:ie=>ze({id:G.Q.FILTER_USER_IS_CURRENT_USER,value:ie.lastSuggestionToken&&ie.lastTokenMemberOrNull&&(0,_.fy)(ie.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:ie=>ze({id:G.Q.FILTER_USER_DM_IS_STARRED,value:ie.lastTokenIm&&ie.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:ie=>ze({id:G.Q.FILTER_USER_DM_IS_UNREAD,value:ie.lastTokenIm&&(0,o.KJ)(ie.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:ie.lastTokenIm&&St($e,ie.lastTokenImLastRead,7*ee)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:ie.lastTokenIm&&St($e,ie.lastTokenImLastRead,2*U)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:ie.lastTokenIm&&St($e,parseFloat((Ot=ie.lastTokenImLatest)!==null&&Ot!==void 0?Ot:""),7*ee)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:ie.lastTokenIm&&St($e,parseFloat((Rt=ie.lastTokenImLatest)!==null&&Rt!==void 0?Rt:""),2*U)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:ie=>Dt({id:G.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:ie,extractionFunction:gn,text:mt(ie)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:ie=>Dt({id:G.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:mt(ie)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:ie=>Dt({id:G.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:ie,extractionFunction:gn,text:Ct(ie)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:ie=>Dt({id:G.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:Ct(ie)}),FILTER_USER_PRIORITY:ie=>ze({id:G.Q.FILTER_USER_PRIORITY,value:ie.lastTokenIm&&(ie==null?void 0:ie.priority)}),HERE_KEYWORD:ie=>ze({id:G.Q.HERE_KEYWORD,value:ie.name==="here"}),HERE_KEYWORD_EXACT_MATCH:ie=>ze({id:G.Q.HERE_KEYWORD_EXACT_MATCH,value:ie.name==="here"&&ie.query==="here"}),IS_BROADCAST_KEYWORD:ie=>ze({id:G.Q.IS_BROADCAST_KEYWORD,value:!!(ie.type&&ie.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:ie=>ze({id:G.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(ie.type&&ie.type==="broadcastKeyword"&&gn({text:(yt=ie.name)!==null&&yt!==void 0?yt:"",normalizedQuery:ie.normalizedQuery}))}),EMOJI_EXACT_MATCH:ie=>ze({id:G.Q.EMOJI_EXACT_MATCH,value:ie.bonusPointMap&&ie.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:ie=>Dt({id:G.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:ie,extractionFunction:gn,text:Zt(ie)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:ie=>Dt({id:G.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:Zt(ie)}),FILTER_CHANNEL_IS_ARCHIVED:ie=>ze({id:G.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,l.F)(ie.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:ie=>ze({id:G.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,m.b)(ie.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:ie=>ze({id:G.Q.FILTER_CHANNEL_IS_STARRED,value:ie.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:ie=>ze({id:G.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,o.KJ)(ie.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:St($e,ie.lastTokenChannelLastRead,7*ee)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:St($e,ie.lastTokenChannelLastRead,2*U)})},FILTER_CHANNEL_PRIORITY:ie=>ze({id:G.Q.FILTER_CHANNEL_PRIORITY,value:ie==null?void 0:ie.priority}),CHANNEL_IS_FROZEN:(ie,Se)=>{let{itemIsChannel:$e}=Se;return ze({id:G.Q.CHANNEL_IS_FROZEN,value:$e&&(0,ne.Zz)(ie.item)})},USER_DM_IS_FROZEN:(ie,Se)=>{let{itemIsMember:$e}=Se;return ze({id:G.Q.USER_DM_IS_FROZEN,value:$e&&ie.im&&(0,ne.Zz)(ie.im)})},CHANNEL_HAS_DRAFT:ie=>ze({id:G.Q.CHANNEL_HAS_DRAFT,value:ie.hasDraft}),USER_DM_HAS_DRAFT:ie=>ze({id:G.Q.USER_DM_HAS_DRAFT,value:ie.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:ie=>ze({id:G.Q.EMOJI_QUERY_LENGTH_RATIO,value:ie.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:ie=>ze({id:G.Q.EMOJI_TOTAL_COMBO_BREAKS,value:ie.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:ie=>ze({id:G.Q.EMOJI_COMBO_BREAK_0,value:ie.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:ie=>ze({id:G.Q.EMOJI_COMBO_BREAK_1,value:ie.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:ie=>ze({id:G.Q.EMOJI_COMBO_BREAK_2,value:ie.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:ie=>ze({id:G.Q.EMOJI_COMBO_BREAK_3,value:ie.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:ie=>ze({id:G.Q.TYPE_APP_ACTION,value:ie.suggestionType===K.fd.APP_ACTION}),OS_APP_ACTION:(ie,Se)=>{let{source:$e}=Se;return ze({id:G.Q.OS_APP_ACTION,value:($e==null?void 0:$e.startsWith("omniswitcher"))&&ie.suggestionType===K.fd.APP_ACTION})},TYPE_APP:ie=>ze({id:G.Q.TYPE_APP,value:ie.suggestionType===K.fd.APP}),TYPE_SLASH_COMMAND:ie=>ze({id:G.Q.TYPE_SLASH_COMMAND,value:ie.suggestionType===K.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:ie=>ze({id:G.Q.TYPE_GLOBAL_ACTION,value:ie.suggestionType===K.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:ie=>ze({id:G.Q.IS_INVITE_WORKSPACE,value:ie.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:ie=>ze({id:G.Q.TYPE_CHANNEL_ACTION,value:ie.suggestionType===K.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:ie=>ze({id:G.Q.TYPE_WORKFLOW_TRIGGER,value:ie.suggestionType===K.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:ie=>ze({id:G.Q.TYPE_NAVIGATION_MESSAGE,value:ie.suggestionType===K.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:ie=>ze({id:G.Q.TYPE_EMOJI,value:ie.suggestionType===K.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:ie=>ze({id:G.Q.HAS_CHANNEL_ASSOCIATION,value:ie.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:ie=>ze({id:G.Q.MEMBER_OF_CURRENT_CHANNEL,value:ie.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:ie=>Dt({id:G.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:ie,extractionFunction:Je,text:mn(ie,K.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:St($e,ie.latestHitVisit,2*U)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:St($e,ie.latestHitVisit,7*ee)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:St($e,ie.latestItemVisit,2*U)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:St($e,ie.latestItemVisit,7*ee)||0})},MPIM_MEMBERS:ie=>ze({id:G.Q.MPIM_MEMBERS,value:ie.item.members.length}),MPIM_MEMBER_NAME_MATCHES:ie=>ze({id:G.Q.MPIM_MEMBER_NAME_MATCHES,value:ie.scoreDetailsByMember&&Object.values(ie.scoreDetailsByMember).filter(Se=>((Mt=Se.score_details.real_name)!==null&&Mt!==void 0?Mt:-1/0)>=0||((en=Se.score_details.display_name)!==null&&en!==void 0?en:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:ie=>ze({id:G.Q.MPIM_MEMBER_ALL_MATCHES,value:ie.scoreDetailsByMember&&Object.keys(ie.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:ie=>ze({id:G.Q.MPIM_MATCHER_SCORE,value:ie.score}),MPIM_MATCHER_SCORE_0:ie=>ze({id:G.Q.MPIM_MATCHER_SCORE_0,value:ie.score===0}),MPIM_MATCHER_SCORE_1:ie=>ze({id:G.Q.MPIM_MATCHER_SCORE_1,value:ie.score===1}),MPIM_MATCHER_SCORE_2:ie=>ze({id:G.Q.MPIM_MATCHER_SCORE_2,value:ie.score===2}),MPIM_MATCHER_SCORE_3:ie=>ze({id:G.Q.MPIM_MATCHER_SCORE_3,value:ie.score===3}),EMOJI_TEAM_CTR_90DD:ie=>{var Se;return ze({id:G.Q.EMOJI_TEAM_CTR_90DD,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},EMOJI_USER_CTR_30DD:ie=>{var Se;return ze({id:G.Q.EMOJI_USER_CTR_30DD,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:ie=>{var Se;return ze({id:G.Q.MPIM_TEAM_CTR_90DD,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},MPIM_USER_CTR_30DD:ie=>{var Se;return ze({id:G.Q.MPIM_USER_CTR_30DD,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:ie=>{var Se;return ze({id:G.Q.CHANNEL_TEAM_CTR_90DD,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:ie=>{var Se;return ze({id:G.Q.CHANNEL_USER_CTR_30DD,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:ie=>ze({id:G.Q.USER_ENTITY_TYPE_CTR_30DD,value:ie.entityTypeCtr}),NUM_RESULTS:ie=>ze({id:G.Q.NUM_RESULTS,value:ie.numResults}),QUERY_IS_SELF:ie=>{var Se;return ze({id:G.Q.QUERY_IS_SELF,value:((Se=ie.scoreDetails)===null||Se===void 0?void 0:Se.self_score)===0})},CURRENT_USER_TEXTY:(ie,Se)=>{let{isCurrentUser:$e,source:Pt}=Se;return ze({id:G.Q.CURRENT_USER_TEXTY,value:Pt==="texty-autocomplete"&&$e})},FILE_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_AGE_DECAY_7D,value:ie.item&&St($e,ie.item.created,7*ee)})},FILE_AGE_DECAY_28D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_AGE_DECAY_28D,value:ie.item&&St($e,ie.item.created,28*ee)})},FILE_AGE_DECAY_90D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_AGE_DECAY_90D,value:ie.item&&St($e,ie.item.created,90*ee)})},FILE_FROM_CURRENT_USER:ie=>ze({id:G.Q.FILE_FROM_CURRENT_USER,value:ie.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:ie=>Dt({id:G.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:ie,extractionFunction:gn,text:mn(ie,K.fd.CHANNEL_NAVIGATION),multiplier:Ln(ie.numResults)}),FILE_LOG_PUBLIC_SHARES:ie=>{var Se,$e;return ze({id:G.Q.FILE_LOG_PUBLIC_SHARES,value:((Se=ie.item)===null||Se===void 0||($e=Se.shares)===null||$e===void 0?void 0:$e.public)&&Ln(Object.keys(ie.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:ie=>{var Se,$e;return ze({id:G.Q.FILE_LOG_PRIVATE_SHARES,value:((Se=ie.item)===null||Se===void 0||($e=Se.shares)===null||$e===void 0?void 0:$e.private)&&Ln(Object.keys(ie.item.shares.private).length)})},FILE_LOG_ACTIONS:ie=>{var Se;return ze({id:G.Q.FILE_LOG_ACTIONS,value:((Se=ie.item)===null||Se===void 0?void 0:Se.actions)&&Ln(ie.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:St($e,ie.latestActionTs,2*U)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:St($e,ie.latestActionTs,7*ee)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:St($e,ie.latestActionTs,90*ee)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:St($e,ie.latestShareTs,2*U)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:St($e,ie.latestShareTs,7*ee)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:St($e,ie.latestShareTs,90*ee)})},FILE_CHANNEL_CTR:ie=>ze({id:G.Q.FILE_CHANNEL_CTR,value:ie.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:ie=>ze({id:G.Q.FILE_SUGGESTIONS_SEARCHER,value:ie.fileSuggestionsFromSearcher}),FILE_USER_CTR:ie=>ze({id:G.Q.FILE_USER_CTR,value:ie.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:ie=>Dt({id:G.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:ie,extractionFunction:It,text:mn(ie,K.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:ie=>ze({id:G.Q.FILE_IS_CANVAS,value:zt(ie,"quip")}),FILE_HAS_DMS_WITH_CREATOR:ie=>ze({id:G.Q.FILE_HAS_DMS_WITH_CREATOR,value:ie.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:ie=>ze({id:G.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:ie.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:An($e,parseFloat((Tt=ie.lastReadTs)!==null&&Tt!==void 0?Tt:"")/1e3,90*ee)})},APP_NAME_PREFIX_MATCH:ie=>{var Se;return Dt({id:G.Q.APP_NAME_PREFIX_MATCH,suggestion:ie,extractionFunction:Fe,text:(Se=ie.item)===null||Se===void 0?void 0:Se.appName})},BEST_NAME_MATCH_LOG_RESULTS:ie=>ze({id:G.Q.BEST_NAME_MATCH_LOG_RESULTS,value:ie.bestNameIsExactMatch&&Ln(ie.numResults)}),SLASH_COMMAND_USER_CTR:ie=>{var Se;return ze({id:G.Q.SLASH_COMMAND_USER_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:ie=>{var Se;return ze({id:G.Q.WORKFLOW_TRIGGER_USER_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:ie=>{var Se;return ze({id:G.Q.GLOBAL_ACTION_USER_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:ie=>{var Se;return ze({id:G.Q.CHANNEL_ACTION_USER_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},APP_ACTION_USER_CTR:ie=>{var Se;return ze({id:G.Q.APP_ACTION_USER_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:ie=>{var Se;return ze({id:G.Q.SLASH_COMMAND_TEAM_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:ie=>{var Se;return ze({id:G.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:ie=>{var Se;return ze({id:G.Q.GLOBAL_ACTION_TEAM_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:ie=>{var Se;return ze({id:G.Q.CHANNEL_ACTION_TEAM_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},APP_ACTION_TEAM_CTR:ie=>{var Se;return ze({id:G.Q.APP_ACTION_TEAM_CTR,value:(Se=ie.offlineFeatures)===null||Se===void 0?void 0:Se.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:ie=>ze({id:G.Q.SHORTCUT_ENTITY_TYPE_CTR,value:ie.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:ie=>ze({id:G.Q.EXACT_MATCH_LOG_RESULTS,value:(ie.isExactMatch?1:0)*Ln(ie.numResults)}),HISTORY_AGE_DECAY_2H:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.HISTORY_AGE_DECAY_2H,value:St($e,ie.historyTs,2*U)})},HISTORY_AGE_DECAY_7D:(ie,Se)=>{let{now:$e}=Se;return ze({id:G.Q.HISTORY_AGE_DECAY_7D,value:St($e,ie.historyTs,7*ee)})},HISTORY_POSITION:ie=>ze({id:G.Q.HISTORY_POSITION,value:ie.historyPosition})};class bt{serialize(){const Se=new ve;this.featureList.forEach(Pt=>_n({feature:Pt,serializer:Se}));const $e=Se.serialize();return`${this.featuresVersion}:${$e}`}valueForFeature(Se){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Se==null)return $().error(`Invalid feature id: ${Se}`),null;const Pt=this.featureList.find(Mn=>Mn.id===Se);if(!(0,j.A)(Pt))return $e?jt(Pt)||"":Xt(Pt)||0}static fromSuggestion(Se,$e){const Pt=Date.now()/1e3,Mn=!!(0,_.NB)(Se.item),Cn=!!((0,a.rW)(Se.item)||(0,a.Zp)(Se.item)),Rn=Mn&&(0,_.fy)(Se.item),on={itemIsChannel:Cn,itemIsMember:Mn,now:Pt,isCurrentUser:Rn,source:$e};return new this(nn(Se,$e).map(qn=>xt[qn]&&xt[qn](Se,on)||null))}constructor(Se){this.featureList=Se,this.featuresVersion="v8"}}i(bt,"SuggestionFeatureVector");function nn(ie,Se){return Se==="slash-command-menu"?[...x.globalFeatures]:ie.suggestionType===K.fd.USER_NAVIGATION?[...x.globalFeatures,...x.userFeatures]:ie.suggestionType===K.fd.CHANNEL_NAVIGATION?[...x.globalFeatures,...x.channelFeatures]:ie.suggestionType===K.fd.MPIM_NAVIGATION?[...x.globalFeatures,...x.mpimFeatures]:ie.suggestionType===K.fd.VIEW_NAVIGATION?[...x.globalFeatures,...x.viewFeatures]:ie.suggestionType===K.fd.FILE_NAVIGATION?[...x.globalFeatures,...x.fileFeatures,...x.queryFeatures]:ie.suggestionType===K.fd.LINK_NAVIGATION?[...x.globalFeatures,...x.linkFeatures]:ie.suggestionType===K.fd.MODAL_NAVIGATION?[...x.globalFeatures,...x.modalFeatures]:ie.suggestionType===K.fd.TEAM_NAVIGATION?[...x.globalFeatures,...x.teamFeatures]:ie.type==="emoji"?[...x.globalFeatures,...x.emojiFeatures]:ie.type==="broadcastKeyword"?[...x.globalFeatures,...x.broadcastKeywordFeatures]:ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER?[...x.globalFeatures,...x.queryFeatures]:ie.suggestionType===K.fd.APP_ACTION?[...x.globalFeatures,...x.shortcutFeatures,...x.appActionFeatures]:ie.suggestionType===K.fd.SLASH_COMMAND?[...x.globalFeatures,...x.shortcutFeatures,...x.slashCommandFeatures]:ie.suggestionType===K.fd.GLOBAL_ACTION?[...x.globalFeatures,...x.shortcutFeatures,...x.globalActionFeatures]:ie.suggestionType===K.fd.CHANNEL_ACTION?[...x.globalFeatures,...x.shortcutFeatures,...x.channelActionFeatures]:ie.suggestionType===K.fd.WORKFLOW_TRIGGER?[...x.globalFeatures,...x.shortcutFeatures,...x.workflowTriggerFeatures]:ie.suggestionType===K.fd.APP?[...x.globalFeatures,...x.appFeatures]:ie.suggestionType===K.fd.MESSAGE_NAVIGATION?[...x.globalFeatures,...x.messageFeatures]:ie.suggestionType===K.fd.QUERY_HISTORY?[...x.globalFeatures,...x.queryFeatures]:x.globalFeatures}i(nn,"getFeaturesForExtraction");class dn{constructor({id:Se,value:$e}){Se==null&&$().error(`Invalid feature id: ${Se}`);const Pt=N(Se);Pt||$().error(`Missing feature name for id: ${Se}`),this.id=Se,this.name=Pt,this.valueOrNull=$e}}i(dn,"Feature");function Xt(ie){return typeof ie.valueOrNull=="number"&&isFinite(ie.valueOrNull)?ie.valueOrNull:typeof ie.valueOrNull=="boolean"&&ie.valueOrNull?1:0}i(Xt,"getNumericValueForFeature");function jt(ie){return ie.valueOrNull===null||ie.valueOrNull===void 0?"":ie.valueOrNull.toString()}i(jt,"getStringValueForFeature");function _n(ie){let{feature:Se,serializer:$e}=ie;Se.valueOrNull===null&&$e.writeNullFeature(),typeof Se.valueOrNull=="number"&&$e.writeNumericalFeature(Se.valueOrNull,Se.id),typeof Se.valueOrNull=="boolean"&&$e.writeBinaryFeature(Se.valueOrNull,Se.id),typeof Se.valueOrNull=="string"&&$e.writeTextFeature(Se.valueOrNull,Se.id)}i(_n,"serializeFeature");function ze(ie){let{id:Se,value:$e}=ie;const Pt=(0,j.A)($e)?null:$e;return new dn({id:Se,value:Pt})}i(ze,"makeFeature");function Dt(ie){let{id:Se,suggestion:$e,extractionFunction:Pt,text:Mn=wt($e),multiplier:Cn=1}=ie;if(!Mn)return ze({id:Se,value:null});const Rn=Pt({text:Mn,query:$e.query||"",normalizedQuery:$e.normalizedQuery||""}),on=Rn===!0?1:Rn===!1?0:Rn;return ze({id:Se,value:(on??0)*Cn})}i(Dt,"makeTextFeature");function hn(ie){let Se=null;return(ie.suggestionType===K.fd.QUERY||ie.suggestionType===K.fd.QUERY_USER||ie.suggestionType===K.fd.CHANNEL_NAVIGATION||ie.suggestionType===K.fd.MPIM_NAVIGATION||ie.suggestionType===K.fd.USER_NAVIGATION||ie.suggestionType===K.fd.TEAM_NAVIGATION||ie.suggestionType===K.fd.VIEW_NAVIGATION||ie.suggestionType===K.fd.FILE_NAVIGATION)&&(Se=ie.frecencyScore),Se}i(hn,"getFrecencyScoreForSuggestion");function yn(ie){let Se=null;return ie.suggestionType===K.fd.QUERY&&ie.lastSuggestionToken&&ie.lastSuggestionToken.type===K.S6.API&&(Se=ie.lastSuggestionToken.querySuggestionScore),Se}i(yn,"getQuerySuggestionScoreV2");function ht(ie){let Se=null;return ie.suggestionType===K.fd.FILE_NAVIGATION&&(Se=ie.rawScore),Se}i(ht,"getFileSuggestionScore");function Bt(ie){return ie&&ie.lastSuggestionToken?ie.lastSuggestionToken.toString():""}i(Bt,"getLastSuggestionTokenString");function wt(ie){return nt(ie)?Bt(ie):ie.suggestionType===K.fd.FILE_NAVIGATION?ie.name:null}i(wt,"getTextOrNullFromQuerySuggestion");function Qt(ie){return ie.isNavigational||ie.isAction||ie.isApp?ie.name:null}i(Qt,"getTextOrNullFromNavigationalSuggestion");function mn(ie,Se){return ie.suggestionType===Se?ie.name:null}i(mn,"getTextOrNullFromSuggestionWithType");function On(ie){return ie.suggestionType===K.fd.USER_NAVIGATION||(0,j.A)(ie.name)?null:ie.name}i(On,"getTextOrNullFromSuggestionNotUser");function zt(ie,Se){return ie.suggestionType!==K.fd.FILE_NAVIGATION?!1:ie.fileType===Se}i(zt,"isFileTypeMatch");function nt(ie){return ie.lastSuggestionToken?ie.lastSuggestionToken.type===K.S6.STRING||ie.lastSuggestionToken.type===K.S6.PHRASE||ie.lastSuggestionToken.type===K.S6.API:!1}i(nt,"isActiveTokenStringLike");function mt(ie){return ie.lastTokenMemberOrNull&&ie.lastTokenMemberOrNull.profile&&ie.lastTokenMemberOrNull.profile.first_name}i(mt,"getLastTokenUserFirstName");function Ct(ie){return ie.lastTokenMemberOrNull&&ie.lastTokenMemberOrNull.profile&&ie.lastTokenMemberOrNull.profile.last_name}i(Ct,"getLastTokenUserLastName");function Zt(ie){return ie.lastTokenMemberName||ie.lastTokenChannelName||null}i(Zt,"lastTokenName");function Ft(ie){return ie?ie.im&&ie.lastReadImTs?ie.lastReadImTs:ie.remoteImMetadata&&ie.lastReadRemoteImMetadataTs?(ie.lastReadRemoteImMetadataTs/1e6).toString():null:null}i(Ft,"lastReadFromLocalClientElseCachedRemote");function Jt(ie){let{text:Se,query:$e}=ie;return Se===$e}i(Jt,"isExactMatch");function rn(ie){let{text:Se,query:$e}=ie;return!!($e&&Se&&(0,J.A)(Se,$e))}i(rn,"isPrefixMatch");function gn(ie){let{text:Se,normalizedQuery:$e}=ie;return(0,b.B)(Se).replace(/^[@#]/g,"")===$e}i(gn,"isNormalizedExactMatch");function Fe(ie){let{text:Se,normalizedQuery:$e}=ie;const Pt=(0,b.B)(Se).replace(/^[@#]/g,"");return!!(Pt&&$e&&(0,J.A)(Pt,$e))}i(Fe,"isNormalizedPrefixMatch");function Ke(ie){let{text:Se,query:$e}=ie;return(0,X.A)(Se).length+((0,q.A)(Se," ")?1:0)===(0,X.A)($e).length}i(Ke,"stringSameNumberWordsValueFromSuggestion");function Ne(ie){let{text:Se,query:$e}=ie;return Math.max(0,Se.length-$e.length)}i(Ne,"excessStringLengthValueFromSuggestion");function He(ie){let{text:Se,query:$e}=ie;return Se.length>0?$e.length/Se.length:0}i(He,"queryRatioLengthValueFromSuggestion");function Je(ie){let{text:Se,normalizedQuery:$e}=ie;return gn({text:Se,normalizedQuery:$e})&&$e.length>1?2**-$e.length:null}i(Je,"queryLengthDecayNormalMatch");function ft(ie){let{normalizedQuery:Se}=ie;return Se.length}i(ft,"queryLength");function Kt(ie){let{text:Se}=ie;return Se.length}i(Kt,"suggestionTextLength");function St(ie,Se,$e){if(Se){var Pt;return Math.min(1,Math.exp(Math.log(.5)/$e*((Pt=cn(ie,Se))!==null&&Pt!==void 0?Pt:0)))}return 0}i(St,"expAgeDecay");function cn(ie,Se){return Se?Math.max(0,ie-Se):null}i(cn,"age");function An(ie,Se,$e){if(!Se)return!0;const Pt=cn(ie,Se);return!Pt||Pt>$e}i(An,"ageLatestOlderOrMissing");function Ln(ie){return ie>0?Math.log1p(ie):0}i(Ln,"log1pSafe");function It(ie){let{text:Se,normalizedQuery:$e}=ie;const Pt=(0,b.B)(Se).replace(/^[@#]/g,"");return Pt&&$e&&Pt.includes($e)}i(It,"stringContainsQueryNormalized");class qe{score(Se){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pt=0;const Mn=Se.featureList.length;for(let Cn=0;Cn<Mn;Cn++)Pt+=this._weightForFeature(Se.featureList[Cn],$e.source||null)*(Xt(Se.featureList[Cn])||0);return Pt}explain(Se){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Pt=$e.source||null,Mn=Se.featureList.map(on=>({id:on.id,name:on.name,value:on.valueOrNull,weight:this._weightForFeature(on,Pt),globalWeight:this._globalWeightForFeature(on),score:this._weightForFeature(on,Pt)*Xt(on)})),Cn=Mn.filter(on=>on.score).sort((on,qn)=>qn.score-on.score),Rn=Mn.filter(on=>on.value&&!on.score&&on.name!=="ID");return{score:this.score(Se,$e),features:[...Cn,...Rn],remoteModel:this.isRemote}}_globalWeightForFeature(Se){return this.weights[Se.name]||0}_weightForFeature(Se){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pt=0;Se.name==="USER_IS_EXTERNAL"&&(Pt=-1);const Mn=this.weights[Se.name]||0,Rn=$e&&($e==="composer_page__destination"||$e.startsWith("share"))?"WRITE":"READ",on=this.weights[`${Rn}_${Se.name}`]||0;return Mn+on+Pt}constructor(Se,$e=!1){this.isRemote=$e,this.weights=Se}}i(qe,"LinearModel");class ct extends I.F{fetchData(){return(0,D.dispatchForTeamId)(this.teamId,(0,M.ej)({reason:"AutocompleteModelCache"})).catch(Se=>({model:null,omniswitcherModel:null,exception:Se})).then(Se=>{const $e={model:null,omniswitcherModel:null};if(Se.model){const Pt=(0,w.A)(Object.entries(Se.model).map(Mn=>{let[Cn,Rn]=Mn;return[Cn.toUpperCase(),Rn]}));$e.model=new qe(Pt,!0)}else return null;if(Se.omniswitcher_model){const Pt=(0,w.A)(Object.entries(Se.omniswitcher_model).map(Mn=>{let[Cn,Rn]=Mn;return[Cn.toUpperCase(),Rn]}));$e.omniswitcherModel=new qe(Pt,!0)}else $e.omniswitcherModel=$e.model;return $e})}constructor(Se){super(),this.teamId=Se}}i(ct,"AutocompleteModelCache");let vt=null;function Oe(ie){return vt||(vt=new ct(ie)),vt}i(Oe,"getAutocompleteModelCache");var Y=e(1917953477),ce=e(220244708);const Ce=new qe({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),ke=new qe({FRECENCY_LOG_ITEM_COUNT:1}),st=new qe({FRECENCY:1}),dt=new qe({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),Ze=new qe({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),Lt=new qe({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),Gt=new qe({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),In={testing:Lt,testing_2:Gt,frecency:st,autocompleteFallback:Ce,shortcuts1:dt,shortcuts3:Ze,emojiFrequentlyUsed:ke};var wn=e(5795074931),Fn=e(5267557974),Sn=e(9101533895),jn=e(4761125736),is=e(8719147933),gs=e(8276911661),Ls=e(6562711329);const us=new v.Ay("search"),ns="autocompleteFallback";let rs=i(class{sort(Se,$e){var Pt;const Mn=(0,E.Cy)({state:Se});Mn.mark("sorter-sort-mark");const Cn=this.prepSuggestions(Se,$e);this.extractFeatures(Se,Cn);const Rn=this.scoreItems(Se,Cn),on=((Pt=this.options)===null||Pt===void 0?void 0:Pt.dryRun)===!0?Rn:this.sortByScore(Rn);Mn.measureAndClear("sorter-sort-mark","sorter-sort");const qn=2,ms=this.boostExactMatches(on,qn);return this.forceMatches(ms)}boostExactMatches(Se,$e){const Pt=Se.slice(0,$e),Mn=[],Cn=[];for(let Rn=$e;Rn<Se.length;Rn++){const on=Se[Rn];on.isExactMatch||on.bestNameIsExactMatch?Mn.push(on):Cn.push(on)}return[...Pt,...Mn,...Cn]}forceMatches(Se){var $e,Pt;return!(($e=this.options)===null||$e===void 0)&&$e.selfFirst&&!(!((Pt=Se[0])===null||Pt===void 0)&&Pt.isSelf)?[...(0,t.A)(Se,Cn=>Cn.isSelf),...Se]:Se}getModels(Se,$e){let Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Mn={model:In[Se],omniswitcherModel:In[Se]};if(!Pt&&$e){const Rn=Oe($e).getStaleWhileRevalidate(Mn);return Rn===null||Rn.model===null||Rn.model===void 0?Mn:Rn}return Mn}getHistoryChannels(Se){if((0,jn._Z)(Se,"sq_sorter_history")!=="treatment")return{};if(!(0,f.A)())return{};var $e;const Pt=[...($e=(0,is.t)((0,D.getStateForClientStore)()))!==null&&$e!==void 0?$e:[]];if(!Pt)return{};for(let Cn=0;Cn<Pt.length;Cn++)Pt[Cn].position=Cn+1;const Mn={};return Pt.filter(Cn=>!(0,y.VA)()&&Cn.teamId!==this.teamId||!Cn.primaryView?!1:(0,g.A)(Cn.primaryView)).forEach(Cn=>{if(Cn.primaryView&&!(Cn.primaryView in Mn)){var Rn;Mn[Cn.primaryView]={ts:Cn.ts/1e3,position:(Rn=Cn==null?void 0:Cn.position)!==null&&Rn!==void 0?Rn:-1}}}),Mn}prepSuggestions(Se,$e){var Pt,Mn,Cn;const Rn=(0,b.B)((0,Y.O)(this.query));if(!((Pt=this.options)===null||Pt===void 0)&&Pt.currentChannel&&Rn.length<=1&&!(0,a.yz)((Mn=this.options)===null||Mn===void 0?void 0:Mn.currentChannel)&&!(0,a.LI)((Cn=this.options)===null||Cn===void 0?void 0:Cn.currentChannel)){const Pn=$e.filter(tt=>tt.type==="member"||(0,_.NB)(tt.item)).map(tt=>(tt.item||tt).id);(0,D.dispatchForTeamId)(this.teamId,(0,Ls.z)({channelId:this.options.currentChannel.id,userIds:Pn}))}let on=null;if((0,jn._Z)(Se,"snd_autocomplete_features_cache")==="treatment"&&this.teamId){var qn;on=H({teamId:this.teamId,enterpriseId:(qn=this.enterpriseId)!==null&&qn!==void 0?qn:void 0}).getStaleWhileRevalidate()}const ms=$e.length,Ts=(0,wn.WR)(Se),Ps=(0,gs.cA)(Se),Ss=(0,h.dQ)(Ps),vs=this.getHistoryChannels(Se),bs={};return $e.forEach(Pn=>{const tt=Pn.item;(Pn.type==="mpim"||(0,a.yz)(Pn.item))&&((0,o.Ug)(tt)||[]).forEach(Yt=>{if(Yt!==Ts){const pt=bs[Yt]||{itemCount:0,hitCount:0},Nt=(0,o._V)(Se,tt),Vt=Nt?parseFloat(Nt):void 0,Ht=(0,Fn.b)(Se,tt.id),tn=Ht?parseFloat(Ht):void 0;Vt&&(pt.lastReadTs?pt.lastReadTs=Math.max(pt.lastReadTs,Vt):pt.lastReadTs=Vt),tn&&(pt.latestMsgTs?pt.latestMsgTs=Math.max(pt.latestMsgTs,tn):pt.latestMsgTs=tn),pt.hitCount+=(Pn==null?void 0:Pn.hitCount)||0,pt.itemCount+=(Pn==null?void 0:Pn.itemCount)||0,bs[Yt]=pt}})}),$e.map(Pn=>{const tt=Pn.item||Pn,Ye={...Pn,query:this.query,normalizedQuery:Rn,id:tt.id,suggestionType:K.fd.UNKNOWN,numResults:ms};if(Pn.type==="member"||(0,_.NB)(Pn.item)){var Yt,pt,Nt;const kn=tt.id&&(0,Sn.Pu)(Se,tt.id),vn=tt.id&&on&&on.getUserDmChannelMetadata(tt.id);Ye.remoteImMetadata=vn,Ye.im=kn,Ye.latestImTs=kn&&(0,Fn.b)(Se,kn.id),Ye.imHasDraft=kn&&(0,o.yc)(Se,kn.id),Ye.imIsStarred=kn&&(0,o.m2)(Se,kn),Ye.name=(0,p.Gt)(Pn.item),Ye.lastReadImTs=(0,o._V)(Se,kn),Ye.lastReadRemoteImMetadataTs=vn==null?void 0:vn.last_read_abs,(0,h.dQ)(Pn.item)===Ss&&(Ye.sameTeam=!0);let Zn;if(!((Yt=this.options)===null||Yt===void 0)&&Yt.currentChannel&&(Zn=this.options.currentChannel),Zn)if((0,a.yz)(Zn)){var Vt,Ht;Ye.isMemberOfCurrentChannel=(Ht=Zn==null||(Vt=Zn.members)===null||Vt===void 0?void 0:Vt.includes(Pn.item.id))!==null&&Ht!==void 0?Ht:!1}else(0,a.LI)(Zn)||(Ye.isMemberOfCurrentChannel=(0,ce.B)(Se,tt,Zn));Ye.priority=(0,o.dh)(Se,kn),Ye.suggestionType=K.fd.USER_NAVIGATION,Ye.isNavigational=!0,Ye.historyTs=kn&&((pt=vs[kn.id])===null||pt===void 0?void 0:pt.ts),Ye.historyPosition=kn&&((Nt=vs[kn.id])===null||Nt===void 0?void 0:Nt.position);const Gn=bs[tt.id];Gn&&(Ye.mpimFeatures=Gn)}else Ye.name=tt.name||tt.string;if(Pn.type==="channel"||(0,a.jq)(Pn.item)){var tn,pn;Ye.suggestionType=K.fd.CHANNEL_NAVIGATION,Ye.isNavigational=!0,Ye.isChannelMember=(0,a.rW)(tt)&&!(0,l.F)(tt)&&(0,m.b)(tt),Ye.hasDraft=(0,o.yc)(Se,tt.id),Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"channel"),Ye.historyTs=(tn=vs[tt.id])===null||tn===void 0?void 0:tn.ts,Ye.historyPosition=(pn=vs[tt.id])===null||pn===void 0?void 0:pn.position,Ye.latestTs=(0,Fn.b)(Se,tt.id),Ye.lastReadTs=(0,o._V)(Se,tt),Ye.priority=(0,o.dh)(Se,tt),Ye.isStarred=(0,o.m2)(Se,tt)}if(Pn.type==="mpim"||(0,a.yz)(Pn.item)){var Dn,En;Ye.suggestionType=K.fd.MPIM_NAVIGATION,Ye.isNavigational=!0;const vn=((0,o.Ug)(tt)||[]).map(as=>(0,gs.nv)(Se,as));Ye.isMpimWithDeactivatedMember=(0,n.A)(vn,as=>(0,_.oy)(as)||(0,_.eJ)(as)),Ye.isMpimWithOnlyInternalMembers=(0,s.A)(vn,as=>!(0,u.g)(as)),Ye.hasDraft=(0,o.yc)(Se,tt.id),Ye.name=(0,o.Oi)(Se,Pn.item),Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"mpim"),Ye.historyTs=(Dn=vs[tt.id])===null||Dn===void 0?void 0:Dn.ts,Ye.historyPosition=(En=vs[tt.id])===null||En===void 0?void 0:En.position,Ye.priority=(0,o.dh)(Se,tt),Ye.maxLastReadTsOfAllMembers=null,Ye.maxLatestMsgTsOfAllMembers=null;let Zn=0,Gn=0,os=0,es=0,Yn=0;vn.forEach(as=>{if(as.id!==Ts){const ss=as.id?(0,Sn.Pu)(Se,as.id):void 0,_s=ss&&(0,o._V)(Se,ss),Cs=as.id&&on&&on.getUserDmChannelMetadata(as.id),xs=Cs&&Cs.last_read_abs/1e6,As=ss||Cs,ks=_s?parseFloat(_s):xs;if(As){if(Yn+=1,ks){os+=1;var Qn;Ye.maxLastReadTsOfAllMembers=Math.max((Qn=Ye.maxLastReadTsOfAllMembers)!==null&&Qn!==void 0?Qn:-1/0,ks),Zn+=ks}const Os=(0,Fn.b)(Se,ss==null?void 0:ss.id),Ws=ss&&Os?parseFloat(Os):void 0;if(Ws){es+=1;var hs;Ye.maxLatestMsgTsOfAllMembers=Math.max((hs=Ye.maxLatestMsgTsOfAllMembers)!==null&&hs!==void 0?hs:-1/0,Ws),Gn+=Ws}}}}),Ye.avgLastReadTsOfAllMembers=Zn===0?null:Zn/os,Ye.avgLatestMsgTsOfAllMembers=Gn===0?null:Gn/es,Ye.pctNonEmptyDmsForAllMembers=os/(vn.length-1)*100,Ye.pctNonNullDmsForAllMembers=Yn/(vn.length-1)*100}if(Pn.type==="team"&&(Ye.suggestionType=K.fd.TEAM_NAVIGATION,Ye.isNavigational=!0),Pn.type==="view"&&(Ye.suggestionType=K.fd.VIEW_NAVIGATION,Ye.isNavigational=!0),Pn.type==="appAction"&&(Ye.suggestionType=K.fd.APP_ACTION,Ye.isAction=!0,Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"appAction")),Pn.type==="app"&&(Ye.suggestionType=K.fd.APP,Ye.isApp=!0),Pn.type==="emoji"&&(Ye.name=Ye.emojiBestNameMatch,Ye.suggestionType=K.fd.EMOJI,Ye.isNavigational=!0,Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"emoji")),Pn.type==="slashCommand"){var an;Ye.suggestionType=K.fd.SLASH_COMMAND,Ye.isApp=!0,Ye.name=(an=Ye.name)===null||an===void 0?void 0:an.substring(1),Ye.firstWordOfRawQuery&&(Ye.query=Ye.firstWordOfRawQuery,Ye.normalizedQuery=Ye.firstWordOfRawQuery),Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"slashCommand")}if(Pn.type==="globalAction"&&(Ye.suggestionType=K.fd.GLOBAL_ACTION,Ye.isApp=!0,Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"globalAction")),Pn.type==="quipShortcutCommand"&&(Ye.suggestionType=K.fd.QUIP_SHORTCUT),Pn.type==="channelAction"&&(Ye.suggestionType=K.fd.CHANNEL_ACTION,Ye.isApp=!0,Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"channelAction")),Pn.type==="workflowTrigger"&&(Ye.suggestionType=K.fd.WORKFLOW_TRIGGER,Ye.isApp=!0,Ye.offlineFeatures=on&&on.getFeatures(Pn.item.id,"workflowTrigger")),Pn.type==="file"){Ye.suggestionType=K.fd.FILE_NAVIGATION,Ye.isNavigational=!0,Ye.fileSuggestionsFromSearcher=!0;const kn=Ye.item;Ye.id=kn.id,Ye.fileId=kn.id,Ye.logId=kn.id,Ye.fileType=kn.highlight_type||kn.filetype,Ye.name=kn.title,Ye.fileTypeDescription=kn.is_external?(0,r.A)(kn,Se):kn.pretty_type,Ye.fileTypeDescription==="Arugula"&&(Ye.fileTypeDescription=us.t("Post")),Ye.fromCurrentUser=kn.user===Ts;const vn=kn.user&&(0,Sn.Pu)(Se,kn.user),Zn=kn.user&&on&&on.getUserDmChannelMetadata(kn.user);if(Ye.hasNonNullDmsWithCreator=vn!==null,Ye.hasNonNullLocalOrRemoteDmsWithCreator=vn!==null||Zn!==null,Ye.lastReadTs=kn.last_read,kn.shares){const os=kn.shares.public&&Math.max(...Object.values(kn.shares.public).flatMap(Yn=>Yn.map(as=>as.ts?parseFloat(as.ts):-1/0))),es=kn.shares.private&&Math.max(...Object.values(kn.shares.private).flatMap(Yn=>Yn.map(as=>as.ts?parseFloat(as.ts):-1/0)));os&&es?Ye.latestShareTs=os>es?os:es:Ye.latestShareTs=os||es}const Gn=c(kn);if(Gn&&(Ye.latestActionTs=Gn),on){const os=kn.channels&&Array.isArray(kn.channels)&&kn.channels.length&&Math.max(...kn.channels.map(Yn=>on.getFeatures(Yn,"channel").user_ctr_30dd)),es=kn.groups&&Array.isArray(kn.groups)&&kn.groups.length&&Math.max(...kn.groups.map(Yn=>on.getFeatures(Yn,"mpim").user_ctr_30dd));os>0&&es>0?Ye.fileChannelCtr=Math.max(os,es):os>0?Ye.fileChannelCtr=os:es>0&&(Ye.fileChannelCtr=es),kn.user?Ye.fileUserCtr=on.getFeatures(kn.user,"member").user_ctr_30dd:Ye.fileUserCtr=on.getEntityCtr("member")}}if(Pn.type==="link"&&(Ye.suggestionType=K.fd.LINK_NAVIGATION,Ye.isNavigational=!0,Ye.name=Pn.item.title||Pn.item.url),Pn.type==="modal"&&(Ye.suggestionType=K.fd.MODAL_NAVIGATION,Ye.name=Pn.item.name),Pn.type==="queryHistory"&&(Ye.suggestionType=K.fd.QUERY_HISTORY,Ye.is_type_query_history=!0,Ye.id=(0,A.B)(Pn.id||Pn.name||Pn.string),Ye.logId=Ye.id,Ye.exact_string=Pn.string),Pn.type==="query"||Pn.type==="queryUser"||Pn.type==="queryHistory"){var Tn,Vn,Un;Ye.is_type_query_completion=!0,Ye.lastSuggestionToken=!Ye.suggestionTokenList||Ye.suggestionTokenList.length<1?null:Ye.suggestionTokenList[Ye.suggestionTokenList.length-1],Ye.frecencyScore=Ye.lastSuggestionToken&&Ye.lastSuggestionToken._frecencyScore,Ye.scoringContext=((Tn=Ye.lastSuggestionToken)===null||Tn===void 0?void 0:Tn._scoringContext)||{},Ye.lastTokenMemberOrNull=null,Ye.lastTokenChannelOrNull=null;const kn=Ye.lastSuggestionToken&&(Ye.lastSuggestionToken.type===K.S6.FILTER_FROM||Ye.lastSuggestionToken.type===K.S6.FILTER_TO||Ye.lastSuggestionToken.type===K.S6.FILTER_WITH),vn=Ye.lastSuggestionToken&&Ye.lastSuggestionToken.type===K.S6.FILTER_IN;if(!((Vn=Ye.lastSuggestionToken)===null||Vn===void 0)&&Vn._id&&(Ye.lastTokenMemberOrNull=kn&&(0,gs.nv)(Se,Ye.lastSuggestionToken._id),Ye.lastTokenChannelOrNull=vn&&((0,Sn.OL)(Se,Ye.lastSuggestionToken._id)||(0,Sn.Pu)(Se,Ye.lastSuggestionToken._id)),Ye.priority=Ye.lastTokenChannelOrNull?(0,o.dh)(Se,Ye.lastTokenChannelOrNull):void 0),Ye.lastSuggestionToken&&Ye.lastSuggestionToken._name&&(Ye.lastTokenMemberOrNull||(Ye.lastTokenMemberOrNull=kn&&(0,gs.H6)(Se,Ye.lastSuggestionToken._name)),Ye.lastTokenChannelOrNull||(Ye.lastTokenChannelOrNull=vn&&(0,Sn.Os)(Se,Ye.lastSuggestionToken._name))),(0,d.GU)(Ye.lastTokenMemberOrNull)&&(Ye.lastTokenMemberOrNull=null),Ye.lastTokenMemberName=(0,p.Gt)(Ye.lastTokenMemberOrNull)||void 0,(0,d.GU)(Ye.lastTokenChannelOrNull))Ye.lastTokenChannelOrNull=null;else{const Gn=(0,o._V)(Se,Ye.lastTokenChannelOrNull);Ye.lastTokenChannelLastRead=Gn?parseFloat(Gn):void 0,Ye.lastTokenChannelIsStarred=(0,o.m2)(Se,Ye.lastTokenChannelOrNull)}Ye.lastTokenChannelName=(0,o.SB)(Se,Ye.lastTokenChannelOrNull)||null,Ye.lastTokenIm=Ye.lastTokenMemberOrNull&&Ye.lastTokenMemberOrNull.id?(0,Sn.Pu)(Se,Ye.lastTokenMemberOrNull.id):void 0,Ye.lastTokenImLatest=(0,Fn.b)(Se,(Un=Ye.lastTokenIm)===null||Un===void 0?void 0:Un.id);const Zn=(0,o._V)(Se,Ye.lastTokenIm);Zn&&(Ye.lastTokenImLastRead=Zn?parseFloat(Zn):void 0),Ye.lastTokenIm&&(Ye.priority=(0,o.dh)(Se,Ye.lastTokenIm)),Ye.lastTokenImIsStarred=(0,o.m2)(Se,Ye.lastTokenIm)}if(Pn.type==="query"&&(Ye.suggestionType=K.fd.QUERY),Pn.type==="queryUser"&&(Ye.suggestionType=K.fd.QUERY_USER),Pn.type==="queryHistory"&&(Ye.suggestionType=K.fd.QUERY_HISTORY),Pn.type==="query"||Pn.type==="queryUser"||Pn.type==="queryHistory"){var bn;Ye.normalizedQuery=(0,b.B)((0,Y.O)(Ye.query)),Ye.logId=((bn=Ye.lastSuggestionToken)===null||bn===void 0?void 0:bn.logId)||"";var Hn;Ye.name=((Hn=Ye.suggestionTokenList)!==null&&Hn!==void 0?Hn:[]).map(kn=>kn.toString()).join(" ")}return Pn.type==="quickMessage"&&(Ye.isNavigational=!0,Ye.suggestionType=K.fd.MESSAGE_NAVIGATION),Pn.type==="salesforceRecord"&&(Ye.suggestionType=K.fd.SALESFORCE_RECORD),Ye.entityTypeCtr=on?on.getEntityCtr(Pn.type):void 0,Ye})}extractFeatures(Se,$e){$e.forEach(Pt=>{var Mn;const Cn=z(Pt,(Mn=this.options)===null||Mn===void 0?void 0:Mn.source);this.featureVectors[Pt.id]=Cn})}selectModelForScoring(){return this.model}scoreItems(Se,$e){var Pt;const Mn={source:(Pt=this.options)===null||Pt===void 0?void 0:Pt.source},Cn=this.selectModelForScoring();return $e.map(Rn=>{var on;const qn=this.featureVectors[Rn.id],ms=Cn.score(qn,Mn);let Ts;return!((on=this.options)===null||on===void 0)&&on.explain&&(Ts=Cn.explain(qn,Mn)),{...Rn,modelScore:ms,featureVectorRaw:qn,explain:Ts}})}sortByScore(Se){var $e,Pt;return Se.sort((Mn,Cn)=>(($e=Cn==null?void 0:Cn.modelScore)!==null&&$e!==void 0?$e:0)-((Pt=Mn==null?void 0:Mn.modelScore)!==null&&Pt!==void 0?Pt:0))}constructor({query:Se,options:$e={},teamId:Pt=null,enterpriseId:Mn=null}){this.query=Se,this.options=$e;let Cn=$e.model;Cn===void 0&&(Cn=ns);var Rn;const on=this.getModels(Cn,Pt||Mn,(Rn=this.options.modelLocal)!==null&&Rn!==void 0?Rn:!1);this.model=on.model,this.omniswitcherModel=on.omniswitcherModel,this.teamId=Pt,this.enterpriseId=Mn,this.featureVectors={}}},"Sorter")},1763226059:(Q,C,e)=>{"use strict";e.d(C,{M:()=>d,W:()=>r});var t=e(2371143272),n=e(7002741921),s=e(4724591729);function r(o,a){const l={resources:[],frames:[],stacks:[],samples:[]},m=new Map,c=new Map,_=new Map;function p(v){if(_.has(v))return _.get(v);const f=l.resources.length;return l.resources.push(o.resources[v]),_.set(v,f),f}i(p,"mapResource");function u(v){if(c.has(v))return c.get(v);const f=o.frames[v],g=l.frames.length;return f.resourceId!=null?l.frames.push({...f,resourceId:p(f.resourceId)}):l.frames.push(f),c.set(v,g),g}i(u,"mapFrame");function h(v){if(m.has(v))return m.get(v);const f=o.stacks[v],g=f.parentId?h(f.parentId):void 0,y=u(f.frameId),T=l.stacks.length;return l.stacks.push(g!=null?{parentId:g,frameId:y}:{frameId:y}),m.set(v,T),T}i(h,"mapStack");function E(v){v.stackId==null?l.samples.push(v):l.samples.push({timestamp:v.timestamp,stackId:h(v.stackId)})}i(E,"addSample");let A=0;for(const{start:v,end:f}of a){for(;A<o.samples.length&&o.samples[A].timestamp<v;)A+=1;for(;A<o.samples.length&&o.samples[A].timestamp<=f;)E(o.samples[A]),A+=1}return l}i(r,"filterTrace");function d(){return!(0,s.b3)()&&(0,n.A)("self_profiling","enabled")&&!(0,t.b)()}i(d,"isProfilingEnabled")},4291335534:(Q,C,e)=>{"use strict";e.d(C,{Og:()=>r,Pc:()=>n,dx:()=>d,fN:()=>s});var t=e(9434083208);function n(o){const a=(0,t.A)(o);return a&&a.toLowerCase()}i(n,"normalizeName");function s(o,a){const l=n(o.replace(/^[@\uFF20]/,"")),m=n(a.replace(/^[@\uFF20]/,"")),c=l==null?void 0:l.split(/[ ._]/),_=m==null?void 0:m.split(/[ \-._]/);if(!c||!_)return!1;for(let p=0;p<c.length;p++)if(c[p].split(/[-]/)[0]===_[0])return!0;return!1}i(s,"isNameMatchGoodEnoughForRealMention");function r(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return n(o)===n(a.substr(l,o.length))}i(r,"isNameSubstrMatch");function d(o,a){if(!o)return null;for(let l=0;l<o.length;l++){const m=o[l];if(m.name===a||m.ms_name===a||(0,t.A)(m.name)===a)return m}return null}i(d,"getBroadcastMatch")},2332798892:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1703559452),n=e(7174777686),s=e(735940183);const r=["`","\xB4","\u02C6","\xA8","\u02DC"],d=new RegExp(`[${r.join("")}]$`);function o(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(d,"")}i(o,"trim_trailing_composition_char");const a={COMPOSITION_CHARS:r};var l=e(3212336858);function m(c,_){let{allowPartialMatches:p=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!_||!c)return!1;let u=_.toLowerCase().replace(/^\uFF0F/,"/");u=(0,s.dV)(u),u=o(u);const h=[(0,l.fK)(c),(0,l.Bs)(c),...(0,l.qc)(c)||[]];return(0,t.A)(h,E=>{const A=(0,s.dV)(E);return p?(0,n.A)(A,u):A===u})}i(m,"is_match_for_command")},475074488:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>o,lr:()=>a,nf:()=>l});var t=e(6313685253),n=e(4178261413),s=e(5797466484),r=e(9746734072),d=e(8840779375);function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,t.A)(c,(_,p,u)=>({..._,[(0,n.A)(u)]:p}),{})}i(o,"snakeCaseKeys");const a=5;function l(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length>2?arguments[2]:void 0;return m(c,_,p)}i(l,"snakeCaseKeysDeep");function m(c){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length>2?arguments[2]:void 0;var u;if(!(0,s.A)(c)&&!(0,r.A)(c)||_>((u=p==null?void 0:p.maxDepth)!==null&&u!==void 0?u:a)||!c)return c;const h=_+1;let E={};return(0,r.A)(c)?(0,r.A)(c)&&(E=(0,d.A)(c,A=>l(A,h,p))):E=(0,t.A)(c,(A,v,f)=>{var g;const y=!(p==null||(g=p.ignoredKeys)===null||g===void 0)&&g.includes(f)?f:(0,n.A)(f);return{...A,[y]:l(v,h,p)}},{}),E}i(m,"snakeCaseKeysDeepPrivate")},8664881451:(Q,C,e)=>{"use strict";e.d(C,{Dd:()=>A,Rj:()=>f,TQ:()=>v,ZH:()=>u,ds:()=>E,qG:()=>_});var t=e(9706240641),n=e.n(t),s=e(796111729),r=e(6673728906),d=e(571104883);const o={},a={},l={},m=(0,s.Wo)({label:"SOUND-PLAYBACK"});function c(g){return`${g}-repeat`}i(c,"createRepeatKey");const _=i(g=>{g&&v(g)},"addSoundToInMemoryCache"),p=function(){var g=(0,t.coroutine)(function*(y){try{if(!y||!("setSinkId"in y)||(0,d.gm)())return;const T=(0,r._o)();yield y.setSinkId(T)}catch(T){m.warn(`Failed to set sink id with reason: ${T}`)}});return i(function(T){return g.apply(this,arguments)},"maybeSetAudioSinkId")}(),u=function(){var g=(0,t.coroutine)(function*(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return null;const M=A(y)||v(y);M.loop=!!T.loop,M.currentTime=0;var O;M.volume=(O=T.volume)!==null&&O!==void 0?O:1,yield p(M);try{yield M.play()}catch(I){m.warn(`Failed to play sound: ${y} with reason: ${I}`)}});return i(function(T){return g.apply(this,arguments)},"play")}(),h=function(){var g=(0,t.coroutine)(function*(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return null;const M=c(y),O=i(()=>{a[M]-=1,a[M]>0&&(m.info(`lounge music looping: ${y}`),T.pause?l[M]=setTimeout(()=>{u(M)},T.pause):u(M))},"ended");T.repeat&&(a[M]=T.repeat);const I=A(M)||v(y,{ended:O,customCacheKey:M});I.currentTime=0,yield p(I);try{yield I.play()}catch(D){m.warn(`Failed to play repeated sound: ${y} with reason: ${D}`)}});return i(function(T){return g.apply(this,arguments)},"playRepeat")}();function E(g){let{logFailure:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const T=A(g),M=c(g),O=A(M);if(!T&&!O){y&&m.warn(`Tried to stop sound, but no sound was playing matching url: ${g}. Available cached element urls are ${Object.keys(o).join(", ")}`);return}if(O){O.pause(),clearTimeout(l[M]),a[M]=0;const I=O.src;O.src="",O.src=I}if(T){T.pause();const I=T.src;T.src="",T.src=I}}i(E,"stop");function A(g){return o[g]}i(A,"getAudioElement");function v(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=new Audio(g);y.ended&&T.addEventListener("ended",y.ended);const M=y.customCacheKey||g;return o[M]=T,T}i(v,"createAudioElement");function f(g,y,T){if(!g||!y||!T)return;const M=A(g);M&&M.removeEventListener(y,T)}i(f,"removeAudioElementListener")},4737389068:(Q,C,e)=>{"use strict";e.d(C,{z:()=>o});var t=e(2742325982),n=e(1993167390),s=e(5918674591),r=e(1185022047),d=e(9157930672);function o(a,l){const{isHidden:m,...c}=l,_=(0,d.q)(a.id);if(_===null)return a.id===l.id&&a.type===l.type;if(a.type!==(0,s.Z)(a.id,l.type))return!1;const{namespace:p,macroCallbackId:u,namedInputs:h}=_,E=r.s[p].find(g=>{let{callbackId:y}=g;return y===u});if(!E)return!1;const A=h.find(g=>{let{value:y}=g;return y===l.id}),v=E.inputParameters.find(g=>{let{name:y}=g;return y===(A==null?void 0:A.parameter)});if(!A||!v||v.type==="integer"&&l.type==="slack#/types/timestamp")return!0;if(v.type==="array")return l.type==="array"&&(0,t.yH)(c,v);if((E==null?void 0:E.callbackId)==="canvas_card"&&v.name==="object_id"){var f;switch((f=h.find(y=>{let{parameter:T}=y;return T==="object_type"}))===null||f===void 0?void 0:f.value){case"canvas":return l.type==="slack#/types/canvas_id";case"message":return l.type==="slack#/types/message_context";case"user":return l.type==="slack#/types/user_id";default:return!1}}return(E==null?void 0:E.callbackId)==="message_url"&&v.name==="object_id"?l.type==="slack#/types/message_context":(E==null?void 0:E.callbackId)==="canvas_date"?l.type==="slack#/types/timestamp":!!((0,n.X)(t.wP,v.type)&&(0,t.Lm)(c,v))}i(o,"isWorkflowTokenValid")},6013332081:(Q,C,e)=>{"use strict";e.d(C,{C8:()=>o,CE:()=>a,ND:()=>l,R$:()=>m,VN:()=>v,Xq:()=>A,zz:()=>c});var t=e(2384837025),n=e(2508519639),s=e(9157930672),r=e(4459152581);function d(f,g){const y=(0,s.q)(f);if(y){for(const T of y.namedInputs)if(T.parameter===g)return T.value}}i(d,"extractNamedInput");function o(f){return d(f,"timezone")}i(o,"extractLocalizedTimezone");function a(f){return d(f,"locale")}i(a,"extractLocale");function l(f){return f?!!(0,s.q)(f):!1}i(l,"isIdWrappedWithMacro");function m(f){let{type:g,arrayItemType:y,id:T}=f;return g?!!c({type:g,arrayItemType:y,variableId:T}):!1}i(m,"isTypeMacroSupported");function c(f){let{type:g,callbackId:y,fromRichText:T,arrayItemType:M,variableId:O}=f;var I,D;if(!((I=t.ss[g])===null||I===void 0)&&I.call(t.ss)){const V=t.ss[g]();return _({options:V,callbackId:y,fromRichText:T})}if(g===n.TE.Array&&M){var P;const V=(P=t.Wy[M])===null||P===void 0?void 0:P.call(t.Wy);return _({options:V,callbackId:y,fromRichText:T})}if(g===n.TE.String){var k,R;return(R=p(O))!==null&&R!==void 0?R:(k=t.ss[g])===null||k===void 0?void 0:k.call(t.ss)}return(D=t.ss[g])===null||D===void 0?void 0:D.call(t.ss)}i(c,"getMacroOptions");function _(f){let{options:g,callbackId:y,fromRichText:T}=f;if(!y)return g;const M=Object.entries(g??{}).filter(O=>{let[,I]=O;const{macroDetails:D,onlyRichTextAllowed:P,disallowedCallbackIds:k,allowedCallbackIds:R}=I;return!T&&(D==null?void 0:D.outputParameter.type)==="slack#/types/blocks"||P&&!T?!1:k?!k.includes(y):R?R.includes(y):!0});return Object.fromEntries(M)}i(_,"filterMacroOptions");function p(f){if(f!=null&&f.includes("__reaction"))return t.ss[n.sR.CustomTypeEmojiReaction]()}i(p,"getMacroOptionsFromId");function u(f){if(f!=null&&f.includes("__reaction"))return t.T$[n.sR.CustomTypeEmojiReaction]()}i(u,"getDefaultMacroFromId");function h(f){let{type:g,variableId:y}=f;var T,M;return(M=u(y))!==null&&M!==void 0?M:(T=t.T$[g])===null||T===void 0?void 0:T.call(t.T$)}i(h,"getDefaultMacro");function E(f,g,y,T){var M,O,I,D;if(f&&(!((M=t.fU[f])===null||M===void 0||(O=M[y])===null||O===void 0)&&O.call(M,T)))return t.fU[f][y](T);if(g&&(!((I=t.fU[g])===null||I===void 0||(D=I[y])===null||D===void 0)&&D.call(I,T)))return t.fU[g][y](T)}i(E,"getDefaultMacroForStepOrApp");function A(f,g){const y=v(f,g);return y?{...f,id:y}:f}i(A,"applyDefaultMacroForVariable");function v(f,g){const{id:y,type:T,items:M,sourceSubtype:O}=f,I=M&&M.type,P=T===n.TE.Array&&I?I:T;var k;const R=(k=E(g==null?void 0:g.stepId,g==null?void 0:g.appId,P,{isReactionTriggerInsideGsheetStep:O===r.$.ReactionAdded&&(g==null?void 0:g.appId)===t.xM}))!==null&&k!==void 0?k:h({type:P,variableId:y});if(R){var V;const B=(V=c({type:T,arrayItemType:I,callbackId:g==null?void 0:g.callbackId,variableId:y,fromRichText:g==null?void 0:g.fromRichText}))===null||V===void 0?void 0:V[R];if(B)return B.wrapWithMacro(y,g)}}i(v,"wrapIdWithDefaultMacro")},9678184769:(Q,C,e)=>{"use strict";e.d(C,{pE:()=>l,uE:()=>p,KC:()=>_,Jx:()=>c});var t=e(6354089372),n=e(6013332081);const s=i(u=>{let{collection:h,separator:E}=u;return E?`{string.join(collection=${h},separator=${E})}`:`{string.join(collection=${h})}`},"stringJoin");var r=e(2914827650),d=e(7920181432),o=e(9157930672);const l={join:{macroDetails:(0,t.v)(d.J.STRING).join,getLabel:()=>"String Join",getExample:()=>"Str1, Str2",wrapWithMacro:u=>(0,n.ND)(u)?(0,r.sQ)([u,s({collection:r.lQ})]):s({collection:u})}},m=i(u=>Boolean(l[u]),"isTransformMacro"),c=i(u=>{if(!u)return!1;const h=(0,o.D)(u),E=h.filter(A=>{let{macroCallbackId:v}=A;return m(v)});return E.length>0&&E.length===h.length},"isIdWrappedOnlyWithTransformMacro"),_=i(u=>(0,o.D)(u).filter(E=>{let{macroCallbackId:A}=E;return m(A)}).map(E=>{let{macroCallbackId:A}=E;return A}),"getTransformMacros"),p=i((u,h)=>{var E;return h.reduce((A,v)=>{var f;return(E=(f=l[v])===null||f===void 0?void 0:f.wrapWithMacro(A))!==null&&E!==void 0?E:A},u)},"applyTransformMacros")},3436445810:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(308057085),n=e(1026899594);function s(d){var o;if(!(0,t.Ay)(d))return!1;const a=(d==null||(o=d.attributes)===null||o===void 0?void 0:o.link)||"",l=d.insert;if(d.insert===a)return!0;const m=a==null?void 0:a.match(/^(https?:\/\/)(.+)/);return m?`${m[1]}${l}`===a:!1}i(s,"isOpAutolink");function r(d,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{onlyAutoLinks:l}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const m=o.index||0,c=o.length||0,{op:_,opIndex:p}=(0,n.A)(d,m),u=c>0?m+c-1:m+c,{op:h,opIndex:E,opLength:A}=(0,n.A)(d,u);let v=_||{},f=p;const g=h||{};if(!(0,t.Ay)(v)&&m>0&&c===0&&a.link){const T=(0,n.A)(d,m-1);v=T.op||{},f=T.opIndex}const y=o;return(!l&&(0,t.Ay)(v)||l&&((0,t.uK)(v)||s(v)))&&(y.index=f,y.length=c+(m-y.index)),(!l&&(0,t.Ay)(g)||l&&((0,t.uK)(g)||s(g)))&&(y.length=E+A-y.index),y}i(r,"adjustSelectionToCoverLink")},8369963377:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Le});var t=e(4711108074),n=e.n(t),s=e(3078252698),r=e(1649982175),d=e(9113979368),o=e(5797466484),a=e(4404059078),l=e(2827252833),m=e(308057085),c=e(6564475562),_=e(8405695339),p=e(9017940688),u=e(3436445810);const h="block-formatter";var E=e(796111729),A=e(80326605),v=e(6263851502),f=e(5543919295),g;(function(ye){ye.BulletList="bullet-list",ye.OrderedList="ordered-list",ye.CodeBlock="code-block",ye.BlockQuote="blockquote"})(g||(g={}));function y(ye){return ye===g.BulletList||ye===g.OrderedList||ye===g.CodeBlock||ye===g.BlockQuote}i(y,"stringIsBlockFormat");const T={[g.OrderedList]:A.DI,[g.BulletList]:A.Kp,[g.CodeBlock]:v.h,[g.BlockQuote]:f.h$};function M(ye){const Te=[g.BulletList,g.OrderedList,g.CodeBlock,g.BlockQuote],Ae={[g.BulletList]:!1,[g.OrderedList]:!1,[g.CodeBlock]:!1,[g.BlockQuote]:!1};return Te.forEach(Ie=>{const Ue=T[Ie];Ue(ye)&&(Ae[Ie]=!0)}),Ae}i(M,"getBlockFormatsOfLine");var O=e(8086952004),I=e(6696292586),D=e(2208015175),P=e(9101902095),k=e(791705512),R=e(9816084745),V=e(5783222387);function B(ye,Te,Ae){const Ie=T[Ae],Ue=(0,V.M)(ye,Te);return!(0,R.A)(Ue,we=>Ie(we))}i(B,"shouldAddBlockFormattingToRange");function W(ye){var Te;const Ae=ye==null||(Te=ye.cache)===null||Te===void 0?void 0:Te.length;return!Ae||!(0,I.A)(Ae)?null:Ae}i(W,"getLineLength");function L(ye,Te){if(!ye||!Te)return null;const Ae=ye.getIndex(Te),Ie=W(Te);return!(0,I.A)(Ae)||!(0,I.A)(Ie)||Ae<-1||Ie<-1?null:{index:Ae,length:Ie}}i(L,"getLineRange");function S(ye,Te){const Ae=M(Te),Ie=Ae[g.BlockQuote],Ue=Ae[g.OrderedList]||Ae[g.BulletList],Be=Ae[g.CodeBlock];if(Ie)return;const we=L(ye,Te);if(!we){(0,E.Wo)().error("setBlockQuoteOnLine: cannont determine range for line");return}if(Ue||Be){ye.formatLine(we==null?void 0:we.index,we==null?void 0:we.length,"border","1");return}ye.formatLine(we==null?void 0:we.index,we==null?void 0:we.length,"blockquote",!0)}i(S,"setBlockQuoteOnLine");function H(ye,Te){var Ae;const Ie=M(Te),Ue=Ie[g.BlockQuote],Be=Ie[g.OrderedList]||Ie[g.BulletList],we=Ie[g.CodeBlock];if(!Ue)return;const re=L(ye,Te);if(!re){(0,E.Wo)().error("removeBlockQuoteOnLine: cannont determine range for line");return}if(Be||we){ye.formatLine(re==null?void 0:re.index,re==null?void 0:re.length,"border","0");return}ye.formatLine(re==null?void 0:re.index,re==null?void 0:re.length,"blockquote",!1),!((Ae=ye.getFormat(re))===null||Ae===void 0)&&Ae.border&&ye.formatLine(re==null?void 0:re.index,re==null?void 0:re.length,"border","0")}i(H,"removeBlockQuoteOnLine");function w(ye,Te,Ae){Ae?S(ye,Te):H(ye,Te)}i(w,"toggleBlockQuoteOnLine");function F(ye,Te,Ae){Ae?j(ye,Te):J(ye,Te)}i(F,"toggleCodeBlockOnLine");function j(ye,Te){const Ae=M(Te),Ie=Ae[g.CodeBlock],Ue=Ae[g.OrderedList]||Ae[g.BulletList],Be=Ae[g.BlockQuote];if(Ie)return;const we=L(ye,Te);if(!we){(0,E.Wo)().error("setCodeBlockOnLine: cannont determine range for line");return}if(Be&&!Ue){ye.formatLine(we.index,we.length,{blockquote:!1,border:"1","code-block":!0});return}const re=ye.getFormat(we),ge=(re==null?void 0:re.border)>0?re.border:void 0;ye.formatLine(we.index,we.length,{"code-block":!0,border:ge})}i(j,"setCodeBlockOnLine");function J(ye,Te){const Ae=M(Te),Ie=Ae[g.CodeBlock],Ue=Ae[g.BlockQuote];if(!Ie)return;const Be=L(ye,Te);if(!Be){(0,E.Wo)().error("removeCodeBlockOnLine: cannont determine range for line");return}if(Ue){ye.formatLine(Be.index,Be.length,{border:"0",blockquote:!0});return}ye.formatLine(Be==null?void 0:Be.index,Be==null?void 0:Be.length,"code-block",!1)}i(J,"removeCodeBlockOnLine");function X(ye,Te){const Ae=M(Te),Ie=Ae[g.OrderedList],Ue=Ae[g.BulletList],Be=Ae[g.CodeBlock],we=Ae[g.BlockQuote];if(Ie)return;const re=L(ye,Te);if(!re){(0,E.Wo)().error("setOrderedListOnLine: cannont determine range for line");return}if(we&&!Ue&&!Be){ye.formatLine(re.index,re.length,{blockquote:!1,border:"1",list:"ordered"});return}const ge=ye.getFormat(re),De=(ge==null?void 0:ge.border)>0?ge.border:void 0;ye.formatLine(re.index,re.length,{list:"ordered",border:De})}i(X,"setOrderedListOnLine");function q(ye,Te){const Ae=M(Te),Ie=Ae[g.OrderedList],Ue=Ae[g.BlockQuote];if(!Ie)return;const Be=L(ye,Te);if(!Be){(0,E.Wo)().error("removeOrderedListOnLine: cannont determine range for line");return}if(Ue){ye.formatLine(Be.index,Be.length,{border:0,indent:0,blockquote:!0});return}ye.formatLine(Be==null?void 0:Be.index,Be==null?void 0:Be.length,"list",!1)}i(q,"removeOrderedListOnLine");function G(ye,Te,Ae){Ae?X(ye,Te):q(ye,Te)}i(G,"toggleOrderedListOnLine");function ne(ye,Te){const Ae=M(Te),Ie=Ae[g.BulletList],Ue=Ae[g.OrderedList],Be=Ae[g.CodeBlock],we=Ae[g.BlockQuote];if(Ie)return;const re=L(ye,Te);if(!re){(0,E.Wo)().error("setUnorderedListOnLine: cannont determine range for line");return}const ge=ye.getFormat(re);if(we&&!Ue&&!Be){ye.formatLine(re.index,re.length,{blockquote:!1,border:"1",list:"bullet"});return}const De=(ge==null?void 0:ge.border)>0?ge.border:void 0;ye.formatLine(re.index,re.length,{list:"bullet",border:De})}i(ne,"setUnorderedListOnLine");function te(ye,Te){const Ae=M(Te),Ie=Ae[g.BulletList],Ue=Ae[g.BlockQuote];if(!Ie)return;const Be=L(ye,Te);if(!Be){(0,E.Wo)().error("removeUnorderedListOnLine: cannot determine range for line");return}if(Ue){ye.formatLine(Be.index,Be.length,{border:0,indent:0,blockquote:!0});return}ye.formatLine(Be==null?void 0:Be.index,Be==null?void 0:Be.length,"list",!1)}i(te,"removeUnorderedListOnLine");function le(ye,Te,Ae){Ae?ne(ye,Te):te(ye,Te)}i(le,"toggleUnorderedListOnLine");function he(ye,Te,Ae,Ie){Ie===g.BlockQuote?w(ye,Te,Ae):Ie===g.OrderedList?G(ye,Te,Ae):Ie===g.BulletList?le(ye,Te,Ae):Ie===g.CodeBlock&&F(ye,Te,Ae)}i(he,"toggleBlockFormatOnLine");function fe(ye,Te,Ae,Ie){(0,V.M)(ye,Te).forEach(Be=>{he(ye,Be,Ae,Ie)})}i(fe,"toggleBlockFormatOverRange");let ve=i(class{shouldAddOrRemoveBlockFormattingToRange(){return B(this.quill,this.selectionRange,this.selfBlockFormat)}addLineFormatActionsForSelection(){this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,this.endOfSelectionLineIndex,()=>!0,Te=>{let{currentLineIndex:Ae}=Te;this.addFormatAction(Ae,this.selfBlockFormat,this.isAddingFormatting)})}setAllLineFormattingActions(){this.addLineFormatActionsForSelection(),this.logger.debug("block-formatter -- added lineFormatActions",this.formatActions)}formatSelection(){return this.setAllLineFormattingActions(),(0,D.A)(this.formatActions,(Te,Ae)=>{if(!Te||(0,d.A)(Te.orderedFormatActions))return;const Ie=L(this.quill,this.lines[Ae]),Ue=[];Te.orderedFormatActions.forEach((Be,we)=>{we===0?he(this.quill,this.lines[Ae],Be.isAdding,Be.blockFormat):(Ue[we]||(Ue[we]=[]),Ue[we].push(()=>{fe(this.quill,Ie,Be.isAdding,Be.blockFormat)}))}),Ue.forEach(Be=>{Be!=null&&Be.length&&(Be==null?void 0:Be.length)>0&&setTimeout(()=>(0,P.A)(Be)(),0)})}),{addedFormatting:this.isAddingFormatting}}getLineIndexOfSelectionStartAndEnd(){const Te=this.selectionRange.index,Ae=this.selectionRange.index+this.selectionRange.length,Ie={};this.lines.forEach((re,ge)=>{const De=L(this.quill,re),be=De.index,xe=De.index+De.length;(0,k.A)(Te,be,xe)&&(Ie.selectionStartLineIndex=ge),(0,k.A)(Ae,be,xe)&&(Ie.selectionEndLineIndex=ge)});const Ue=(0,I.A)(Ie==null?void 0:Ie.selectionStartLineIndex)&&(0,I.A)(Ie.selectionEndLineIndex),Be=(Ie==null?void 0:Ie.selectionStartLineIndex)<=(Ie==null?void 0:Ie.selectionEndLineIndex);return Ue&&Be||this.logger.error("getLineIndexOfSelectionStartAndEnd invalid return value",Ie),Ie}forLineFromIndexToIndexWhile(Te,Ae,Ie,Ue){if(Te<0||Ae>=this.lines.length)return;const Be=i(be=>Te<Ae?be+1:be-1,"getNextIndex"),we=i(be=>Te<Ae?be-1:be+1,"getPreviousIndex"),re=i(be=>{const xe=be,je={currentLine:this.lines[be],currentLineIndex:xe},Ge=we(be);(0,k.A)(Ge,0,this.lines.length)&&(je.previousLineIndex=Ge,je.previousLine=this.lines[Ge]);const Qe=Be(be);return(0,k.A)(Qe,0,this.lines.length)&&(je.nextLineIndex=Qe,je.nextLine=this.lines[Qe]),je},"getLineContextFromIndex");if(Te===Ae){Ie({currentLine:this.lines[Te],currentLineIndex:Te})&&Ue(re(Te));return}const ge=i(be=>Te<Ae?be<=Ae:be>=Ae,"moreLinesToIterateOver");let De=Te;for(;ge(De)&&!(De<0||De>=this.lines.length);){const be=re(De);if(!Ie(be))break;Ue(be),De=Be(De)}}addFormatAction(Te,Ae,Ie){this.formatActions[Te].formatActionsMap[Ae]!==Ie&&(this.formatActions[Te].formatActionsMap[Ae]=Ie,this.formatActions[Te].orderedFormatActions.push({isAdding:Ie,blockFormat:Ae}))}constructor(Te,Ae){this.formatActions=[],this.logger=(0,E.Wo)({label:h}),this.quill=Te,this.selectionRange=Te.getSelection(),this.lines=Te.getLines(),this.lines.forEach((Ue,Be)=>{this.formatActions[Be]={orderedFormatActions:[],formatActionsMap:{}}}),this.selfBlockFormat=Ae,this.selfFormatIdentifier=T[this.selfBlockFormat];const Ie=this.getLineIndexOfSelectionStartAndEnd();this.startOfSelectionLineIndex=Ie.selectionStartLineIndex,this.endOfSelectionLineIndex=Ie.selectionEndLineIndex,this.isAddingFormatting=this.shouldAddOrRemoveBlockFormattingToRange()}},"BlockFormatter"),me=i(class extends ve{addLineFormatActionsThatBleedInFromAboveAndBelow(){const Te=i(Ie=>{let{currentLine:Ue,currentLineIndex:Be}=Ie;return Be>=this.startOfSelectionLineIndex&&Be<=this.endOfSelectionLineIndex||this.selfFormatIdentifier(Ue)},"whileFunction"),Ae=i(Ie=>{let{currentLineIndex:Ue,previousLineIndex:Be}=Ie;this.lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(Be)&&this.greedyFormatWhenAdding&&this.addFormatAction(Ue,this.greedyFormatWhenAdding,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,this.lines.length-1,Te,Ae),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,0,Te,Ae)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedInFromAboveAndBelow(),this.logger.debug("non-greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasGreedyWhenAddingFormat(Te){return!Te||!this.greedyFormatWhenAdding?!1:T[this.greedyFormatWhenAdding](Te)}lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(Te){return!(0,I.A)(Te)||!this.greedyFormatWhenAdding?!1:this.lineHasGreedyWhenAddingFormat(this.lines[Te])||!!this.formatActions[Te].formatActionsMap[this.greedyFormatWhenAdding]}constructor(Te,Ae,Ie){super(Te,Ae),this.greedyFormatWhenAdding=Ie===g.BlockQuote?Ie:void 0}},"NonGreedyBlockFormatter"),oe=i(class extends me{removeListAboveAndBelowIfSelectionHasPreservedFormat(){const Te=i(Ie=>{let{currentLine:Ue}=Ie;return this.selfFormatIdentifier(Ue)&&this.lineHasPreservedFormatForList(Ue)},"whileFunction"),Ae=i(Ie=>{let{currentLineIndex:Ue}=Ie;this.addFormatAction(Ue,this.selfBlockFormat,!1)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,Te,Ae),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,Te,Ae)}addListAboveAndBelowIfSelectionHasPreservedFormat(){const Te=i(Ie=>{let{currentLine:Ue}=Ie;return this.lineOnlyHasPreservedFormatForList(Ue)},"whileFunction"),Ae=i(Ie=>{let{currentLineIndex:Ue}=Ie;this.addFormatAction(Ue,this.selfBlockFormat,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,Te,Ae),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,Te,Ae)}setAllLineFormattingActions(){this.isAddingFormatting?this.addListAboveAndBelowIfSelectionHasPreservedFormat():this.removeListAboveAndBelowIfSelectionHasPreservedFormat(),this.logger.debug("list-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasPreservedFormatForList(Te){const Ae=M(Te),Ie=this.listWideFormatToPreserve;return!!Ae[Ie]}lineOnlyHasPreservedFormatForList(Te){const Ae=M(Te),Ie=this.listWideFormatToPreserve,Ue=!!Ae[Ie];if(!Ue)return!1;const Be=(0,O.A)(Object.keys(Ae),we=>we!==Ie&&Ae[we]);return Ue&&!Be}constructor(Te,Ae,Ie){super(Te,Ae,Ie),this.listWideFormatToPreserve=g.BlockQuote}},"ListBlockFormatter");class N extends oe{constructor(Te){super(Te,g.BulletList,g.BlockQuote)}}i(N,"BulletListFormatter");class K extends oe{constructor(Te){super(Te,g.OrderedList,g.BlockQuote)}}i(K,"OrderedListFormatter");class x extends me{constructor(Te){super(Te,g.CodeBlock,g.BlockQuote)}}i(x,"CodeBlockFormatter");let b=i(class extends ve{addLineFormatActionsThatBleedUpFromSelection(){if(this.startOfSelectionLineIndex===0)return;const Te=this.lines[this.startOfSelectionLineIndex],Ae=this.getYieldingFormatOfLine(Te);if(!Ae)return;const Ue=T[Ae],Be=i(re=>{let{currentLine:ge}=re;return Ue(ge)},"whileFunctionUp"),we=i(re=>{let{currentLineIndex:ge}=re;this.addFormatAction(ge,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,0,Be,we)}addLineFormatActionsThatBleedDownFromSelection(){if(this.endOfSelectionLineIndex===this.lines.length-1)return;const Te=this.lines[this.endOfSelectionLineIndex],Ae=this.getYieldingFormatOfLine(Te);if(!Ae)return;const Ue=T[Ae],Be=i(re=>{let{currentLine:ge}=re;return Ue(ge)},"whileFunctionDown"),we=i(re=>{let{currentLineIndex:ge}=re;this.addFormatAction(ge,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex,this.lines.length-1,Be,we)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedUpFromSelection(),this.addLineFormatActionsThatBleedDownFromSelection(),this.logger.debug("greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}getYieldingFormatOfLine(Te){const Ae=M(Te),Ie=this.isAddingFormatting?this.yieldingAddingFormats:this.yieldingRemovingFormats;let Ue;for(const Be of Ie)if(Ae[Be]){Ue=Be;break}return Ue}constructor(Te,Ae,Ie=[],Ue=[]){super(Te,Ae),this.yieldingAddingFormats=Ie,this.yieldingRemovingFormats=Ue}},"GreedyBlockFormatter");const z=g.BlockQuote,$=[g.OrderedList,g.BulletList,g.CodeBlock],Z=[g.CodeBlock,g.OrderedList,g.BulletList];class U extends b{constructor(Te){super(Te,z,$,Z)}}i(U,"QuotedBlockFormatter");function ee(ye,Te){const Ae=(0,E.Wo)({label:h}),Ie=ye.getSelection();if(!Ie)return{didHandle:!1};if(!y(Te))return se(Te);const Be={[g.BulletList]:N,[g.OrderedList]:K,[g.CodeBlock]:x,[g.BlockQuote]:U}[Te];if(!Be)return se(Te);Ae.debug(`attempting to apply ${Te} to user selection`);const we=new Be(ye),{addedFormatting:re}=we.formatSelection();return{didHandle:!0,addedFormatting:re,hadSelection:Ie.length>0}}i(ee,"applyBlockFormatToSelection");function se(ye){return(0,E.Wo)().error(`applyBlockFormattingToselection(): ${ye} is not supported`),{didHandle:!1}}i(se,"logUnsupportedBlockFormat");var de=e(3726677001),ue=e(3904348617),_e=e(2508519639);const pe=i((ye,Te,Ae)=>{let Ie={};const Ue=ye.getContents(Te,Ae);let Be=!1;const we=[];let re=Te;for(const ge of Ue.ops){const De=(0,ue.sR)(ge);if((0,ue.Ay)(ge)&&(De===_e.TE.SlackTypesRichText||De===_e.TE.SlackTypesExpandedRichText))Be=!0;else{const be=(0,de.A)(ge);we.push({index:re,length:be}),re+=be}}if(!Be)return Ie;if(Be)for(const ge of we){const De=(0,r.A)(ye.getFormat(ge.index,ge.length),["indent"]);Ie={...Ie,...De}}return Ie},"getFormatAroundRichTextWft"),ae={h1:{key:"header",value:1},h2:{key:"header",value:2},h3:{key:"header",value:3},"bullet-list":{key:"list",value:"bullet"},"ordered-list":{key:"list",value:"ordered"},"check-list":{key:"list",value:"unchecked"},"code-block":{key:"code-block",value:!0},blockquote:{key:"blockquote",value:!0},paragraph:{key:"paragraph",value:!0},slackhorizontalrule:{key:"slackhorizontalrule",value:!0}};function Ee(ye,Te){let{format:Ae,index:Ie,length:Ue}=Te,Be=0;if(!(Ae==="code-block"||Ae==="code"))return Be;let we=Ie,re=Ue;if(Ae==="code-block"){const[be,xe]=ye.getLine(Ie);we=Ie-xe;let Re=xe;if(Ie+Ue>we+be.length()){const[Ge,Qe]=ye.getLine(Ie+Ue);Re+=(Ge==null?void 0:Ge.length())-Qe}re=Ue+Re}let ge=!1;const De=ye.getContents(we,re).map(be=>{if((0,l.Ay)(be)&&!(0,s.A)(be.insert)){var xe,Re;const Ge=((xe=be.insert)===null||xe===void 0||(Re=xe.slackemoji)===null||Re===void 0?void 0:Re.text)||"";return ge=!0,Be=Be+Ge.length-1,{insert:Ge}}if((0,m.uK)(be)&&(0,s.A)(be.insert)){var je;const Ge=be.insert||"",Qe=((je=be.attributes)===null||je===void 0?void 0:je.link)||"";return ge=!0,Be=Be+Qe.length-Ge.length,{insert:Qe}}return be});if(ge){const be=new(n());we>0&&be.retain(we),De.forEach(xe=>{be.insert(xe.insert,xe.attributes)}),be.delete(re),ye.updateContents(be)}return Ae==="code-block"&&((0,c.A)()?ye.removeFormat(we,re+Be):ye.formatText(we,re+Be,{strike:!1,italic:!1,bold:!1,link:void 0}),ye.history.cutoff()),Be}i(Ee,"maybeAdaptDeltaForCode");function Le(ye,Te,Ae){let{format:Ie,index:Ue,length:Be}=Te,we=(0,r.A)(ye.getFormat(Ue,Be),["indent"]);const re=pe(ye,Ue,Be);(0,d.A)(re)||(we={...we,...re});const ge=(0,d.A)(we)?!1:we[Ie],De=ae[Ie]||void 0;let be=!ge,xe=0;be&&(xe=Ee(ye,{format:Ie,index:Ue,length:Be}));let Re=Be+xe;if(Ie==="paragraph")return ye.format("header",null),{didHandle:!0,addedFormatting:be,hadSelection:!1};if(Ae&&Ie==="slackhorizontalrule"){const Qe=ye.format(Ie,be);return Qe.insert(`
`),ye.updateContents(Qe),ye.setSelection(Qe.length()-2,0),{didHandle:!0,addedFormatting:be,hadSelection:!1}}if(De&&(0,o.A)(De)){if(!Ae&&!(0,c.A)())return ee(ye,Ie);const Qe=De.key,Xe=De.value,et=Object.keys(we)[0],rt=Object.values(we)[0];if(be=!!(Qe!==et&&Xe||et==="header"&&Qe==="header"&&Xe!==rt),Re>0&&Qe==="code-block"&&!be){const it=ye.getText(Ue+Re-1,1),lt=ye.getFormat(Ue+Re+1,1);it&&!lt["code-block"]&&(Re-=1)}return ye.formatLine(Ue,Re,{[Qe]:be?Xe:!1}),{didHandle:!0,addedFormatting:be,hadSelection:Re>0}}if(Re>0){let Qe=Ue,Xe=Re;if(!(0,c.A)()){const ot=(0,u.A)(ye.getContents(),{index:Ue,length:Re},ye.getFormat(Ue,Re),{onlyAutoLinks:!0});Qe=ot.index,Xe=ot.length}if(ye.getFormat(Qe,Xe)["code-block"])return{didHandle:!1};const rt=ye.getContents(Qe,Xe),it=Qe+Xe;let lt=0;return(0,_.A)(rt,(ot,Et)=>{const At=(0,de.A)(ot),Ot=Qe+lt;if(lt+=At,(0,p.A)(Et))return;const Rt=it-Ot,yt=(0,a.A)(At,0,Rt);yt===0||ye.getFormat(Ot,yt)["code-block"]||ye.formatText(Ot,yt,{[Ie]:be})}),{didHandle:!0,addedFormatting:be,hadSelection:!0}}const je=ye.getSelection();return ye.getFormat(je||void 0)["code-block"]?{didHandle:!1}:(ye.format(Ie,be),{didHandle:!0,addedFormatting:be,hadSelection:!1})}i(Le,"applyFormattingToSelection")},4244114639:(Q,C,e)=>{"use strict";e.d(C,{A:()=>S});var t=e(4711108074),n=e.n(t),s=e(6717607339),r=e(8571983633),d=e(3339229351),o=e(8283510982),a=e(8389327410),l=e(9283953805);const m=["*","-"];function c(H){return m.includes(H)?a.L1.BULLET:H.match(o.X$)?a.L1.ORDERED:""}i(c,"determineListTypeFromListSymbol");var _=e(2048590538);const p=4;function u(H,w){let F=w;const j=H&&H.ops;if(!j)return[new(n()),F];let J=new(n()),X=-1,q="",G=0,ne=!1,te={};const le=(0,l.A)(j),he=[...le.matchAll(o.u_)],fe=[],ve=le.match(_.qv)||le.match(_.K);ve!=null&&ve[0]&&(ne=!0,F=!0);const me=o.Dk.test(le);return le.replace(o.AY,(N,K,x,b,z,$,Z,U)=>{const ee=U,se=ee+K.length+x.length+b.length+z.length,de=c(b);if((he||[]).some(Ae=>U>((Ae==null?void 0:Ae.index)||0)&&se+$.length<=((Ae==null?void 0:Ae.index)||0)+Ae[0].length))return;let _e=x.length?Math.floor(x.length/p):0;_e=Math.min(d.Az-1,_e);const pe=le.substring(le.indexOf(N)),ae=le.substring(le.indexOf(N)-2,le.indexOf(N));if(de===a.L1.ORDERED){if(!me||_e===0&&te[_e]===void 0&&b===o.v0&&!o.IK.test(pe))return;if(/\n\n/.test(ae)&&b!==o.v0){te={};return}if((0,r.A)(te[_e])&&b!==o.v0)return}let Ee={list:de||!1,indent:_e,border:void 0};(K.length||ne)&&(!ve||U>((ve==null?void 0:ve.index)||0))&&(Ee={...Ee,border:1});const Le=G+q.length===U,ye=X!==-1&&X<_e;(!Le||ye)&&(te[_e]=0),X!==-1&&Le&&_e!==X&&te[_e]>0&&(Ee={...Ee,offset:te[_e]}),(0,r.A)(te[_e])&&(te[_e]=0),te[_e]+=1,X=_e,q=N,G=U;const Te=new(n());Z?Te.retain(U).retain(N.length-1).retain(1,Ee):Te.retain(U).retain(N.length).insert(`
`,Ee),J=J.compose(Te);for(let Ae=ee;Ae<se;Ae++)fe.push(Ae)}),fe.sort((N,K)=>K-N).forEach(N=>{J=J.compose(new(n())().retain(N).delete(1))}),[J,F]}i(u,"buildMarkdownChangeDeltaForLists");var h=e(1022424641),E=e(9113979368),A=e(1703559452),v=e(9592753406),f=e(9189262068),g=e(8088280230),y=e(4584833195),T=e(8234448831);const M="mailto:";function O(H,w){const{protocol:F,pathname:j}=(0,T.Ay)(w);return F===M&&j===H?!0:H===w}i(O,"isValidLinkForMrkdwn");const I={link:[o.p7],bold:[o.wq,o.H_],italic:[o.dc,o.QX],code:[o.q6,o.j5],strike:[o.d9]};function D(H){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!H||!H.ops)return[new(n()),j];let J="";w&&w.ops&&(J=(0,l.A)(w.ops));let X=new(n()),q=0;const G=[],ne={},te=[];if(H.eachLine((fe,ve)=>{te.push({line:fe,attributes:ve})}),!te.length)return[X,j];let le=!1;return te.forEach(function(fe){let{line:ve,attributes:me}=fe,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var N,K,x,b,z;const $=ve&&ve.ops;let Z=!1,U=!1,ee=(0,l.A)($);if((0,v.Zz)(me))le=!1;else if(le){if(Z=!0,ee.match(_.zd)&&!(ee.match(_.qv)||ee.match(_.K))){var se;U=!0;const Be=((se=ee.match(_.zd))===null||se===void 0?void 0:se[0])||"";for(let we=0;we<Be.length;we++)G.push(q+we);ee=ee.substring(Be.length),q+=Be.length}}else if(oe!==0||!J||(0,h.A)(J,`
`)){const Be=ee.match(_.qv)||ee.match(_.K),we=ee.match(_.zd),re=Be||we;if(oe===0&&we&&(we==null?void 0:we.index)===0&&((we==null?void 0:we.input)===">"||(we==null?void 0:we.input)==="\uFF1E"||(we==null?void 0:we.input)==="> "||(we==null?void 0:we.input)==="\uFF1E "))return;if(!Be&&j&&we&&(U=!0),re){Z=!0;const ge=re[0];for(let be=0;be<ge.length;be++)G.push(q+be);if(ee=ee.substring(ge.length),q+=ge.length,Be&&(le=!0,j||(j=!0),ee==="")){const be=new(n())().retain(q+ee.length);be.delete(1),X=X.compose(be);return}const De=ee.match(_.zd);if(De){U=!0;const be=De[0];for(let xe=0;xe<be.length;xe++)G.push(q+xe);ee=ee.substring(be.length),q+=be.length}}}const de=te[oe-1],ue=te[oe+1],_e=te[oe],pe=(de==null||(N=de.attributes)===null||N===void 0?void 0:N.border)||0,ae=(ue==null||(K=ue.attributes)===null||K===void 0?void 0:K.border)||0;if((pe>=1&&ae>=1||pe>=1&&_.zd.test(ue==null||(x=ue.line)===null||x===void 0||(b=x.ops)===null||b===void 0||(z=b[0])===null||z===void 0?void 0:z.insert)&&j)&&(ee!=null&&ee.length)&&(0,E.A)(_e==null?void 0:_e.attributes)&&(Z=!0),pe>=1&&(0,E.A)(_e==null?void 0:_e.attributes)&&ue!==te[te.length-1]&&j&&(Z=!0),Z){const Ue=U?1:void 0,Be=new(n())().retain(q+ee.length),we={blockquote:!0};Ue&&(we.border=Ue),!(0,f.A)(H)&&oe===te.length-1?Be.insert(`
`,we):Be.retain(1,we),X=X.compose(Be)}const Ee=me["code-block"],{code:Le,...ye}=I,Te=[["code",Le],...Object.entries(ye)],Ae=[],Ie=[];Te.forEach(Ue=>{let[Be,we]=Ue;we.forEach(re=>{if(!(!ee||Ee)){if(Be==="link"){ee.replace(re,(ge,De,be,xe)=>{const Re=q+xe,je=Re+ge.length;if((0,A.A)(Ae,Rt=>{let{codeStart:yt,codeEnd:Mt}=Rt;const en=Re>=yt&&Re<=Mt,Tt=je>=yt&&je<=Mt;return en||Tt}))return;const Qe=(0,y.w)(ge),Xe=(0,y.w)(be),et=(0,g.A)({input:Xe,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),rt=et.length===1&&O(et[0].text,Xe);if(et.length===0||!rt)return;const it=q+xe+1,lt=De.length,ot=it+De.length,Et=q+xe+Qe.length,At=et[0].url,Ot=new(n())().retain(it).retain(lt,{link:At});X=X.compose(Ot),G.push(it-1);for(let Rt=ot;Rt<Et;Rt++)G.push(Rt);Ie.push({linkStart:it,linkEnd:Et}),ne[Be]=!0});return}ee.replace(re,(ge,De,be,xe)=>{const Re=q+xe+De.length,je=be.length,Ge=Re+je;if((0,A.A)(Ie,et=>{let{linkStart:rt,linkEnd:it}=et;return Re>=rt&&Ge<=it})||Be==="italic"&&be==="(\u30C4)")return;if(Be==="code")Ae.push({codeStart:Re,codeEnd:Ge});else if((0,A.A)(Ae,rt=>{let{codeStart:it,codeEnd:lt}=rt;const ot=Re>=it&&Re<=lt,Et=Ge>=it&&Ge<=lt;return ot||Et}))return;const Xe=new(n())().retain(Re).retain(je,{[Be]:!0});X=X.compose(Xe),G.push(Re-1),G.push(Re+je),ne[Be]=!0})}})}),q+=(ee?ee.length:0)+1}),G.sort((fe,ve)=>ve-fe).forEach(fe=>{X=X.compose(new(n())().retain(fe).delete(1))}),[X,j]}i(D,"buildMarkdownChangeDeltaForSingleLineFormatting");var P=e(6217320234),k=e(6313685253),R=e(8786006583),V=e(1699044291),B=e(2774532222);function W(H,w){for(let F=0;F<H.length;F++){const j=H[F];j==="`"||j==="\uFF40"||j.match(/\s/)||j.match(">")||j.match("\uFF1E")?w.delete(1):w.retain(1)}return w}i(W,"deleteBackticksAndWhitespace");function L(H,w){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const J=H&&H.ops;if(!J)return[new(n()),j];let X=new(n()),q=!1;const G=(0,l.A)(J),ne=G.match(_.qv)||G.match(_.K),te=G.match(/```|\uFF40\uFF40\uFF40/);ne!=null&&ne[0]&&((ne==null?void 0:ne.index)||0)<((te==null?void 0:te.index)||0)?q=!0:j=!1;let le="";w&&w.ops&&(le=(0,l.A)(w.ops));const he=[];[o.u_,o.Xr].forEach(me=>{G.replace(me,(oe,N,K,x,b)=>{if(!K||!K.length)return;const z=G[b+oe.length],$=z&&z.match(/\s/)?`${x}${z}`:x;he.push({phraseToFormatPrefix:N,phraseToFormat:K,phraseToFormatSuffix:$,matchOffset:b,backTicksStart:b+N.length-3,backTicksEnd:b+N.length+K.length+3})})});const fe=(0,P.A)(he,"matchOffset"),ve=(0,k.A)(fe,(me,oe)=>{const N=(0,R.A)(me);return(!N||N.backTicksEnd<=oe.backTicksStart)&&me.push(oe),me},[]);return(0,V.A)(ve).forEach((me,oe)=>{let{phraseToFormatPrefix:N,phraseToFormat:K,phraseToFormatSuffix:x,matchOffset:b}=me,z=new(n());z.retain(b);const Z=_.zd.test(N)||q||j?1:void 0,U=(0,B.A)(N,`
`);U?(z.retain(1),z=W(N.substring(1),z)):z=W(N,z),!U&&(b>0||le&&!(0,h.A)(le,`
`))&&z.insert(`
`);const ee=ve[oe+1];ee&&b===ee.backTicksEnd&&z.insert(`
`);const se=K.split(`
`);if(se.forEach((de,ue)=>{if(z.retain(de.length),ue===0&&de.length===0)z.delete(1);else if(ue!==se.length-1){const _e={"code-block":!0};Z&&(_e.border=Z),z.retain(1,_e)}}),(0,R.A)(se)!==""){const de={"code-block":!0};Z&&(de.border=Z),z.insert(`
`,de)}W(x,z),X=X.compose(z)}),[X,j]}i(L,"buildMarkdownChangeDeltaForCodeBlocks");function S(H){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=!1;if(!H||!H.ops)return new(n());const J=F;let X=new(n()),q=new(n());if(J){const[oe,N]=u(H,j);X=oe,j=N,q=H.compose(X)}const[G,ne]=L(J?q:H,w||new(n()),j);j=ne;const te=H.compose(G),le=J?q.compose(G):te,[he,fe]=D(le,w,j);j=fe;const ve=J?X.compose(G).compose(he):G.compose(he),me=(0,s.A)(H.compose(ve));return ve.compose(me)}i(S,"buildMarkdownChangeDelta")},512148710:(Q,C,e)=>{"use strict";e.d(C,{Fh:()=>r,Hm:()=>o,Nb:()=>n,Sf:()=>s,z1:()=>d});var t=e(6244014364);const n=[".",",",";",":","?","!","]",")","*","_","~",">"],s=(()=>{const a=n.map(l=>`\\${l}`).join("");return new RegExp(`[${a}]$`)})(),r=[".",",",";",":","?","!","[","(","*","_","~","<"],d=[["(",")"],["[","]"],["<",">"]],o={bold:t.MsgFormattingInputFormat.BOLD,italic:t.MsgFormattingInputFormat.ITALIC,strike:t.MsgFormattingInputFormat.STRIKE,code:t.MsgFormattingInputFormat.CODE,underline:t.MsgFormattingInputFormat.UNDERLINE,link:t.MsgFormattingInputFormat.LINK,"bullet-list":t.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":t.MsgFormattingInputFormat.ORDERED_LIST,"check-list":t.MsgFormattingInputFormat.CHECK_LIST,"code-block":t.MsgFormattingInputFormat.CODE_BLOCK,blockquote:t.MsgFormattingInputFormat.BLOCKQUOTE,h1:t.MsgFormattingInputFormat.H1,h2:t.MsgFormattingInputFormat.H2,hr:t.MsgFormattingInputFormat.HR}},1389436147:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(6313685253),n=e(8207536819),s=e(3904348617),r=e(117342833),d=e(2827252833);function o(l){let{tagChannelsAsSearchGeneric:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tagChannelsAsSearchGeneric:!1};return l.contents?(0,t.A)(l.contents,(_,p)=>{if((0,r.Ay)(p)){const u=p.attributes.slackmention.id,h=p.attributes.slackmention.label,E=a(p,m);let A="";if(E==="%"&&(A="%"),p.insert.length>h.length){let v=p.insert.split(h);if(v.length>1)return v.shift(),v=v.map(()=>`<${E}${u}|${A}${(0,n.A)(h)}>`),_+v.join("")}return`${_}<${E}${u}|${A}${(0,n.A)(h)}>`}if((0,d.Ay)(p))return _+p.insert.slackemoji.text;if((0,s.Ay)(p)){const{id:u,property:h}=p.insert.workflowtoken,E=h?`.${h}`:"";return`${_}{{${u}${E}}}`}return _+p.insert},"").replace(/\n$/,""):""}i(o,"convertContentsToString");function a(l){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!m&&(0,r.BQ)(l)?"#":(0,r.Dw)(l,m)?"%":"@"}i(a,"getControlChar")},5143598415:(Q,C,e)=>{"use strict";e.d(C,{T:()=>S,A:()=>q});var t=e(9816084745),n=e(8571983633),s=e(3783303734),r=e(9686962598),d=e(9746734072),o=e(897091071),a=e(3078252698),l=e(8891672792),m=e(4711108074),c=e.n(m),_=e(9936232041),p=e(4897863105),u=e(8389327410),h=e(796745801),E=e(9189262068),A=e(3829348308),v=e(4921059838),f=e(8405695339),g=e(2827252833),y=e(117342833),T=e(5591756507);function M(x){return!!(x&&x.attributes&&x.attributes.header)}i(M,"isOpHeader");var O=e(5701872082),I=e(3183335528),D=e(9017940688),P=e(4029059089),k=e(308057085),R=e(3904348617),V=e(937317117),B=e(2188787324);const W=/(^|\S)( +)(\n)/gm,L=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,S=/^[0-9a-fA-F]{6}$/,{SECTION:H,LIST:w,PREFORMATTED:F,QUOTE:j,HEADER:J,DIVIDER:X}=u.Lv;function q(){let{delta:x,options:{convertEmpty:b=!1,trimEndingWhitespace:z=!1,trimStartingWhitespace:$=!0,expandTruncatedLinks:Z=!1,useExpandedRichText:U=!1}={},state:ee}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!x||!ee)return[];const se=(0,h.A)({delta:x,trimEnd:z,trimStart:$});if((0,E.A)(se)||se.insert(`
`),se.length()<=1&&!b)return[];let de=[],ue=new(c()),_e=H;return(0,f.A)(se,(pe,ae)=>{const Ee=G(pe,ae);Ee!==_e&&(de=ne(de,_e,ue,ee,{stripTrailingWhitespace:!1,expandTruncatedLinks:Z}),_e=Ee,ue=new(c())),pe.insert&&ue.insert(pe.insert,pe.attributes)}),de=ne(de,_e,ue,ee,{stripTrailingWhitespace:!0,expandTruncatedLinks:Z}),{blocks:[{type:U?"expanded_rich_text":"rich_text",elements:de}]}}i(q,"convertDeltaToBlocks");function G(x,b){return(0,D.A)(b)?F:(0,P.A)(b)?j:(0,T.A)(b)?w:M(b)?J:(0,O.A)(x)?X:H}i(G,"getElementType");function ne(x,b,z,$){let Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(z.ops.length<=0)return x;let U=[];if(b===w)U=[],U=te(z,$,{expandTruncatedLinks:Z.expandTruncatedLinks});else if(b===F){U=[];const ee=z.filter(de=>(0,D.A)(de)),se=(ee==null?void 0:ee.length)>0&&(0,t.A)(ee,de=>{var ue;return((de==null||(ue=de.attributes)===null||ue===void 0?void 0:ue.border)||0)>=1});U.push({type:F,border:se?1:0,elements:he(z,$,{...Z,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(b===j){U=[];const ee=z.filter(se=>{var de;return(0,P.A)(se)&&((se==null||(de=se.attributes)===null||de===void 0?void 0:de.border)||0)>=1});(ee==null?void 0:ee.length)>0?z.eachLine((se,de)=>{U.push({type:j,border:de!=null&&de.border?de.border:void 0,elements:he(se,$,{...Z,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):U.push({type:j,elements:he(z,$,{...Z,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else b===J?U=le(z,$):b===X?(U=[],U.push({type:X})):(U=[],U.push({type:b,elements:he(z,$,{...Z,preformattedStyle:!1})}));return x.concat(U)}i(ne,"addDeltaToElements");function te(x,b){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const $=[];let Z=null,U=null,ee=null,se={},de=[];x.eachLine((_e,pe)=>{if(Z===null&&(Z=pe.list),U===null&&(U=pe.indent||0),ee===null&&(ee=pe.border||0),(0,n.A)(se[U])&&(se[U]=0),Z!==pe.list||U!==(pe.indent||0)){const ae={type:w,style:Z||"bullet",indent:U,border:ee,elements:de.map(Ee=>({type:H,elements:Ee}))};Z==="ordered"&&se[U]>0&&(ae.offset=se[U]),$.push(ae),pe.list!==u.L1.ORDERED&&pe.list!==u.L1.BULLET&&pe.list!==u.L1.CHECKED&&pe.list!==u.L1.UNCHECKED?se={}:(U<(pe.indent||0)&&pe.list===u.L1.ORDERED&&(se[pe.indent||0]=0),Z===u.L1.ORDERED&&(se[U]=(se[U]||0)+(0,s.A)(de))),Z=pe.list,U=pe.indent||0,ee=pe.border||0,de=[]}de.push(he(new(c())(_e),b,{stripTrailingWhitespace:!1,preformattedStyle:!1,...z}))});const ue={type:w,style:Z||"bullet",indent:U||0,border:ee||0,elements:de.map(_e=>({type:H,elements:_e}))};return Z==="ordered"&&!(0,r.A)(U)&&se[U]>0&&(ue.offset=se[U]),$.push(ue),$}i(te,"processDeltaAsList");function le(x,b){const z=[];let $=null,Z=[],U=0;x.eachLine((se,de)=>{if($===null&&($=de.header),$!==de.header||U>0&&(de!=null&&de.header)){const ue={type:J,level:$||1,elements:Z};z.push(ue),Z=[],$=de.header}Z=he(new(c())(se),b,{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1}),U+=1});const ee={type:J,level:$||1,elements:Z};return z.push(ee),z}i(le,"processDeltaAsHeader");function he(x,b){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const $=x.ops[x.ops.length-1];let Z=x;z.stripTrailingWhitespace&&($==null?void 0:$.insert)===`
`&&(Z=new(c())(x.ops.slice(0,x.ops.length-1)));let U=[];return Z.forEach(ee=>{let se;if((0,g.Ay)(ee)?se=oe(ee,b,{preformattedStyle:z.preformattedStyle}):(0,y.Ay)(ee)&&!(0,y.zJ)(ee)&&!(0,y.gC)(ee)?se=K(ee,b,{preformattedStyle:z.preformattedStyle}):(0,k.Ay)(ee)?se=me(ee,{preformattedStyle:z.preformattedStyle,expandTruncatedLinks:z.expandTruncatedLinks}):(0,R.Ay)(ee)?se=N(ee):se=ve(ee,{stripTrailingWhitespace:!!(z.stripTrailingWhitespace&&ee===$),preformattedStyle:z.preformattedStyle,skipConversions:!1}),!se)return;const de=U.length&&U[U.length-1],ue=(0,d.A)(se)?se.shift():se;ue&&ue.type==="text"&&!ue.style&&de&&de.type==="text"&&!de.style?U[U.length-1].text=`${U[U.length-1].text}${ue.text}`:ue&&U.push(ue),(0,d.A)(se)&&se.length&&(U=U.concat(se))}),(0,o.A)(U)}i(he,"createRichTextChunkElements");function fe(x,b){const z={};return b.attributes&&(b.attributes.bold&&(z.bold=!0),b.attributes.italic&&(z.italic=!0),b.attributes.strike&&(z.strike=!0),b.attributes.code&&(z.code=!0),b.attributes.unlink&&!(0,y.Ay)(b)&&!(0,g.Ay)(b)&&(z.unlink=!0)),{...x,...(0,s.A)(z)&&{style:z}}}i(fe,"annotateChunkWithStyle");function ve(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},z=(0,a.A)(x.insert)?x.insert:"";if(b.stripTrailingWhitespace&&(z=(0,l.A)(z)),b.preformattedStyle||(z=z.replace(W,"$1$3")),!z)return;const $=!b.skipConversions&&!b.preformattedStyle&&!(x.attributes&&x.attributes.code),Z={type:"text",text:z},U=b.preformattedStyle?Z:fe(Z,x);if($){const ee=[];if(z.replace(L,(ue,_e,pe,ae)=>{const Ee=(0,l.A)(pe,"_-.\u2026");if(Ee.match(S)){const Le=ae+_e.length;ee.push({start:Le,end:Le+Ee.length+1,color:`#${Ee.toUpperCase()}`})}}),!ee.length)return U;const se=[];let de=0;return ee.forEach(ue=>{de<ue.start&&se.push({type:"text",text:z.slice(de,ue.start)}),se.push({type:"color",value:ue.color}),de=ue.end}),de<z.length&&se.push({type:"text",text:z.slice(de)}),se.map(ue=>fe(ue,x))}return U}i(ve,"createTextChunkFromOp");function me(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var z,$;const Z={type:"link",url:((z=x.attributes)===null||z===void 0?void 0:z.link)||""};return(0,a.A)(x.insert)&&x.insert!==(($=x.attributes)===null||$===void 0?void 0:$.link)&&!(b.expandTruncatedLinks&&(0,k.uK)(x))&&(Z.text=x.insert),b.preformattedStyle?Z:fe(Z,x)}i(me,"createLinkChunkFromOp");function oe(x,b){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,I.A)(x))return ve({insert:(0,g.Um)(x)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const $=(0,g.Um)(x),Z={type:"emoji",name:""};if(b&&(0,v.A)(b,$)){var U;const{name:se="",unicode:de=""}=(U=(0,A.i8)(b,$))!==null&&U!==void 0?U:{},[ue]=se.split("::")||[];Z.name=ue,Z.unicode=de}else{var ee;const{skinTone:se="",name:de=""}=(ee=(0,_.A)($))!==null&&ee!==void 0?ee:{};Z.name=de,se&&(Z.skin_tone=+se)}if(!(!Z.name&&!Z.unicode))return Z&&fe(Z,x)}i(oe,"createEmojiChunkFromOp");function N(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const z={type:"workflowtoken",id:(0,R.PJ)(x),data_type:(0,R.sR)(x),property:(0,R.Lp)(x)};return(b==null?void 0:b.preformattedStyle)===!0?z:fe(z,x)}i(N,"createWorkflowTokenChunkFromOp");function K(x,b){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,I.A)(x))return ve(x,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const $=(0,y.I4)(x),Z=(0,y.zv)(x);let U;if((0,p.c)().includes($))U=fe({type:"broadcast",range:$.substr(2)},x);else if($.charAt(0)==="S")U=fe({type:"usergroup",usergroup_id:$},x);else if((0,y.BQ)(x))U=fe({type:"channel",channel_id:$},x);else if((0,y.KT)(x)){const ee=(0,V.Lp)(b,$);ee&&(0,B.l7)(ee)?U=fe({type:"list_record",file_id:$},x):U=fe({type:"file",file_id:$},x)}else U=fe({type:"user",user_id:$},x);if((0,a.A)(x.insert)&&x.insert.length>Z.length){const ee=x.insert.split(Z);return ee.length>1?(ee.shift(),ee.fill(U)):[U]}return Z===x.insert?[U]:ve(x,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}i(K,"createMentionChunksFromOp")},8315518813:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(4711108074),n=e.n(t);function s(r,d){let{format:o,range:a,replacementLength:l,charToInsert:m}=d;const[c,_]=r.getLine(a.index),p=c.length();m&&r.insertText(a.index,m);const u=r.history.options.delay;r.history.options.delay=0;const h=new(n())().retain(a.index-_).delete(l+m.length).retain(p-m.length-_).retain(1,o);r.updateContents(h),r.setSelection(a.index-l),r.history.options.delay=u}i(s,"convertShortcutToBlockFormat")},8405695339:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n,s){n.eachLine((r,d)=>{r.insert(`
`,d);const o={insert:`
`,attributes:d};r.forEach(a=>{s(a,o)})})}i(t,"deltaForEachWithLineData")},1026899594:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3726677001);function n(r,d){let o=0,a;return r.forEach(l=>{if(a)return;const m=o+(0,t.A)(l);d>=o&&d<m?a=l:o=m}),a?{op:a,opIndex:o,opLength:(0,t.A)(a)}:{op:null,opIndex:-1,opLength:0}}i(n,"findOpAtIndex");const s=n},1089076149:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8841789548);function n(s,r,d){return(0,t.A)(s?s.ops:[]).substr(r,d)}i(n,"getDeltaSubStr")},8967399401:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(6696292586),n=e(3726677001),s=e(8405695339);const d=i((o,a)=>{if(!o||!(0,t.A)(a))return null;let l=0,m;return(0,s.A)(o,(c,_)=>{if(m)return;const p=l+(0,n.A)(c);if(a>=l&&a<p){const u=c.attributes||{},h=_.attributes||{};m={...u,...h}}l=p}),m},"getFormatAtIndex")},8430184522:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,e:()=>c});var t=e(7174777686),n=e(8786006583),s=e(4711108074),r=e.n(s),d=e(4897863105),o=e(2827252833),a=e(117342833),l=e(4547907890);function m(_){const p=_.reduce((h,E)=>{if((0,o.Ay)(E)){const A=(0,o.Um)(E);return A?h+A.length:h}if((0,a.Ay)(E)){const A=(0,a.I4)(E),v=(0,a._z)(E);return A==="UNVERIFIED"||(0,t.A)((0,d.c)(),A)?v.length:h+(A?A.length:v.length)}if((0,l.A)(E)){const A=(0,l.$)(E);return h+A.length}return h},0),u=(0,n.A)(_.ops)||{};return(0,l.A)(u)&&(0,l.$)(u).substr(-1)===`
`?p-1:p}i(m,"getMessageLengthForDelta");function c(_){if(!_||!_.length)return 0;const p=new(r())(_);return m(p)}i(c,"getMessageLengthForMsgOps")},3726677001:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3078252698),n=e(4200148118);function s(r){return r?(0,n.A)(r)?1:(0,t.A)(r.insert)?r.insert.length:1:0}i(s,"getOpLength")},9189262068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8786006583),n=e(4547907890);function s(r){if(!r||r.length()===0)return!1;const d=r.slice(r.length()-1);if(!d)return!1;const o=(0,t.A)(d.ops)||{};return!o||!(0,n.A)(o)?!1:o.insert===`
`}i(s,"hasTrailingNewline")},9592753406:(Q,C,e)=>{"use strict";e.d(C,{Fr:()=>d,G$:()=>r,Zz:()=>s});var t=e(1703559452),n=e(3867135795);function s(o){if(!o)return!1;const a=["code-block","blockquote","list"];return(0,t.A)(a,m=>(0,n.A)(o,m))}i(s,"doesAttributesContainBlockFormatting");function r(o){if(!o)return!1;const{insert:a,attributes:l}=o;return a!==`
`||!l?!1:s(l)}i(r,"isOpOnlyBlockFormatting");function d(o){if(!o)return!1;const a=o.ops;if(!a||a.length!==1)return!1;const l=o.ops[0];return l?r(l):!1}i(d,"isDeltaOnlyBlockFormatting")},5939082889:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!n||!n.ops?!0:!(n.ops.length>0)}i(t,"isDeltaEmpty")},6096763876:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){if(!n||!n.length())return!1;let s=!0;for(let r=0;r<n.ops.length;r++)if(!n.ops[r].retain){s=!1;break}return s}i(t,"isDeltaFormattingOnly")},4029059089:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&n.attributes&&n.attributes.blockquote)}i(t,"isOpBlockQuoteItem")},1615300784:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(308057085),n=e(8088280230);function s(r){let{userDidDelete:d,userDidInsertSpace:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var a;if(!(0,t.Ay)(r))return!1;const l=(r==null||(a=r.attributes)===null||a===void 0?void 0:a.link)||"",m=(0,t.AQ)(r),c=l==null?void 0:l.match(/^(https?:\/\/)(.+)/);if(!c)return!1;const _=c[2].split(".");if((d||o)&&_.length===2&&_[0]===r.insert)return!1;const p=`${c[1]}${r.insert}`;if(!d&&!o&&p.length>((l==null?void 0:l.length)||0)&&p.substr(0,l==null?void 0:l.length)===l)return!0;const u=l==null?void 0:l.substr((m==null?void 0:m.length)*-1),h=l==null?void 0:l.substr(0,p.length);if(d&&(h===p||u===r.insert&&!(0,n.A)({input:p}).length))return!0;if(o){const E=m==null?void 0:m.split(" ");if(E.length===1||E.length===2){const A=`${c[1]}${E[0]}`,v=E[1]||"";if(A.length+v.length<=((l==null?void 0:l.length)||0)&&(l==null?void 0:l.substr(0,A.length))===A&&(l.substr(v.length*-1)===v||v.length===0))return!0}}return!1}i(s,"isOpBrokenAutolink")},9017940688:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&n.attributes&&n.attributes["code-block"])}i(t,"isOpCodeBlockItem")},3460983082:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6696292586);function n(s){return!!(s&&(0,t.A)(s.delete))}i(n,"isOpDelete")},5591756507:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=["bullet","ordered","unchecked","checked"];function n(s){var r,d;return!!(s&&s.attributes&&(!((r=s.attributes)===null||r===void 0)&&r.list)&&t.includes((d=s.attributes)===null||d===void 0?void 0:d.list))}i(n,"isOpListItem")},5382342064:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6696292586);function n(s){return!!(s&&(0,t.A)(s.retain))}i(n,"isOpRetain")},9935649141:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>S,AO:()=>R,Zj:()=>k,xN:()=>B,L2:()=>L});var t=e(4711108074),n=e.n(t),s=e(2208015175),r=e(9113979368),d=e(8086952004),o=e(235108050),a=e(1649982175),l=e(8405695339),m=e(8088280230),c=e(9017940688),_=e(4547907890),p=e(308057085);function u(H){var w;return!!(!(H==null||(w=H.attributes)===null||w===void 0)&&w.unlink)}i(u,"isOpUnlink");var h=e(4200148118),E=e(117342833),A=e(5354964300),v=e(9189262068),f=e(4332759902),g=e(1615300784),y=e(3726677001),T=e(8841789548),M=e(512148710),O=e(6564475562);const I=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,D=["dropbox.com"],P=i(H=>H&&(I.test(H)?H:H.split("?")[0]),"sanitizeImageUrlWithParams"),k=i(H=>{const w=P(H);return w?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(w):!1},"isImageUrl"),R=i(H=>{if(H){for(let w=0;w<D.length;w++)if(H.indexOf(D[w])>=0)return!0}return!1},"isImageFromDeniedDomains"),V=i(function(H){let{doImageReplacement:w,ignoreExistingLinks:F,limitCodeBlockLinksToFullURLs:j,ignoreUnbalancedParentheses:J=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!H)return new(n());const X=(0,v.A)(H),q=new(n());return(0,l.A)(H,(G,ne)=>{const te=(0,c.A)(ne);if(!(0,_.A)(G)||F&&(0,p.Ay)(G)||u(G)||(0,p.uK)(G)){q.insert(G.insert||"",{...G.attributes});return}const le=(0,A.A)(G),he=j&&te,fe=(0,m.A)({input:le,ignorePhoneMatches:he,ignoreEmailMatches:he,ignoreLinksWithoutHttp:he,ignoreUnbalancedParentheses:!!J});if(!fe.length){q.insert(G.insert||"",{...G.attributes});return}let ve=0;const me=G&&G.attributes;if((0,s.A)(fe,oe=>{const{url:N,type:K,text:x,offset:b}=oe||{};if(b>ve&&(q.insert(le.slice(ve,b),me),ve=b),!(!N||!x)){if(w&&K==="url"&&k(N)&&!R(N)){const z=P(N);q.insert({slackdocimage:z})}else q.insert(x,{...me,link:N});ve=b+x.length}}),ve<le.length&&ve>=0){const oe=le.slice(ve);q.insert(oe,me)}}),X?q:(0,f.A)(q)},"linkifyDeltaText"),B=i(H=>{if(!H)return new(n());const w=H.map(J=>{if((0,p.Ay)(J)){const X={insert:J.insert},q={...J.attributes};return delete q.link,(0,r.A)(q)||(X.attributes=q),X}return J}),F=new(n())().compose(new(n())(w));return V(F,{doImageReplacement:(0,O.A)()})},"relinkifyDeltaText"),W=i((H,w,F)=>{const j=w+(0,y.A)(H);return(0,d.A)(F,J=>{if(J.text===H.insert)return!1;const X=J.offset,q=J.offset+J.text.length;return X>=w&&X<=j||q<=w&&q<=j||X<w&&q<=j})},"isOpInRangeOfMatches"),L=i(H=>{if(!H)return new(n());const w=(0,o.A)(M.Fh.concat(M.Nb)),F=(0,T.A)(H.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),j=(0,m.A)({input:F});let J=0;const X=H.map(G=>{const ne=J,te=(0,y.A)(G);let le=!1;if(J+=te,!(0,p.Ay)(G))return G;if((0,h.A)(G)||(0,E.Ay)(G))return{...G,attributes:{...(0,a.A)(G.attributes,"link")}};if((0,p.uK)(G))return G;W(G,ne,j)&&(le=!0);const he=ne===0?" ":F.substr(ne-1,1),fe=he.match(/^\s$/)||w.includes(he),ve=ne+te===F.length?" ":F.substr(ne+te,1),me=w.includes(ve)||ve.match(/^\s$/);if(!le&&(!fe||!me)){var oe;const N=(0,A.A)(G),K=!le&&(0,m.A)({input:N});K&&K.length===1&&K[0].url===((oe=G.attributes)===null||oe===void 0?void 0:oe.link)&&(le=!0)}if(!le&&(0,g.A)(G)&&(le=!0),le){const N={insert:G.insert},K={...G.attributes};return delete K.link,(0,r.A)(K)||(N.attributes=K),N}return G}),q=new(n())().compose(new(n())(X));return V(q,{doImageReplacement:(0,O.A)()})},"relinkifyDeltaTextWhileRetainingExistingLinks"),S=V},4071871748:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(8170643398),n=e(9262712126),s=e(7136729150);function r(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return(0,s.A)((0,t.K6)(d)||"",`@${(0,n.Gt)(d)}`,o)}i(r,"makeSlackmentionForMember")},9932296884:(Q,C,e)=>{"use strict";e.d(C,{W:()=>V,P:()=>R});var t=e(7165234038),n=e(8289365785),s=e(3078252698),r=e(8786006583),d=e(1649982175),o=e(4711108074),a=e.n(o),l=e(7715417323),m=e(9113979368),c=e(1703559452);const _=i(function(B){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.A;if((0,m.A)(B))return null;if(!(0,c.A)(B.contents,"attributes.slackmention.id"))return B;let S=!1;const H=B.contents.map(w=>{const F=w.attributes&&w.attributes.slackmention&&w.attributes.slackmention.id;if(!F||W({id:F}))return w;S=!0;const j=(0,d.A)(w,"attributes.slackmention");return(0,m.A)(j.attributes)&&delete j.attributes,j});return S?{...B,contents:H}:B},"detachInvalidMentionsFromContents"),p=null,u=i((B,W)=>{if(!B||!B.ops)return null;const L={contents:B.ops},S=_(L,W);if(!S)return null;const H=new(a())(S.contents);return new(a())().compose(H)},"detachInvalidMentionsFromDelta");var h=e(5591756507),E=e(9592753406);function A(B){return B.filter(W=>(0,E.G$)(W)&&(0,h.A)(W)).length}i(A,"getListItemCountInDelta");var v=e(9017940688),f=e(2827252833),g=e(308057085),y=e(5382342064);function T(B){const W=/^\s+$/g;return!!(B&&(0,s.A)(B.insert)&&W.test(B.insert))}i(T,"isOpWhitespace");var M=e(4547907890);function O(B){if(!B||!B.ops)return null;const W=B.map(L=>{if(!(0,M.A)(L))return L;let S=(0,M.$)(L);return S=S.replace(/\r\n/g,`
`),S=S.replace(/\r/g,`
`),{...L,insert:S}});return new(a())(W)}i(O,"normalizeNewlineCharacters");var I=e(6717607339),D=e(4332759902),P=e(9935649141),k=e(5701872082);function R(B,W){return V(B,"slack-texty",W,new(a()),{useWysiwyg:!0,supportsAnchorText:!0})}i(R,"preparePastedDeltaForExternal");function V(B,W,L,S,H,w,F,j){var J;if(!B)return null;let X=B;const q=O(X);if(q&&(X=q),w){const ve=u(X,w);X=ve??X}if(!H.useWysiwyg||H.usePlainTextMode)return X;if(X=new(a())(X.map(ve=>(0,k.A)(ve)?{insert:`
`}:ve)),S&&S.length()!==0&&(!L||!L.list||(L==null?void 0:L.list)==="bullet"||(L==null?void 0:L.list)==="ordered")&&A(X)===1&&(X=X.slice(0,X.length()-1)),S&&S.length()!==0&&L&&!L["code-block"]){const ve=(0,n.A)(X.ops);if(ve&&(0,v.A)(ve)&&(0,M.A)(ve)&&(0,s.A)(ve.insert)){var G;if(X.ops.length>1||(((G=ve.insert)===null||G===void 0?void 0:G.match(/\n/g))||[]).length>1)X=new(a())().insert(`
`).concat(X);else{const me={...ve,insert:ve.insert.replace(`
`,""),attributes:{...ve.attributes,"code-block":!1}};X=new(a())([me])}}}if(L!=null&&L.code){const ve=X.map(me=>({...me,attributes:{...me.attributes,code:!0}}));X=new(a())(ve)}if(L!=null&&L.blockquote){var ne;const ve=X.map(N=>{var K,x,b;const z=!(N==null||(K=N.attributes)===null||K===void 0)&&K.blockquote||!(N==null||(x=N.attributes)===null||x===void 0)&&x.list||!(N==null||(b=N.attributes)===null||b===void 0)&&b["code-block"]?{border:1}:{blockquote:!0};return{...N,attributes:{...N.attributes,...z}}}),me=(0,r.A)(ve);(0,s.A)(me==null?void 0:me.insert)&&(me==null||(ne=me.insert)===null||ne===void 0?void 0:ne.match)&&me.insert.match(/^\n$/g)||ve.push({insert:`
`,attributes:{blockquote:!0}}),X=new(a())(ve),F&&F(!1)}if(W==="slack/texty"){const ve=!!(L!=null&&L.code||L!=null&&L["code-block"]),me=X.map(oe=>{if(oe&&ve&&(0,f.Ay)(oe)&&!(0,s.A)(oe==null?void 0:oe.insert)){var N,K;return{insert:((N=oe.insert)===null||N===void 0||(K=N.slackemoji)===null||K===void 0?void 0:K.text)||"",attributes:{...L}}}let x=L;return x=(0,d.A)(L,["indent","border"]),{insert:oe.insert||"",attributes:{...oe.attributes,...x}}});X=new(a())(me)}W!=="text/uri-list"&&(j!=null&&j.getModule("slackdocimage")||H.supportsAnchorText?X=(0,P.Ay)(X,{doImageReplacement:j==null?void 0:j.getModule("slackdocimage")}):X=(0,P.xN)(X));const te=X.length(),le=(0,I.A)(X,{stripInlineFormattingFromCodeBlock:!0,stripAllInlineFormatting:L==null?void 0:L["code-block"]});if(X=X.compose(le),le.length()>te){const ve=(0,r.A)(X.ops);ve&&(0,y.A)(ve)&&ve.retain===1&&(X=new(a())(X.ops.slice(0,X.ops.length-1)))}X=(0,D.A)(X);const he=X.ops[0];if(H.useWysiwyg&&H.supportsAnchorText&&W!=="text/uri-list"&&X.ops.length===1&&he&&(0,s.A)(he.insert)&&(0,g.Ay)(he)&&he.insert===((J=he.attributes)===null||J===void 0?void 0:J.link)){const ve=(0,t.A)(he.insert);if(ve!==he.insert)return new(a())().insert(ve,he.attributes)}return A(X)>1&&X.forEach((ve,me)=>{var oe,N,K;const x=X==null||(oe=X.ops)===null||oe===void 0?void 0:oe[me-1];if(!(x&&(0,h.A)(x)))return;const z=X==null||(N=X.ops)===null||N===void 0?void 0:N[me+1];if(!(z&&(0,h.A)(z)))return;const Z=ve;if(!T(ve)||!(0,s.A)(Z.insert))return;const U=Z==null||(K=Z.insert)===null||K===void 0?void 0:K.match(/\n/gm);if(U&&U.length<2)return;const ee=(U==null?void 0:U.length)&&Math.ceil(U.length/2);ee&&(Z.insert=`
`.repeat(ee))}),X}i(V,"prepareDeltaForPaste")},6717607339:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(4711108074),n=e.n(t),s=e(8840779375),r=e(9087248458),d=e(4103274853),o=e(7156798807),a=e(3183335528),l=e(117342833),m=e(9017940688),c=e(2827252833),_=e(308057085),p=e(3904348617),u=e(2547625647),h=e(3078252698),E=e(6013332081);function A(y){if(!(0,p.Ay)(y))return!1;const{type:T,property:M,id:O}=y.insert.workflowtoken;if((0,h.A)(y.insert))return!1;if(T===u.GA)return!0;if(T===u.sD)return M===u.yG||M===u.tj;if(T==="string")return!0;const I=(0,E.zz)({type:T,variableId:O});if(I)for(const k of Object.values(I)){var D,P;if(((D=k.macroDetails)===null||D===void 0||(P=D.outputParameter)===null||P===void 0?void 0:P.type)==="string")return!0}return!1}i(A,"isOpWorkflowTokenForText");var v=e(8405695339),f=e(3726677001);function g(y){let{removeEmbedsFromCode:T=!0,stripAllInlineFormatting:M=!1,stripInlineFormattingFromCodeBlock:O=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return new(n());const I=new(n());return(0,v.A)(y,(D,P)=>{const k=(0,f.A)(D),R=(0,a.A)(D)||(0,m.A)(P);if(T&&R||M){let V={...D.attributes};if((0,m.A)(P)&&(V={}),(0,c.Ay)(D)){I.delete(1).insert((0,c.Um)(D),{...V});return}if((0,l.Ay)(D)){delete V.slackmention,I.delete((0,l._z)(D).length).insert((0,l._z)(D),{...V});return}if((0,_.Ay)(D)){delete V.link,I.delete((0,_.AQ)(D).length).insert((0,_.AQ)(D),{...V});return}if((0,p.Ay)(D)&&!A(D)){I.delete(1);return}}if((0,m.A)(P)&&O||M){const V=["bold","italic","strike","code","underline","slackmention","unlink"],B=(0,s.A)(D.attributes||{},(L,S)=>({key:S,value:L})).filter(L=>!!L.value).map(L=>L.key),W=(0,r.A)(V,B);I.retain(k,(0,d.A)((0,o.A)(W,L=>L),()=>!1));return}k&&I.retain(k)}),I}i(g,"stripFormattingFromDelta")},4332759902:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8786006583),n=e(9592753406);function s(r){if(!r||r.length()===0)return r;const d=r.slice(r.length()-1);if(!d)return r;const o=(0,t.A)(d.ops)||{};return!o||(o==null?void 0:o.insert)!==`
`||(0,n.G$)(o)?r:r.slice(0,r.length()-1)}i(s,"stripTrailingNewline")},796745801:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A,Z:()=>E});var t=e(4711108074),n=e.n(t),s=e(498506970),r=e(8825197919),d=e(8289365785),o=e(2749086681),a=e(8786006583),l=e(4547907890),m=e(9592753406),c=e(5939082889),_=e(8967399401);const p=/^\s+$/,u=/^\s+/,h=/\s+$/;function E(){let{ops:v,trimStart:f=!0,trimEnd:g=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!v||!v.length||!f&&!g)return v;let y=(0,s.A)(v);if(f){y=(0,r.A)(y,O=>(0,l.A)(O)&&((0,l.$)(O).match(p)||O.insert==="")&&!(0,m.Zz)(O.attributes||{}));const T=(0,d.A)(y)||{},M=(0,_.A)(new(n())(y),0);if((0,l.A)(T||{})&&!(0,m.Zz)(M||{})){const O=(0,l.$)(T).replace(u,()=>"");T.insert=O}}if(g){y=(0,o.A)(y,M=>(0,l.A)(M)&&((0,l.$)(M).match(p)||M.insert==="")&&!(0,m.Zz)(M.attributes||{}));const T=(0,a.A)(y)||{};if((0,l.A)(T)&&!(0,m.Zz)(T.attributes||{})){const M=(0,l.$)(T).replace(h,()=>"");T.insert=M}}return y}i(E,"trimOps");function A(){let{delta:v,trimStart:f=!0,trimEnd:g=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(v&&(0,c.A)(v))return v;const y=v==null?void 0:v.ops,T=E({ops:y,trimStart:f,trimEnd:g});return new(n())(T)}i(A,"trimDelta")},6106767915:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(2414816894);function n(s){return(0,t.A)(s)?s.replace(/^BK/,""):""}i(n,"getBroadcastKeyword")},4171528081:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(2047021170);function n(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!((0,t.ty)(s,"msg_input_send_btn")||r)}i(n,"getEnterCreatesNewlinePref")},9205400085:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8086952004);function n(s){const r=["composer_edit_link_popover","composer_link_modal"];return!!(0,t.A)(s,d=>r.includes(d))}i(n,"isTextyModalOpen")},6263851502:(Q,C,e)=>{"use strict";e.d(C,{h:()=>t});function t(s){var r;return!!((s==null||(r=s.statics)===null||r===void 0?void 0:r.blotName)==="code-block")}i(t,"lineIsCodeBlock");function n(s){return!!((s==null?void 0:s.length)>0&&every(s,d=>{var o;return(d==null||(o=d.statics)===null||o===void 0?void 0:o.blotName)==="code-block"}))}i(n,"everyLineIsCodeBlock")},9474987151:(Q,C,e)=>{"use strict";e.d(C,{Xh:()=>E});var t=e(9746734072),n=e(235108050),s=e(897091071),r=e(6244014364),d=e(80326605),o=e(6263851502),a=e(5543919295),l;(function(A){A.QUOTED="QUOTED",A.LIST_ITEM="LIST_ITEM",A.CODE_BLOCK="CODE_BLOCK"})(l||(l={}));function m(A){const v=[];return(0,d.K0)(A)&&v.push({format:l.LIST_ITEM,formatQualities:(0,d.vs)(A)}),(0,o.h)(A)&&v.push({format:l.CODE_BLOCK,formatQualities:{}}),(0,a.h$)(A)&&v.push({format:l.QUOTED,formatQualities:{}}),v}i(m,"getBlockFormatsOfLine");function c(A){return A.map(v=>m(v))}i(c,"getBlockFormatsOfLines");var _=e(5783222387);function p(A){var v,f;return A.format===l.CODE_BLOCK?r.MsgFormattingInputFormat.CODE_BLOCK:A.format===l.QUOTED?r.MsgFormattingInputFormat.BLOCKQUOTE:A.format===l.LIST_ITEM&&(!((v=A.formatQualities)===null||v===void 0)&&v.isOrdered)?r.MsgFormattingInputFormat.ORDERED_LIST:A.format===l.LIST_ITEM&&!(!((f=A.formatQualities)===null||f===void 0)&&f.isOrdered)?r.MsgFormattingInputFormat.BULLET_LIST:null}i(p,"getClogBlockFormatFromLineFormat");function u(A){return c(A).map(g=>{const y=[];return g.forEach(T=>{const M=p(T);M&&y.push(M)}),y})}i(u,"getClogBlockFormatsForLines");function h(A){return!A||!(0,t.A)(A)||(A==null?void 0:A.length)===0?[]:(0,n.A)((0,s.A)(u(A)))}i(h,"getDistinctClogBlockFormatsForLines");function E(A,v){if(!A||!v)return[];const f=(0,_.M)(A,v);return h(f)}i(E,"getDistinctClogBlockFormatsForRange")},5783222387:(Q,C,e)=>{"use strict";e.d(C,{M:()=>n});var t=e(6696292586);function n(s,r){const d=r==null?void 0:r.index,o=r==null?void 0:r.length;if(!(0,t.A)(d)||!(0,t.A)(o))return[];if(d<0||o<0)return[];if(o===0){const[a,l]=s.getLine(d);return a?[a]:[]}return o>0?s.getLines(d,o):[]}i(n,"getLinesForRange")},80326605:(Q,C,e)=>{"use strict";e.d(C,{DI:()=>r,K0:()=>t,Kp:()=>d,vs:()=>s});function t(o){var a;return!!((o==null||(a=o.statics)===null||a===void 0?void 0:a.blotName)==="list-item")}i(t,"lineIsListItem");function n(o){return!!((o==null?void 0:o.length)>0&&every(o,l=>t(l)))}i(n,"everyLineIsListItem");function s(o){var a,l;return t(o)?{isOrdered:(o==null||(a=o.parent)===null||a===void 0||(l=a.domNode)===null||l===void 0?void 0:l.tagName)==="OL"}:{}}i(s,"getListQualitiesOfLine");function r(o){if(!t(o))return!1;const a=s(o);return!!(a!=null&&a.isOrdered)}i(r,"lineIsOrderedListItem");function d(o){if(!t(o))return!1;const a=s(o);return!(a!=null&&a.isOrdered)}i(d,"lineIsUnorderedListItem")},5543919295:(Q,C,e)=>{"use strict";e.d(C,{h$:()=>n,mj:()=>s});var t=e(9816084745);function n(d){var o,a,l,m,c,_,p;return!!((d==null||(o=d.statics)===null||o===void 0?void 0:o.blotName)==="blockquote"||(d==null||(a=d.statics)===null||a===void 0?void 0:a.blotName)==="list-item"&&(d==null||(l=d.attributes)===null||l===void 0||(m=l.attributes)===null||m===void 0?void 0:m.border)||(d==null||(c=d.statics)===null||c===void 0?void 0:c.blotName)==="code-block"&&(d==null||(_=d.attributes)===null||_===void 0||(p=_.attributes)===null||p===void 0?void 0:p.border))}i(n,"lineIsQuoted");function s(d){return!!((d==null?void 0:d.length)>0&&(0,t.A)(d,a=>n(a)))}i(s,"everyLineIsQuoted");function r(d){return!!((d==null?void 0:d.length)>0&&some(d,a=>n(a)))}i(r,"someLinesAreQuoted")},4504227813:(Q,C,e)=>{"use strict";e.d(C,{A:()=>c});var t=e(1699044291),n=e(4711108074),s=e.n(n),r=e(3726677001),d=e(4200148118),o=e(2827252833),a=e(8283510982),l=e(9283953805);function m(_){const p=_&&_.ops;if(!p)return[];const u=(0,l.A)(p),h=[];return u.replace(a.u_,(E,A,v,f,g)=>{h.push({index:g+A.length,length:v?v.length:0})}),h}i(m,"findMarkdownCodeBlockRanges");function c(_){if(!(_&&_.ops))return new(s());let u=new(s());const h=m(_);return(0,t.A)(h).forEach(E=>{let{index:A,length:v}=E;const f=new(s());f.retain(A),_.slice(A,A+v).forEach(g=>{(0,d.A)(g)?(f.delete(1),(0,o.Ay)(g)&&f.insert((0,o.Um)(g))):f.retain((0,r.A)(g),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),u=u.compose(f)}),u}i(c,"buildChangeDeltaToFixEmbedsInTripleBackticks")},2048590538:(Q,C,e)=>{"use strict";e.d(C,{K:()=>d,Ru:()=>n,hJ:()=>s,qv:()=>r,zd:()=>o});var t=e(8283510982);const n={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},s={"*":t.wq,_:t.dc,"`":t.q6,"~":t.d9,"\uFF0A":t.H_,"\uFF40":t.j5,"\uFF3F":t.QX},r=/^>>> ?/m,d=/^\uFF1E\uFF1E\uFF1E ?/m,o=/^[>\uFF1E]($| |(?=[^_]))/},9283953805:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8841789548),n=e(8283510982);function s(r){const d=!(0,t.A)(r).match(n.zI);return(0,t.A)(r,{replaceLinks:d,replaceCode:!0,embedReplacement:"!"})}i(s,"getTextForRegex")},2414816894:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(4897863105);function n(s){return(0,t.c)().indexOf(s)!==-1}i(n,"mentionIdIsKeyword")},1707481146:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return n==="UNVERIFIED"}i(t,"mentionIdIsUnverified")},3849593061:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(571104883);function n(){let{altKey:s,ctrlKey:r,isCursorInPreBlock:d,metaKey:o,shiftKey:a,usePreNewlines:l,enterCreatesNewlinePref:m,followsTripleBackticks:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o?!1:r?(0,t.cX)()?!0:a?!1:!m:m?!0:l&&d?!a:!!(c&&l||a||s)}i(n,"shouldInsertNewline")},5619542846:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3803027235),n=e.n(t);const s={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function r(d){return d&&d.replace(/&#?[a-z0-9]+;/gi,o=>{if(s[o])return s[o];if(o.match(/^&#x[0-9a-f]+;$/i)){const a=o.substring(3,o.length-1),l=parseInt(a,16);return String.fromCodePoint(l)}if(o.match(/^&#[0-9]+;$/)){const a=o.substring(2,o.length-1),l=parseInt(a,10);return String.fromCodePoint(l)}return o})}i(r,"unescapeEntities")},6764196364:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6968387112);function n(){return`https://${(0,t.Xk)()}`}i(n,"getSlackRootUrl")},4252064756:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,D:()=>r});var t=e(8234448831),n=e(6968387112);function s(d){return r((0,t.Ay)(d))}i(s,"isGantryUrl");function r(d){if(d.pathname==="/ssb/signin")return!1;const o=d.hostname,[a]=o.split(".");return a==="app"&&(0,n.Ed)(d)}i(r,"isGantryUrlFromUrlObject")},4204210053:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6968387112);const n=/^[^.]*\.?(((enterprise\.)?(staging|staging-master|staging-sandbox|dev\d*|qa\d*)|enterprise)\.)?[^.]+\.[^.]+$/;function s(r){return r?(0,t.Ed)(r)&&!!r.match(n):!1}i(s,"isValidSlackPermalinkHostName")},1881693845:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(){return!0}i(t,"isIaLayoutEnabled")},7489442332:(Q,C,e)=>{"use strict";e.d(C,{_e:()=>H,iR:()=>p,YZ:()=>c,tR:()=>_,j0:()=>V,mu:()=>B,mi:()=>f,x:()=>O,Pc:()=>M,vd:()=>n,hh:()=>t,jG:()=>W,ke:()=>k,ts:()=>R,Xg:()=>L,Lb:()=>S});const t=180,n=600,s=260,r=310,d=1e3,o=24,a=289,l=321,m=385,c=15;var _;(function(F){F.MANUAL="manual",F.AUTO="auto"})(_||(_={}));const p=500,u=140,h=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:310},{minWidth:0,sidebar:200,inspector:310}],E=[{min:t,max:220,className:"p-workspace__sidebar--tiny"},{min:n-50,max:n,className:"p-workspace__sidebar--large"}],A=[{min:s,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:d,className:"p-workspace__secondary_view--large"}],v=[{min:s,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:d,className:"p-workspace__tiles--large"}],f=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],g=260,y=400,T=400,M=8,O=16,I=60,D=44,P=40,k="sidebarWidthIntent",R="sidebarWidthMode",V="inspectorWidthIntent",B="inspectorWidthMode",W="isSidebarVisible",L="isTeamSidebarVisible",S="userPrefersResponsiveSidebar",H="calculatedSidebarWidth",w="LAYOUT"},7383598433:(Q,C,e)=>{"use strict";e.d(C,{J:()=>n});var t=e(6575028637);function n(s){return!!(0,t.ss)(s)}i(n,"isXWSUserGroupsEnabled")},7216810781:(Q,C,e)=>{"use strict";e.d(C,{z:()=>_});var t=e(3134334389),n=e(5255740490),s=e(4173072539),r=e(3694049677),d=e(2408732225),o=e(9874616273),a=e(9892470785),l=e(735940183),m=e(2786906754);const c=new l.Ay("shared_channel_invites"),_=i(p=>{let{invite:u,bottomMargin:h}=p;if(!u)return null;const{inviting_team:E,inviting_user:A,shared_workspace:v}=u,f=!!(0,m.qN)(window.location.search).is_link,g=t.createElement(d.n,{team:E,user:A,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:f}),y=t.createElement(r.A,{invitingUser:A}),T=t.createElement(s.A,{invitingTeam:E}),M=t.createElement(a.A,{id:v.id,team:v,bold:!0});return t.createElement("div",{className:(0,n.A)("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:h})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(o.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},g,t.createElement("span",null,f?c.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:T,sharedWorkspaceName:M}):c.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:T,invitingUserName:y,sharedWorkspaceName:M})))))},"AcceptSlackConnectWorkspaceHeader");_.displayName="AcceptSlackConnectWorkspaceHeader"},1073393277:(Q,C,e)=>{"use strict";e.d(C,{Sp:()=>v,a5:()=>f});var t=e(1729646737),n=e(4509434386),s=e(9733150292),r=e(3245843483),d=e(4923013394),o=e(252204565),a=e(4496040127),l=e(5829624088),m=e(7489442332);const c=".p-client_container_placeholder",_=".p-client_container_placeholder__nav",p=260,u=64,h=76;function E(y){let{name:T,hex:M,iaTheming:O,customTheme:I}=y;const D=(0,t.zK)({hex:M,name:T}),P=(O==null?void 0:O.mode)||"light",k=(O==null?void 0:O.brightness)||n.GK,R=(0,n.XW)({mode:(0,l.Gk)(O,O==null?void 0:O.mode),primary:O==null?void 0:O.primary,highlight1:O==null?void 0:O.highlight1,brightness:k,useCustomHex:I&&(O==null?void 0:O.useCustomHex)});let V;T.includes("Primary")?V=R.primary.shade:V=R.highlight1.shade;const B=n.sC.indexOf(V);return{shade:V,value:P==="light"?D.light[B].value:D.dark[B].value}}i(E,"generateCustomHEXChromeColors");function A(y){let{iaTheming:T,customTheme:M}=y;return!T.primary.custom||!t.$V.test(T.primary.custom)?null:E({name:"bootPrimary",hex:T.primary.custom.startsWith("#")?T.primary.custom:`#${T.primary.custom}`,iaTheming:T,customTheme:M})}i(A,"getBootPrimary");function v(y){let{teamId:T,showTeamSwitcher:M=!1}=y;const O=(0,s._z)(T,"is_unified_user_client_enabled"),I=(0,s._z)(T,"channelSidebarBackground"),D=parseInt((0,s.W6)("viewLayoutLastSidebarWidth"),10)||p,P=(0,s._z)(T,"teamSwitcherBackground"),k=(0,s._z)(T,"textColor"),R=(0,s._z)(T,"topNavBackground")||I,V=(0,s._z)(T,"topNavTextColor")||k,B=document.querySelector(c),W=(0,s._z)(T,"iaTheming"),L=(0,s._z)(T,"customTheme"),S=(0,s._z)(T,"windowGradient"),H=(0,s._z)(T,"isCreatorInSetupFlow"),w=(0,s.W6)("viewLayoutIsWorkspaceSwitcherVisible"),F=w?u:0;if(!B)return;const j=B.querySelector(_);if(!I||H){f();return}if(O){if(j&&k&&I){const G=document.createElement("div");G.classList.add("p-ia4_client_container_placeholder--sidebar"),G.style.width=`${D}px`;const ne=document.createElement("div");ne.classList.add("p-ia4_client_container_placeholder--tab_rail");const te=document.createElement("div");if(te.classList.add("p-ia4_client_container_placeholder--content"),te.style.left=`${F+h+D}px`,B.appendChild(G),w&&(B.appendChild(ne),G.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),W!=null&&W.sidebarInverted&&(G.style.boxShadow="-1px 0px 0px 0px rgba(255, 255, 255, 0.15)"),te.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),B.appendChild(te),B.classList.add("p-ia4_client_container_placeholder--theme-background"),W){let le="#ffffffB3";const he="#1012148c";if(W.mode==="light"&&W.sidebarInverted&&(le="#ffffff1A"),W.mode==="dark"){var J,X;le=he,(X=(J=window.document)===null||J===void 0?void 0:J.querySelector("body"))===null||X===void 0||X.classList.add(n.RD)}if(G.style.backgroundColor=le,L&&W.useCustomHex){if(W.primary.custom){const fe="bootPrimary",ve=A({iaTheming:W,customTheme:L});ve&&B.style.setProperty(`--dt_color-plt-${fe}-${ve.shade}`,ve.value)}if(W.highlight1.custom){const fe="bootHighlight1",ve=E({name:"bootHighlight1",hex:W.highlight1.custom.startsWith("#")?W.highlight1.custom:`#${W.highlight1.custom}`,iaTheming:W,customTheme:L});B.style.setProperty(`--dt_color-plt-${fe}-${ve.shade}`,ve.value)}}if(S){const fe=(0,n.Lp)({mode:(0,l.Gk)(W,W.mode),primary:W.primary,highlight1:W.highlight1,brightness:W.brightness,useCustomHex:L&&W.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");B.style.background=fe}else{const fe="bootPrimary",ve=A({iaTheming:W,customTheme:!!L}),me=(0,l.Gk)(W,W.mode),oe=(0,n.VS)({mode:me,role:me==="light-inverted-sidebar"?"highlight1":"primary",brightness:(W==null?void 0:W.brightness)||n.GK});B.style.backgroundColor=L&&W.useCustomHex&&ve?`rgb(var(--dt_color-plt-${fe}-${ve.shade}))`:`rgb(var(--dt_color-plt-${W.primary.palette}-${oe}))`}}else if(G.style.backgroundColor=I,R){const le=R,he=(0,o.fl)(R,25);B.style.background=`radial-gradient(
						circle at 50% 50%,
						${le} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${he} 0%,
            ${le} 25%,
            ${he} 50%,
            ${le} 75%,
            ${he} 100%
          )`}j.classList.add("p-ia4_client_container_placeholder--top-nav"),(0,d.ve)()&&R&&r.ea3.isAvailable()&&(0,r.ea3)((0,r.Xgz)(),{color:R,symbolColor:V})}B.style.opacity="1"}else{if((0,a.VA)()&&M&&(B.classList.add("p-client_container_placeholder--with-team-switcher"),P&&(B.style.borderLeftColor=P)),j&&k&&I){const le=(0,o.Lh)(k,I,.1),he=(0,o.Ko)(k,.1);B.style.borderRightColor=le,(0,d.ve)()&&R&&r.ea3.isAvailable()&&(0,r.ea3)((0,r.Xgz)(),{color:R,symbolColor:V}),R&&(j.style.backgroundColor=R),j.style.color=he,(0,a.VA)()&&M&&(B.style.removeProperty("border-left-color"),B.style.boxShadow=`-60px 0px 0px 0px ${I}`,j.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let G=I;var q;const ne=(q=(0,s._z)(T,m._e))!==null&&q!==void 0?q:"",te=parseInt(ne,10);isNaN(te)||(B.style.width=`${ne+1}px`,(0,a.VA)()&&M&&te===0&&(B.style.width="60px",G="none",B.style.borderRight="none")),B.style.backgroundColor=G,B.style.opacity="1"}}i(v,"renderBootPlaceholder");function f(){const y=document.querySelector(c);y&&y.remove()}i(f,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:f},"removeBootPlaceholder",{get:()=>f,set:y=>{f=y}})},6260576033:(Q,C,e)=>{"use strict";var t=e(9706240641),n=e(7031360717),s=e(1535672935),r=e(6533394955);function d(gt,kt){var Ut,sn,qt,Kn,xn,zn;const Xn=(0,r.getClientStoreInstance)();if(Xn.dispatch((0,s.setWorkspaceFailedToBoot)(gt)),!(kt==null||(Ut=kt.data)===null||Ut===void 0)&&Ut.active_migration){var ds,ls;Xn.dispatch((0,s.setWorkspaceIsMigrating)({teamId:gt,migrationId:kt==null||(ds=kt.data)===null||ds===void 0?void 0:ds.migration_id,canViewMigrationStatus:kt==null||(ls=kt.data)===null||ls===void 0?void 0:ls.can_view_migration_status})),(0,n.R8)("BOOT",`(${gt}) Workspace boot failed due to active migration`)}if((kt==null||(sn=kt.data)===null||sn===void 0?void 0:sn.error)==="accesslimited"&&Xn.dispatch((0,s.setWorkspaceIsAccessLimited)(gt)),(kt==null||(qt=kt.data)===null||qt===void 0?void 0:qt.error)==="two_factor_setup_required"&&Xn.dispatch((0,s.setWorkspaceNeeds2FASetup)(gt)),(kt==null||(Kn=kt.data)===null||Kn===void 0?void 0:Kn.error)==="user_in_no_workspaces"&&Xn.dispatch((0,s.setUserNotMemberOfAnyWorkspaceInOrg)(gt)),(kt==null||(xn=kt.data)===null||xn===void 0?void 0:xn.error)==="mobile_login_required"&&Xn.dispatch((0,s.setUserRequiresMobileLogin)(gt)),(kt==null||(zn=kt.data)===null||zn===void 0?void 0:zn.error)==="user_needs_to_accept_custom_tos"){var Vs;Xn.dispatch((0,s.setWorkspaceNeedsToAcceptCustomTOS)({teamId:gt,url:kt==null||(Vs=kt.data)===null||Vs===void 0?void 0:Vs.url}))}}i(d,"markTeamBootFailed");var o=e(6188550760),a=e(7515251865),l=e(9012396182);function m(gt){const kt=(0,r.getClientStoreInstance)();var Ut;const sn=(Ut=(0,l.getNavigateToUnbootedWorkspace)(kt.getState()))!==null&&Ut!==void 0?Ut:{},{bootingTeamId:qt,navigateToRouteProps:Kn}=sn;return qt===gt?((0,o._U)((Kn==null?void 0:Kn.routeName)||a.o,{teamId:gt,...(Kn==null?void 0:Kn.params)||{}},{reason:"delayed-unbooted-team-switch",...(Kn==null?void 0:Kn.options)||{}}),kt.dispatch((0,s.setNavigateToUnbootedWorkspace)({})),!0):!1}i(m,"maybeNavigateToUnbootedWorkspace");function c(gt,kt){if(!gt)throw new Error("Missing team id, cannot thin boot team.");d(gt,kt),m(gt)}i(c,"thinBootTeam");var _=e(1073393277),p=e(2212859256),u=e(1044468604),h=e(3945243579);const E={[u.F9.API]:A,[u.F9.BOOT_APP]:v,[u.F9.BOOT_TEAM]:f,[u.F9.DEFAULT]:g};function A(gt,kt,Ut){var sn;const qt=Ut==null?void 0:Ut.teamId;if(window.isReloading){(0,n.pq)("BOOT",`(${qt}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}u.XB[u.F9.API](gt,kt,{...Ut,shouldDisplayErrorView:!1,shouldBeaconError:(gt==null||(sn=gt.data)===null||sn===void 0?void 0:sn.error)!=="user_needs_to_accept_custom_tos"}),c(qt,gt),kt!=null&&kt.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-client-render-client")]).then(e.bind(e,3656426908)).then(Kn=>{let{renderClient:xn}=Kn;(0,_.a5)(),(0,h.A)(),xn()})}i(A,"handleApiError");function v(gt,kt,Ut){(0,_.a5)(),u.XB[u.F9.BOOT_APP](gt,kt,Ut)}i(v,"handleBootAppError");function f(gt,kt,Ut){if(Ut){const{teamId:sn}=Ut;(0,p.y)(sn)}(0,_.a5)(),u.XB[u.F9.BOOT_TEAM](gt,kt,Ut)}i(f,"handleBootTeamError");function g(gt,kt,Ut){(0,_.a5)(),u.XB[u.F9.DEFAULT](gt,kt,Ut)}i(g,"handleDefaultError");const y={handleApiError:A,handleBootAppError:v,handleBootTeamError:f,handleDefaultError:g};var T=e(9113979368),M=e(1197598850),O=e(1092614768),I=e(2325478352),D=e(796111729),P=e(2250002584),k=e(2872463257);const R="cse-api",V="cse-boot-api";function B(gt){return W.apply(this,arguments)}i(B,"fetchBootData");function W(){return W=(0,t.coroutine)(function*(gt){const{teamId:kt,userId:Ut,isBootingWarm:sn}=gt,qt=yield sn,Kn=qt?"deferred-data":"initial-data";let xn=null;(0,I.EZ)()&&qt&&(xn=yield(0,O.z6)({teamId:kt,userId:Ut}));const zn=M.V$.bind(null,{...gt,reason:Kn,minChannelUpdated:xn});return L(zn,{teamId:kt,userId:Ut,reason:Kn})}),W.apply(this,arguments)}i(W,"_fetchBootData");function L(gt){let kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Ut=(0,P.F)(),sn=Ut.createTrace({traceName:R,tags:kt,samplingOptions:{sampleType:k.nl.ALWAYS}});if(!(sn!=null&&sn.traceFn))return(0,D.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),gt();const qt=i((xn,zn)=>{if((0,T.A)(zn)){const Xn={state:k.$m.SUCCESS,message:"client_userBoot_empty"};xn==null||xn.addTags(Xn),xn==null||xn.close(),Ut.reportTrace(sn)}else Ut.clearTrace(sn)},"onResolve"),Kn=i((xn,zn)=>{var Xn;const ds={state:k.$m.ERROR};zn!=null&&zn.status&&(ds.status=zn.status),zn!=null&&zn.message&&(ds.message=zn.message),!(zn==null||(Xn=zn.data)===null||Xn===void 0)&&Xn.error&&(ds.reason=zn.data.error),xn==null||xn.addTags(ds),xn==null||xn.close(),Ut.reportTrace(sn)},"onError");return sn.traceFn({name:V,onError:Kn,onResolve:qt},gt)}i(L,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:R,CLIENT_BOOT_SPAN_LABEL:V},"fetchBootData",{get:()=>B,set:gt=>{B=gt}});var H=e(3398586081),w=e(6422693406),F=e(9733150292),j=e(6575028637);const J=(0,H.A)(G,gt=>gt.enterpriseId);function X(gt){return q.apply(this,arguments)}i(X,"maybeFetchEnterpriseData");function q(){return q=(0,t.coroutine)(function*(gt){return gt.enterpriseId?J(gt):{}}),q.apply(this,arguments)}i(q,"_maybeFetchEnterpriseData");function G(gt){return ne.apply(this,arguments)}i(G,"fetchAllEnterpriseData");function ne(){return ne=(0,t.coroutine)(function*(gt){const{teamId:kt,enterpriseId:Ut}=gt;var sn;let qt=(sn=(0,F._z)(kt??"","enterprise_api_token"))!==null&&sn!==void 0?sn:"";if(kt&&(0,j.ZN)(kt)&&!qt){var Kn;qt=(Kn=(0,F._z)(kt,"token"))!==null&&Kn!==void 0?Kn:""}const[xn,zn]=yield w.S.all([(0,M.YH)(gt),(0,M.O5)({...gt,token:qt})]),Xn={enterprise_id:Ut,page_needs_enterprise:!0,enterprise_api_token:qt};return{enterpriseData:xn==null?void 0:xn.enterprise,enterprisePrefsData:zn,enterpriseBootData:Xn}}),ne.apply(this,arguments)}i(ne,"_fetchAllEnterpriseData");const te={resetMemoizedFetchEnterpriseDataCache:()=>{J.cache.clear()}};var le=e(1460808057),he=e(8187930033),fe=e(8414867410),ve=e(5084575109),me=e(8834730594),oe=e(8040098042),N=e(2960290117);function K(gt){return x.apply(this,arguments)}i(K,"maybeFetchMessagesData");function x(){return x=(0,t.coroutine)(function*(gt){const{bootQueue:kt,token:Ut,teamId:sn}=gt;if(!Ut)return(0,D.Ay)({teamOrEnterpriseId:sn,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!sn)return(0,D.Ay)({teamOrEnterpriseId:sn,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const qt=yield(0,le.E)({contextualInfo:gt});return b({bootQueue:kt,token:Ut,teamId:sn,routeInfo:qt})}),x.apply(this,arguments)}i(x,"_maybeFetchMessagesData");function b(gt){return z.apply(this,arguments)}i(b,"fetchMessagesDataForRoute");function z(){return z=(0,t.coroutine)(function*(gt){let{bootQueue:kt,token:Ut,teamId:sn,routeInfo:qt}=gt;var Kn;const xn=qt==null||(Kn=qt.params)===null||Kn===void 0?void 0:Kn.entityId;return xn&&(0,oe.A)(xn)&&!(0,ve.n)(xn)&&!(0,fe.bd)(xn)&&!(0,me.A)(xn)&&!(0,N.Ay)(xn)?((0,n.pq)("BOOT",`Booting into channel: ${xn}`),$({bootQueue:kt,token:Ut,teamId:sn,id:xn})):!(0,ve.n)(xn)&&!(0,fe.bd)(xn)&&!(0,me.A)(xn)&&!(0,N.Ay)(xn)?((0,n.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),$({bootQueue:kt,token:Ut,teamId:sn})):null}),z.apply(this,arguments)}i(z,"_fetchMessagesDataForRoute");function $(gt){let{bootQueue:kt,token:Ut,teamId:sn,id:qt}=gt;const Kn={token:Ut,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28};qt&&(Kn.channel=qt),Kn.include_free_team_extra_messages=!0;const xn=new he.Ay({method:"conversations.view",args:Kn,teamId:sn});return kt.q(xn).catch(zn=>((0,D.Ay)({teamOrEnterpriseId:sn,label:"BOOT"}).error(new Error(`unable to fetch messages data ${zn}`)),null))}i($,"fetchMessagesData");const Z={fetchMessagesData:$};var U=e(4892637646),ee=e(6998663753),se=e(9706702639),de=e(5313493085);function ue(gt){let{params:kt,routeName:Ut}=gt;const sn=kt.teamId||kt.teamOrEnterpriseId,{dispatch:qt}=(0,r.getStoreInstanceByTeamId)(sn);qt((0,de.M)({routeName:Ut,routeParams:kt}))}i(ue,"channelCanvasListener");var _e=e(1881693845),pe=e(2591023465),ae=e(3674298388);const Ee=i(gt=>{let{prevTeamId:kt,nextTeamId:Ut}=gt;if(kt!==Ut)return;const qt=(0,r.getStoreInstanceByTeamId)(Ut).getState();(0,_e.A)()&&(0,ae.r8)(qt)&&(0,r.dispatchForClientStore)((0,pe.vm)(!1))},"dismiss_floating_sidebar");var Le=e(9268451279),ye=e(2805462396),Te=e(4386248732),Ae=e(7765212398),Ie=e(9460580631);function Ue(gt){let{params:kt,prevRouteInfo:Ut,prevTeamId:sn}=gt;const qt=Ut==null?void 0:Ut.params;if(!qt||qt.entityId!=="composer"||!qt.draftId||qt.draftId===(kt==null?void 0:kt.draftId))return!0;const{dispatch:Kn,getState:xn}=(0,r.getStoreInstanceByTeamId)(sn),zn=xn(),Xn=(0,Te.di)(qt.draftId);if(!Xn)return!0;const ds=(0,Ae.YI)(zn,Xn);return(0,Le.v7)(ds,{trimWhitespace:!0})||(0,ye.A)(zn,ds)||Kn((0,Ie.A)({ids:[Xn],reason:"draftsListenerBefore"})),!0}i(Ue,"draftsListenerBefore");var Be=e(4446301238),we=e(9884588328),re=e(1407713935),ge=e(9101533895),De=e(7053828403);function be(gt,kt){return xe.apply(this,arguments)}i(be,"ensureChannel");function xe(){return xe=(0,t.coroutine)(function*(gt,kt){const Ut=gt.getState(),sn=(0,ge.OL)(Ut,kt,!1);return(0,re.hc)(sn)?sn:gt.dispatch((0,Be.pX)({ids:[kt],reason:"sonic/route-listeners/ensure-channel",callSource:Be.aI.EnsureChannel})).then(qt=>{if(!qt)return;const{channels:Kn,resolved:xn}=qt;if(!(!xn||!xn.includes(kt)))return Kn[0]})}),xe.apply(this,arguments)}i(xe,"_ensureChannel");const Re=function(){var gt=(0,t.coroutine)(function*(kt){let{prevTeamId:Ut,nextTeamId:sn,routeName:qt,params:Kn={}}=kt;const xn=(0,r.getStoreInstanceByTeamId)(sn);if(!(0,oe.A)(Kn.entityId))return w.S.resolve(void 0);const zn=Kn.entityId;return be(xn,zn).then(Xn=>{if(Xn&&!(0,we.lo)(Xn))return w.S.resolve(void 0);if(Ut!==sn){const ds=(0,De.EI)(xn.getState(),{mainView:!0});return ds===zn?w.S.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,o._U)(qt,{...Kn,entityId:ds},{shouldReplaceState:!0}),w.S.resolve(!1))}return Xn?w.S.reject(new Error("tried to switch to a channel from another team")):w.S.resolve(!1)})});return function(kt){return gt.apply(this,arguments)}}();var je=e(1530920905);function Ge(gt){let{nextTeamId:kt,prevTeamId:Ut}=gt;const{dispatch:sn}=(0,r.getStoreInstanceByTeamId)(kt);Ut!==kt&&sn((0,je.yh)({teamId:kt}))}i(Ge,"permissionsListener");var Qe=e(3614984351),Xe=e(9005797924),et=e(4496040127);const rt=i(gt=>{let{prevTeamId:kt,nextTeamId:Ut}=gt;if(!(0,et.VA)()||kt===Ut||!Ut)return!0;if((0,Qe.A)(Ut,kt))return!1;const sn=(0,r.getStateForClientStore)();return(0,l.isWorkspaceExpired)(sn,Ut)||(0,l.isWorkspacePendingAuth)(sn,Ut)?((0,Xe.A)(Ut),!1):!0},"maybe_finish_signin");var it=e(4992650731);const lt=i(gt=>{let{prevTeamId:kt,nextTeamId:Ut,routeName:sn,params:qt}=gt;if((0,et.VA)()||kt===Ut)return!0;const Kn=(0,o.M5)(sn,{...qt,teamId:Ut});if(!Ut)return!0;const xn=(0,r.getStateForClientStore)(),zn=(0,l.getWorkspacesMeta)(xn),Xn=zn&&zn[Ut]&&zn[Ut].subdomain,ds=(0,et.eb)(Xn)||`_team_${Ut}`;return(0,it.A)(Kn,ds),!1},"maybe_open_other_team_in_browser");var ot=e(8959118205),Et=e(4588963228),At=e(497761763),Ot=e(4327331459),Rt=e(3707193570),yt=e(4862221402),Mt=e(6427150145);const en=/^[\d]{13}$/;function Tt(gt){return gt?en.test(gt):!1}i(Tt,"looksLikeLastReadTs");var xt=e(1826991857),bt=e(7174777686),nn=e(7752506476);function dn(gt){return(0,bt.A)(nn.M,gt)||gt===""}i(dn,"looksLikeFlexpaneSectionId");var Xt=e(6471801899),jt=e(1233969417);const _n=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function ze(gt){return _n.some(kt=>kt.test(gt))}i(ze,"looksLikeContactExternalId");var Dt=e(6605261507),hn=e(5587260451);const yn=["received","sent"];function ht(gt){return yn.includes(gt)}i(ht,"looksLikeInvitationsTabRouteParam");var Bt=e(3468466741),wt=e(8538260492),Qt=e(4425811520),mn=e(7770205178),On=e(9132066222),zt=e(8237194282),nt=e(8305125093);function mt(gt){return!!ot.as[gt]}i(mt,"isEntityRedirectKey");const Ct=i(gt=>Object.keys(ot.as).includes(gt),"isRedirectRoute"),Zt={entityId:gt=>(0,me.A)(gt)||(0,Et.A)(gt)||(0,oe.A)(gt)||(0,At.A)(gt)||(0,Ot.A)(gt)||(0,Rt.Ay)(gt)||(0,yt.A)(gt)||(0,ve.n)(gt)||(0,fe.bd)(gt)||Ct(gt)||(0,N.Ay)(gt)||(0,Qt.xL)(gt),appOrServiceId:gt=>(0,Et.A)(gt)||(0,me.A)(gt),timestamp:Mt.A,threadId:xt.A,threadPageId:xt.A,replyTs:Mt.A,sectionId:dn,tabId:gt=>(0,Dt.Dl)(gt),viewName:gt=>(0,hn.c)(gt),listsViewName:Xt.FO,draftId:Te.ai,invitationsTabId:ht,channelId:oe.A,channelFilesId:gt=>/^files-.+/.test(gt),searchQuery:gt=>/^search-.+/.test(gt),articleId:gt=>(0,jt.A)(gt),tileEntityId:gt=>(0,oe.A)(gt)||(0,ve.n)(gt)||(0,fe.bd)(gt),scTeamOrEnterpriseId:gt=>(0,Rt.Am)(gt),quipDocId:N.Ay,channelCanvasId:N.Ay,contactExternalId:ze,itemId:Bt.Ny,recordId:Xt.pq,focusRecordId:Xt.or,listViewId:Xt._o,lastReadTs:Tt,canvasOpenedFromId:gt=>(0,oe.A)(gt)||(0,Ot.A)(gt)||gt===wt.eE.QUIP_FILES,externalWorkspacePage:mn.W_,channelTabId:On.jK,salesforceRecordId:zt.V,workflowTemplateId:nt.A},Ft={[a.o]:{paths:["/"]},[ot._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId"]},[ot.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[ot.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[ot.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[ot.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[ot.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[ot.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[ot.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[ot.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[ot.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[ot.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[ot.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[ot.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[ot.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[ot.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[ot.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[ot.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[ot.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[ot.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[ot.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[ot.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[ot.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[ot.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[ot.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[ot.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[ot.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[ot.Bh]:{paths:["/:channelId/huddle"]},[ot.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[ot.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[ot.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[ot.td]:{paths:["/:entityId/:tabId/:workflowTemplateId"]}};function Jt(){(0,o.S2)(Zt,Ft)}i(Jt,"setRoutes");const rn=i(gt=>{let{routeName:kt,params:Ut={}}=gt;const{entityId:sn}=Ut;return sn&&mt(sn)?((0,o._U)(kt,{...Ut,entityId:ot.as[sn]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var gn=e(7213691587),Fe=e(109860581),Ke=e(3193155968),Ne=e(7429662208);function He(gt){let{prevTeamId:kt,nextTeamId:Ut}=gt;if(!Ut||kt===Ut)return;const sn=(0,r.getStoreInstanceByTeamId)(Ut),qt=sn.getState(),Kn=(0,Ne.e6)(qt),xn=(0,Ne.Le)(qt,{tab:Kn});sn.dispatch((0,gn.C)({prevViewSet:void 0,prevTab:void 0,nextViewSet:xn,nextTab:Kn,windowId:Ke.N2,navigateParams:{},triggerType:Fe.w.TEAM_SWITCH}))}i(He,"maybeRunTeamSwitchNavigateListeners");var Je=e(6555262004),ft=e(5078290763),Kt=e(4656278360),St=e(2567914105),cn=e(9003400431),An=e(8243624171);function Ln(gt){let{nextTeamId:kt,prevTeamId:Ut}=gt;const{dispatch:sn,getState:qt}=(0,r.getStoreInstanceByTeamId)(Ut),Kn=qt();return(0,St.iS)(Kn)?new w.S((zn,Xn)=>{sn((0,ft.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{sn((0,Kt.U)(!1)),sn((0,cn.O)({closeAll:!0})),zn()},onCancelClose:()=>{Xn()}}))}):(Ut&&!(0,An.Vq)({teamId:Ut})&&sn(kt===Ut?(0,cn.O)({closeNamed:Je.N}):(0,cn.O)({closeAll:!0})),!0)}i(Ln,"modalListenerBefore");var It=e(6088404775);function qe(gt){const kt=(0,It.h)();return kt!=null&&kt.onClose&&(kt==null||kt.onClose()),!0}i(qe,"pinsPopoverListenerAfter");var ct=e(3982416567),vt=e(1031947056),Oe=e(1466694191),Y=e(6078549397),ce=e(7307560139),Ce=e(6822097892),ke=e(4033441523);const st=["comment_thread","activity_history","files","rimeto_profile","thread",ot.li,ot.lM,ot.De,ot.Dn,ot.Q$],dt=(0,vt.Ay)("Post activity history routing side effects",(gt,kt,Ut)=>{let{params:sn,prevRouteInfo:qt,routeName:Kn}=Ut;var xn;const zn=sn==null?void 0:sn.entityId,Xn=qt==null||(xn=qt.params)===null||xn===void 0?void 0:xn.entityId,ds=Ke.N2;if(Kn===ot._G&&zn&&(0,Oe.A)(zn)){const{fileIdOrQuipThreadId:ho}=(0,Y.EX)(zn);st.includes(qt==null?void 0:qt.routeName)&&gt((0,Ce.A)({fileId:ho,windowId:ds,source:ke.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let ls=zn,Vs=Xn;(0,N.Ay)(Xn)&&(0,N.Ay)(zn)&&(ls=(0,Y.EX)(Xn).fileIdOrQuipThreadId,Vs=(0,Y.EX)(zn).fileIdOrQuipThreadId),ls!==Vs&&gt((0,ce.NA)({windowId:ds}))});dt.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function Ze(gt){let{params:kt,prevRouteInfo:Ut,routeName:sn,reason:qt}=gt;const Kn=kt.teamId||kt.teamOrEnterpriseId,{dispatch:xn,getState:zn}=(0,r.getStoreInstanceByTeamId)(Kn);(0,ct.O4)(zn())&&xn(dt({routeName:sn,params:kt,prevRouteInfo:Ut,reason:qt}))}i(Ze,"quipActivityHistoryListener");const Lt=i(gt=>{let{nextTeamId:kt,routeName:Ut,params:sn}=gt;const qt={routeName:Ut,params:sn};return kt&&(0,F.t2)(kt,"lastRoute",qt),!0},"save_route_to_local_config");var Gt=e(3080748521),ln=e(9488048047),In=e(532953487),wn=e(2939274763),Fn=e(832411022);const Sn=i(gt=>{let{prevTeamId:kt,nextTeamId:Ut,params:sn={}}=gt;const{dispatch:qt,getState:Kn}=(0,r.getStoreInstanceByTeamId)(Ut),xn=Kn();if(kt!==Ut)return;const zn=(0,Gt.MC)(xn),Xn=zn.entityId,ds=sn.entityId;Xn===Fn.d$&&ds===Fn.d$&&sn.searchQuery&&zn.searchQuery!==sn.searchQuery&&(0,In.$)(xn)!==sn.searchQuery&&qt((0,ln.z)({encodedSearchString:sn.searchQuery})),Xn!==ds&&ds===Fn.d$&&(sn.searchQuery&&qt((0,ln.z)({encodedSearchString:sn.searchQuery})),qt((0,wn.s)())),Xn!==ds&&Xn===Fn.d$&&qt((0,wn.w)())},"search_page_listener");var jn=e(210422728),is=e(9551235052);function gs(gt){let{prevTeamId:kt}=gt;const Ut=(0,r.getStoreInstanceByTeamId)(kt);return(0,is.J)(Ut.getState())&&(Ut.dispatch((0,jn.T)(!0)),se.g.delete("setNavigatedDuringWarmBoot")),w.S.resolve()}i(gs,"setNavigatedDuringWarmBoot");var Ls=e(6495946979),us=e(8473952534),ns=e(8213251995),rs=e(3977512448);function ie(gt){let{nextTeamId:kt,prevRouteInfo:Ut,params:sn}=gt;var qt;const Kn=(0,r.getStoreInstanceByTeamId)(kt),xn=Kn.getState(),zn=(0,ns.c8)(xn),Xn=(0,ge.OL)(xn,sn.entityId),ds=(Ut==null||(qt=Ut.params)===null||qt===void 0?void 0:qt.entityId)||"";(ds===wt.eE.CHANNELS||ds===rs.b||ds===rs.Z1)&&(sn!=null&&sn.entityId)&&Xn&&!(0,Ls.b)(Xn)&&Kn.dispatch((0,us.Tm)({channelId:sn.entityId,prevRoute:ds})),zn&&(Ut==null?void 0:Ut.routeName)==="ROUTE_ENTITY"&&(0,oe.A)(ds)&&Kn.dispatch((0,us.Tm)({channelId:null,prevRoute:null}))}i(ie,"setPreviewingFromChannelBrowserOrLaunchpad");var Se=e(1302213854);const $e=i(gt=>{let{prevTeamId:kt,nextTeamId:Ut}=gt;return kt!==Ut?(0,r.dispatchForClientStore)((0,Se.Mb)(!0)):(0,r.dispatchForClientStore)((0,Se.Mb)(!1))},"set_should_log_team_switch_metrics");var Pt=e(9143148823),Mn=e(8628205589),Cn=e(4529239752),Rn=e(9795506498);function on(gt){let{nextTeamId:kt,uuid:Ut,shouldReplaceState:sn,reason:qt}=gt;var Kn;if(!kt||!Ut)return;if(qt!==o.GB)if(sn)(0,r.dispatchForClientStore)((0,Mn.HQ)({windowId:Ke.N2,entry:{id:Ut,ts:Date.now(),teamId:kt,isIA4:!1}}));else{const ds=(0,Cn.XG)((0,r.getStateForClientStore)());ds>0&&(0,r.dispatchForClientStore)((0,Mn.$E)({windowId:Ke.N2,index:ds})),(0,r.dispatchForClientStore)((0,Mn.y2)({windowId:Ke.N2,entry:{id:Ut,ts:Date.now(),teamId:kt,isIA4:!1}}))}const xn=(0,r.getStoreInstanceByTeamId)(kt),zn=xn.getState();if(!((Kn=window.history.state)===null||Kn===void 0)&&Kn.isIA4)return;const Xn=(0,Ne.Gl)(zn);xn.dispatch((0,Rn.A)({windowId:Ke.N2,entry:Xn}))}i(on,"updateIA4History");var qn=e(235108050);const ms=i(gt=>{let{prevTeamId:kt,nextTeamId:Ut}=gt;if(kt===Ut||!Ut)return;const sn=(0,F.W6)("recentlyUsedTeamIds")||kt&&[kt]||[];sn.unshift(Ut),(0,F.q9)("recentlyUsedTeamIds",(0,qn.A)(sn)),(0,F.t2)(Ut,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var Ts=e(9399618736),Ps;(function(gt){gt.JA_JP="ja-JP",gt.EN_US="en-US",gt.EN_GB="en-GB",gt.ES_ES="es-ES",gt.ES_LA="es-LA",gt.FR_FR="fr-FR",gt.DE_DE="de-DE",gt.PT_BR="pt-BR",gt.KO_KR="ko-KR",gt.IT_IT="it-IT",gt.ZH_CN="zh-CN",gt.ZH_TW="zh-TW"})(Ps||(Ps={}));const Ss=Ps.EN_US;var vs=e(4423055085),bs=e(9421999304),Pn=e(571104883),tt=e(9907843289),Ye=e(2554594353);function Yt(gt){let{nextTeamId:kt,routeName:Ut,params:sn}=gt;kt&&((0,r.dispatchForClientStore)((0,Ye.b)({teamId:kt,routeName:Ut,params:sn,fromNavigation:!0})),(0,r.getStoreInstanceByTeamId)(kt)&&(0,r.dispatchForTeamId)(kt,(0,jn.w)({routeName:Ut,params:sn})))}i(Yt,"syncRouteStoreWithUrl");function pt(gt){return Nt.apply(this,arguments)}i(pt,"navigateToLastSavedRoute");function Nt(){return Nt=(0,t.coroutine)(function*(gt){let{prevTeamId:kt,nextTeamId:Ut,navigationTimestamp:sn}=gt;const qt=(0,r.getStateForClientStore)();if(!Ut||(0,l.hasWorkspaceFailedToBoot)(qt,Ut)||(0,l.doesWorkspaceNeed2FASetup)(qt,Ut)||(0,l.isWorkspaceExpired)(qt,Ut)||(0,l.isWorkspacePendingAuth)(qt,Ut))return!0;const Kn=(0,r.getStoreInstanceByTeamId)(Ut),xn=Kn&&Kn.getState(),zn=(0,Gt.MC)(xn),Xn=(0,Gt.D8)(xn)||ot._G;if((0,Pn.y3)()&&Xn===a.o)return!0;const ds=!kt;return yield(0,o._U)(Xn,{...zn,teamId:Ut},{reason:"navigateToLastSavedRoute",shouldReplaceState:ds,navigationTimestamp:sn}),!1}),Nt.apply(this,arguments)}i(Nt,"_navigateToLastSavedRoute");function Vt(gt){let{prevTeamId:kt,nextTeamId:Ut}=gt;if(!kt||!Ut||kt===Ut)return;const sn=tn(Ut);return w.S.resolve((0,bs.xS)(sn,Ut)).then(()=>{})}i(Vt,"ensureCorrectLocaleForTeam");function Ht(gt){let{prevTeamId:kt,nextTeamId:Ut}=gt;if(!kt||!Ut||kt===Ut)return;const sn=tn(Ut);if(sn)return(0,bs.zI)(sn)}i(Ht,"ensureCorrectLocaleForExternalLibs");function tn(gt){const kt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),Ut=kt?kt[1]:(0,F._z)(gt,"user_locale");return Ut&&(0,tt.YI)(Ut)?Ut:Ss}i(tn,"getLocaleForTeam");const pn=(0,ee.A)(Dn);function Dn(){se.g.set("maybeOpenOtherTeamInBrowser",(0,o.Y8)(lt)),se.g.set("modalListenerBefore",(0,o.Y8)(Ln)),se.g.set("maybeFinishSignin",(0,o.Y8)(rt)),se.g.set("maybeRedirectEntity",(0,o.Y8)(rn)),se.g.set("startTeamSwitchTiming",(0,o.Y8)(Pt.Ay)),se.g.set("navigateToLastSavedRoute",(0,o.Y8)(pt,[a.o])),se.g.set("ensureChannel",(0,o.Y8)(Re,[])),se.g.set("draftsListenerBefore",(0,o.Y8)(Ue)),se.g.set("ensureCorrectLocaleForExternalLibs",(0,o.Dd)(Ht)),se.g.set("searchPageListener",(0,o.Dd)(Sn)),se.g.set("updateIA4History",(0,o.Dd)(on)),se.g.set("maybeRunTeamSwitchNavigateListeners",(0,o.Dd)(He)),se.g.set("setNavigatedDuringWarmBoot",(0,o.Dd)(gs)),se.g.set("pinsPopoverListenerAfter",(0,o.Y8)(qe)),se.g.set("syncRouteStoreWithUrl",(0,o.Dd)(Yt)),se.g.set("ensureCorrectLocaleForTeam",(0,o.Dd)(Vt)),se.g.set("setShouldLogTeamSwitchMetrics",(0,o.Dd)($e)),se.g.set("setLocalConfigForTeamWithKey",(0,o.Dd)(Lt)),se.g.set("dismissFloatingSidebar",(0,o.Dd)(Ee)),se.g.set("updateRecentlyUsedTeams",(0,o.Dd)(ms)),se.g.set("maybeFetchClientPermissions",(0,o.Dd)(Ge)),se.g.set("maybeIncrementHistoryLength",(0,o.Dd)(Ts.Cu)),se.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,o.Dd)(ie)),se.g.set("channelCanvasListener",(0,o.Dd)(ue)),se.g.set("quipActivityHistoryListener",(0,o.Dd)(Ze))}i(Dn,"registerRouteListenersInner"),(0,vs.ul)("router.listeners",()=>[...se.g.entries()]);const En={syncRouteStoreWithUrl:Yt,navigateToLastSavedRoute:pt,ensureCorrectLocaleForTeam:Vt,ensureCorrectLocaleForExternalLibs:Ht,getLocaleForTeam:tn};Object.defineProperty(En,"syncRouteStoreWithUrl",{get:()=>Yt,set:gt=>{Yt=gt}}),Object.defineProperty(En,"navigateToLastSavedRoute",{get:()=>pt,set:gt=>{pt=gt}}),Object.defineProperty(En,"ensureCorrectLocaleForTeam",{get:()=>Vt,set:gt=>{Vt=gt}}),Object.defineProperty(En,"ensureCorrectLocaleForExternalLibs",{get:()=>Ht,set:gt=>{Ht=gt}}),Object.defineProperty(En,"getLocaleForTeam",{get:()=>tn,set:gt=>{tn=gt}});var an=e(3245843483);const Tn=i(()=>({deviceId:an.iCQ}),"getSharedTracerTags");var Vn=e(6338445630);const Un=function(){var gt=(0,t.coroutine)(function*(){an.goh.isAvailable()&&(0,an.goh)().includes("DisableServiceWorker")&&(yield(0,Vn._E)())});return i(function(){return gt.apply(this,arguments)},"disableServiceWorkerForClientConfig")}(),bn=function(){var gt=(0,t.coroutine)(function*(){(0,Pn.X5)()===Pn.h5.SAFARI&&(yield(0,Vn._E)())});return i(function(){return gt.apply(this,arguments)},"disableServiceWorkerForSafari")}(),Hn=function(){var gt=(0,t.coroutine)(function*(){yield bn(),yield Un()});return i(function(){return gt.apply(this,arguments)},"maybeDisableServiceWorker")}();var kn=e(1658558415),vn=e(1427945276),Zn=e(6123258136),Gn=e(1319016163);function os(gt){return es.apply(this,arguments)}i(os,"setupOtherTeamsToBoot");function es(){return es=(0,t.coroutine)(function*(gt){let{contextualInfo:kt}=gt;return{contextualInfo:kt,otherTeamsToBoot:(0,Gn.gv)()}}),es.apply(this,arguments)}i(es,"_setupOtherTeamsToBoot");var Yn=e(5695315324),as=e(8148939499),Qn=e(723189278),hs=e(4148579738),ss=e(4724591729),_s=e(6968387112),Cs=e(8445020572),xs=e(504058561),As=e(3803432550),ks=e(2371143272);Hn(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();function Os(gt){return gt.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,et.VA)()}),gt.registerErrorHandlers(E),gt.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,3052740410)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,7413259139)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,4083282710)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,7829966576))}),gt.registerInitialApiCalls({experimentData:M.dC,featureFlagData:M.BG,clientBootData:B,viewData:K,allEnterpriseData:X,featureAccessData:M.jH}),hs.e.register(Tn),(0,U.b)(gt),gt.hooks.beforeDynamicImportsStart.tap("Render Placeholder",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return(0,_.Sp)({teamId:sn.teamOrEnterpriseBootId,showTeamSwitcher:(0,as.A)().length>1}),{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Set routes",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return Jt(),{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Set up client store",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return(0,As.x)(sn.teamId),{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Register route listeners",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return pn(),{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;const{teamId:qt}=sn;return qt?(qt!==(0,F.W6)("lastActiveTeamId")&&(0,F.q9)("lastActiveTeamId",qt),{contextualInfo:sn}):{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return window.isReloading?((0,n.pq)("BOOT",`(${sn.teamId}) Ongoing reload detected; Cancelling boot.`),(0,Qn.A)()):{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap("Set tokens",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return(0,Zn.L)({contextualInfo:sn})});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",function(){var kt=(0,t.coroutine)(function*(Ut){let{contextualInfo:sn}=Ut;return(0,I.EZ)()&&(0,O.z6)({teamId:sn.teamId,userId:sn.userId}),{contextualInfo:sn}});return function(Ut){return kt.apply(this,arguments)}}()),gt.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",os),gt.run()}if(i(Os,"boot"),!(0,kn.A)()){const gt=(0,vn.z4)(Yn.Y.CLIENT_V2);if(!(0,xs.z$)()&&(0,ss.KV)()&&(0,ks.b)()){const kt=e(8904626639);kt.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,_s.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,Cs.HF)()}`,defaultIntegrations:!1,integrations:[kt.browserTracingIntegration({enableInp:!0}),kt.browserProfilingIntegration(),kt.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}Os(gt)}const Ws={boot:Os}},879418974:(Q,C,e)=>{"use strict";e.d(C,{d:()=>r});var t=e(9884588328),n=e(8798294025),s=e(6113051341);function r(d){let{channels:o,selfId:a}=d;const l={};return o.some((m,c)=>{const _=m==null?void 0:m.id;return(0,s.N)(m)?(l.general=_,!0):((0,t.Ur)(m)&&(l.slackbot=_),a&&(0,n.e)(m)===a&&(l.self=_),c||(l.first=_),!1)}),l.general||l.slackbot||l.self||l.first}i(r,"getAnyChannelForRouting")},1460808057:(Q,C,e)=>{"use strict";e.d(C,{E:()=>a});var t=e(9706240641),n=e.n(t),s=e(879418974),r=e(8959118205),d=e(9910898937),o=e(6533394955);function a(_){return l.apply(this,arguments)}i(a,"getRouteInfo");function l(){return l=(0,t.coroutine)(function*(_){let{contextualInfo:p,channels:u}=_;const{teamId:h,isForegroundTeam:E}=p,A=(0,o.getStoreInstanceByTeamId)(h),v=(0,d.Gf)({store:A,shouldSetFocus:E});return v||m({contextualInfo:p,channels:u})}),l.apply(this,arguments)}i(l,"_getRouteInfo");function m(_){let{contextualInfo:p,channels:u}=_;const{teamId:h}=p;if(!h)return null;const E=(0,d.lQ)(h);if(E)return E;if(u){const A=p.userId;return c({channels:u,selfId:A})}return null}i(m,"calculateRouteInfo");function c(_){let{channels:p,selfId:u}=_;if(!p.length)return null;const h={routeName:r._G,params:{}},E=(0,s.d)({channels:p,selfId:u});return E&&(h.params.entityId=E),h}i(c,"getRouteFromBootData")},2212859256:(Q,C,e)=>{"use strict";e.d(C,{y:()=>d});var t=e(9706702639),n=e(7031360717),s=e(6533394955),r=e(1314103953);function d(o){if(!o)return;const a=(0,s.getStoreInstanceByTeamId)(o);a&&((0,n.pq)("BOOT",`(${o}) Boot complete`),t.g.delete("setNavigatedDuringWarmBoot"),a.dispatch((0,r.b)(!1)),a.dispatch((0,r.k)(!1)))}i(d,"markTeamBootCompleted")},4892637646:(Q,C,e)=>{"use strict";e.d(C,{b:()=>a,h:()=>d});var t=e(9706240641),n=e.n(t),s=e(7906695911),r=e(2872463257);function d(c){return o.apply(this,arguments)}i(d,"collectInitialPageLoadMetrics");function o(){return o=(0,t.coroutine)(function*(c){let{contextualInfo:_}=c;const{getTraceMeta:p,isBootingWarm:u,appName:h}=_,{getTracer:E,tags:A}=p(),v=(yield u)?s.H.WARM:s.H.COLD,f=E().createTrace({traceName:s.S.BOOT_INITIAL_LOAD,tags:{boot_type:v,app_name:h,...A},autoCreateRootSpan:!1,samplingOptions:{sampleType:r.nl.ALWAYS}});f.startSpan(s.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),f.startSpan(s.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),f.startSpan(s.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),E().reportTrace(f)}),o.apply(this,arguments)}i(o,"_collectInitialPageLoadMetrics");function a(c){c.hooks.beforeDynamicImportsStart.addCallIntercept(_=>l(_)),c.hooks.renderApp.addCallIntercept(_=>m(_))}i(a,"setupBootMetricsTracing");function l(c){return _=>{const{getTracer:p,setTrace:u,rootTrace:h}=_.contextualInfo.getTraceMeta(),A=p().createTrace({traceName:s.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:h.getRootSpanId(),traceId:h.getTraceId()});return A.startSpan(s.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),u(A),c(_)}}i(l,"startTimeToRenderTrace");function m(c){return function(){var _=(0,t.coroutine)(function*(p){const{isBootingWarm:u,getTraceMeta:h,isForegroundTeam:E}=p.contextualInfo,{getTracer:A,getTrace:v,setTrace:f,rootTrace:g}=h(),y=A(),T=v(),M=(yield u)?s.H.WARM:s.H.COLD;return T.addTags({boot_type:M,is_foreground_team:E}),y.reportTrace(T),f(g),c(p)});return function(p){return _.apply(this,arguments)}}()}i(m,"endTimeToRenderTrace")},7906695911:(Q,C,e)=>{"use strict";e.d(C,{H:()=>n,S:()=>t});var t;(function(s){s.BOOT_INITIAL_LOAD="boot:initial_load",s.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",s.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",s.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",s.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var n;(function(s){s.COLD="cold",s.WARM="warm"})(n||(n={}))},9706702639:(Q,C,e)=>{"use strict";e.d(C,{g:()=>t});const t=new Map},537208959:(Q,C,e)=>{"use strict";e.d(C,{T:()=>s});var t=e(4761125736);const n="fe_activity_thread_v2";function s(r){return(0,t._Z)(r,n)==="on"}i(s,"isActivityThreadV2Enabled")},1609960255:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(7114008777);const n=i(s=>{let{selectedTab:r,unreadsFilterToggleSelected:d,experimentActivityDMsChannelGroupOn:o,experimentIsActivityThreadV2GroupOn:a}=s;return o&&d&&r===t.L.Replies?"chrono_unreads":o&&!d&&r===t.L.Replies?"chrono_reads_and_unreads":a&&d&&r===t.L.Replies?"chrono_threads_unreads_v2":d&&r===t.L.Replies?"chrono_threads_unreads":a&&r===t.L.Replies?"chrono_threads_reads_and_unreads_v2":r===t.L.Replies?"chrono_threads_reads_and_unreads":d&&r===t.L.Vip?"chrono_priority_only_unreads_v1":r===t.L.Vip?"chrono_priority_only_reads_and_unreads_v1":o&&d?"experimental_all_chrono_unreads_v1":o&&r===t.L.All?"experimental_all_chrono_reads_and_unreads_v1":d?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},8641233047:(Q,C,e)=>{"use strict";e.d(C,{W:()=>l});var t=e(3134334389),n=e(4459831283),s=e(4275787242),r=e(735940183),d=e(2562405183);const o=new r.Ay("priority_manage"),a={name:"check-circle"},l=i(m=>{let{memberName:c,isUserVIP:_}=m;return(0,d.d4)(n.FT)?t.createElement(s.A,{svgIconProps:a},t.createElement("span",null,_?o.rt("Removed <b>{memberName}</b> from VIPs",{memberName:c}):o.rt("Added <b>{memberName}</b> to VIPs",{memberName:c}))):null},"PriorityToast");l.displayName="PriorityToast"},4577150972:(Q,C,e)=>{"use strict";e.d(C,{c:()=>l});var t=e(3398586081),n=e(1609960255),s=e(7114008777),r=e(7156540029),d=e(8352634987),o=e(7912281988),a=e(6533394955);const l=(0,t.A)(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.L.All,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new d.Ay({storeKey:"activityIA4",fetch:_=>(0,a.dispatchForTeamId)(_,(0,o.Q)({limit:r.Q1,filter:m,fetchNew:!0,mode:(0,n.A)({selectedTab:m,unreadsFilterToggleSelected:c})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},1247361162:(Q,C,e)=>{"use strict";e.d(C,{$T:()=>g,ES:()=>m,Eg:()=>u,Gt:()=>A,KD:()=>h,cJ:()=>f,f7:()=>v,gW:()=>E,mt:()=>M,om:()=>T,rz:()=>c,sG:()=>_,ut:()=>p,yC:()=>y,yN:()=>O});var t=e(7114008777),n=e(6695353875),s=e(4577150972),r=e(5921578648),d=e(8161242485),o=e(8847766420);const a=i((I,D)=>{var P,k;const R=(0,n.kz)(D),V=(0,r.S)({filter:I,isUnreadMode:!!(!(D==null||(P=D.activityIA4)===null||P===void 0)&&P.filterUnreads),isFilteringRevampToggledOn:R});return(k=D.activityIA4)===null||k===void 0?void 0:k[V]},"getActivityListForFilter"),l=(0,d.Ay)(I=>{var D,P,k;const R=(0,o.ZT)(I),V=(D=I.activityIA4)===null||D===void 0?void 0:D.all;return((I==null||(P=I.activityIA4)===null||P===void 0?void 0:P.selectedTabId)===t.L.All||!(!(I==null||(k=I.activityIA4)===null||k===void 0)&&k.selectedTabId))&&(V!=null&&V.length)&&(0,s.c)(t.L.All,!1).maybeRefetch(R,t.N),I&&I.activityIA4&&V});l.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:I=>{var D,P,k;const R=(0,o.ZT)(I),V=(D=I.activityIA4)===null||D===void 0?void 0:D.all;return((I==null||(P=I.activityIA4)===null||P===void 0?void 0:P.selectedTabId)===t.L.All||!(!(I==null||(k=I.activityIA4)===null||k===void 0)&&k.selectedTabId))&&(V!=null&&V.length)&&(0,s.c)(t.L.All,!1).maybeRefetch(R,t.N),I&&I.activityIA4&&V}};const m=(0,d.Ay)(I=>{var D,P;const k=(0,o.ZT)(I),R=a(t.L.All,I);if(((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.All||!(!(I==null||(P=I.activityIA4)===null||P===void 0)&&P.selectedTabId))&&(R!=null&&R.length)){var V;(0,s.c)(t.L.All,(V=I.activityIA4)===null||V===void 0?void 0:V.filterUnreads).maybeRefetch(k,t.N)}return I&&I.activityIA4&&R});m.meta={name:"createSelector",key:"createSelectorgetActivityList",description:I=>{var D,P;const k=(0,o.ZT)(I),R=a(t.L.All,I);if(((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.All||!(!(I==null||(P=I.activityIA4)===null||P===void 0)&&P.selectedTabId))&&(R!=null&&R.length)){var V;(0,s.c)(t.L.All,(V=I.activityIA4)===null||V===void 0?void 0:V.filterUnreads).maybeRefetch(k,t.N)}return I&&I.activityIA4&&R}};const c=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Mentions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Mentions&&k.length){var R;(0,s.c)(t.L.Mentions,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});c.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Mentions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Mentions&&k.length){var R;(0,s.c)(t.L.Mentions,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const _=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Replies,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Replies&&k.length){var R;(0,s.c)(t.L.Replies,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});_.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Replies,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Replies&&k.length){var R;(0,s.c)(t.L.Replies,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const p=(0,d.Ay)(I=>{var D,P,k;const R=(0,o.ZT)(I),V=a(t.L.Reactions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Reactions&&(!(I==null||(P=I.activityIA4)===null||P===void 0||(k=P.reactions)===null||k===void 0)&&k.length)){var B;(0,s.c)(t.L.Reactions,(B=I.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(R,t.N)}return I&&I.activityIA4&&V});p.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:I=>{var D,P,k;const R=(0,o.ZT)(I),V=a(t.L.Reactions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Reactions&&(!(I==null||(P=I.activityIA4)===null||P===void 0||(k=P.reactions)===null||k===void 0)&&k.length)){var B;(0,s.c)(t.L.Reactions,(B=I.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(R,t.N)}return I&&I.activityIA4&&V}};const u=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I);if(!(I==null||(D=I.activityIA4)===null||D===void 0)&&D.filterUnreads){var k;(0,s.c)(t.L.Unreads,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&I.activityIA4.unreads});u.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:I=>{var D;const P=(0,o.ZT)(I);if(!(I==null||(D=I.activityIA4)===null||D===void 0)&&D.filterUnreads){var k;(0,s.c)(t.L.Unreads,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&I.activityIA4.unreads}};const h=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Apps,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Apps&&k.length){var R;(0,s.c)(t.L.Apps,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});h.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Apps,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Apps&&k.length){var R;(0,s.c)(t.L.Apps,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const E=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Channels,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Channels&&k.length){var R;(0,s.c)(t.L.Channels,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});E.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Channels,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Channels&&k.length){var R;(0,s.c)(t.L.Channels,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const A=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Priority,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Priority&&k.length){var R;(0,s.c)(t.L.Priority,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});A.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Priority,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Priority&&k.length){var R;(0,s.c)(t.L.Priority,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const v=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Vip,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Vip&&k.length){var R;(0,s.c)(t.L.Vip,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});v.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Vip,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Vip&&k.length){var R;(0,s.c)(t.L.Vip,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const f=(0,d.Ay)(I=>I&&I.activityIA4&&I.activityIA4.unreadVip);f.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:I=>I&&I.activityIA4&&I.activityIA4.unreadVip};const g=(0,d.Ay)(I=>I&&I.activityIA4&&I.activityIA4.unreadOther);g.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:I=>I&&I.activityIA4&&I.activityIA4.unreadOther};const y=(0,d.Ay)(I=>I&&I.activityIA4&&I.activityIA4.other);y.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:I=>I&&I.activityIA4&&I.activityIA4.other};const T=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.EverythingElse,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.EverythingElse&&k.length){var R;(0,s.c)(t.L.EverythingElse,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});T.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.EverythingElse,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.EverythingElse&&k.length){var R;(0,s.c)(t.L.EverythingElse,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const M=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.DMS,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.DMS&&k.length){var R;(0,s.c)(t.L.DMS,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});M.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.DMS,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.DMS&&k.length){var R;(0,s.c)(t.L.DMS,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}};const O=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Invitations,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Invitations&&(k!=null&&k.length)){var R;(0,s.c)(t.L.Invitations,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k});O.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:I=>{var D;const P=(0,o.ZT)(I),k=a(t.L.Invitations,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Invitations&&(k!=null&&k.length)){var R;(0,s.c)(t.L.Invitations,(R=I.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&k}}},5921578648:(Q,C,e)=>{"use strict";e.d(C,{S:()=>s});var t=e(5235917009),n=e(7114008777);const s=i(r=>{let{filter:d,isUnreadMode:o,isFilteringRevampToggledOn:a,mode:l}=r;return l==="chrono_priority_only_unreads_v1"?"unreadVip":l==="chrono_priority_everything_else_reads_and_unreads_v1"?"other":l==="chrono_priority_everything_else_unreads_v1"?"unreadOther":d===n.L.Reactions?d:o&&d===n.L.EverythingElse?`unread${d.charAt(0).toUpperCase()+d.slice(1)}`:o&&a?`unread${(0,t.A)(d)}`:!a&&o?"unreads":d},"getFilterForSelectedMode")},7912281988:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>I});var t=e(3290693121),n=e(537208959),s=e(7114008777),r=e(6422693406),d=e(9694536345),o=e(9648131521),a=e(3622175906),l=e(4798756512),m=e(796111729),c=e(3855029223),_=e(6695353875),p=e(9006747218),u=e(4577150972),h=e(5921578648),E=e(6845763719),A=e(5728184452),v=e(1031947056),f=e(8847766420),g=e(3694676182),y=e(1496122061),T=e(6111266013),M=e(3683482182);const O={"action-items":!0},I=(0,v.Ay)("Fetch user activity",function(D,P){let{limit:k,filter:R,mode:V,fetchNew:B,isUnreadMode:W,isInbox:L,types:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:s.L.All,isInbox:!1};D((0,p.G3)(!0));const H=P(),w=(0,f.ZT)(H),F=(0,E.F)(H),j=(0,E.S1)(H),J=(0,E.d5)(H),X=(0,E.hT)(H),q=(0,_.UU)(H),G=(0,_.kz)(H),ne=(0,t.a)(H),te=(0,_.zu)(H),le=(0,n.T)(H),he=(0,h.S)({filter:R,isUnreadMode:W!==void 0?W:X,isFilteringRevampToggledOn:G,mode:V}),fe=F==null?void 0:F[he],ve=S||(0,A.TO)(he,{experimentBundleAppsActivityWithBEGroupOn:q,experimentIsActivityThreadV2GroupOn:le,isInbox:L,mode:V});return O!=null&&O[R]||!B&&!fe?(D((0,p.G3)(!1)),r.S.resolve()):((0,u.c)(R,X).markObjectsAsFresh(w,[s.N]),D((0,o.X)({limit:k,reason:"fetchActivityFeed",types:ve,mode:V,cursor:B?void 0:fe})).then(me=>{var oe;if(!me.items)return;if(D((0,p.bl)({nextCursor:me==null||(oe=me.response_metadata)===null||oe===void 0?void 0:oe.next_cursor,items:me.items,filter:he,refreshItems:(ne||te)&&B})),V==="chrono_unreads"){const K=(0,E.cJ)(P()),x=(0,M.xY)(P());me.items.length!==K&&D((0,d.O)()).then(b=>{D((0,g.Q7)(b));const z=(0,c.E)({state:H}),$=(0,m.Ay)({getState:P,label:"ACTIVITY_BADGING"});try{const Z=z.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:l.tS.ALWAYS},options:{tags:{num_unread_activity_items:me.items.length,old_activity_badge_count:K,new_channel_badges:JSON.stringify(b.channelBadges),old_channel_badges:JSON.stringify(x)}}});Z.close(),z.reportSpans([Z]),$.info(`Activity badge mismatch. number of unread activity.feed items: ${me.items.length} activityBadgeCount: ${K}: counts.channelBadges: ${JSON.stringify(b==null?void 0:b.channelBadges)} old channelBadges: ${JSON.stringify(x)}`)}catch{}})}const N="slack-connect-fetch-invites-for-activity-feed";B&&!j&&["all","invitations","unreadAll","unreadInvitations"].includes(R)&&me.items.some(K=>{let{item:x}=K;return A.Oi.includes(x.type)})&&D((0,T.p)({direction:a.D.Incoming,reason:N})).then(()=>D((0,p.xv)(!0))),B&&!J&&["all","invitations","unreadAll","unreadInvitations"].includes(R)&&D((0,y.d)({reason:N})).then(()=>D((0,p.ae)(!0)))}).finally(()=>D((0,p.G3)(!1))))});I.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},5728184452:(Q,C,e)=>{"use strict";e.d(C,{Oi:()=>n,TO:()=>d,b8:()=>o});var t=e(6626377467);const n=["external_channel_invite","shared_workspace_invite","external_dm_invite"],s=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned"],r=["at_user","at_user_group","at_channel","at_everyone","keyword"],d=i((a,l)=>{let{experimentBundleAppsActivityWithBEGroupOn:m,experimentIsActivityThreadV2GroupOn:c,isInbox:_,mode:p}=l;const u=m?"bot_dm_bundle":"bot_dm";let h=[c?"thread_v2":"thread_reply","message_reaction","internal_channel_invite","list_record_edited",u,...s,...n];const E=a.toLowerCase();if(!(p==="experimental_all_chrono_unreads_v1"||p==="experimental_all_chrono_reads_and_unreads_v1"||p==="experimental_priority_unreads_v1"||p==="experimental_everything_else_reads_and_unreads_v1"||p==="experimental_everything_else_unreads_v1"))return(p==="chrono_priority_only_reads_and_unreads_v1"||p==="chrono_priority_only_unreads_v1")&&(h=r),E.includes("mentions")&&(h=s),E.includes("apps")&&(h=[u]),E.includes("replies")&&(h=void 0),_&&E.includes("replies")&&(h=[c?"thread_v2":"experimental_thread"]),E.includes("reactions")&&(h=["message_reaction"]),E.includes("unreads")&&(h=[u,c?"thread_v2":"thread_reply","internal_channel_invite",...s,...n]),E.includes("invitations")&&(h=["internal_channel_invite",...n]),_&&E.includes("channels")&&(h=["experimental_channels"]),_&&E.includes("dms")&&(h=["experimental_dms"]),_&&h&&(E.includes("all")||E.includes("unreads"))&&(h.push("experimental_dms"),h.push("experimental_channels")),h},"getActivityTypes"),o=i(a=>{let{items:l}=a;return(0,t.A)(l,m=>{let{messageTs:c,type:_,threadTs:p,channelId:u,invite:h,key:E}=m;return _==="message_reaction"?`reaction-${c}`:_==="thread_reply"||_==="experimental_thread"||_==="thread_v2"?`thread-${p}`:_==="external_channel_invite"?`external-channel-invite-${h}`:_==="external_dm_invite"?`external-dm-invite-${h}`:_==="shared_workspace_invite"?`shared-workspace-invite-${h}`:_==="im"?`im${u}`:_==="experimental_dms"?`im${u}`:_==="experimental_channels"?`im${u}`:E!==void 0?`item-by-feed-key-${E}`:`mention-${c}`})},"getUniqueActivityItems")},9659790250:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Il});var t=e(1416482128),n=e(7763652800),s=e(796111729),r=e(4423055085),d=e(4724591729),o=e(8520727613),a=e(2791814261),l=e(1535672935),m=e(1031947056),c=e(6776011876),_=e(6533394955);const p=(0,m.Ay)("maybeDisableDebugger side effect handler",()=>{if((0,d.Yj)()||(0,d.Cu)()||(0,d.$i)())return;const Pe=(0,_.getStateForClientStore)();if((0,a.c)()&&!(0,o.A)(Pe,"disable_tinyspeck_slackdebug_enforcement","treatment")){(0,r.Jb)();return}(0,r.CP)()||(0,r.YF)()});p.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const u=(0,c.kt)([l.setDidBootAllWorkspaces],p);var h=e(3571452446),E=e(3245843483),A;(function(Pe){Pe.DOGFOOD="dogfood",Pe.BETA="beta",Pe.PROD="prod"})(A||(A={}));var v;(function(Pe){Pe.BETA="beta",Pe.PROD="prod"})(v||(v={}));const f=i(Pe=>Pe!==A.PROD,"isPreRelease");var g;(function(Pe){Pe.NIGHTLY="nightly",Pe.ALPHA="alpha",Pe.ETA="eta",Pe.PILOT="pilot",Pe.BETA="beta",Pe.PROD="prod"})(g||(g={}));var y;(function(Pe){Pe.BETA="beta",Pe.PROD="prod"})(y||(y={}));const T=[g.ALPHA,g.ETA,g.BETA,g.PILOT,g.PROD],M=i(Pe=>Pe!==g.PROD,"release_channels_4_31_0_isPreRelease");var O=e(1583163054),I=e(571104883),D=e(4096483543),P=e(9012396182),k=e(3677514771);const R=(0,m.Ay)("maybeSetReleaseChannelOverrideHandler",(Pe,Me,We)=>{!(0,I.y3)()||!(0,E.g9M)()||W(Me)});R.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const V=(0,c.kt)([l.setDidBootAllWorkspaces],R),B="nightly-promotion-state";function W(Pe){const Me=(0,E.oQe)("environment","releaseChannel"),We=(0,E.oQe)("settings","releaseChannelOverride");let Ve=We;if(!Ve&&(Me==="beta"||Me==="alpha")&&(Ve=Me),Ve==="eta"&&(Ve=A.BETA),(0,D.A)()&&(0,I.dY)("4.31.150")){const _t=Pe();if((0,o.A)(_t,"ssb_dogfood_automatic_promotion","on")&&(0,a.c)()&&Ve!==O.zS)try{window.localStorage.getItem(B)!=="2"&&(Ve=O.zS,window.localStorage.setItem(B,"1"))}catch{}Ve==="alpha"&&(Ve=A.BETA)}Ve!==We&&((0,E.cGU)({name:"releaseChannelOverride",value:Ve}),E.NjF.cache&&E.NjF.cache.clear())}i(W,"maybeSetReleaseChannelOverride");const L=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],S=(0,m.Ay)("Sync workspaces state with desktop",(Pe,Me)=>{if(!(0,I.y3)())return;const We=Me(),Ve=(0,P.getBootedWorkspaces)(We),_t=(0,P.getAllWorkspaces)(We);var at;const Wt=(at=(0,P.getWorkspacesMeta)(We))!==null&&at!==void 0?at:{},ut=Ve==null?void 0:Ve.reduce((un,Bn)=>{const Jn=(0,_.getStateByTeamId)(Bn),fn={...(0,k._J)(Jn,Bn,!1),...Wt==null?void 0:Wt[Bn]};return un[Bn]={...(0,h.A)(fn,L),order:_t.indexOf(Bn)},un},{});(0,E.CIW)(ut)});S.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const H=(0,m.Ay)("Sync workspaces state with desktop when a new team has booted",(Pe,Me)=>{if(!(0,I.y3)())return;const We=Me();(0,P.didBootAllWorkspaces)(We)&&Pe(S())});H.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const w=(0,c.kt)([l.setDidBootAllWorkspaces,l.setWorkspaceOrder],S),F=(0,c.kt)([l.setWorkspaceBooted],H);var j=e(6179031532),J=e(1378315125);const X="DESKTOP-SIDE-EFFECT",q=(0,m.Ay)("logUpdateFromDesktop",(Pe,Me,We)=>{(0,s.Wo)().info(X,"Update from desktop for keys ",Object.keys(We.payload))});q.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const G=(0,c.kt)([J.Ez],q),ne=(0,m.Ay)("maybeHandleWindowFocusEvent",(Pe,Me,We)=>{(0,D.A)()&&We.payload&&We.payload.windows&&Pe((0,j.pz)({isFocused:document.hasFocus()}))});ne.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const te=(0,c.kt)([J.Ez],ne);var le=e(3398586081),he=e(8646192222),fe=e(8439865561),ve=e(5105455463);(0,le.A)(()=>{if((0,he.Nu)())try{window.matchMedia(ve.og).onchange=Pe=>{const Me=(0,_.getClientStoreInstance)();Me&&Me.dispatch((0,fe.N)(Pe.matches))}}catch(Pe){(0,s.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",Pe)}})();const oe=(0,m.Ay)("maybeUpdateShouldUseHighContrastColors",(Pe,Me,We)=>{if(!(0,he.Nu)()&&(0,he.hk)()){var Ve,_t;const at=We==null||(Ve=We.payload)===null||Ve===void 0||(_t=Ve.settings)===null||_t===void 0?void 0:_t.shouldUseHighContrastColors;at!==void 0&&Pe((0,fe.N)(at))}});oe.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const N=(0,c.kt)([J.Ez],oe);var K=e(1703559452),x=e(8170643398),b=e(6839188756),z=e(3270010894),$=e(6449156268),Z=e(8276911661),U=e(9733150292);const ee=(0,le.A)(()=>{const Pe=Object.values((0,_.getStoreInstanceMap)());let Me=0,We=0;return(0,K.A)(Pe,Ve=>{if(!Ve)return!1;const _t=Ve.getState(),at=(0,Z.cA)(_t),Wt=(0,x.yF)(at),ut=Wt&&(0,z.KR)((0,$.A)().toDate(),$.A.unix(Wt).toDate());return ut&&ut>30&&(We+=1),(0,b.qR)((0,k.H7)(_t))&&(Me+=1),Me>1&&We>0})}),se=i(()=>{(0,U.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),de=i(()=>(0,U.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),ue=i(()=>ee(),"isEligibleForWorkspaceSwitcherAwareness");var _e=e(4766735965),pe=e(6290537170);const ae=(0,m.Ay)("Opens workspace switcher if the user is part of experiment",(Pe,Me)=>{const We=Me();(0,I.y3)()&&!de()&&!(0,pe.v8)(We)&&ue()&&(Pe((0,_e.A)()),se())});ae.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const Ee=(0,c.kt)([l.setDidBootAllWorkspaces],ae);var Le=e(6766954308),ye=e(2633701976),Te=e(2047021170);const Ae=(0,m.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(Pe,Me)=>{var We;const Ve=Me(),_t=(0,P.getFocusedWorkspace)(Ve),at=(0,_.getStoreInstanceByTeamId)(_t),Wt=at==null||(We=at.getState)===null||We===void 0?void 0:We.call(at);if(!Wt||(0,Le.gR)(Ve)!==void 0)return;const un=(0,Te.ty)(Wt,"a11y_read_out_incoming_dm");if(un!==void 0){Pe((0,ye.p)(un));return}Pe((0,ye.p)(!0))});Ae.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const Ie=(0,c.kt)([l.setDidBootAllWorkspaces],Ae);var Ue=e(2517531287);const Be=(0,m.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(Pe,Me)=>{var We;const Ve=Me(),_t=(0,P.getFocusedWorkspace)(Ve),at=(0,_.getStoreInstanceByTeamId)(_t),Wt=at==null||(We=at.getState)===null||We===void 0?void 0:We.call(at);if(!Wt)return;if((0,Le.u$)(Ve)===""){const Bn=(0,Te.ty)(Wt,"a11y_play_sound_for_incoming_dm_choice"),Jn=Bn??"";Pe((0,Ue.R)(Jn))}if((0,Le.kd)(Ve)===""){const Bn=(0,Te.ty)(Wt,"a11y_play_sound_for_sent_dm_choice"),Jn=Bn??"";Pe((0,Ue.r)(Jn))}});Be.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const we=(0,c.kt)([l.setDidBootAllWorkspaces],Be);var re=e(6422693406),ge=e(3297051565),De=e.n(ge),be=e(9113979368),xe=e(5257368278),Re=e(1269227002),je=e(8161242485);const Ge=(0,je.Ay)(Pe=>Pe&&Pe.persistedApiCalls);Ge.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:Pe=>Pe&&Pe.persistedApiCalls};var Qe=e(4294892493),Xe=e(1874577777);const et="OFFLINE",rt=(0,xe.A)("Replay persisted API calls",function(Pe,Me){let We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge(Me());const Ve=Me();if(!(0,Xe.A)(Ve)||(0,be.A)(We))return;const _t=(0,s.Ay)({state:Ve});_t.info(et,"replayPersistedApiCalls called after workspace booted");const at=Object.keys(We).sort().map(Wt=>We[Wt]);re.K.each(at,Wt=>Pe((0,Re.apiCall)(Wt)).catch(ut=>{_t.error(et,`Error replaying ${Wt.method} (${Wt.persistKey})`,ut)}).finally(()=>{_t.info(et,`Clearing persisted payload for ${Wt.method} (${Wt.persistKey})`),Pe((0,Qe.M)(Wt.persistKey))}))});rt.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},rt.propTypes=De().object;const it=(0,m.Ay)("triggerReplayPersistedApiCalls",(Pe,Me,We)=>{const Ve=We.payload;(0,_.dispatchForTeamId)(Ve,rt())});it.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const lt=(0,c.kt)([l.setWorkspaceBooted],it);var ot=e(859310680),Et=e(3855029223),At=e(2872463257);const Ot=(0,m.Ay)("recordExperimentGroupsAsTrace side effect handler",(Pe,Me,We)=>{const Ve=(0,_.getStateForClientStore)(),_t=(0,P.getBootedWorkspaces)(Ve)||[];try{const at=At.nl.ALWAYS;_t.forEach(Wt=>{const ut=(0,_.getStateByTeamId)(Wt),un=(0,ot.xy)(ut),Bn=JSON.stringify(un),Jn=(0,Et.E)({state:ut}),Es=Jn.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:Bn}},samplingOptions:{sampleType:at}});Es.close(),Jn.reportSpans([Es])})}catch(at){(0,s.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",at)}});Ot.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const Rt=(0,c.kt)([l.setDidBootAllWorkspaces],Ot);var yt=e(5613323535);const Mt=(0,m.Ay)("setAutoTracerTagProvider side effect handler",(Pe,Me,We)=>{yt.LI.isEnabled()&&yt.LI.setTagProvider(Ve=>Ve?(0,ot.go)(Ve):{})});Mt.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const en=(0,c.kt)([l.setDidBootAllWorkspaces],Mt);var Tt=e(3317091632),xt=e(6917917245),bt=e(2763437247),nn=e(6244014364),dn=e(56548687),Xt=e(268083624),jt=e(5795074931);const _n=(0,m.Ay)("Clog experiment related meta data for session toggles",(Pe,Me,We)=>{let{experimentNames:Ve}=We;const _t=(0,Xt.v8)(Xt.i$),at=(0,E.sST)(),Wt=(0,_.getClientStoreInstance)(),ut=(0,P.getBootedWorkspaces)(Wt.getState()),un=ut.join(","),Bn=ut.map(Jn=>{var Es;const fn=(Es=(0,_.getStoreInstanceByTeamId)(Jn))===null||Es===void 0?void 0:Es.getState();return(0,jt.WR)(fn)}).join(",");Ve.forEach(Jn=>{const Es=(0,xt.B9)(Jn);(Es===bt.dw.Control||Es===bt.dw.Treatment||Es===bt.dw.On)&&(0,dn.e)().track(nn.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:Jn,experimentGroup:Es,teamIds:un,userIds:Bn,visitorCookie:_t,clientId:at}})})});_n.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var ze=e(306687250),Dt=e(5320724941),hn=e(9681594967),yn=e(2325478352),ht=e(9272190578),Bt=e(7002741921),wt=e(6209625934),Qt=e(4761125736);function mn(Pe,Me){const We=Object.values((0,_.getStoreInstanceMap)());for(const Ve of We){if(!Ve)continue;const _t=Ve.getState(),at=(0,Qt.KK)(_t,Pe);at&&at.log_exposures&&Me===at.group&&(0,wt.K)(Pe,at,_t)}}i(mn,"logExposuresForSession");function On(Pe,Me){if((0,bt.SC)(Pe),Me)try{Me()}catch(We){(0,s.Wo)().error(`caught error from cleanupCallback: ${We}`)}}i(On,"rollbackToggle");function zt(Pe){let{toggleName:Me,toggleGroup:We}=Pe;return(0,Bt.A)(Me,We,!1)}i(zt,"defaultToggleGroupMatcher");function nt(Pe,Me){var We;const Ve=(We=Me==null?void 0:Me.customToggleGroupMatcher)!==null&&We!==void 0?We:zt,_t=(0,bt.M_)(Pe),at=mt(Pe,_t,Ve);if(_t===null&&at!==bt.dw.NoGroup){(0,bt.jc)(Pe,at);return}at===bt.dw.NoGroup?_t===bt.dw.Treatment||_t===bt.dw.On?(On(Pe,Me==null?void 0:Me.cleanupCallback),(0,ht.As)({reason:`Rolling back ${Pe} toggle`,reasonKey:`rollback_${Pe}_toggle`})):(_t===bt.dw.Control||_t===bt.dw.Off)&&On(Pe,Me==null?void 0:Me.cleanupCallback):at!==_t?(0,bt.jc)(Pe,at):at===_t&&mn(Pe,_t)}i(nt,"setToggleGroupForNextSession");function mt(Pe,Me,We){const Ve=We({toggleName:Pe,toggleGroup:bt.dw.Treatment}),_t=We({toggleName:Pe,toggleGroup:bt.dw.Control}),at=We({toggleName:Pe,toggleGroup:bt.dw.On}),Wt=We({toggleName:Pe,toggleGroup:bt.dw.Off});return Ve&&_t?Me===bt.dw.Treatment?bt.dw.Treatment:Me===bt.dw.Control?bt.dw.Control:Math.random()<.5?bt.dw.Treatment:bt.dw.Control:at&&Wt?Me===bt.dw.On?bt.dw.On:Me===bt.dw.Off?bt.dw.Off:Math.random()<.5?bt.dw.On:bt.dw.Off:Ve?bt.dw.Treatment:_t?bt.dw.Control:at?bt.dw.On:Wt?bt.dw.Off:bt.dw.NoGroup}i(mt,"getCurrentToggleGroup");const Ct={getCurrentToggleGroup:mt};(0,r.ul)("setToggleGroupForNextSession",Pe=>nt(Pe));var Zt=e(6695353875),Ft=e(2371143272);const Jt=i(()=>{try{hn.qV.deleteDatabase()}catch(Pe){hn.qV.getLogger().error(`caught error from deleteDatabase: ${Pe}`)}},"objectStoreCallback"),rn={[yn.Wv]:{cleanupCallback:Jt},[Dt.f]:{},[ze.z]:{},[Tt.n]:{},[Ft.i]:{},[Zt.q$]:{},[Zt.P2]:{}},gn=(0,m.Ay)("setToggleGroupsForNextSession",(Pe,Me,We)=>{Pe(_n({experimentNames:Object.keys(rn)})),Object.entries(rn).forEach(Ve=>{let[_t,at]=Ve;nt(_t,at)})});gn.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const Fe=(0,c.kt)([l.setDidBootAllWorkspaces],gn);var Ke=e(4250409994),Ne=e(2766373332);const He=(0,m.Ay)("maybeToggleGlobalMuteShortcutHandler",(Pe,Me,We)=>(0,Ne.N$)(We.payload));He.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const Je=(0,c.kt)([Ke.Bk],He);var ft=e(8365110903),Kt=e(25586007);const St=(0,m.Ay)("Transition the up_to_browse_kb_shortcut user pref to the new client pref",(Pe,Me)=>{var We;const Ve=Me(),_t=(0,P.getFocusedWorkspace)(Ve),at=(0,_.getStoreInstanceByTeamId)(_t),Wt=at==null||(We=at.getState)===null||We===void 0?void 0:We.call(at);if(!Wt||(0,Le.jX)(Ve)!==void 0)return;const un=(0,Te.ty)(Wt,"up_to_browse_kb_shortcut"),{LIST:Bn,EDIT:Jn}=Kt.v,Es=un?Bn:Jn;Pe((0,ft.T)(Es))});St.meta={name:"createThunk",key:"createThunkmaybeTransitionUpToBrowsePreference",description:"Transition the up_to_browse_kb_shortcut user pref to the new client pref"};const cn=(0,c.kt)([l.setWorkspaceBooted],St),An=(0,m.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(Pe,Me,We)=>{const Ve=(0,s.Wo)({label:U.o7}),_t=(0,_.getStateForClientStore)(),at=(0,P.getAllWorkspaces)(_t);(!at||at.length===0)&&Ve.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),Ve.info(`Updating orderedTeamIds to ${at.join(",")}`),(0,U.q9)("orderedTeamIds",at)});An.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const Ln=(0,c.kt)([l.addWorkspace],An);var It=e(2250002584);const qe=(0,m.Ay)("recordWssRailVisibility side effect handler",(Pe,Me)=>{const We=(0,It.F)(),Ve=Me(),_t=(0,pe.v8)(Ve)?1:0,at=We.createMetricsTrace({samplingOptions:{sampleType:At.nl.SESSION}});at.store({name:"wss_rail:visible",value:_t}),We.reportTrace(at)});qe.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const ct=(0,c.kt)([l.setDidBootAllWorkspaces],qe);var vt=e(3875705815),Oe=e(4134037340),Y=e(2413251042),ce=e(6303140164);const Ce=(0,m.Ay)("Set zoom value for client before starting BBM",(Pe,Me,We)=>{const{error:Ve}=(0,s.Wo)();(0,Oe.A)(Me())||Ve(new Error("you must call setZoom for a client store"));try{(0,U.q9)(ce.UY,We)}catch(_t){Ve(new Error(`failed to store zoom in local storage: ${_t}`))}Pe((0,Y.x8)(We))});Ce.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};var ke=e(6696292586);function st(){let Pe;return Me=>Me===Pe?!1:(Pe=Me,!0)}i(st,"getDidUpdate");const dt=st(),Ze=(0,m.Ay)("updateFromDesktop side effect handler",(Pe,Me,We)=>{var Ve;const _t=Me(),at=P.getFocusedWorkspace===null||P.getFocusedWorkspace===void 0?void 0:(0,P.getFocusedWorkspace)(_t);if(!at)return;const Wt=(0,_.getStateByTeamId)(at);if((0,vt.V)(Wt))return;const ut=(Ve=We.payload.settings)===null||Ve===void 0?void 0:Ve.zoomLevel;(0,ke.A)(ut)&&dt(ut)&&(0,_.dispatchForClientStore)(Ce(ut))});Ze.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const Lt=(0,c.kt)([J.Ez],Ze),Gt=[u,G,te,lt,en,N,Fe,w,F,Rt,Je,V,cn,we,Ie,ct,Ln,Lt,Ee];var ln=e(4900557724);const In=50,wn="recents";var Fn=e(8628205589),Sn=e(2384831516);let jn;function is(Pe){jn&&(0,ln.GP)(jn),jn=(0,ln.BB)(()=>{jn=void 0,(0,U.q9)(wn,Pe)})}i(is,"persistRecents");function gs(){var Pe;return(Pe=(0,U.W6)(wn))!==null&&Pe!==void 0?Pe:[]}i(gs,"loadRecents");const Ls=gs(),ns=(0,Sn.vy)({},Ls,{persistenceEnabled:!1,storeKey:"recents"}).on(Fn.y2,(Pe,Me)=>{let{entry:We}=Me;const Ve=[We,...Pe].slice(0,In);return is(Ve),Ve}).on(Fn.HQ,(Pe,Me)=>{let{entry:We}=Me;const Ve=[We,...Pe.slice(1)].slice(0,In);return is(Ve),Ve}).on(Fn.TP,Pe=>{const Me=Pe.slice(0,1);return is(Me),Me});var rs=e(3193155968),ie=e(9936094925);const Se={[rs.N2]:{index:0,previousIndex:null,stack:[]}},$e={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Mn=(0,Sn.vy)({},Se,$e).on(Fn.y2,(Pe,Me)=>{let{windowId:We,entry:Ve}=Me;return{...Pe,[We]:(0,ie.wg)({windowState:Pe[We],entry:Ve})}}).on(Fn.jW,()=>Se).on(Fn.cM,(Pe,Me)=>{let{windowId:We,index:Ve,previousIndex:_t}=Me;return{...Pe,[We]:(0,ie.ds)({windowState:Pe[We],index:Ve,previousIndex:_t})}}).on(Fn.$E,(Pe,Me)=>{let{windowId:We,index:Ve}=Me;return{...Pe,[We]:(0,ie.cB)({windowState:Pe[We],index:Ve})}}).on(Fn.HQ,(Pe,Me)=>{let{windowId:We,entry:Ve}=Me;return{...Pe,[We]:(0,ie.w9)({windowState:Pe[We],entry:Ve})}});(0,r.ul)("mainWindowHistory",{getState:()=>(0,_.getStateForClientStore)().mainWindowHistory[rs.N2]});var Cn=e(7715417323);function Rn(){let{state:Pe,prevState:Me,workspaces:We=[],broadcastSelector:Ve=Cn.A,broadcastAction:_t=Cn.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const at=Ve(Pe),Wt=Ve(Me);at!==Wt&&We.forEach(ut=>{(0,_.dispatchForTeamId)(ut,_t(at))})}i(Rn,"maybeBroadcastStateToWorkspaces");const on=Rn;var qn=e(1527536225);const ms=(0,qn.Ay)("Broadcast accessibility state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.VH)(ut),broadcastAction:ut=>(0,fe.Jq)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.nQ)(ut),broadcastAction:ut=>(0,fe.N)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.dF)(ut),broadcastAction:ut=>(0,fe.KQ)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.jX)(ut),broadcastAction:ut=>(0,fe.Tv)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.gb)(ut),broadcastAction:ut=>(0,fe.C_)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.zm)(ut),broadcastAction:ut=>(0,fe.XE)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.K9)(ut),broadcastAction:ut=>(0,fe.Mq)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.u$)(ut),broadcastAction:ut=>(0,fe.Sr)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.kd)(ut),broadcastAction:ut=>(0,fe.mw)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.gR)(ut),broadcastAction:ut=>(0,fe.Ap)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Le.u)(ut),broadcastAction:ut=>(0,fe.V_)(ut)}),_t});ms.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const Ts=ms;var Ps=e(1004520977),Ss=e(9234290540);const vs=(0,qn.Ay)("Broadcast accessibility persistent state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Ss.i)(ut),broadcastAction:ut=>(0,Ps.w)(ut)}),_t});vs.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const bs=vs;var Pn=e(3749529250);const tt=(0,qn.Ay)("Broadcast big button mode state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at).filter(ut=>(0,he.mL)((0,_.getStateByTeamId)(ut)));return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,vt.V)(ut),broadcastAction:ut=>ut?(0,Pn.z)():(0,Pn.K)()}),_t});tt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var Ye=e(2456103428),Yt=e(6728717861);const pt=(0,qn.Ay)("Broadcast connectivity state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Yt.Pb)(ut),broadcastAction:ut=>(0,Ye.p9)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Yt.XQ)(ut),broadcastAction:ut=>(0,Ye.pm)(ut)}),_t});pt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const Nt=pt;var Vt=e(848813706),Ht=e(5223893135),tn=e(5095654950);const pn=(0,qn.Ay)("Broadcast fullscreen state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at).filter(ut=>(0,he.iB)((0,_.getStateByTeamId)(ut)));return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Ht.V)(ut),broadcastAction:ut=>ut?(0,tn.J)():(0,Vt.sM)()}),_t});pn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var Dn=e(4309043566);const En=(0,Sn.Ny)("Broadcasts overlays state from client store to workspace stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>ut.overlays,broadcastAction:Dn.l}),_t});En.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var an=e(9083290776);const Tn=(0,qn.Ay)("Broadcast workspaces state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at),ut=Ve&&(0,P.getBootedWorkspaces)(Ve),un=(0,P.getAllWorkspaces)(at),Bn=(0,P.getAllWorkspaces)(Ve),Jn=!Bn||un.some((Nn,Wn)=>Nn!==Bn[Wn]),Es=(0,P.getRecentlyFocusedWorkspaces)(at),fn=Ve&&(0,P.getRecentlyFocusedWorkspaces)(Ve);return(ut!==Wt||Jn||fn!==Es)&&Vn(Wt,Es),_t});Tn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function Vn(Pe,Me){const We=Me[0];We&&(Pe==null||Pe.forEach(Ve=>{(0,_.dispatchForTeamId)(Ve,(0,an.K$)(Me)),(0,_.dispatchForTeamId)(Ve,(0,an.fw)(Me))}),(0,E.ny2)(We))}i(Vn,"broadcastFocusedWorkspaces");const Un=Tn;var bn=e(252549317),Hn=e(9042410435),kn=e(8736071954),vn=e(1930424451),Zn=e(5470425448),Gn=e(5071086688),os=e(6117529990);function es(Pe){switch((0,Qt._Z)(Pe,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}i(es,"getAllowedTurnTransportTypes");var Yn=e(5332875232);function as(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}i(as,"isHuddlesBackgroundWorkerSupported");const Qn=(0,s.Wo)({label:"HUDDLE-INIT-OPTIONS"}),hs=i((Pe,Me)=>{let{server:We,isPrejoin:Ve}=Me;if(!Pe){Qn.error("teamState is not defined. Returning empty init options");return}const _t={};return _t.serverConfig={...We,transportProtocols:es(Pe)},_t.isPrejoin=Ve,_t.useChimeSdkExp=(0,os.OV)(Pe),_t.useDevicesExp=(0,Yn.ZI)(Pe),_t.useVideoUplinkPolicy=(0,Yn.Jf)(Pe),_t.useH264BaselineScreenshare=(0,os.OV)(Pe)&&(0,Yn.RM)(Pe),_t.useH264Baseline=(0,os.OV)(Pe)&&(0,Yn.er)(Pe),_t.useAv1Screenshare=(0,Yn.Cu)(Pe),_t.huddlesJukeboxEnabled=(0,Yn.lV)(Pe),_t.disableAudioRedundancy=(0,Yn.JQ)(Pe),_t.useSimulcast=!1,_t.usePriorityDownlinkPolicy=(0,I.gm)()?!1:(0,Yn.bw)(Pe),_t.useGetMediaAccessCheckForWindows=(0,Yn.jP)(Pe),_t.enableExperimentalConnectionHealthPolicyConfig=(0,Yn.bb)(Pe),_t.voiceFocusMaxModelsEnabled=(0,Yn.Hh)(Pe),_t.disableVp9=(0,Yn.lH)(Pe),_t.useHuddlesFilterWorker=as()&&(0,Yn.lz)(Pe),Qn.info("returning init options: ",_t),_t},"getSdkInitOptions");var ss=e(6246464105),_s=e(8872167513),Cs=e(2709531527),xs=e(164795489),As=e(3300324857),ks=e(4708000837),Os=e(1371073900),Ws=e(2457673737),gt=e(6664301844),kt=e(6310192986),Ut=e(7366481123),sn=e(5253428843),qt=e(3065433701),Kn=e(5378147939);const xn=(0,m.Ay)("Resolve a pending huddle",(Pe,Me,We)=>(0,Kn.A)().resolvePendingJoin(We));xn.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const zn=xn;var Xn=e(2778217221),ds=e(6694086724),ls=e(5286203919),Vs=e(9548972574),ho=e(3474336343),Do=e(3263322402),Xo=e(3977512448);const Po=(0,m.Ay)("update client huddle membership timers join",(Pe,Me)=>{const We=Me(),Ve=(0,s.Ay)({state:We}),_t=(0,_.getStateForClientStore)(),at=(0,ls.Ak)(_t),Wt=(0,ho.Wg)(We,{tip:Xo.ml.Huddles});if(!at){Ve.warn(Xn.o7,"no active huddle found, cannot update state to together or alone");return}const ut=(0,Vs.Sx)(We);if(ut===0){(0,Kn.A)().setAloneInHuddle();return}ut>0&&(Wt&&Pe((0,Do._A)(!0)),(0,Kn.A)().setOthersInHuddle(),Pe((0,ds.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});Po.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var So=e(9706240641),ts=e(3134334389),Zr=e(4332857818),qr=e(862210999),ea=e(8645544190),ta=e(8921478798),Jo=e(1641606663),fo=e(735940183),na=e(8847766420),$n=e(387328355),eo=e(6839101721),sa=e(5323669031),po=e(2825968873),oa=e(3094144240),ra=e(9477894139),Ro=e(2562405183),Lo=e(9391594207),Ys=e(5255740490),aa=e(3534324375),Zo=e(8869734951);let qo=i(class extends ts.PureComponent{static getDerivedStateFromProps(Me,We){return Me.mediaStream!==We.currentMediaStream?Me.mediaStream&&We.currentMediaStream&&Me.mediaStream.id===We.currentMediaStream.id?{currentMediaStream:Me.mediaStream,isFlipped:Me.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:Me.mediaStream?We.currentMediaStream:void 0,currentMediaStream:Me.mediaStream,isFlipped:Me.isFlipped,wasFlipped:We.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const Me=this.videoRef.current,We=this.prevVideoRef.current;Me&&(Me.removeEventListener("canplay",this.onCanPlay),Me.removeEventListener("pause",this.onPause),Me.removeEventListener("resize",this.onResize)),We&&(We.removeEventListener("canplay",this.onCanPlay),We.removeEventListener("pause",this.onPause),We.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:Me}=this.state,We=Me&&Me.getVideoTracks()[0];this.isDataStopped&&We&&We.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(Me){this.state.currentMediaStream&&Me.target.srcObject instanceof MediaStream&&Me.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:Me,prevMediaStream:We}=this.state,Ve=this.videoRef.current,_t=this.prevVideoRef.current;Ve&&(Ve.muted=!0,Ve.srcObject!==Me&&(Ve.addEventListener("canplay",this.onCanPlay),Ve.addEventListener("pause",this.onPause),Ve.addEventListener("resize",this.onResize),Ve.srcObject=Me||null)),_t&&(_t.muted=!0,_t.srcObject!==We&&(_t.removeEventListener("canplay",this.onCanPlay),_t.removeEventListener("pause",this.onPause),_t.removeEventListener("resize",this.onResize),_t.srcObject=We||null))}onResize(){const Me=this.videoRef.current;Me&&(this.props.isSharingScreen?Me.style.objectFit="contain":Me.style.objectFit=Me.videoWidth>Me.videoHeight?"cover":"contain")}render(){const{className:Me,isFlipped:We,refToForward:Ve}=this.props,{currentMediaStream:_t,prevMediaStream:at,isCurrentMediaStreamReady:Wt,wasFlipped:ut}=this.state;return ts.createElement(ts.Fragment,null,!Wt&&at&&ts.createElement("video",{key:at&&at.id,className:(0,Ys.A)("p-calls_video",Me,{flipped:ut}),ref:this.prevVideoRef,autoPlay:!0}),ts.createElement("video",{className:(0,Ys.A)("p-calls_video",Me,{flipped:We,hidden:!Wt}),ref:(0,Zo.P)(this.videoRef,Ve),autoPlay:!0,key:_t&&_t.id}))}constructor(Me){super(Me),this.prevVideoRef=ts.createRef(),this.videoRef=ts.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");qo.displayName="CallsOriginalVideoElement";function ko(){return ko=Object.assign||function(Pe){for(var Me=1;Me<arguments.length;Me++){var We=arguments[Me];for(var Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&(Pe[Ve]=We[Ve])}return Pe},ko.apply(this,arguments)}i(ko,"_extends");const ia=i((Pe,Me)=>{const We=(0,$n.JZ)(Pe,Me.id);return{mediaStream:We.mediaStream,isFlipped:(0,$n.fy)(We)&&!We.isScreenshareEnabled,isSharingScreen:We.isScreenshareEnabled}},"mapStateToProps"),la=(0,Lo.N)(ia)(qo),ca=ts.forwardRef((Pe,Me)=>ts.createElement(la,ko({},Pe,{refToForward:Me})));var da=e(4775127335),ua=e(6308822),bo=e(7299481592),_a=e(5956851410),ma=e(6909784049),ha=e(8558782493),er=e(1975685771);function fa(Pe,Me){const We=Math.min(Me.width,Me.height*Pe),Ve=Math.min(Me.height,Me.width/Pe);return{top:Me.top+(Me.height-Ve)/2,left:Me.left+(Me.width-We)/2,width:We,height:Ve}}i(fa,"getLargestRectForAspectRatioCenteredWithinRect");let xo=i(class extends ts.PureComponent{detectDifference(Me,We){return Math.abs(Me-We)>1}componentDidMount(){var Me;(0,po.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,ha.k)(nn.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(Me=this.context.windowRef.deref())===null||Me===void 0||Me.addEventListener("resize",this.onResize),(0,er.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(Me){let{isVideoReady:We}=Me;!We&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var Me;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(Me=this.context.windowRef.deref())===null||Me===void 0||Me.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,er.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const Me=this.videoRef.current;!Me||Me.videoHeight===0||this.setState(()=>({videoRect:fa(Me.videoWidth/Me.videoHeight,Me.getBoundingClientRect())}))}render(){const Me=ts.Children.only(this.props.children),We=ts.cloneElement(Me,{ref:(0,Zo.N)(this.videoRef,Me)});return ts.createElement(ts.Fragment,null,We,this.state.videoRect&&ts.createElement(_a.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&ts.createElement(ma.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(Me){super(Me),this.videoRef=ts.createRef(),this.drawTargetRef=ts.createRef(),this.drawRenderRef=ts.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");xo.displayName="GuestDraw",xo.contextType=Jo.M;const pa=i((Pe,Me)=>{const We=(0,$n.gl)(Pe);if(!We)throw Error("Guest draw should not be mounted without an active peer");const Ve=(0,$n.JZ)(Pe,We);return{isDrawEnabled:!!Ve.isScreenshareEnabled&&!!Ve.isDrawEnabled,isScreenShareEnabled:!!Ve.isScreenshareEnabled}},"guest_draw_mapStateToProps"),tr=(0,Lo.N)(pa)(xo),va={isVideoReady:!1};let nr=i(class extends ts.PureComponent{onVideoReady(Me){this.setState(We=>({...We,isVideoReady:Me}))}renderVideo(){const{id:Me,renderVideo:We,tileId:Ve}=this.props;if(We)return We(this.isVideoEnabledAndReady());if(!Me){(0,bo.M)("Cannot render video without a peer id");return}return ts.createElement(tr,{isVideoReady:this.state.isVideoReady},ts.createElement(ca,{id:Me,tileId:Ve,onVideoReady:this.onVideoReady,className:(0,Ys.A)({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:Me,prefCompliantUserName:We,member:Ve}=this.props;return ts.createElement("div",{className:(0,Ys.A)({hidden:this.state.isVideoReady})},ts.createElement("div",{className:"p-active_speaker__member_image_wrapper"},ts.createElement(da.Ay,{className:(0,Ys.A)({"p-active_speaker__member_image--spinning":Me}),size:180,userId:Ve&&Ve.id,isInteractive:!1,tabIndex:-1}),Me&&ts.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},ts.createElement(ua.A,{color:"white"}))),ts.createElement("div",{className:"p-active_speaker__member_name"},We))}isVideoEnabledAndReady(){const{isVideoEnabled:Me,isVideoEnabledAndReady:We}=this.props;return We?We(Me):!!(Me&&this.state.isVideoReady)}render(){const{isVideoEnabled:Me}=this.props,We=(0,Ys.A)("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return ts.createElement("div",{"data-qa":"active-speaker",className:We},Me&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(Me){super(Me),this.state=va,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");nr.displayName="ActiveSpeaker";function Ea(Pe,Me){const We=(0,Z.nv)(Pe,Me),Ve=(0,aa.sE)(Pe,We);return{member:We,prefCompliantUserName:Ve}}i(Ea,"mapCommonMemberState");const ga=i((Pe,Me)=>{const We=(0,$n.JZ)(Pe,Me.id),Ve=We.isCameraEnabled,_t=We.isScreenshareEnabled,at=(0,$n.fy)(We)?(0,jt.WR)(Pe):We.userId;return{tileId:Me.tileId,isVideoEnabled:Ve||_t,isSpinning:We.isConnected===!1,...Ea(Pe,at)}},"active_speaker_mapStateToProps"),Aa=(0,Lo.N)(ga)(nr);var ya=e(1429018002);function Uo(){return Uo=Object.assign||function(Pe){for(var Me=1;Me<arguments.length;Me++){var We=arguments[Me];for(var Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&(Pe[Ve]=We[Ve])}return Pe},Uo.apply(this,arguments)}i(Uo,"with_free_willy_guest_draw_extends");const sr=i(Pe=>i(class extends ts.PureComponent{addEventListeners(We,Ve,_t){We.current&&(We.current.addEventListener("canplay",Ve),_t&&We.current.addEventListener("resize",Ve))}removeEventListeners(We,Ve,_t){We.current&&(We.current.removeEventListener("canplay",Ve),_t&&We.current.removeEventListener("resize",Ve))}render(){return ts.createElement(Pe,Uo({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");sr.displayName="withFreeWillyGuestDraw";const Ta=sr;function Bo(){return Bo=Object.assign||function(Pe){for(var Me=1;Me<arguments.length;Me++){var We=arguments[Me];for(var Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&(Pe[Ve]=We[Ve])}return Pe},Bo.apply(this,arguments)}i(Bo,"with_free_willy_active_speaker_extends");const Ca=Ta(tr),or=i(Pe=>i(class extends ts.PureComponent{isVideoEnabledAndReady(We){return We}renderVideo(We){const{id:Ve,tileId:_t}=this.props;if(!Ve){(0,bo.M)("Cannot render video without a peer id");return}return ts.createElement(Ca,{isVideoReady:We},ts.createElement(ya.A,{id:Ve,tileId:_t,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return ts.createElement(Pe,Bo({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(We){super(We),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");or.displayName="withFreeWillyActiveSpeaker";const Ia=or;var Ma=e(8300007136),Oa=e(6084388622),rr=e(1049642794),Da=e(5043394918);const Pa=new fo.Ay("huddles"),ar=i(()=>{const Pe=(0,Ma.wA)(),Me=(0,Ro.d4)(Ve=>!!(0,$n.WQ)(Ve,"isMicrophoneEnabled")),We=(0,ts.useCallback)(()=>{Pe((0,rr.A)(!Me))},[Me,Pe]);return ts.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},ts.createElement(Oa.Ay,{className:(0,Ys.A)("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":Me}),onClick:We,type:"outline",role:"switch",size:"large","aria-label":Pa.t("Microphone"),"aria-checked":Me,disabled:!self},ts.createElement(Da.A,{peerId:"self",isMicrophoneEnabled:Me,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");ar.displayName="HuddleScreenViewerMicButton";const Sa=ar,Ra=Ia(Aa),La=new fo.Ay("huddles");function ir(Pe){const{peerId:Me,isError:We}=Pe,Ve=(0,Ro.d4)($n.vz),_t=(0,Ro.d4)(Bn=>Me?(0,$n.JZ)(Bn,Me):null);let at;if(Ve){var Wt,ut;at=_t!=null&&_t.isScreenshareEnabled?_t==null||(Wt=_t.tileIds)===null||Wt===void 0||(ut=Wt.screenshare)===null||ut===void 0?void 0:ut.tileId:null}const un=ts.createElement("span",{className:"p-huddle_screen_viewer__error"},La.t("The screen share has ended."));return ts.createElement("div",{className:"p-huddle_screen_viewer__container"},Me&&!We&&ts.createElement(Ra,{id:Me,tileId:at}),We?un:ts.createElement(Sa,null))}i(ir,"HuddleScreenViewer"),ir.displayName="HuddleScreenViewer";var ka=e(4385664584),ba=e(4675837085);const ys={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},Ol=null,lr=new fo.Ay("huddles"),xa=i(Pe=>{var Me;const We=Pe==null||(Me=Pe.document)===null||Me===void 0?void 0:Me.querySelectorAll(".p-huddle_screen_viewer__container"),Ve=We?We.length:0,_t=(0,po.tZ)("SCREENSHARE-VIEWER-APP");Ve>1?_t.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):_t.info(`${Ve} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),vo=i(()=>{const{container:Pe,childWindow:Me}=ys;Pe&&(Zr.unmountComponentAtNode(Pe),ys.containerTileId=void 0,ys.container=void 0),Me&&(Me.removeEventListener("beforeunload",vo),Me.close(),ys.childWindow=void 0,ys.childWindowToken=void 0)},"closeScreenShareWindow"),Ua=(0,m.Ay)("Launch the window that renders screen share media",function(){var Pe=(0,So.coroutine)(function*(Me,We,Ve){var _t,at,Wt;const ut=We(),un=(0,s.Ay)({state:ut}),Bn=Ve!=null&&Ve.screenSharePeerId?Ve.screenSharePeerId:(0,$n.vN)(ut);let Jn=!1;const{container:Es,containerTileId:fn}=ys;Bn||(un.warn(Xn.o7,"lastRemoteScreensharePeerId is not found"),Jn=!0);const Nn=(0,$n.JZ)(ut,Bn||""),Wn=Nn.userId?(0,ta.I)(ut,Nn.userId):"";let cs=lr.t("Screen share");Wn&&(cs=lr.t("{memberName} screen share",{memberName:(0,fo.nr)(Wn)}));const fs={...oa.P,backgroundColor:"black",title:cs,type:"huddle-call-screen-share"},ps=(0,_.getStateForClientStore)();(0,ls.Ak)(ps)||(un.warn(Xn.o7,"no active huddle found"),Jn=!0);const Ns=(Nn==null||(_t=Nn.tileIds)===null||_t===void 0||(at=_t.screenshare)===null||at===void 0?void 0:at.tileId)||0;(0,_.dispatchForClientStore)((0,eo.cn)({tileId:Ns}))||(un.warn(Xn.o7,"video tile does not have stream"),Jn=!0);const $s=!ys.childWindow||ys.childWindow.closed;if($s&&(0,I.y3)()){const{window:Zs,windowToken:uo}=yield(0,ea.wK)("",fs);ys.childWindow=Zs,ys.childWindowToken=uo}else $s&&(ys.childWindow=window.open("",cs,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!ys.childWindow){un.warn(Xn.o7,"No child window available. Exiting screen share window launch");return}const Hs=(0,na.ZT)(ut);ys.childWindow.document&&(ys.childWindow.document.body.style.background="black");const lo={windowRef:(0,ba.O)(ys.childWindow),windowToken:ys.childWindowToken};if($s&&(ys.childWindow.addEventListener("beforeunload",vo),window.addEventListener("beforeunload",vo)),!(Es&&fn===Ns)||$s){ys.containerTileId=Ns;const Zs=(0,_.getStoreInstanceByTeamId)(Hs);ys.container=yield(0,sa.s)(ys.childWindow,ts.createElement(ka.A,{store:Zs},ts.createElement(Jo.M.Provider,{value:lo},ts.createElement(ra.A,{shouldStopHuddle:!0},ts.createElement(ir,{peerId:Bn,isError:Jn})))),{useContainer:!0})}const co=(Wt=ys.childWindow)===null||Wt===void 0?void 0:Wt.browserWindowId;co?(0,E.hN0)(co):(0,qr.A)(ys.childWindow.focus)&&ys.childWindow.focus(),xa(ys.childWindow)});return function(Me,We,Ve){return Pe.apply(this,arguments)}}());Ua.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var Eo=e(9712681361),Ba=e(5761207079);const cr=(0,m.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(Pe,Me,We)=>{let{userId:Ve}=We;const _t=Me();(0,Ba.a)(_t,Ve)&&Pe((0,Ut.Iw)(Ut.vT.HiddenUserJoinedHuddle))});cr.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var Ds=e(462591818),dr=e(9640070512),ur=e(2527782504),_r=e(5954792826),Us=e(700984029),go=e(1829947126),Na=e(9009528296),Wa=e(1289024643),no=e(9853754481),mr=e(9372409576);const hr=(0,m.Ay)("Send call analytics to the server",(Pe,Me,We)=>{const Ve=Me().activeCall;let _t;if(We&&We.callId?_t=We.callId:Ve&&Ve.id&&(_t=Ve.id),!_t){(0,bo.M)("There should be an active call in progress in order to send analytics.");return}const at=Fa(new mr.$.calls.analytics.Report(We.stats),Me()),Wt=mr.$.calls.analytics.Report.encode(at).finish(),ut=String.fromCharCode(...Wt);return Pe((0,Re.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:_t,analytics:btoa(ut)},reason:"calls-analytics"}))});hr.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function Fa(Pe,Me){const We=Pe;return We.recv=Pe.recv.map(Ve=>{if(Ve.peerId){const _t=(0,$n.C1)(Me,Ve.peerId);if(_t){const at=Ve;at.userId=_t.userId}}if(Ve.peerIdString){const _t=(0,$n.C1)(Me,Ve.peerIdString);if(_t){const at=Ve;at.userId=_t.userId}}return Ve}),We.recv=We.recv.filter(Ve=>!!Ve.userId),Pe}i(Fa,"mapPeerIdsToUserIds");var Ka=e(5046160032),fr=e(8445020572),wa=e(4914127094),No=e(8935621861),so=e(415910655);const Ha=(0,s.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),pr="screenhero.rooms.proxyMeetingEvents",vr=(0,m.Ay)("Send meeting events to the server",function(){var Pe=(0,So.coroutine)(function*(Me,We,Ve){let _t;try{_t=JSON.stringify(Ve.events)}catch(un){Ha.error(un.message);return}const{metrics:at,teamId:Wt}=Va();if(Ve.isUnloading){const un={app:Ve.app,meeting_id:Ve.meetingId,media_region:Ve.mediaRegion,attendee_id:Ve.attendeeId,call_id:Ve.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:_t,preferred_media_region:yield No.A.getInstance().getNearestChimeMediaRegion(Wt),audio_connected_time:(at==null?void 0:at.audioConnectedTime)||0,first_presence_time:(at==null?void 0:at.firstPresenceTime)||0,rooms_join_time:(at==null?void 0:at.roomsJoinTime)||0,sdk_initialized_time:(at==null?void 0:at.sdkInitializedTime)||0,chime_attendee_presence_time:Ve.attendeePresenceDuration?Ve.attendeePresenceDuration:(at==null?void 0:at.attendeePresenceDuration)||0,chime_meeting_start_time:Ve.meetingStartDuration?Ve.meetingStartDuration:(at==null?void 0:at.meetingStartDuration)||0,chime_signaling_open_time:Ve.signalingOpenDuration?Ve.signalingOpenDuration:(at==null?void 0:at.signalingOpenDuration)||0,chime_ice_gathering_time:Ve.iceGatheringDuration?Ve.iceGatheringDuration:(at==null?void 0:at.iceGatheringDuration)||0,voice_focus_init_time:(at==null?void 0:at.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(at==null?void 0:at.credentialsToVoiceFocusInitializedTime)||0};return(0,Ka.A)({apiUrl:"/api/",method:pr,token:(0,wa.F)(We()),versionTs:(0,fr.HF)(),versionUid:(0,fr.X3)(),args:un})?re.S.resolve():re.S.reject(new Error("sendMeetingEvents: beacon failed"))}const ut=Ve.isEnding?{app:Ve.app,meeting_id:Ve.meetingId,media_region:Ve.mediaRegion,attendee_id:Ve.attendeeId,events:_t,call_id:Ve.callId,preferred_media_region:yield No.A.getInstance().getNearestChimeMediaRegion(Wt),audio_connected_time:(at==null?void 0:at.audioConnectedTime)||0,first_presence_time:(at==null?void 0:at.firstPresenceTime)||0,rooms_join_time:(at==null?void 0:at.roomsJoinTime)||0,sdk_initialized_time:(at==null?void 0:at.sdkInitializedTime)||0,chime_attendee_presence_time:Ve.attendeePresenceDuration?Ve.attendeePresenceDuration:(at==null?void 0:at.attendeePresenceDuration)||0,chime_meeting_start_time:Ve.meetingStartDuration?Ve.meetingStartDuration:(at==null?void 0:at.meetingStartDuration)||0,chime_signaling_open_time:Ve.signalingOpenDuration?Ve.signalingOpenDuration:(at==null?void 0:at.signalingOpenDuration)||0,chime_ice_gathering_time:Ve.iceGatheringDuration?Ve.iceGatheringDuration:(at==null?void 0:at.iceGatheringDuration)||0,voice_focus_init_time:(at==null?void 0:at.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(at==null?void 0:at.credentialsToVoiceFocusInitializedTime)||0}:{app:Ve.app,meeting_id:Ve.meetingId,media_region:Ve.mediaRegion,attendee_id:Ve.attendeeId,events:_t,call_id:Ve.callId};return Me((0,Re.apiCall)({method:pr,args:ut,reason:"calls-chime-events"}))});return function(Me,We,Ve){return Pe.apply(this,arguments)}}());vr.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function Va(){const Pe=(0,_.getStateForClientStore)(),{teamId:Me}=(0,ls.Qn)(Pe)||{};return{metrics:(0,so.s2)(),teamId:Me}}i(Va,"getCallMetricsAndTeamId");const ja=(0,s.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),Er=(0,m.Ay)("Handle Chime meeting events",(Pe,Me,We)=>{let{events:Ve,callId:_t,meetingId:at,mediaRegion:Wt,attendeeId:ut,isUnloading:un,isEnding:Bn}=We;const Jn=Ga(Ve);!(0,be.A)(Jn)&&!un&&!Bn&&(0,so.jm)(Jn),Pe(vr({events:Ve,app:"huddles",callId:_t,meetingId:at,mediaRegion:Wt,attendeeId:ut,isUnloading:un,isEnding:Bn,attendeePresenceDuration:Jn.attendeePresenceDuration,signalingOpenDuration:Jn.signalingOpenDuration,iceGatheringDuration:Jn.iceGatheringDuration,meetingStartDuration:Jn.meetingStartDuration}))});Er.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function Ga(Pe){const Me={};return Pe.forEach(We=>{let{message:Ve}=We;try{const un=JSON.parse(Ve);switch(un.name){case"attendeePresenceReceived":var _t;Me.attendeePresenceDuration=(_t=un.attributes)===null||_t===void 0?void 0:_t.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var at,Wt,ut;Me.signalingOpenDuration=(at=un.attributes)===null||at===void 0?void 0:at.signalingOpenDurationMs,Me.iceGatheringDuration=(Wt=un.attributes)===null||Wt===void 0?void 0:Wt.iceGatheringDurationMs,Me.meetingStartDuration=(ut=un.attributes)===null||ut===void 0?void 0:ut.meetingStartDurationMs;break;default:break}}catch(un){ja.error("Invalid JSON in meeting event",un)}}),Me}i(Ga,"parseMeetingEventMetrics");const za=Er;var Ks=e(6758774099),$a=e(4988306802);const gr=(0,m.Ay)("Process AWS transcript event",(Pe,Me,We)=>{var Ve;if((0,gt.VW)(We))return;const _t=We.results[0];if(!(_t!=null&&_t.resultId)||!(0,$a.TP)(Me()))return;const at=(Ve=_t.alternatives[0])===null||Ve===void 0?void 0:Ve.items;if(!(at!=null&&at.length)){Pe((0,Ks.h2)({resultId:_t.resultId,transcriptions:[]}));return}const Wt=[];at.forEach(ut=>{var un;const Bn=Wt[Wt.length-1],Jn=(0,_r.l)((un=ut.attendee)===null||un===void 0?void 0:un.externalUserId);Jn&&(ut.type===gt.E9.PUNCTUATION?Bn&&(Bn.content=`${Bn.content}${ut.content}`,Bn.endTimeMs=ut.endTimeMs):Wt.push({memberId:Jn,timestampMs:ut.startTimeMs,endTimeMs:ut.endTimeMs||Date.now(),content:ut.content}))}),Pe((0,Ks.h2)({resultId:_t.resultId,transcriptions:Wt}))});gr.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const Qa=gr;var Xs=e(8783285437),Ya=e(6155974509);const Ar=(0,m.Ay)("Maybe disable the screen share",function(){var Pe=(0,So.coroutine)(function*(Me,We){const Ve=(0,po.tZ)("CALLS-REDUX");We().peers.self.isScreenshareEnabled&&(Ve.info("Attempted to turn off screen sharing"),Me((0,$n.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,Ya.a)()});return function(Me,We){return Pe.apply(this,arguments)}}());Ar.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var Js=e(9190452268),Is=e(9680914051),js=e(1990810649),yr=e(5145584581),Xa=e(9365970888),Ao=e(7592559649),Ja=e(6251210828),Tr=e(7439555287),Za=e(6470070112);let qa=i(class{onPeerMuted(Me,We){this.dispatch((0,$n.kT)({id:Me,isMicrophoneEnabled:!We}))}onPeerJoined(Me,We){if(this.maybeRecordFirstPresenceTime(),We&&Me){this.dispatch((0,$n.Uu)({id:Me,userId:We,isMicrophoneEnabled:!0})),this.dispatch(Po());const Ve=(0,$n.Ng)(this.store.getState());(0,_.dispatchForClientStore)((0,Ke.Rr)({isDrawEnabled:Ve.isDrawEnabled||!1})),this.dispatch((0,Ks.U$)({type:Xs.v.JOIN,memberId:We,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(We),this.dispatch(cr({userId:We}))}}onPeerLeft(Me){var We;const Ve=(We=(0,$n.jB)(this.store.getState(),Me))===null||We===void 0?void 0:We.userId;Ve&&(this.callLogger.info(`Peer left the huddle. userId=${Ve} peerId=${Me}`),this.dispatch((0,Ks.U$)({type:Xs.v.LEAVE,memberId:Ve,timestampMs:Date.now()}))),this.dispatch((0,$n.xx)(Me)),this.dispatch(Po())}onSelfJoined(){const Me=this.recordTiming(Is.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(zn(Me))}onSelfLeft(){this.dispatch((0,Ut.LL)(qt.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(Me){this.dispatch((0,$n.FX)(Me))}onPeerReacji(Me,We,Ve,_t){var at;this.dispatch((0,$n._x)({peerId:Me,emoji:We,isEmoji:Ve,reactionType:_t}));const Wt=(at=(0,$n.jB)(this.store.getState(),Me))===null||at===void 0?void 0:at.userId;Wt&&this.dispatch((0,Ks.U$)({type:Xs.v.SEND_REACTION,memberId:Wt,timestampMs:Date.now(),emoji:We}))}onPeerMuteRequest(Me,We){We===this.selfAttendeeId&&(this.dispatch((0,rr.A)(!1)),this.dispatch((0,qt.CE)({alert:qt.vT.PeerMuteRequest,peerId:Me})),this.callLogger.info(`Peer muted self microphone : peerId:${Me}`))}onError(Me,We){let Ve;We===gt.b9[gt.b9.AudioJoinedFromAnotherDevice]?Ve=Eo.M6.AudioJoinedFromAnotherDevice:We===gt.b9[gt.b9.MeetingEnded]&&(Ve=(0,Za.ew)((0,Tr.KA)().getState())?Eo.M6.ChimeMeetingEndedFromTimeLimit:Eo.M6.ChimeMeetingEnded),this.dispatch((0,sn.A)({terminalState:Ve||Me})),this.callLogger.info(`tearDown executed: terminalState: ${Me}, statusCodeName: ${We} tearDownState: ${Ve}`)}onClogError(Me){}onMeetingSessionInitialized(){this.recordTiming(Is.W_);const Me=(0,Js.Cy)({state:this.store.getState()}),We=Me.measure(Is.Bq,Is.CY);Me.count(Is.CY,We),(0,so.jm)({sdkInitializedTime:We})}onSelfPermissionUpdated(Me,We){this.callLogger.info(`Received permission update from type:${We}, isDenied: ${Me}`);let Ve;(0,I.y3)()?Ve=We===kn.lW.Microphone?qt.vT.NoSystemAudio:qt.vT.NoSystemVideo:Ve=We===kn.lW.Microphone?qt.vT.NoBrowserAudioPermission:qt.vT.NoBrowserVideoPermission,Me?this.dispatch((0,qt.CE)({alert:Ve})):this.dispatch((0,qt.Gu)(Ve))}onSelfVideoTileUpdate(Me){if(!Me.tileId)return;const We=(0,$n.Ng)(this.getState());if(!Me.isContent&&!We.isCameraEnabled)return;if(!(0,$n.vz)(this.getState()))this.dispatch((0,Ks.U$)({type:Xs.v.SCREENSHARE_START,memberId:(0,jt.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,$n.kT)({id:"self",tileId:Me.tileId,isScreenshareEnabled:!!Me.isContent}));else if(Me.isContent){var _t,at;this.dispatch((0,Ks.U$)({type:Xs.v.SCREENSHARE_START,memberId:(0,jt.WR)(this.getState()),timestampMs:Date.now()}));const Wt=(0,$n.JC)(this.getState());((_t=We.tileIds)===null||_t===void 0||(at=_t.screenshare)===null||at===void 0?void 0:at.tileId)!==Me.tileId&&Wt!==js.cM.Screenshare&&this.dispatch((0,yr.x)({peerId:"self",contentViewType:js.cM.None,contentViewConfig:{}})),this.dispatch((0,$n.kT)({id:"self",tileId:Me.tileId,isScreenshareEnabled:!!Me.isContent}))}else this.dispatch((0,$n.kT)({id:"self",tileId:Me.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(Me,We){if(!We.tileId)return;const Ve=We.boundExternalUserId&&(0,_r.l)(We.boundExternalUserId);We.isContent&&Ve&&(this.callLogger.info(`Peer screenshare started: userId=${Ve}`),this.dispatch((0,Ks.U$)({type:Xs.v.SCREENSHARE_START,memberId:Ve,timestampMs:Date.now()}))),this.dispatch((0,$n.BD)({id:Me,tileId:We.tileId,isContent:We.isContent,isPaused:We.paused}))}onVideoTileRemoved(Me){var We,Ve;const _t=this.store.getState(),at=(0,$n.v2)(_t,Me);at&&(this.callLogger.info(`Peer screenshare stopped: userId=${at}`),this.dispatch((0,Ks.U$)({type:Xs.v.SCREENSHARE_STOP,memberId:at,timestampMs:Date.now()}))),this.dispatch((0,$n.Qr)({tileId:Me})),vo();const Wt=(0,$n.Ng)(_t);((We=Wt.tileIds)===null||We===void 0||(Ve=We.screenshare)===null||Ve===void 0?void 0:Ve.tileId)===Me&&Wt.contentViewType===js.cM.Screenshare&&this.dispatch((0,yr.x)({peerId:"self",contentViewType:js.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(Me){this.dispatch((0,$n.K3)({tileId:Me}))}onVideoTileWillUnpause(Me){this.dispatch((0,$n.XS)({tileId:Me}))}onDeviceAccessApproved(Me){switch(Me){case Ds.mT.MICROPHONE:{(0,I.y3)()?(this.dispatch((0,qt.Gu)(qt.vT.NoSystemAudio)),this.dispatch((0,Us.er)())):(this.dispatch((0,qt.Gu)(qt.vT.NoBrowserAudioPermission)),this.dispatch((0,Us.ZY)()));break}case Ds.mT.CAMERA:{(0,I.y3)()?(this.dispatch((0,qt.Gu)(qt.vT.NoSystemVideo)),this.dispatch((0,Us.NH)())):(this.dispatch((0,qt.Gu)(qt.vT.NoBrowserVideoPermission)),this.dispatch((0,Us.in)()));break}default:}}onCheckSystemMediaAccess(Me){switch(Me){case Ds.mT.MICROPHONE:{this.dispatch((0,Us.tG)()),this.dispatch((0,qt.CE)({alert:qt.vT.NoSystemAudio}));break}case Ds.mT.CAMERA:{this.dispatch((0,Us.Yr)()),this.dispatch((0,qt.CE)({alert:qt.vT.NoSystemVideo}));break}case Ds.mT.SCREEN:{this.dispatch((0,Us.J3)()),this.dispatch((0,qt.CE)({alert:qt.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(Me){switch(this.callLogger.error(`Self ${Me} device access denied`),Me){case Ds.mT.MICROPHONE:{this.dispatch((0,Us.cH)()),this.dispatch((0,qt.CE)({alert:qt.vT.NoBrowserAudioPermission}));break}case Ds.mT.CAMERA:{this.dispatch((0,Us.px)()),this.dispatch((0,qt.CE)({alert:qt.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(Me){switch(Me){case Ds.mT.MICROPHONE:{this.dispatch((0,qt.CE)({alert:qt.vT.NoUserAudioStream}));break}case Ds.mT.CAMERA:{const We=(0,Xa.ly)(this.getState());if((0,_.dispatchForClientStore)((0,Ke.WM)({setVideoEnabled:!1})),!(0,I.y3)()&&We)break;this.dispatch((0,qt.CE)({alert:qt.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(Me){switch(Me){case Ds.mT.MICROPHONE:{this.dispatch((0,qt.Gu)(qt.vT.NoUserAudioStream));break}case Ds.mT.CAMERA:{this.dispatch((0,qt.Gu)(qt.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(Me){switch(Me){case Ds.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,qt.CE)({alert:qt.vT.NoAudioOutputAudioElementError}));break}case Ds.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,qt.CE)({alert:qt.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(Me){switch(Me){case Ds.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,qt.Gu)(qt.vT.NoAudioOutputAudioElementError));break}case Ds.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,qt.Gu)(qt.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,$n.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,$n.kT)({id:"self",isConnected:!1})),Gn.A.publish({type:Zn.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(Me,We){this.callLogger.info(`${Me} audio packet loss changed to: ${We}`)}onPeerConnected(Me){this.dispatch((0,$n.E3)({id:Me,isConnected:!0}))}onPeerDisconnected(Me){this.callLogger.info(`peer disconnected from chime media server ${Me}`),this.dispatch((0,$n.E3)({id:Me,isConnected:!1}))}onPeerConnectionQualityChanged(Me,We,Ve){}onSelfMediaStreamChanged(Me){}onNewPeerMediaStream(Me,We){}onScreenThumbnails(Me){}onUpdatedSelfAudioLevel(Me){go.A.publish("self",Me/no.Ep),Na.A.publish(Me/no.Ep);const We=this.store.getState();(0,Yn.lV)(We)&&go.A.publishAll("self",Me/no.Ep)}onUpdatedPeerAudioLevels(Me){const We=this.store.getState();Object.entries(Me).forEach(_t=>{let[at,Wt]=_t;go.A.publish(at,Wt/no.Ep)}),(0,Yn.lV)(We)&&Object.entries(Me).forEach(_t=>{let[at,Wt]=_t;go.A.publishAll(at,Wt/no.Ep)})}onPeerCameraActive(Me,We){const Ve=Me==="self";this.callLogger.info(`${Ve?"Self":`Peer (${Me})`} camera turned ${We?"on":"off"}`),this.dispatch((0,$n.kT)({id:Me,isCameraEnabled:We}))}onPeerScreenShareActive(Me,We){const Ve=Me==="self";this.callLogger.info(`${Ve?"Self":`Peer (${Me})`} screenshare ${We?"started":"stopped"}`)}onPeerDrawMessage(Me,We){As.A.publish({id:Me,...We})}onPeerDrawEnabled(Me,We){this.dispatch((0,$n.kT)({id:Me,isDrawEnabled:We}))}onMediaStats(Me,We){this.dispatch(hr({stats:Me,callId:We}))}onAppMetrics(Me){let{appMetrics:We,clientMetricReport:Ve,screenshareRtcStats:_t}=Me;const at=(0,kt.Ay)({state:this.getState(),appMetrics:We});Gn.A.publish({type:Zn.lx.AppMetrics,update:{huddleStateSnapshot:at,clientMetricReport:Ve,screenshareRtcStats:_t}})}onDevicesUpdated(Me){this.dispatch((0,Us.Fb)(Me))}onOutputDeviceChanged(Me){this.callLogger.info(`Self audio output device changed: device: ${Me.id}`),this.dispatch((0,Us.AS)(Me))}onDeviceTypeBlocked(Me){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(Ar());const We=(0,_.getClientStoreInstance)().getState(),Ve=(0,ls.Ak)(We);!Ve||(0,be.A)(Ve)||Ve.huddleState===Eo.RJ.ENDING||this.dispatch((0,dr.H)({focusKey:ur.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,dr.H)({focusKey:ur.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){Gn.A.publish({type:Zn.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){Gn.A.publish({type:Zn.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){Gn.A.publish({type:Zn.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){Gn.A.publish({type:Zn.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(Is.dk)}onStart(){this.recordTiming(Is.Nh)}onAudioVideoDidStart(){this.recordTiming(Is.ck),(0,_.dispatchForClientStore)((0,Ke._U)(Date.now()))}onAudioVideoDidStop(){const Me=(0,_.getClientStoreInstance)(),We=(0,ls.cN)(Me==null?void 0:Me.getState()),Ve=Date.now(),_t=Ve-We;(0,_.dispatchForClientStore)((0,Ke.bV)(Ve)),(0,_.dispatchForClientStore)((0,Ke.qr)(_t))}onMaxTileSizeUpdated(Me){this.dispatch((0,$n.l$)(Me))}onInit(){this.recordTiming(Is.cP)}onVoiceFocusLoaded(){const Me=(0,Js.Cy)({state:this.store.getState()}),We=Me.measure(Is.aN,Is.pz);Me.count(Is.pz,We),this.recordTiming(Is.qb)}onVoiceFocusStartLoading(){(0,Js.Cy)({state:this.store.getState()}).mark(Is.aN)}recordTiming(Me){const We=(0,Js.Cy)({state:this.store.getState()}),Ve=We.measure(Is.qr,Me);return We.count(Me,Ve),Ve}onMeetingEvents(Me,We,Ve,_t,at,Wt,ut){this.dispatch(za({events:at,callId:_t,meetingId:Me,mediaRegion:We,attendeeId:Ve,isUnloading:Wt,isEnding:ut}))}onMaybeVoiceFocusInitialized(Me){const Ve=(0,Js.Cy)({state:this.store.getState()}).measure(Is.Bq,Is.bv);(0,so.jm)({voiceFocusInitializedTime:Me,credentialsToVoiceFocusInitializedTime:Ve})}onScreenShareError(Me){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${Me}`),Me){case Ds.lD.NOT_FOUND_ERROR:{this.dispatch((0,qt.CE)({alert:qt.vT.SSNotFoundError}));break}case Ds.lD.NOT_READABLE_ERROR:{this.dispatch((0,qt.CE)({alert:qt.vT.SSNotReadableError}));break}case Ds.lD.ERROR:{this.dispatch((0,qt.CE)({alert:qt.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,qt.CE)({alert:qt.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(Me){this.dispatch(Qa(Me))}setSelfAttendeeId(Me){this.selfAttendeeId=Me}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(Is.dP),(0,so.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,qt.CE)({alert:qt.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,qt.Gu)(qt.vT.AudioInputTrackMuted))}onJukeboxRequest(Me){if(!(0,Yn.lV)(this.getState()))return;const Ve=this.isDj(),at=(0,Ja.Rl)(this.getState())[Me];!Ve||!at||((0,_.dispatchForClientStore)((0,Ke.bk)({song:at})),(0,_.dispatchForClientStore)((0,Ke._u)({song:at})),(0,_.dispatchForClientStore)((0,Ke.WY)(at)))}onJukeboxStopRequest(){!(0,Yn.lV)(this.getState())||!this.isDj()||((0,_.dispatchForClientStore)((0,Ke.JM)()),(0,_.dispatchForClientStore)((0,Ke._u)({song:void 0})))}isDj(){var Me;const We=(0,jt.WR)(this.getState()),Ve=(0,_.getClientStoreInstance)(),_t=(Me=(0,ls.Qn)(Ve==null?void 0:Ve.getState()))===null||Me===void 0?void 0:Me.callId,at=(0,Ao.gV)(this.getState(),{callId:_t}),Wt=(0,Ao.gV)(this.getState(),{callId:_t,userId:We});return!at||!!Wt}maybeRemoveUserAsPending(Me){const We=(0,_.getClientStoreInstance)(),Ve=(0,ls.E9)(We==null?void 0:We.getState());Ve&&this.dispatch((0,Wa.r_)({callId:Ve,userId:Me}))}onContentShareDetailsUpdate(Me,We,Ve){this.dispatch((0,$n.kT)({id:Me,isDrawEnabled:We,contentShareSource:Ve}))}constructor(Me){this.firstPresenceTimeMs=0,this.callLogger=(0,po.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=Me.dispatch,this.getState=Me.getState,this.store=Me}},"HuddleActionDispatcher");var ei=e(5741354339),oo=e(4066669727),Gs=e(8778137680),ti=e(7434063642),Cr=e(4156857608);let $t,Wo,zs;const ni="HUDDLE-SDK",si="HUDDLE-CLIENT-MIDDLEWARE",Bs=(0,s.Wo)({label:si}),Ir=i(Pe=>{Pe.id==="self"&&($t==null||$t.sendDrawMessage(Pe))},"onPeerDrawPublish");function Fo(Pe,Me,We,Ve){const _t=(0,ls.E9)(Pe),at=(0,ls.l4)(Pe),Wt=at?(0,_.getStoreInstanceByTeamId)(at):void 0,ut=Wt?Wt.getState():void 0,un=ut?(0,jt.WR)(ut):void 0;_t&&un&&(Wt==null||Wt.dispatch(Me({user:un,channel:_t,fieldValue:We,experimentHuddlesMultiDeviceGroupOn:Ve})))}i(Fo,"maybeDispatchAwarenessUpdate");function ro(Pe,Me,We){const Ve=(0,ls.E9)(Pe),_t=(0,ls.l4)(Pe),at=_t?(0,_.getStoreInstanceByTeamId)(_t):void 0,Wt=at?at.getState():void 0,ut=Wt?(0,jt.WR)(Wt):void 0;Ve&&ut&&(at==null||at.dispatch(Me({user:ut,channel:Ve,experimentHuddlesMultiDeviceGroupOn:We})))}i(ro,"maybeDispatchAwarenessRemove");const Mr=(0,qn.Ay)("dispatches actions to huddles SDK",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=i(()=>{const fn=(0,ls.l4)(Ve),Nn=(0,_.getStoreInstanceByTeamId)(fn);if(!Nn)return{};const Wn=Nn==null?void 0:Nn.getState();if(!Wn)return{};const cs=(0,$n.Ng)(Wn)||{};return{huddlesVideoActive:(0,$n.vz)(Wn),self:cs}},"getIsHuddlesVideoActive");switch(We.type){case Ke.kn.getType():{var at;const fn=We.payload;Wo=fn==null||(at=fn.audioOutputRef)===null||at===void 0?void 0:at.current,No.A.getInstance().init();break}case Ke.Sd.getType():{const{huddlesVideoActive:fn,self:Nn}=_t();$t&&$t.hasSession()&&(fn?$t.selfVideoEnabled(!0,!!(Nn!=null&&Nn.isScreenshareEnabled)):$t.selfVideoEnabled(!0,!1));break}case Ke._I.getType():{const{huddlesVideoActive:fn,self:Nn}=_t();$t&&$t.hasSession()&&(fn?$t.selfVideoEnabled(!1,!!(Nn!=null&&Nn.isScreenshareEnabled)):$t.selfVideoEnabled(!1,!1));break}case Ke.qW.getType():{Bs.info("BOOT","user agent:",navigator.userAgent);const fn=We.payload;let Nn=fn.isStartMuted;if(!Wo){Bs.error("Missing audio output element");return}const{server:Wn,roomId:cs}=fn.callResult,fs=Wn.attendee.AttendeeId,ps=fn.waitForHuddleStart,Ms=fn.isPrejoin;(0,_.dispatchForClientStore)((0,Ke.og)(Ms));const Ns=Ms?(0,ls.Qn)(Ve):(0,ls.Ak)(Ve),{teamId:zo}=Ns||{},$s=(0,P.getFocusedWorkspace)(Ve),Hs=(0,_.getStoreInstanceByTeamId)(zo||$s),lo=Hs?Hs.getState():void 0;if(!lo){Bs.error("team state not available while initializing huddlesSdk. Returning early");return}Bs.info("client-huddles-middleware: Dispatching resetPeersStore"),Hs.dispatch((0,$n.VL)({huddlesVideoActive:!0})),Hs.dispatch((0,ti.X6)()),Nn=Nn||(0,Te.ty)(lo,"huddles_mute_by_default"),Nn&&(Bs.info("Start huddle as muted as specified in user prefs"),Hs.dispatch((0,$n.kT)({id:"self",isMicrophoneEnabled:!1}))),zs&&zs.stop(!0),(0,Tr.Gc)($s),zs=new xs.w,zs.start(cs);const $o=(0,ei.u)();$o.then(Qs=>{Qs&&(Bs.info("Log reporter stopped"),zs==null||zs.stop(!0,!1),zs=void 0)});const co=new qa(Hs),{ttiTrace:Zs}=(0,_s.A)().getAllTraceHandlers();$t=new vn.Y(co,Wo,ni),(0,ss.Y)({name:ss.R1.HuddlesSdk,ref:$t});const uo=(0,ks.Y)(Wn.attendee.ExternalUserId),zr=hs(lo,{server:Wn,isPrejoin:Ms});if(!zr){Bs.error("sdk options not available. Returning early");return}const Qo=[],Oo=zo||$s;if(uo&&Oo){const Qs=new oo.SV({teamId:Oo,peerId:fs,topicId:uo,isHuddlesAwarenessTimestampEnabled:(0,Yn.gG)(Hs.getState())});Qo.push(Qs);const $r=new oo.MC({teamId:Oo});Qo.push($r),oo.PL.watch(Oo,uo,Qs),(0,ss.Y)({name:ss.R1.ChimeChannelListener,ref:$r}),(0,ss.Y)({name:ss.R1.ChimeChannelBroadcaster,ref:Qs})}$t.initialize(zr,[Ds.mT.MICROPHONE],!!Nn,ps,$o,Qo).then(()=>{const Qs=$t==null?void 0:$t.getMeetingMediaRegion();Zs==null||Zs.setMediaRegionTag(Qs),Gn.A.publish({type:Zn.lx.SelectedMediaRegion,update:{mediaRegionSelected:Qs}}),$t&&!Ms&&($t==null||$t.maybeBindAudioOutputElement(),$t==null||$t.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),co.setSelfAttendeeId(fs),As.A.subscribe(Ir),Bs.info("User started huddle");break}case Ke.pl.getType():{const fn=We.payload;if($t){const{waitForHuddleEnd:Nn}=fn;$t.shutdown(()=>{Nn.resolve()});const Wn=(0,P.getFocusedWorkspace)(Ve),cs=(0,_.getStoreInstanceByTeamId)(Wn);cs==null||cs.dispatch((0,Ut.LL)(Ut.vT.SpeakingWhenMuted));const fs=(0,Yn.pL)(cs==null?void 0:cs.getState()),ps=(0,ls.E9)(Ve);ps&&(ro(Ve,Gs.RZ,fs),ro(Ve,Gs.Lm,fs),oo.PL.unwatch(ps)),As.A.unsubscribe(Ir),Bs.info("User left huddle")}$t=void 0,oo.PL.unwatchAll(),(0,ss.N5)();break}case Ke.I9.getType():{const fn=We.payload;if($t&&$t.hasSession()&&($t.selfMicrophoneEnabled(fn),fn)){const Nn=(0,P.getFocusedWorkspace)(Ve),Wn=(0,_.getStoreInstanceByTeamId)(Nn);Wn==null||Wn.dispatch((0,Ut.LL)(Ut.vT.SpeakingWhenMuted))}break}case Ke.nU.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.sendReacji(fn.emoji,fn.reactionType);break}case Ke.M4.getType():{const fn=We.payload;if($t&&$t.hasSession()){const Nn=(0,ls.l4)(Ve),Wn=(0,_.getStoreInstanceByTeamId)(Nn);if(!Wn)return;const cs=(0,Yn.pL)(Wn.getState()),fs=(0,ls.E9)(Ve),ps=(0,jt.WR)(Wn.getState());if(fs){var Wt;if(((Wt=(0,Ao.Fb)(Wn.getState(),fs,ps,cs?"self":void 0))===null||Wt===void 0?void 0:Wt.field_value)===fn)ro(Ve,Gs.RZ,cs),(0,ls.Rv)(Ve)&&fn!=="speaker"&&(Wn==null||Wn.dispatch((0,Cr.a)({emoji:"speaker",reactionType:js.o.Sticker})));else{Fo(Ve,Gs.z7,fn,cs);const{huddleEventsTrace:Ns}=(0,_s.A)().getAllTraceHandlers();Ns==null||Ns.update({name:Cs.p.REACTION,type:Cs.G.ONCE,tags:{reactionType:js.o.Sticker}})}}}break}case Ke.so.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.sendMuteRequest(fn);break}case Ke.ol.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.setAGC(fn);break}case Ke.HC.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.setNewPreferredDevice(fn==null?void 0:fn.id,fn==null?void 0:fn.type);break}case Ke.yR.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.setNoiseSuppression(fn);break}case Ke.Rb.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.setVideoBackgroundEffect(fn);break}case Ke.YA.getType():{const{huddlesVideoActive:fn,self:Nn}=_t(),Wn=We.payload,cs=!!(Nn!=null&&Nn.isCameraEnabled);if($t&&$t.hasSession()){var ut,un;const fs=(0,ls.l4)(Ve),ps=(0,_.getStoreInstanceByTeamId)(fs);fn?$t.selfVideoEnabled(cs,!0,Wn==null?void 0:Wn.mediaSourceId,Wn):$t.selfVideoEnabled(!1,!0,Wn==null?void 0:Wn.mediaSourceId,Wn);let Ms=(Wn==null||(ut=Wn.mediaSourceId)===null||ut===void 0?void 0:ut.startsWith("screen:"))||!1;!(Wn==null||(un=Wn.mediaSourceId)===null||un===void 0)&&un.startsWith("window:")&&(0,bn.LD)()&&(Ms=!0),$t.selfDrawEnabled((0,Os.A)()&&Ms);const Ns=(0,bn.k0)((Wn==null?void 0:Wn.mediaSourceId)||"");$t.sendContentShareDetails(Ns),ps==null||ps.dispatch((0,$n.kT)({id:"self",isDrawEnabled:Ms,isCameraEnabled:cs,contentShareSource:Ns}))}break}case Ke.QZ.getType():{const{huddlesVideoActive:fn,self:Nn}=_t(),Wn=fn?Nn.isCameraEnabled:!1;if($t&&$t.hasSession()){const cs=(0,ls.l4)(Ve),fs=(0,_.getStoreInstanceByTeamId)(cs);$t.selfVideoEnabled(!!Wn,!1),fs==null||fs.dispatch((0,$n.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case Us.Oh.getType():return $t&&$t.hasSession()?$t.getScreenThumbnails():re.S.resolve(null);case Ke.nI.getType():{const fn=We.payload;if($t&&$t.hasSession()){var Bn;const Nn=(0,ls.l4)(Ve),Wn=(0,_.getStoreInstanceByTeamId)(Nn);if(!Wn)return;const cs=(0,Yn.pL)(Wn.getState()),fs=(0,ls.E9)(Ve),ps=(0,jt.WR)(Wn.getState());if(!fs)return;const Ms=(Bn=(0,Ao.Fb)(Wn.getState(),fs,ps,cs?"self":void 0))===null||Bn===void 0?void 0:Bn.field_value;return(fn||Ms==="speaker")&&(0,_.dispatchForClientStore)((0,Cr.a)({emoji:"speaker",reactionType:js.o.Sticker})),$t.toggleAllIncomingVideo(fn)}return re.S.resolve(null)}case Ke.WY.getType():{const fn=We.payload;if($t&&$t.hasSession()){const Nn=(0,ls.l4)(Ve);if(!(0,_.getStoreInstanceByTeamId)(Nn))return;(0,ls.E9)(Ve)&&Fo(Ve,Gs.yT,fn.key)}break}case Ke.Lx.getType():{const fn=We.payload;$t&&$t.hasSession()&&$t.sendJukeboxRequest(fn.key);break}case Ke.OA.getType():{$t&&$t.hasSession()&&$t.sendJukeboxStopRequest();break}case Ke.Db.getType():{$t&&$t.hasSession()&&$t.sendRecordingStartNotification();break}case Ke.bk.getType():{const fn=We.payload;if($t&&$t.hasSession()){const Nn=(0,ls.l4)(Ve),Wn=(0,_.getStoreInstanceByTeamId)(Nn);if(!(0,Yn.lV)(Wn.getState()))return;$t.startContentShareJukebox({song:fn.song})}break}case Ke.JM.getType():{if($t&&$t.hasSession()){const fn=(0,ls.l4)(Ve),Nn=(0,_.getStoreInstanceByTeamId)(fn);if(!Nn||!(0,Yn.lV)(Nn.getState()))return;$t.selfStopJukebox(),ro(Ve,Gs.S)}break}case Us.e$.getType():{if($t&&$t.hasSession()){const fn=We.payload.mediaResourceType;return $t.maybeCheckSystemMediaAccess(fn)}return re.S.resolve(null)}case eo.d2.getType():{if($t&&$t.hasSession()){const{payload:{tileId:fn,videoRef:Nn,shouldAttachStream:Wn}}=We;$t.bindVideo(fn,Nn.current,Wn)}break}case eo.gJ.getType():{if($t&&$t.hasSession()){const{payload:{tileId:fn,videoRef:Nn,shouldDetachStream:Wn}}=We;$t.unbindVideo(fn,Nn.current,Wn)}break}case eo.WY.getType():{if($t&&$t.hasSession()){const{payload:{tileId:fn}}=We;$t.pauseVideo(fn)}break}case eo.D8.getType():{if($t&&$t.hasSession()){const{payload:{tileId:fn}}=We;$t.unpauseVideo(fn)}break}case Ke.WM.getType():{const fn=We.payload;if($t&&$t.hasSession()){const Nn=(0,ls.l4)(Ve),Wn=(0,_.getStoreInstanceByTeamId)(Nn),cs=Wn==null?void 0:Wn.getState();if(!Wn){Bs.info("client-huddles-middleware","no team store found when user toggles video");return}if(!cs){Bs.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:fs}=_t(),ps=(0,$n.Ng)(cs);let Ms;(fn==null?void 0:fn.setVideoEnabled)!==void 0?Ms=fn.setVideoEnabled:Ms=!(ps!=null&&ps.isCameraEnabled),Ms?(Bs.info("client-huddles-middleware","user toggling ON video"),$t.setCameraQuality(...(0,Ws.cg)()),fs?$t.maybeEnableSelfCamera({isScreenshareEnabled:ps.isScreenshareEnabled}):$t.maybeEnableSelfCamera()):(Bs.info("client-huddles-middleware","user toggling OFF video"),fs?$t.selfVideoEnabled(!1,!!(ps!=null&&ps.isScreenshareEnabled)):$t.selfVideoEnabled(!1,!1),Wn.dispatch((0,$n.kT)({id:"self",isCameraEnabled:!1})))}break}case eo.cn.getType():{if($t&&$t.hasSession()){const{payload:{tileId:fn}}=We;return($t==null?void 0:$t.videoTileHasStream(fn))||!1}return re.S.resolve(!1)}case $n.xz.getType():{const{huddlesVideoActive:fn,self:Nn}=_t();$t&&We.payload.isContent&&(fn?$t.selfVideoEnabled(!!(Nn!=null&&Nn.isCameraEnabled),!1):$t.selfVideoEnabled(!1,!1));break}case Ke.Dj.getType():{$t!=null&&$t.hasSession()&&($t==null||$t.initVideoPermission());break}case Ke._H.getType():{if($t!=null&&$t.hasSession()){const{videoElement:fn,deviceId:Nn}=We.payload;$t.stopVideoPreviewForVideoInput(fn),$t.setCameraQuality(...(0,Ws.cg)()),$t.requestPreviewStreamForDeviceId(Nn,kn.lW.Camera,fn)}break}case Ke.yi.getType():{if($t!=null&&$t.hasSession()){const fn=We.payload;$t.stopVideoPreviewForVideoInput(fn)}break}case Ke.Rr.getType():{const{self:fn}=_t();if($t&&$t.hasSession()){const Nn=(fn==null?void 0:fn.contentShareSource)||Hn.R.Unknown;if(Nn!==Hn.R.Unknown){const Wn=(fn==null?void 0:fn.isDrawEnabled)||!1;$t.selfDrawEnabled((0,Os.A)()&&Wn),$t.sendContentShareDetails(Nn);const cs=(0,_.getStoreInstanceByTeamId)(We.payload.teamId);cs==null||cs.dispatch((0,$n.kT)({id:"self",isDrawEnabled:Wn}))}}break}case Ke.HF.getType():{const fn=We.payload.isHostDrawEnabled,Nn=(0,_.getStoreInstanceByTeamId)(We.payload.teamId);Nn==null||Nn.dispatch((0,$n.kT)({id:"self",isHostDrawEnabled:fn}));break}case Ke.B5.getType():{$t==null||$t.handleClientOffline();break}case Ke.f2.getType():{const fn=We.payload,{isStartMuted:Nn}=fn,{teamId:Wn}=(0,ls.Ak)(Ve)||{},cs=(0,P.getFocusedWorkspace)(Ve),fs=(0,_.getStoreInstanceByTeamId)(Wn||cs),{ttiTrace:ps}=(0,_s.A)().getAllTraceHandlers();if(ps==null||ps.setMediaRegionTag($t==null?void 0:$t.getMeetingMediaRegion()),fs&&Nn&&$t)return $t.completePrejoin(fn).then(()=>{fs.dispatch((0,$n.kT)({id:"self",isMicrophoneEnabled:!1}))});if($t)return $t.completePrejoin({});break}case Ke.xq.getType():{const fn=We.payload.contentViewType,Nn=We.payload.contentViewConfig;if($t&&$t.hasSession()&&(0,ls.E9)(Ve)){var Jn;const cs=(0,ls.l4)(Ve),fs=(0,_.getStoreInstanceByTeamId)(cs);if(!fs)return;const ps=(0,Yn.pL)(fs.getState());if(fn!==js.cM.Screenshare)ro(Ve,Gs.Lm,ps);else if(!(Nn==null||(Jn=Nn.item)===null||Jn===void 0)&&Jn.id){let Ms;if(Nn.item.id==="self")Ms=(0,jt.WR)(fs.getState());else{var Es;Ms=(Es=(0,$n.jB)(fs.getState(),Nn.item.id))===null||Es===void 0?void 0:Es.userId}Fo(Ve,Gs.fv,Ms,ps)}}break}default:return Me(We)}return null});Mr.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const oi=Mr;Object.defineProperty({huddlesSdk:$t},"huddlesSdk",{get:()=>$t,set:Pe=>{$t=Pe}});var yo=e(4653418008),To=e(3328068409);const Or=(0,qn.Ay)("Broadcast client theme state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,To.to)(ut),broadcastAction:ut=>(0,yo.yg)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,To.FW)(ut),broadcastAction:ut=>(0,yo.kl)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,To.VD)(ut),broadcastAction:ut=>(0,yo.LA)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,To.pg)(ut),broadcastAction:ut=>(0,yo.Th)(ut)}),_t});Or.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const ri=Or;var ai=e(1201539379),ii=e(4172221507),li=e(7331033739),ci=e(8707579690),di=e(2779520532),ui=e(7128275929),_i=e(9341298);const Dr=(0,qn.Ay)("Broadcast view layout state across all teams",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>{var un,Bn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.sidebarWidthIntent}-${ut==null||(Bn=ut.viewLayout)===null||Bn===void 0?void 0:Bn.sidebarWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return(0,di.R)({sidebarWidthIntent:Number(un[0]),sidebarWidthMode:un[1]})}}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>{var un,Bn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.sidebarWideWidthIntent}-${ut==null||(Bn=ut.viewLayout)===null||Bn===void 0?void 0:Bn.sidebarWideWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return(0,_i.q)({sidebarWideWidthIntent:Number(un[0]),sidebarWideWidthMode:un[1]})}}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>{var un,Bn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.sidebarExtraWideWidthIntent}-${ut==null||(Bn=ut.viewLayout)===null||Bn===void 0?void 0:Bn.sidebarExtraWideWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return(0,ui.a)({sidebarExtraWideWidthIntent:Number(un[0]),sidebarExtraWideWidthMode:un[1]})}}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,pe.Vo)(ut),broadcastAction:ut=>(0,ii.F)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,pe.v8)(ut),broadcastAction:ut=>(0,ai.mV)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,pe.r8)(ut),broadcastAction:ut=>(0,li.v)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>{var un,Bn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.secondaryWidthIntent}-${ut==null||(Bn=ut.viewLayout)===null||Bn===void 0?void 0:Bn.secondaryWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return(0,ci.J)({secondaryWidthIntent:Number(un[0]),secondaryWidthMode:un[1]})}}),_t});Dr.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const mi=Dr;var ao=e(2591023465),Ko=e(3674298388),to=e(7489442332);const Pr=(0,m.Ay)("Set the user-specified sidebar width and mode",(Pe,Me,We)=>{let{inspectorWidthIntent:Ve,inspectorWidthMode:_t}=We;(0,U.q9)(to.j0,Ve),(0,U.q9)(to.mu,_t),Pe((0,ao.lT)({inspectorWidthIntent:Ve,inspectorWidthMode:_t}))});Pr.meta={name:"createThunk",key:"createThunksetInspectorColumn",description:"Set the user-specified sidebar width and mode"};const Sr=(0,m.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(Pe,Me,We)=>{(0,U.q9)(to.jG,We),Pe((0,ao.KY)(We))});Sr.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"};const Rr=(0,m.Ay)("Set the user-specified sidebar width and mode",(Pe,Me,We)=>{let{sidebarWidthIntent:Ve,sidebarWidthMode:_t}=We;(0,U.q9)(to.ke,Ve),(0,U.q9)(to.ts,_t),Pe((0,ao.SP)({sidebarWidthIntent:Ve,sidebarWidthMode:_t}))});Rr.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"};const Lr=(0,m.Ay)("Sets whether or not the user prefers a responsive sidebar",(Pe,Me,We)=>{(0,Oe.A)(Me())&&(0,U.q9)(to.Lb,We),Pe((0,ao.iJ)(We))});Lr.meta={name:"createThunk",key:"createThunksetUserPrefersResponsiveSidebar",description:"Sets whether or not the user prefers a responsive sidebar"};const kr=(0,qn.Ay)("Broadcast client theme state to other stores",(Pe,Me,We)=>{const Ve=Pe.getState(),_t=Me(We),at=Pe.getState(),Wt=(0,P.getBootedWorkspaces)(at);return on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>{var un,Bn;return`${ut==null||(un=ut.workspaceLayout)===null||un===void 0?void 0:un.sidebarWidthIntent}-${ut==null||(Bn=ut.workspaceLayout)===null||Bn===void 0?void 0:Bn.sidebarWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Rr({sidebarWidthIntent:Number(un[0]),sidebarWidthMode:un[1]})}}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Ko.Vo)(ut),broadcastAction:ut=>Sr(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Ko.r8)(ut),broadcastAction:ut=>(0,ao.vm)(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>(0,Ko.xx)(ut),broadcastAction:ut=>Lr(ut)}),on({state:at,prevState:Ve,workspaces:Wt,broadcastSelector:ut=>{var un,Bn;return`${ut==null||(un=ut.workspaceLayout)===null||un===void 0?void 0:un.inspectorWidthIntent}-${ut==null||(Bn=ut.workspaceLayout)===null||Bn===void 0?void 0:Bn.inspectorWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Pr({inspectorWidthIntent:Number(un[0]),inspectorWidthMode:un[1]})}}),_t});kr.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspaceLayoutMiddleware",description:"Broadcast client theme state to other stores"};const hi=kr;var fi=e(9524650809),br=e(1649982175),xr=e(352142497),io=e(2870224675),pi=e(9932860381),Ur=e(3034856104);const vi=50;function Br(){return(0,fi.A)("tabSoda_")}i(Br,"generateTabSodaTabId");function Ei(){return{activeTab:void 0,tabs:{},tabOrder:[]}}i(Ei,"getInitialState");function gi(Pe,Me){if(Pe&&Me){var We,Ve,_t,at;const un=(We=Pe[Pe[rs.jf]])===null||We===void 0?void 0:We.primary,Bn=(Ve=Pe[Pe[rs.jf]])===null||Ve===void 0?void 0:Ve.secondary,Jn=(_t=Me[Me[rs.jf]])===null||_t===void 0?void 0:_t.primary,Es=(at=Me[Me[rs.jf]])===null||at===void 0?void 0:at.secondary;if(Pe.teamId===Me.teamId&&Pe[rs.jf]===Me[rs.jf]&&(un==null?void 0:un.id)===(Jn==null?void 0:Jn.id)&&(Bn==null?void 0:Bn.id)===(Es==null?void 0:Es.id)){var Wt,ut;return!((un==null?void 0:un.viewType)===xr.D.Thread&&(Jn==null?void 0:Jn.viewType)===xr.D.Thread&&(un==null||(Wt=un.params)===null||Wt===void 0?void 0:Wt.threadId)!==(Jn==null||(ut=Jn.params)===null||ut===void 0?void 0:ut.threadId))}}return!1}i(gi,"areViewsSame");function Nr(Pe){let{reducerState:Me,entry:We,eventType:Ve}=Pe,_t=Me.activeTab,at=[...Me.tabOrder];_t||(_t=Br(),at.push(_t));const Wt=Me.tabs[_t]||[];let ut={...Me.tabs};if(ut[_t]=[We,...Ve==="replace"?Wt.slice(1):Wt].slice(0,vi),!Wt.length){const un=Me.tabOrder.find(Bn=>{var Jn;return gi(We,(Jn=Me.tabs[Bn])===null||Jn===void 0?void 0:Jn[0])});un&&_t!==un&&(at=Me.tabOrder.filter(Bn=>Bn!==_t),ut=(0,br.A)(Me.tabs,_t),_t=un)}return{activeTab:_t,tabs:ut,tabOrder:at}}i(Nr,"getTabSodaStateFromWindowHistoryEvent");const Ai=Ei(),yi=(0,Sn.vy)({},Ai,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(io.nz,(Pe,Me)=>{let{setAsActive:We}=Me;const Ve=Br(),_t={...Pe.tabs,[Ve]:[]},at=[...Pe.tabOrder],Wt=Pe.activeTab?at.indexOf(Pe.activeTab):-1;return at.splice(Wt+1,0,Ve),{activeTab:We?Ve:Pe.activeTab,tabs:_t,tabOrder:at}}).on(io.yw,(Pe,Me)=>({...Pe,activeTab:Me})).on(io.oT,(Pe,Me)=>{const{activeTab:We,tabs:Ve,tabOrder:_t}=Pe;let at=We;Me===We&&(at=(0,pi.fe)(We,_t));const Wt=[..._t],ut=_t.indexOf(Me);Wt.splice(ut,1);const un={...Ve};return delete un[Me],{tabs:un,tabOrder:Wt,activeTab:at}}).on(io.ez,(Pe,Me)=>{const We=Pe.tabs[Me]||[],Ve={...Pe.tabs,[Me]:[...We.slice(1)]};return{...Pe,tabs:Ve}}).on(io.Uz,(Pe,Me)=>({...Pe,tabOrder:Me})).on(Fn.y2,(Pe,Me)=>{let{entry:We}=Me;return(0,Ur.H)(We)?Nr({eventType:"push",reducerState:Pe,entry:We}):Pe}).on(Fn.HQ,(Pe,Me)=>{let{entry:We}=Me;return(0,Ur.H)(We)?Nr({eventType:"replace",reducerState:Pe,entry:We}):Pe});var Ti=e(6027162153),Ci=e(9087248458),Ii=e(5503876160),ws=e(9139930183);const Mi={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},Oi="WORKSPACES",Wr=16,Di=(0,ws.Ay)({},Mi,{storeKey:"workspaces",persistenceEnabled:!0}).on(l.initialize,(Pe,Me)=>Pi(Pe,Me)).on(l.setDidBootAllWorkspaces,Pe=>({...Pe,didBootAllWorkspaces:!0})).on(l.setWorkspaceOrder,(Pe,Me)=>Si(Pe,Me)).on(l.setWorkspaceBooted,(Pe,Me)=>Ri(Pe,Me)).on(l.setWorkspaceFailedToBoot,(Pe,Me)=>Li(Pe,Me)).on(l.setWorkspaceNeeds2FASetup,(Pe,Me)=>ki(Pe,Me)).on(l.setWorkspaceNeedsToAcceptCustomTOS,(Pe,Me)=>bi(Pe,Me)).on(l.setNavigateToUnbootedWorkspace,(Pe,Me)=>({...Pe,navigateToUnbootedWorkspace:Me})).on(l.setWorkspaceIsMigrating,(Pe,Me)=>xi(Pe,Me)).on(l.setWorkspaceMigrationIsComplete,(Pe,Me)=>Ui(Pe,Me)).on(l.setWorkspaceIsAccessLimited,(Pe,Me)=>Bi(Pe,Me)).on(l.setUserNotMemberOfAnyWorkspaceInOrg,(Pe,Me)=>Ni(Pe,Me)).on(l.setUserRequiresMobileLogin,(Pe,Me)=>Wi(Pe,Me)).on(l.addWorkspace,function(Pe){let{id:Me,meta:We}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Me||!We)throw new Error("'id' and 'meta' are both required when adding a workspace");if(Pe.allWorkspaces.includes(Me))return(0,s.Wo)({label:Oi}).warn(`Cannot add workspace; it is already present: ${Me}`),Pe;const{allWorkspaces:Ve,workspacesMeta:_t}=Pe;return{...Pe,allWorkspaces:[...Ve,Me],workspacesMeta:{..._t,[Me]:We}}}).on(l.updateWorkspaceMeta,function(Pe){let{id:Me,meta:We}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:Ve}=Pe;if(!Ve[Me])throw new Error(`Cannot update workspace meta for ${Me}; no such team`);return{...Pe,workspacesMeta:{...Ve,[Me]:We}}}).on(l.internalSetFocusedWorkspaceType,(Pe,Me)=>({...Pe,focusedWorkspace:Me,recentlyFocusedWorkspaces:Fi(Pe.recentlyFocusedWorkspaces,Me)})).on(l.internalRemoveWorkspaceType,(Pe,Me)=>({...Pe,allWorkspaces:(0,Ti.A)(Pe.allWorkspaces,Me)})).on(l.addRemovedWorkspace,(Pe,Me)=>Ki(Pe,Me));function Pi(Pe){let{focusedWorkspace:Me,allWorkspaces:We,workspacesMeta:Ve}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pe.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!Me)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!We)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(We.indexOf(Me)<0)throw new Error(`workspaces-store:initialize ${Me} is not one of the valid workspaces: ${We}`);return{...Pe,focusedWorkspace:Me,allWorkspaces:We,workspacesMeta:Ve,recentlyFocusedWorkspaces:[Me]}}i(Pi,"initializeWorkspacesState");function Si(Pe,Me){const We=Pe.allWorkspaces;if((0,Ci.A)(We,Me).length!==We.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,U.q9)("orderedTeamIds",Me),{...Pe,allWorkspaces:Me}}i(Si,"updateWorkspaceOrder");function Ri(Pe,Me){const We=Pe.bootedWorkspaces.includes(Me)?Pe.bootedWorkspaces:[...Pe.bootedWorkspaces,Me];return{...Pe,bootedWorkspaces:We}}i(Ri,"updateWorkspaceBooted");function Li(Pe,Me){if(!Me)return Pe;const We=Pe.failedToBootWorkspaces.includes(Me)?Pe.failedToBootWorkspaces:[...Pe.failedToBootWorkspaces,Me];return{...Pe,failedToBootWorkspaces:We}}i(Li,"updateWorkspaceFailedToBoot");function ki(Pe,Me){if(!Me)return Pe;const We=Pe.needs2FASetup.includes(Me)?Pe.needs2FASetup:[...Pe.needs2FASetup,Me];return{...Pe,needs2FASetup:We}}i(ki,"updateWorkspaceNeeds2FASetup");function bi(Pe,Me){if(!Me)return Pe;const We=Pe.needsToAcceptCustomTOS.find(Ve=>{let{teamId:_t}=Ve;return Me.teamId===_t})?Pe.needsToAcceptCustomTOS:[...Pe.needsToAcceptCustomTOS,Me];return{...Pe,needsToAcceptCustomTOS:We}}i(bi,"updateWorkspaceNeedsToAcceptCustomTOS");function xi(Pe,Me){let{teamId:We,migrationId:Ve,canViewMigrationStatus:_t}=Me;if(!We)return Pe;const{migratingWorkspaces:at}=Pe;return{...Pe,migratingWorkspaces:{...at,[We]:{migrationId:Ve,canViewMigrationStatus:_t}}}}i(xi,"updateWorkspaceIsMigrating");function Ui(Pe,Me){if(!Me)return Pe;const We=Pe.completedMigrationWorkspaces.includes(Me)?Pe.completedMigrationWorkspaces:[...Pe.completedMigrationWorkspaces,Me];return{...Pe,completedMigrationWorkspaces:We}}i(Ui,"updateWorkspaceMigrationIsComplete");function Bi(Pe,Me){if(!Me)return Pe;const We=Pe.accessLimitedWorkspaces.includes(Me)?Pe.accessLimitedWorkspaces:[...Pe.accessLimitedWorkspaces,Me];return{...Pe,accessLimitedWorkspaces:We}}i(Bi,"updateWorkspaceIsAccessLimited");function Ni(Pe,Me){if(!Me)return Pe;const We=Pe.userNotMemberOfAnyWorkspaceInOrg.includes(Me)?Pe.userNotMemberOfAnyWorkspaceInOrg:[...Pe.userNotMemberOfAnyWorkspaceInOrg,Me];return{...Pe,userNotMemberOfAnyWorkspaceInOrg:We}}i(Ni,"updateUserNotMemberOfAnyWorkspaceInOrg");function Wi(Pe,Me){if(!Me)return Pe;const We=Pe.userRequiresMobileLogin.includes(Me)?Pe.userRequiresMobileLogin:[...Pe.userRequiresMobileLogin,Me];return{...Pe,userRequiresMobileLogin:We}}i(Wi,"updateUserRequiresMobileLogin");function Fi(Pe,Me){const We=[Me,...Pe.filter(Ve=>Ve!==Me)];return We.length>Wr?(0,Ii.A)(We,Wr):We}i(Fi,"updateRecentlyFocusedWorkspaces");function Ki(Pe,Me){if(!Me)return Pe;const We=Pe.removedWorkspaces.includes(Me)?Pe.removedWorkspaces:[...Pe.removedWorkspaces,Me];return{...Pe,removedWorkspaces:We}}i(Ki,"updateRemovedWorkspaces");var wi=e(7798793495),Hi=e(8749931423),Vi=e(7206394193),ji=e(773865333),Gi=e(7156104699),zi=e(8333842125),$i=e(582577127),Qi=e(2732935554),Yi=e(3034787354),Xi=e(4614661813),Ji=e(2140362605);const wo=(0,Ji.Ay)("sets the client side effect map on the store");wo.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const Zi={clientSideEffectsMap:{}},qi=(0,ws.Ay)({},Zi,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(wo,(Pe,Me)=>({...Pe,clientSideEffectsMap:Me}));var el=e(5923036663),tl=e(6168781067),nl=e(7902571278),sl=e(56562029);const ol={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[]},rl=(0,ws.Ay)({},ol,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(Ke.VU,(Pe,Me)=>Pe.isHuddlesEnabled?Pe:{...Pe,isHuddlesEnabled:Me}).on(Ke.xf,(Pe,Me)=>({...Pe,mostRecentHuddle:Me})).on(Ke.Rh,(Pe,Me)=>{const{mostRecentHuddle:We}=Pe;if(!We||Me.teamId&&Me.teamId!==We.teamId||Me.channelId&&Me.channelId!==We.channelId)return Pe;const Ve={...Pe,mostRecentHuddle:{...We,...Me}},_t=Ve.mostRecentHuddle;return _t&&(0,s.Wo)().info(Xn.o7,`updateActiveHuddleReference huddleState ${_t.huddleState}, substate ${_t.huddleSubState}, optimisticState ${_t.optimisticHuddleState}`),Ve}).on(Ke.Jc,(Pe,Me)=>{const{mostRecentHuddle:We}=Pe;return!We||Me===We.channelId?Pe:{...Pe,mostRecentHuddle:{...We,channelId:Me}}}).on(Ke.hB,(Pe,Me)=>({...Pe,activeInvite:Me,unreadInvites:[...Pe.unreadInvites,{invite:Me,receivedTimestampMs:Date.now()}]})).on(Ke.fP,(Pe,Me)=>{let{teamId:We,markBeforeMs:Ve}=Me;const _t=Pe.unreadInvites.filter(at=>at.invite.teamId!==We||at.receivedTimestampMs>Ve);return Pe.unreadInvites.length===_t.length?Pe:{...Pe,unreadInvites:_t}}).on(Ke.u8,(Pe,Me)=>{var We;return{...Pe,unreadInvites:Pe.unreadInvites.filter(Ve=>Ve.invite.channelId!==Me),activeInvite:((We=Pe.activeInvite)===null||We===void 0?void 0:We.channelId)!==Me?Pe.activeInvite:void 0}}).on(Ke.Ko,(Pe,Me)=>Pe.forceMiniPanelVisible===Me?Pe:{...Pe,forceMiniPanelVisible:Me}).on(Ke.Yi,(Pe,Me)=>{let{channelId:We,joinCredentials:Ve,expiry:_t,fromInvite:at}=Me;var Wt;if(!We||!Ve)return Pe;const ut=Pe.channelToJoinCredentials;ut[We]={credentials:Ve,expiry:_t,fromInvite:at};const un=(Wt=Pe.activeInvite)===null||Wt===void 0?void 0:Wt.teamId;return un&&(0,Js.Cy)({state:(0,_.getStateByTeamId)(un)}).count(Is.ir),{...Pe,channelToJoinCredentials:ut}}).on(Ke.WB,(Pe,Me)=>{let{channelId:We}=Me;if(!We)return Pe;if(Pe.channelToJoinCredentials[We]){var Ve;const _t=(Ve=Pe.activeInvite)===null||Ve===void 0?void 0:Ve.teamId;_t&&(0,Js.Cy)({state:(0,_.getStateByTeamId)(_t)}).count(Is.sQ)}return{...Pe,channelToJoinCredentials:(0,br.A)(Pe.channelToJoinCredentials,[We])}}).on(Ke.aO,(Pe,Me)=>Pe.showDiscoveryBanner===Me?Pe:{...Pe,showDiscoveryBanner:Me}).on(Ke.Ag,(Pe,Me)=>Pe.isLoungeMusicPlaying===Me?Pe:{...Pe,isLoungeMusicPlaying:!!Me}).on(Ke._U,(Pe,Me)=>Pe.lastStartTs===Me?Pe:{...Pe,lastStartTs:Me}).on(Ke.bV,(Pe,Me)=>Pe.lastEndTs===Me?Pe:{...Pe,lastEndTs:Me}).on(Ke.qr,(Pe,Me)=>Pe.lastDurationTs===Me?Pe:{...Pe,lastDurationTs:Me}).on(Ke.Gx,(Pe,Me)=>Pe.screenshareActivePanel===Me?Pe:{...Pe,screenshareActivePanel:Me}).on(Ke.cx,Pe=>({...Pe,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1})).on(Ke._u,(Pe,Me)=>{let{song:We}=Me;return Pe.songPlaying===(We==null?void 0:We.key)?Pe:{...Pe,songPlaying:We==null?void 0:We.key}}).on(Ke.nw,(Pe,Me)=>Pe.canRenderActiveInviteCardInSidebar===Me?Pe:{...Pe,canRenderActiveInviteCardInSidebar:Me}).on(Ke.o9,(Pe,Me)=>Pe.isHuddleWindowFocused===Me?Pe:{...Pe,isHuddleWindowFocused:Me}).on(Ke.TK,(Pe,Me)=>Pe.isHuddleWindowOpen===Me?Pe:{...Pe,isHuddleWindowOpen:Me}).on(Ke.kg,(Pe,Me)=>Pe.isAudioOnlyModeEnabled===Me?Pe:{...Pe,isAudioOnlyModeEnabled:Me}).on(Ke.Hg,(Pe,Me)=>Pe.wasCameraEnabledWhenAudioOnlyModeWasActivated===Me?Pe:{...Pe,wasCameraEnabledWhenAudioOnlyModeWasActivated:Me}).on(Ke.t2,(Pe,Me)=>Pe.isHuddleMiniPlayerHidden===Me?Pe:{...Pe,isHuddleMiniPlayerHidden:!!Me}).on(Ke.og,(Pe,Me)=>Pe.wasJoinedFromPrejoin===Me?Pe:{...Pe,wasJoinedFromPrejoin:!!Me}),kl=100,Fr="client-ia-history",al=[...Object.values(Xo.mH)||[]];var Co=e(1521690892);const il=i(()=>{try{const Pe=localStorage.getItem(Fr);return Pe?JSON.parse(Pe):[]}catch(Pe){return(0,s.Wo)().error("Failed to read IA history from storage",Pe),[]}},"readStackFromStorage"),Io=i(Pe=>{try{localStorage.setItem(Fr,JSON.stringify(Pe))}catch(Me){(0,s.Wo)().error("Failed to write IA history to storage",Me)}},"writeStackToStorage"),ll=(0,ws.Ay)({},{stack:il()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Co.nb,(Pe,Me)=>{if(!Me||al.includes(Me==null?void 0:Me.primaryView))return Pe;const We=1e3,Ve=[Me].concat(Pe.stack).slice(0,We);return window.setTimeout(()=>Io(Ve),0),{stack:Ve}}).on(Co.JG,(Pe,Me)=>{const We=Pe.stack.indexOf(Me);if(We===-1)return Pe;const Ve=Pe.stack.slice();return Ve.splice(We,1),window.setTimeout(()=>Io(Ve),0),{stack:Ve}}).on(Co.Si,Pe=>{if(!Pe.stack)return Pe;const Me=Pe.stack.slice(0,1);return window.setTimeout(()=>Io(Me),0),{stack:Me}}).on(Co.kM,()=>{const Pe=[];return Io(Pe),{stack:Pe}}),cl=!0,Kr=(0,ws.Ay)({},cl,{storeKey:"isClient",persistenceEnabled:!1});Kr.meta={name:"createReducer",key:"createReducerisClientReducer"};const dl=Kr;var ul=e(8572697916);const _l={navigateListenersRunOnClientMount:0},ml=(0,ws.Ay)({},_l,{storeKey:"navigate",persistenceEnabled:!1}).on(ul.C,Pe=>({...Pe,navigateListenersRunOnClientMount:Pe.navigateListenersRunOnClientMount+1}));let wr;try{var Ho;wr=(Ho=(0,U.W6)(ce.Vb))!==null&&Ho!==void 0?Ho:void 0}catch{}let Hr;try{var Vo;Hr=(Vo=(0,U.W6)(ce._J))!==null&&Vo!==void 0?Vo:void 0}catch{}let Vr;try{var jo;Vr=(jo=(0,U.W6)(ce.UY))!==null&&jo!==void 0?jo:void 0}catch{}const hl={invertedSidebar:wr,peeksEnabledOnMouseEnter:Hr,zoom:Vr},fl=(0,ws.Ay)({},hl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(Y.p$,(Pe,Me)=>({...Pe,invertedSidebar:Me})).on(Y.rB,(Pe,Me)=>({...Pe,peeksEnabledOnMouseEnter:Me})).on(Y.x8,(Pe,Me)=>({...Pe,zoom:Me}));var pl=e(1838435986),vl=e(3180420025),Mo=e(1302213854);const El={shouldLogAppBootMetrics:!0,shouldLogTeamSwitchMetrics:!1,shouldLogTTVMetrics:!0,shouldLogTTUMetrics:!0},gl=(0,ws.Ay)({},El,{storeKey:"telemetry",persistenceEnabled:!0}).on(Mo.C7,(Pe,Me)=>({...Pe,shouldLogAppBootMetrics:Me})).on(Mo.Mb,(Pe,Me)=>({...Pe,shouldLogTeamSwitchMetrics:Me})).on(Mo.Ln,(Pe,Me)=>({...Pe,shouldLogTTVMetrics:Me})).on(Mo.UM,(Pe,Me)=>({...Pe,shouldLogTTUMetrics:Me}));var Go=e(2696160384);const jr={isDocked:!1,miniPlayerConfig:{fileId:""}},Al=(0,ws.Ay)({},jr,{storeKey:"videoClips",persistenceEnabled:!1}).on(Go.FI,(Pe,Me)=>({...Pe,isDocked:Me})).on(Go.D_,(Pe,Me)=>{let{fileId:We,teamId:Ve,mediaId:_t,channelId:at,threadTs:Wt,timeElapsed:ut,isPlaying:un}=Me;return{...Pe,miniPlayerConfig:{fileId:We,teamId:Ve,mediaId:_t,channelId:at,threadTs:Wt,timeElapsed:ut,isPlaying:un}}}).on(Go.Sr,Pe=>({...Pe,...jr}));var yl=e(9813790040),Tl=e(4256476552),Cl=e(894072650);function Gr(){let{extraMiddlewares:Pe=[],customEnhancers:Me=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const We=(0,zi.A)({teamOrEnterpriseId:"client",middlewares:[...Pe,Vi.A,n.P,ji.A,Un,Nt,ri,hi,mi,Ts,bs,En,pn,tt,Gi.N,oi],customEnhancers:Me}),Ve=(0,Hi.A)({workspaces:Di,window:Tl.A,telemetry:gl,connectivity:tl.A,accessibility:Yi.A,accessibilityPersistent:Qi.A,desktop:nl.A,clientTheme:el.A,iaHistory:ll,mainWindowHistory:Mn,isClient:dl,isState:wi.G,workspaceLayout:Cl.A,viewLayout:yl.A,noop:pl.A,navigate:ml,clientHuddles:rl,clientSideEffects:qi,recents:ns,overlays:vl.y,tabSoda:yi,fullscreen:sl.G,bbm:Xi.Y,videoClips:Al,nonBBMSettings:fl});return(0,t.Yl)(Ve,We)}i(Gr,"createClientStore");function Il(){const Pe=(0,_.getClientStoreInstance)();if(Pe)return(0,s.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),Pe;const Me=Gr();(0,_.setClientStoreInstance)(Me);const{clientSideEffectsMap:We,sideEffectsMap:Ve}=(0,$i.g)(Gt);if(Object.keys(Ve).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return Me.dispatch(wo(We)),Me}i(Il,"configureClientStore");const Nl={createClientStore:Gr}},3803432550:(Q,C,e)=>{"use strict";e.d(C,{x:()=>m});var t=e(8148939499),n=e(6508028729),s=e(4423055085),r=e(4496040127),d=e(9659790250),o=e(1535672935),a=e(9012396182),l=e(6533394955);function m(_){if(!_||(0,l.getClientStoreInstance)())return;const p=(0,d.A)(),u=(0,r.VA)()?(0,t.A)():[_],h=(0,n.A)();p.dispatch((0,o.initialize)({focusedWorkspace:_,allWorkspaces:u,workspacesMeta:h})),c(p)}i(m,"initializeClientStore");function c(_){(0,s.ul)("clientStore",_),(0,s.zv)("teamIds",()=>{const u=_.getState();return a.getAllWorkspaces(u)}),(0,s.zv)("activeTeam",()=>{const u=_.getState(),h=a.getFocusedWorkspace(u);return window.slackDebug[h]}),(0,s.zv)("activeTeamId",()=>{const u=_.getState();return a.getFocusedWorkspace(u)}),(0,s.zv)("activeEnterprise",()=>{var u,h;const E=_.getState(),A=(u=a.getWorkspacesMeta(E))===null||u===void 0||(h=u[a.getFocusedWorkspace(E)])===null||h===void 0?void 0:h.enterprise_id;return window.slackDebug[A]});const p={};Object.keys(o).forEach(u=>{p[u]=function(){for(var h=arguments.length,E=new Array(h),A=0;A<h;A++)E[A]=arguments[A];return _.dispatch(o[u](...E))}}),Object.keys(a).forEach(u=>{p[u]=function(){for(var h=arguments.length,E=new Array(h),A=0;A<h;A++)E[A]=arguments[A];return a[u](_.getState(),...E)}}),(0,s.ul)("clientStore.workspaces",p)}i(c,"setupClientStoreDebugger")},4460213392:(Q,C,e)=>{"use strict";e.d(C,{BY:()=>r,Cy:()=>n,DU:()=>o,RA:()=>l,es:()=>d,nR:()=>s,uM:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Priority prototype: Set sidebar priority toggle state");n.meta={name:"createAction",key:"createActionsetPrioritySidebarToggleSelected",description:"Priority prototype: Set sidebar priority toggle state"};const s=(0,t.Ay)("Priority prototype: Upserts strings from conversations.recommend to priority store");s.meta={name:"createAction",key:"createActionupsertPriorityChannelIds",description:"Priority prototype: Upserts strings from conversations.recommend to priority store"};const r=(0,t.Ay)("Priority prototype: Upserts strings from users.recommend to priority store");r.meta={name:"createAction",key:"createActionupsertPriorityUserIds",description:"Priority prototype: Upserts strings from users.recommend to priority store"};const d=(0,t.Ay)("Priority prototype: Removes user ids from priority store");d.meta={name:"createAction",key:"createActionremovePriorityUserIds",description:"Priority prototype: Removes user ids from priority store"};const o=(0,t.Ay)("Priority prototype: Resets priority user ids with data from vip_users pref");o.meta={name:"createAction",key:"createActionsetPriorityUserIdsFromPref",description:"Priority prototype: Resets priority user ids with data from vip_users pref"};const a=(0,t.Ay)("Priority prototype: reset priority store");a.meta={name:"createAction",key:"createActionresetPriority",description:"Priority prototype: reset priority store"};const l=(0,t.Ay)("Priority prototype: sets loading state for Priority");l.meta={name:"createAction",key:"createActionsetPriorityLoading",description:"Priority prototype: sets loading state for Priority"}},2499661372:(Q,C,e)=>{"use strict";e.d(C,{C:()=>l});var t=e(9706240641),n=e.n(t),s=e(5980399196),r=e(4460213392),d=e(6795500641),o=e(1031947056),a=e(387484329);const l=(0,o.Ay)("Add/remove user from priority status",function(){var m=(0,t.coroutine)(function*(c,_,p){if(!p)return;const u=_();let h=(0,d.MY)(u)||[];return(0,d.mF)(u,p)?(c((0,r.es)({userIds:[p]})),h=(0,s.A)(h,[p])):(c((0,r.BY)({userIds:[p]})),h.push(p)),c((0,a.AZ)({pref:"vip_users",value:h.join(",")}))});return function(c,_,p){return m.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunktogglePriorityUserById",description:"Add/remove user from priority status"}},2870224675:(Q,C,e)=>{"use strict";e.d(C,{Uz:()=>o,ez:()=>s,nz:()=>n,oT:()=>d,yw:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Adds a new emtpy tab-soda tab");n.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const s=(0,t.Ay)("Removes the recent history entry from a tab soda tab");s.meta={name:"createAction",key:"createActiontabSodaPopHistoryForTab",description:"Removes the recent history entry from a tab soda tab"};const r=(0,t.Ay)("Select a tab by id");r.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const d=(0,t.Ay)("Remove a tab soda tab");d.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const o=(0,t.Ay)("Re-order tab soda tabs");o.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},9932860381:(Q,C,e)=>{"use strict";e.d(C,{Fp:()=>o,Xy:()=>d,fe:()=>r});var t=e(6471801899),n=e(8040098042),s=e(2960290117);function r(a,l){const m=l.indexOf(a),c=m<l.length-1?m+1:m-1;return c>=0?l[c]:void 0}i(r,"tabSodaGetNextActiveTab");function d(a){return(0,n.A)(a)||a==="thread"}i(d,"canOpenInTabSodaTab");function o(a){return(0,s.Ay)(a)||(0,t.pI)(a)||(0,t.or)(a)||(0,n.A)(a)||a==="thread"||a==="comment_thread"}i(o,"tabSodaCanViewBeEjected")},7176966205:(Q,C,e)=>{"use strict";e.d(C,{$:()=>u});var t=e(5267010247),n=e(8822892075),s=e(395285811),r=e(2188787324),d=e(3634593162),o=e(3110884894),a=e(2823938397),l=e(8040098042),m=e(2870224675),c=e(1031947056),_=e(6533394955),p=e(937317117);const u=(0,c.Ay)("Opens a view in a new tab",function(h,E){let{viewId:A,params:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=E(),g=(0,m.nz)({setAsActive:!0});if(!A)return(0,_.dispatchForClientStore)(g);if(A&&(0,l.A)(A))return(0,_.dispatchForClientStore)(g),h((0,t.o)((0,n.pr)(A)));if(A==="thread"&&(v!=null&&v.threadId)){const{channelId:y,threadTs:T}=(0,o.Sb)(v==null?void 0:v.threadId);if(y&&T){if((0,_.dispatchForClientStore)(g),(0,s.OR)(f,y)){const P=(0,d.l)(y),k=(0,p.Lp)(f,P);if(k&&(0,a.uz)(k)&&(0,r.DQ)(k))return h((0,t.o)((0,n.m3)({channelId:y,threadTs:T})))}const{replyTs:O,highlightRoot:I,dangerouslyOverrideRouting:D}=v;return h((0,t.o)((0,n.UX)({channelId:y,threadTs:T,replyTs:O,highlightRoot:I,dangerouslyOverrideRouting:D})))}}});u.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4326266690:(Q,C,e)=>{"use strict";e.d(C,{B:()=>d,fK:()=>r,lw:()=>a,ud:()=>o});var t=e(9932860381),n=e(2384831516),s=e(3193155968);const r=(0,n.Mz)(l=>l.tabSoda);r.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:l=>l.tabSoda};const d=(0,n.Mz)(l=>{const m=r(l);return m.activeTab?m.tabs[m.activeTab]:[]});d.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:l=>{const m=r(l);return m.activeTab?m.tabs[m.activeTab]:[]}};const o=(0,n.Mz)(l=>{const m=r(l);return m.activeTab?m.tabs[m.activeTab].length<2:!1});o.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:l=>{const m=r(l);return m.activeTab?m.tabs[m.activeTab].length<2:!1}};const a=(0,n.Mz)((l,m)=>{var c,_,p;const h=(c=r(l).tabs[m])===null||c===void 0?void 0:c[0],E=h==null?void 0:h.teamId;if(!h||!E)return!1;const A=h==null?void 0:h[s.jf],v=h==null||(_=h[A])===null||_===void 0||(p=_[s.mq.Primary])===null||p===void 0?void 0:p.id;return!!v&&(0,t.Fp)(v)});a.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(l,m)=>{var c,_,p;const h=(c=r(l).tabs[m])===null||c===void 0?void 0:c[0],E=h==null?void 0:h.teamId;if(!h||!E)return!1;const A=h==null?void 0:h[s.jf],v=h==null||(_=h[A])===null||_===void 0||(p=_[s.mq.Primary])===null||p===void 0?void 0:p.id;return!!v&&(0,t.Fp)(v)}}},8620339321:(Q,C,e)=>{"use strict";e.d(C,{UN:()=>p,oX:()=>h,wm:()=>u});var t=e(7213691587),n=e(109860581),s=e(2870224675),r=e(9932860381),d=e(1031947056),o=e(6533394955),a=e(9108490430),l=e(3193155968),m=e(9012396182),c=e(2554594353);const _=(0,d.Ay)("Update currently visible viewset as part of TabSoda tab switching",(E,A,v)=>{(0,o.dispatchForTeamId)(v.teamId,(0,a.cQ)(v)),m.getFocusedWorkspace&&c.b&&(0,m.getFocusedWorkspace)(A())!==v.teamId&&E((0,c.b)({teamId:v.teamId,fromNavigation:!0}));const{tabSoda:f}=A(),g=f.activeTab;if(g){const y=f.tabs[g][0],T=y[l.jf],M=y[T],O=v[l.jf],I=v[O];if(!I)return;(0,o.dispatchForTeamId)(v.teamId,(0,t.C)({prevViewSet:M,prevTab:T,nextViewSet:I,nextTab:O,windowId:l.N2,navigateParams:{},triggerType:n.w.HISTORY_NAVIGATION}))}});_.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const p=(0,d.Ay)("Switch current TabSoda tab",(E,A,v)=>{let{tabId:f}=v;const{tabSoda:g}=A();if(g.activeTab===f)return;const y=g.tabs[f][0];E(_(y)),E((0,s.yw)(f))});p.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const u=(0,d.Ay)("Close active TabSoda tab and switch to the nearest open tab",(E,A,v)=>{let{tabId:f}=v;const{tabSoda:g}=A(),y=g.activeTab,T=(0,r.fe)(y,g.tabOrder);if(f===y&&T){const M=g.tabs[T][0];E(_(M))}E((0,s.oT)(f))});u.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const h=(0,d.Ay)("Go back in history in a currently active TabSoda tab",(E,A)=>{const{tabSoda:v}=A(),f=v.activeTab;if(v.tabs[f].length<2)return;const g=v.tabs[f][1];E(_(g)),E((0,s.ez)(f))});h.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"}},4766735965:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(2664504268),n=e(9121100949),s=e(2527782504),r=e(2495064448),d=e(2689960678),o=e(735940183),a=e(4496040127),l=e(9012396182),m=e(1031947056),c=e(6533394955),_=e(8439865561),p=e(1201539379),u=e(6290537170),h=e(9733150292);const E=new o.Ay("team_picker"),A=(0,m.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(f,g){let{shouldTransitionFocus:y=!1,shouldAnnounceStateChange:T=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3?arguments[3]:void 0;const O=g();if(!(0,a.VA)())return;const I=(0,c.getClientStoreInstance)().getState();var D;if(((D=(0,l.getAllWorkspaces)(I))!==null&&D!==void 0?D:d.Ml).length<=1)return;const k=(0,u.v8)(O),R=!k;(0,h.q9)(n.WU,R),f((0,p.mV)(R)),(0,c.dispatchForClientStore)((0,p.mV)(R));const V=E.t("Workspaces tablist expanded"),B=E.t("Workspaces tablist collapsed");if(T&&f((0,_.rl)({message:k?B:V,uuid:(0,t.A)()})),!y)return;const{transitionFocusTo:W}=(0,r.$P)(g(),M),L=k?s.Ay.WORKSPACE_SWITCHER_MENU_BUTTON:s.Ay.WORKSPACE_SWITCHER_TAB_LIST;W({focusKey:L})});A.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const v=A},9143148823:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>r,c:()=>s});var t=e(6422693406);let n=null;function s(){return n}i(s,"getLastTeamSwitchTimestamp");const r=i(o=>{let{prevTeamId:a,nextTeamId:l,navigationTimestamp:m}=o;return a===l||!m||(n=m),t.S.resolve()},"__WEBPACK_DEFAULT_EXPORT__");Object.defineProperty({lastTeamSwitchTimestamp:null},"lastTeamSwitchTimestamp",{get:()=>n,set:o=>{n=o}})},859310680:(Q,C,e)=>{"use strict";e.d(C,{go:()=>q,xy:()=>F});var t=e(3317091632),n=e(8426925643),s=e(9733150292),r=e(4588514760),d=e(4423055085),o=e(9421999304),a=e(9681594967),l=e(2325478352),m=e(6917917245),c=e(7770551414),_=e(6470070112),p=e(604956646),u=e(796111729),h=e(2250002584),E=e(5057176955),A=e(264208541),v=e(9012396182),f=e(8847766420),g=e(5583430912),y=e(6533394955),T=e(9101533895),M=e(7765212398),O=e(4761125736),I=e(8276911661),D=e(7115106069),P=e(8233775522);function k(){var G,ne;return{hardware_concurrency:(G=window.navigator)===null||G===void 0?void 0:G.hardwareConcurrency,device_memory:(ne=window.navigator)===null||ne===void 0?void 0:ne.deviceMemory}}i(k,"getDeviceStats");function R(){const G=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),ne=(0,A.Hn)(),te=(0,A.Ey)(),le=ne&&te?(ne/te).toPrecision(4):null;return{total_client_redux_size:G,js_heap_used:ne,js_heap_total:te,js_heap_used_percentage:le}}i(R,"getPerfMemoryStats");function V(){const G=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!G)return{};try{return JSON.parse(G)}catch(ne){return(0,u.Wo)().warn("Error parsing appStats in localStorage:",G,ne),{}}}i(V,"getDesktopAppStats");function B(){return{...(0,n.JP)(),num_started_sockets:(0,c.eK)(),frontend_build_type:(0,p.JS)(),object_store_redux_group:(0,m.B9)(l.Wv)}}i(B,"getClientStateTags");function W(G,ne){const te=ne.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),le=Object.values((0,T.DM)(G)).length,he=Object.values((0,T.h3)(G)).length,fe=Object.values((0,T._B)(G)).length,ve=Object.values((0,T.FS)(G)).length;return te.close(),{num_channels_in_redux:le,num_all_channels_user_is_in:he,num_dms_user_is_in:fe,num_group_dms_user_is_in:ve}}i(W,"getChannelInfoTags");function L(G,ne){const te=ne.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),le=Object.keys((0,M.Hw)(G)||{}).length,he=(0,E.sZ)((0,M.my)(G));return te.close(),{num_drafts:le,drafts_store_size:he}}i(L,"getDraftsInfoTags");function S(G){return{user_locale:(0,o.JK)({teamOrEnterpriseId:(0,f.JY)(G)})}}i(S,"getLocaleTags");function H(G){return{active_collab_instance_count:(0,g.Ui)(),open_quip_embed_instance_count:(0,D.oj)(G).length,canvas_child_window_count:(0,r.CJ)()}}i(H,"getCanvasTags");const w=i(G=>{const ne=["selector_memo"],te={};return ne.forEach(he=>{const fe=(0,O._Z)(G,he,!1);fe&&(te[he]=fe)}),[t.n].forEach(he=>{const fe=(0,m.B9)(he);fe!==m.dw.NoGroup&&(te[he]=fe)}),te},"getExperimentTagsForTraces"),F=i((G,ne)=>{const te=ne??["desktop_flannel_emoji"],le={},he=(0,O.Vs)(G),fe=Date.now()/1e3,ve=60*60*24*7*4;for(const[me,oe]of Object.entries(he)){const{trigger:N,schedule_ts:K}=oe;(te.includes(me)||N&&K&&N!=="finished"&&N!=="force_debug"&&K>fe-ve)&&(le[me]=oe.group)}return le},"getExperimentTags");function j(G){return{num_members_in_redux:(0,I.I_)(G).length}}i(j,"getMembersTags");function J(G){const ne=(0,s.W6)("lastColdBootTs"),te=(0,P.pp)(G);return{last_cold_boot_ts:ne,boot_type:te}}i(J,"getConfigTags");function X(){return{is_in_active_huddle:(0,_.NZ)()}}i(X,"getHuddleTags");function q(G){const ne=(0,y.getStateForClientStore)();if(!ne)return{};const te=G??(0,v.getFocusedWorkspace)(ne),le=(0,y.getStateByTeamId)(te),he=(0,h.F)(),fe=he.createTrace({traceName:"add_tags:performance_tracing_tags"}),ve=(0,n.Kh)(te),me=B(),oe=W(le,fe),N=L(le,fe),K=k(),x=R(),b=V(),z=S(le),$=j(le),Z=J(le),U=a.qV.getTraceTags(),ee=w(le),se=H(le),de=X(),ue={...ve,...me,...oe,...N,...K,...x,...b,...z,...$,...Z,...U,...ee,...se,...de};return he.reportTrace(fe),ue}i(q,"getPerformanceTracingTags"),(0,d.zv)("performanceTracingTags",q)},3614984351:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ge});var t=e(3134334389),n=e(6422693406),s=e(9733150292),r=e(4979734995),d=e(348699080),o=e(581167618),a=e(9539184071),l=e(2308565927),m=e(6084388622),c=e(735940183);const _=new c.Ay("sign_in");function p(De){const{isSSB:be,isSSBSignIn:xe,hasPromoOffer:Re,shouldRedirect:je,redirectURL:Ge,loggedInTeams:Qe,entryPoint:Xe=""}=De;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Re&&!be&&t.createElement("p",{className:"small_bottom_margin"},_.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:Qe})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},Qe.map((et,rt)=>t.createElement(m.z9,{key:et.id,"data-qa":`signedin_workspace_link_${rt+1}`,className:"team-signin-link small_margin","data-team-id":et.id,autoClogProps:{elementName:"team_domain",elementValue:et.id.toString(),entryPoint:Xe,onClick:{enableClogAction:!0}},href:xe?`${et.url}ssb/signin_redirect`:`${et.url}${je?`?redir=${Ge}`:""}`,"aria-label":_.t("Go to {teamName} on Slack",{teamName:et.name}),type:"outline"},et.name))))}i(p,"SignedInWorkspaces");var u=e(6244014364),h=e(4481313819),E=e(8739505998),A=e(1610251172),v=e(6968387112),f;(function(De){De.INVALID_CODE="invalid_pin",De.RATE_LIMITED="ratelimited",De.SMS_RATE_LIMITED="two_factor_sms_rate_limited",De.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",De.INTERNAL_ERROR="internal_error"})(f||(f={}));var g;(function(De){De.SMS="sms",De.APP="app",De.EMAIL="email",De.EMERGENCY="emergency"})(g||(g={}));var y;(function(De){De.REQUEST_CODE="request_primary",De.REQUEST_BACKUP="request_backup",De.SUBMIT_PRIMARY="submit_primary",De.SUBMIT_BACKUP="submit_backup",De.SUBMIT_EMERGENCY="submit_emergency"})(y||(y={}));const T=new c.Ay("sign_in"),M={elementName:"help_button",onClick:{enableClogAction:!0}},O=i(De=>{const be=De.action===y.REQUEST_BACKUP||De.action===y.SUBMIT_BACKUP;return be&&De.twoFactorBackupType===g.APP||!be&&De.twoFactorType===g.APP},"currentMethodIsApp"),I=i(De=>O(De)?T.t("Problems with your authentication app?"):T.t("Problems with your code?"),"renderProblemsString"),D=i(De=>O(De)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},T.t("Check your authentication app for your code.")),t.createElement("p",null,T.rt("<a>Having trouble finding your code?</a>",null,be=>{let{tag:xe,text:Re}=be;return xe==="a"?t.createElement(E.A,{href:`https://${(0,v.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Re):null})),t.createElement("p",null,T.rt("If your app is unavailable, use a <a>backup code</a>.",null,be=>{let{tag:xe,text:Re}=be;return xe==="a"?t.createElement(E.A,{href:`https://${(0,v.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Re):null}))):t.createElement("p",{className:"align_left subtle_silver small"},T.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,be=>{let{tag:xe,text:Re}=be;return xe==="a"?t.createElement(E.A,{href:`https://${(0,v.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Re):null})),"renderProblems");D.displayName="renderProblems";const P=i(De=>{const[be,xe]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(E.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>xe(!be),autoClogProps:M},t.createElement(A.A,{type:"question-circle"})," ",I(De)),be&&t.createElement("div",{className:"send_code_block"},De.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),D(De))))},"GetHelpButton");P.displayName="GetHelpButton";var k=e(9867500491),R=e(5255740490),V=e(4505564445),B=e(219228829),W=e(3700949338);function L(){return L=Object.assign||function(De){for(var be=1;be<arguments.length;be++){var xe=arguments[be];for(var Re in xe)Object.prototype.hasOwnProperty.call(xe,Re)&&(De[Re]=xe[Re])}return De},L.apply(this,arguments)}i(L,"_extends");let S=i(class extends t.Component{render(){const{ariaDescribedBy:be}=this.props;return t.createElement("div",{className:(0,R.A)("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":be}))}constructor(...be){super(...be),this.onKeyDown=xe=>{switch(xe.keyCode){case V.G_:{xe.currentTarget.value||this.props.moveLeft();return}case V.UQ:return xe.preventDefault(),this.props.moveLeft();case V.LE:return xe.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=xe=>{!(0,W.A)(xe.which)&&xe.charCode&&!(0,B.A)(xe)&&xe.preventDefault()},this.onChange=xe=>{const Re=xe.target.value;(/^[0-9]$/.test(Re)||Re==="")&&this.props.onChange(Re)},this.onPaste=xe=>{xe.preventDefault();const Re=window.clipboardData||xe.clipboardData,je=Re.getData("text")||Re.getData("text/plain"),Ge=/\D/g,Qe=je.replace(Ge,"");this.props.onPaste(Qe)}}},"TwoFactorDigitInput");S.displayName="TwoFactorDigitInput";const H=t.forwardRef((De,be)=>t.createElement(S,L({},De,{refToForward:be}))),w=new c.Ay("team_creation");let F=i(class extends t.Component{focusInput(be){const xe=this.inputRefs[be];xe!=null&&xe.current&&xe.current.focus()}moveLeft(be){be<=0||this.focusInput(be-1)}moveRight(be){be>=this.state.values.length-1||this.focusInput(be+1)}isComplete(be){return!be.some(xe=>!xe)}clear(){this.setState(be=>({values:be.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(be,xe){const Re=this.state.values.slice();Re[be]=xe,this.setState(()=>({values:Re}),()=>{xe&&!this.isComplete(this.state.values)&&this.moveRight(be)})}componentDidUpdate(be,xe){var Re;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Re=this.inputRefs[this.state.focusedInputIndex])===null||Re===void 0?void 0:Re.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==be.codeLength&&this.onCodeLengthChange(xe),!this.isComplete(xe.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&xe.values.join("")!==this.state.values.join("")){const je=this.state.values.join("");this.props.onFillCode(je)}else xe.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(be,xe){return this.state.values.slice(be,xe).map((Re,je)=>{const Ge=je+be;return t.createElement(H,{autocomplete:Ge===0?"one-time-password":"off",key:Ge,ref:this.inputRefs[Ge],moveLeft:()=>this.moveLeft(Ge),moveRight:()=>this.moveRight(Ge),onChange:Qe=>this.onChange(Ge,Qe),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:Ge}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===Ge,value:this.state.values[Ge],ariaLabel:w.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:Ge+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(be){super(be),this.onPaste=xe=>{const Re=this.state.focusedInputIndex;if(Re===-1)return;const je=this.state.values.length-Re,Ge=xe.substring(0,je).split(""),Qe=this.state.values.slice();Ge.forEach((Xe,et)=>{const rt=et+Re;Qe[rt]=Xe}),this.setState(()=>({values:Qe}),()=>{this.focusInput(Math.min(this.state.values.length-1,Re+Ge.length))})},this.onCodeLengthChange=xe=>{const Re=(0,k.A)(this.props.codeLength,()=>"");xe.values.forEach((je,Ge)=>{Ge<Re.length&&(Re[Ge]=je)}),this.setState(()=>({values:Re})),this.inputRefs=Re.map(()=>t.createRef())},this.state={values:(0,k.A)(be.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");F.displayName="TwoFactorCodeInput",F.defaultProps={isNumbersOnly:!0};const j=new c.Ay("sign_in");function J(De){let be=null;return De.error===f.SMS_RATE_LIMITED?be=j.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):De.error===f.INVALID_CODE?be=j.rt("Your two-factor authentication code was incorrect. Please try again."):De.error===f.RATE_LIMITED?be=j.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):De.error===f.TOO_MANY_ATTEMPTS?be=j.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):be=j.rt("An unknown error occurred."),t.createElement(o.Ay,{className:"p-enter-code-error__alert",type:o.QE.boxed,icon:"lock-o",level:o.A_.error,align:o.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,be))}i(J,"EnterCodeError");var X=e(2562405183),q=e(3328068409),G=e(1236965385);function ne(){return ne=Object.assign||function(De){for(var be=1;be<arguments.length;be++){var xe=arguments[be];for(var Re in xe)Object.prototype.hasOwnProperty.call(xe,Re)&&(De[Re]=xe[Re])}return De},ne.apply(this,arguments)}i(ne,"enter_code_root_extends");const te=new c.Ay("sign_in"),le=5*60*1e3,he={elementName:"resend_button",onClick:{enableClogAction:!0}},fe={elementName:"backup_button",onClick:{enableClogAction:!0}},ve={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},me="two_factor_form",oe="enter-code",N=6;var K;(function(De){De.Request="request_primary",De.RequestBackup="request_backup",De.SubmitPrimary="submit_primary",De.SubmitBackup="submit_backup",De.SubmitEmergency="submit_emergency",De.None="none"})(K||(K={}));function x(De){const[be,xe]=(0,t.useState)(De.twoFactorType),[Re,je]=(0,t.useState)("");var Ge;const[Qe,Xe]=(0,t.useState)((Ge=De.action)!==null&&Ge!==void 0?Ge:K.None),[et,rt]=(0,t.useState)(!1),[it,lt]=(0,t.useState)(N),[ot,Et]=(0,t.useState)(!1),At=t.useRef(null),Ot=t.createRef(),Rt=De.submitOverride,{trackClogAuthRef:yt,clogAuthLoginClick:Mt,trackClog:en}=(0,G.$A)(),Tt=yt({eventId:u.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:oe});(0,t.useEffect)(()=>{if(et){var wt,Qt;if((wt=en.current)===null||wt===void 0||(Qt=wt.track)===null||Qt===void 0||Qt.call(wt,{elementName:me,elementValue:Qe}),Mt({eventId:u.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:me,uiPage:oe,elementValue:Qe})(),Rt&&Ot.current)rt(!1),Et(!0),Rt(Re,Qe,De.magicLogin).then(()=>{var On;(On=At.current)===null||On===void 0||On.clear(),Et(!1)});else{var mn;(mn=Ot.current)===null||mn===void 0||mn.submit()}}},[Qe,et,Ot,en,Re,Rt,De.magicLogin,Mt]),(0,t.useEffect)(()=>{(De.error===f.RATE_LIMITED||De.error===f.TOO_MANY_ATTEMPTS)&&Et(!0),De.error===f.RATE_LIMITED&&setTimeout(()=>{Et(!1)},le)},[De.error]);const xt=be===g.EMERGENCY,bt=Qe===K.RequestBackup||Qe===K.SubmitBackup,nn=!xt&&(bt&&De.twoFactorBackupType===g.SMS||!bt&&De.twoFactorType===g.SMS||De.twoFactorType===g.EMAIL),dn=De.twoFactorType===g.EMAIL,Xt=De.twoFactorType===g.SMS?te.rt("Send Code to Primary Phone"):te.rt("Use Authentication App"),jt=De.twoFactorBackupType===g.SMS?te.rt("Send Code to Backup Phone"):te.rt("Use Backup Authentication App"),_n=i(()=>t.createElement(m.$n,{type:"outline",onClick:()=>{Xe(bt?K.RequestBackup:K.Request),rt(!0)},autoClogProps:he},bt?te.rt("Resend Code to Backup Phone"):te.rt("Resend Code")),"ResendButton"),ze=i(()=>t.createElement(m.$n,{type:"outline",onClick:()=>{Xe(bt?K.Request:K.RequestBackup),rt(!0)},autoClogProps:fe},bt?Xt:jt),"BackupButton");ze.displayName="BackupButton";const Dt=i(()=>{let wt;return xt?wt=bt?jt:Xt:wt=te.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(m.$n,{type:"outline",onClick:()=>{xt?(xe(De.twoFactorType),lt(N)):(xe(g.EMERGENCY),lt(De.emergencyCodeLength))},autoClogProps:ve},wt)},"EmergencyButton");Dt.displayName="EmergencyButton";const hn=i(()=>De.twoFactorType===g.EMAIL?De.isClientApp?te.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):te.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):te.rt("Enter your authentication code"),"GetHeader"),yn=i(()=>{if(xt)return te.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(bt)return De.twoFactorBackupType===g.APP?te.rt("Check your authentication app for your code."):te.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:De.teamName});switch(De.twoFactorType){case g.APP:return te.rt("Check your authentication app for your code.");case g.EMAIL:return te.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:De.teamName,emailAddress:De.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return te.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:De.teamName})}},"GetSubheader"),ht=i(wt=>{let Qt;xt?Qt=K.SubmitEmergency:Qt=bt?K.SubmitBackup:K.SubmitPrimary,je(wt),Xe(Qt),rt(!0)},"onFillCode"),Bt=(0,X.d4)(q.to);return t.createElement(h.A,{eventId:u.EventId.TWO_FACTOR_AUTH,uiPage:oe,trackClogRef:Tt},t.createElement(a.A,{clientTheme:Bt},t.createElement(l.A,{heading:hn(),subHeading:yn(),subHeadingClassName:"p-enter_code_app__view_sub_header"},De.codeResent&&t.createElement(o.Ay,{className:"p-enter-code-error__alert",type:o.QE.boxed,icon:"paper-plane",level:o.A_.info,align:o.AO.left,"data-qa":"2fa_code_resent_alert"},dn?te.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:De.teamName,emailAddress:De.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):te.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:De.teamName})),De.error&&t.createElement(J,{error:De.error}),t.createElement("form",{ref:Ot,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},te.rt("{codeLength}-digit confirmation code",{codeLength:it,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(F,{ref:At,onFillCode:ht,onChange:()=>{},hideDash:!0,error:De.error,disabled:ot,codeLength:it}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:De.magicLogin}),De.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:De.redir}),t.createElement("input",{type:"hidden",name:"remember",value:De.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:De.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:Re}),t.createElement("input",{type:"hidden",name:"2fa_action",value:Qe})))),t.createElement(P,ne({},De),t.createElement("div",{className:"p-enter-code__button"},nn&&t.createElement(_n,null),De.twoFactorBackupType&&!xt&&t.createElement(ze,null),!dn&&t.createElement(Dt,null))),De.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(p,ne({},De))))))}i(x,"EnterCodeRoot");var b=e(7515251865),z=e(4979382452),$=e(3602521375),Z=e(4636370173),U=e(2465132699),ee=e(8523371695),se=e(3606117573),de=e(8029613601),ue=e(4947127560),_e=e(9310872914),pe=e(6533394955),ae=e(3051824855);function Ee(){return Ee=Object.assign||function(De){for(var be=1;be<arguments.length;be++){var xe=arguments[be];for(var Re in xe)Object.prototype.hasOwnProperty.call(xe,Re)&&(De[Re]=xe[Re])}return De},Ee.apply(this,arguments)}i(Ee,"enter_2fa_code_modal_extends");const Le=new c.Ay("2fa_modal"),ye={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},Te={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function Ae(De,be){const xe=(0,s.vS)();if(De!==void 0){const je=xe[De].two_factor_magic_login;je!==void 0&&je.token&&(je.token=be),(0,s.q9)("pendingAuthTeams",xe)}}i(Ae,"updateLocalConfig2fa");function Ie(De){const be=(0,s.vS)();if(De!==void 0){const xe=be[De];xe.two_factor_magic_login=void 0,(0,s.q9)("pendingAuthTeams",be)}}i(Ie,"clearLocalConfig2faMagicLogin");function Ue(De){let{magicLogin:be,teamId:xe,type:Re,backupType:je,emergencyLength:Ge,emailAddress:Qe,teamName:Xe,currentTeamId:et,isOpen:rt,closeModal:it}=De;const[lt,ot]=(0,t.useState)(be),[Et,At]=(0,t.useState)(null),[Ot,Rt]=(0,t.useState)(!1),yt=et?(0,pe.getStoreInstanceByTeamId)(et):void 0,Mt=(0,t.useCallback)((Tt,xt,bt)=>{const nn={magic_token:bt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:Tt,two_factor_is_backup:xt===y.REQUEST_BACKUP||xt===y.SUBMIT_BACKUP};return xt===y.REQUEST_CODE||xt===y.REQUEST_BACKUP?(nn.two_factor_pin="",Rt(!0)):Rt(!1),new n.S(dn=>{(0,r.j)("auth.loginMagic",nn,(Xt,jt)=>{if(Xt&&jt.refreshed_magic_login){var _n;ot(jt.refreshed_magic_login),Ae(xe,jt.refreshed_magic_login),!((_n=jt.reason)===null||_n===void 0)&&_n.match(/^missing_/)||At(jt.reason),dn(Xt)}else Xt&&jt.team?(0,_e.A)({currentTeamStore:yt,newWorkspaceId:xe,navigateToRouteProps:{routeName:b.o},shouldAutoSignIn:!0}).then(()=>{it(),dn(Xt)}):(Ie(xe),(0,_e.A)({currentTeamStore:yt,newWorkspaceId:xe,navigateToRouteProps:{routeName:b.o}}).then(()=>{it(),dn(Xt)}))})})},[xe,yt,it]);(0,d.A)(()=>{Mt("",y.SUBMIT_PRIMARY,lt??"")},[]);const en=Le.t("Finish signing into {teamName}",{teamName:Xe,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(z.A,{isOpen:rt,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:it,dataQa:ye.enter2faCodeModal},t.createElement(de.A,null,t.createElement(ue.A,{title:en})),t.createElement(Z.A,null,t.createElement(U.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(x,Ee({},Te,{teamName:Xe,error:Et,action:null,magicLogin:lt||"",twoFactorType:Re,twoFactorBackupType:je,emailAddress:Qe,codeResent:Ot,redir:"",emergencyCodeLength:Ge,isClientApp:!0,submitOverride:Mt}))))),t.createElement(ee.A,null,t.createElement(se.A,null,t.createElement($.A,{type:"outline","data-qa":ye.cancelButton},Le.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"admin"})))))}i(Ue,"TwoFAModal"),Ue.displayName="TwoFAModal";const Be=(0,ae.e)(Ue);var we=e(796111729),re=e(9012396182);function ge(De,be){const xe=(0,pe.getStateForClientStore)();if(!(0,re.isWorkspacePendingTwoFactor)(xe,De))return!1;const Re=(0,re.getWorkspacesMeta)(xe),je=Re==null?void 0:Re[De],{two_factor_magic_login:Ge,name:Qe}=je,{token:Xe,user_2fa_type:et,user_2fa_backup_type:rt,user_emergency_code_length:it,email:lt}=Ge;let ot;return be?ot=(0,pe.getStoreInstanceByTeamId)(be):ot=(0,pe.getStoreInstanceByTeamId)((0,re.getFocusedWorkspace)(xe)),ot?(ot.dispatch(Be({magicLogin:Xe,teamId:De,type:et,backupType:rt,emergencyLength:it,teamName:Qe,currentTeamId:be,emailAddress:lt})),!0):((0,we.Wo)().error("TWO_FACTOR_SSB",`${De} is pending 2fa, but no store for ${be}, falling back to openSignIn()`),!1)}i(ge,"maybeRenderTwoFactorModal")},4626613428:(Q,C,e)=>{"use strict";e.d(C,{S4:()=>u,Ty:()=>D,ez:()=>p,lf:()=>I});var t=e(6839188756),n=e(2689960678),s=e(1247361162),r=e(8161242485),d=e(9186462665),o=e(2047021170),a=e(7268021173),l=e(6827180593),m=e(772817784),c=e(117899263),_=e(3677514771),p;(function(P){P.HAS_MENTIONS="has_mentions",P.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",P.HAS_THREADS="has_threads",P.IS_ENTERPRISE="is_enterprise",P.IS_EXISTING_JOINER="is_existing_joiner",P.IS_IN_TRIAL="is_in_trial",P.IS_ONBOARDING_COMPLETED="is_onboarding_completed",P.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",P.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(p||(p={}));const u="should_show_ia4_tabs",h={reason:p.IS_ENTERPRISE,shouldShowTabs:!0},E={reason:p.IS_EXISTING_JOINER,shouldShowTabs:!0},A={reason:p.IS_USER_PREF_ENABLED,shouldShowTabs:!0},v={reason:p.HAS_MENTIONS,shouldShowTabs:!0},f={reason:p.HAS_THREADS,shouldShowTabs:!0},g={reason:p.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},y={reason:p.IS_IN_TRIAL,shouldShowTabs:!0},T={reason:p.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},M={shouldShowTabs:!0,reason:p.IS_OVER_TWO_WEEKS_OLD},O={shouldShowTabs:!1},I=(0,r.Ay)(P=>{const k=(0,_.H7)(P);if((0,t.r7)(k))return h;const V=(0,m.w)(P);if(!(0,c._)(P)&&V)return E;if((0,o.ty)(P,u))return A;var L;if(((L=(0,s.rz)(P))!==null&&L!==void 0?L:n.Ml).length>0)return v;var H;return((H=(0,s.sG)(P))!==null&&H!==void 0?H:n.Ml).length>0?f:(0,d.RU)(P)?g:(0,a.iH)(P)?y:(0,o.ty)(P,"onboarding_complete")?T:(0,l.H)(P)>=14?M:O});I.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:P=>{const k=(0,_.H7)(P);if((0,t.r7)(k))return h;const V=(0,m.w)(P);if(!(0,c._)(P)&&V)return E;if((0,o.ty)(P,u))return A;var L;if(((L=(0,s.rz)(P))!==null&&L!==void 0?L:n.Ml).length>0)return v;var H;return((H=(0,s.sG)(P))!==null&&H!==void 0?H:n.Ml).length>0?f:(0,d.RU)(P)?g:(0,a.iH)(P)?y:(0,o.ty)(P,"onboarding_complete")?T:(0,l.H)(P)>=14?M:O}};const D=(0,r.Ay)(P=>I(P).shouldShowTabs);D.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:P=>I(P).shouldShowTabs}},3937614491:(Q,C,e)=>{"use strict";e.d(C,{J5:()=>n,ib:()=>t,p8:()=>s});var t;(function(r){r.USER_ENTERED="user-entered",r.ALL="all",r.ALLOW_EMPTY_STRINGS="allow-empty-strings"})(t||(t={}));var n;(function(r){r.String="string",r.Integer="integer",r.Number="number",r.Boolean="boolean",r.Date="slack#/types/date",r.TimeStamp="slack#/types/timestamp",r.UserId="slack#/types/user_id",r.ChannelId="slack#/types/channel_id",r.CanvasId="slack#/types/canvas_id",r.ListId="slack#/types/list_id"})(n||(n={}));var s;(function(r){r.NONE="none",r.SINGLE_SELECT="single-select",r.MULTI_SELECT="multi-select",r.BASIC_MULTI_SELECT="basic-multi-select",r.ATTACHMENT="attachment"})(s||(s={}))},2742325982:(Q,C,e)=>{"use strict";e.d(C,{Bp:()=>X,DU:()=>p,If:()=>u,JF:()=>v,Lm:()=>J,RT:()=>q,SA:()=>_,WL:()=>I,XZ:()=>h,kv:()=>R,p0:()=>T,qO:()=>m,qk:()=>f,rf:()=>j,uK:()=>G,wP:()=>r,xY:()=>w,yH:()=>S});var t=e(3937614491),n=e(2508519639),s=e(2547625647);const r=[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesBlocks,n.TE.SlackTypesChannelId,n.TE.SlackTypesCanvasId,n.TE.SlackTypesListId,n.TE.SlackTypesDate,n.TE.SlackTypesDynamicPair,n.TE.SlackTypesInteractivity,n.TE.SlackTypesMessageContext,n.TE.SlackTypesTimestamp,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesUsergroupId,n.TE.SlackUserPermission,n.TE.SlackTypesCredentialOauth2,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],d={[n.TE.String]:[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesCanvasId,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesFileId],[n.TE.SlackTypesRichText]:[s.GA,s.aL,s.sD,s.Jt,s.VX,n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesCanvasId,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],[n.TE.SlackTypesExpandedRichText]:[s.GA,s.aL,s.sD,s.Jt,s.VX,n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesCanvasId,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],[n.TE.SlackTypesBlocks]:[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],[n.TE.Integer]:[n.TE.Integer,n.TE.Number],[n.TE.Number]:[n.TE.Integer,n.TE.Number],[n.TE.Boolean]:[n.TE.Boolean],[n.TE.SlackTypesChannelId]:[n.TE.SlackTypesChannelId],[n.TE.SlackTypesDate]:[n.TE.SlackTypesDate],[n.TE.SlackTypesDynamicPair]:[n.TE.SlackTypesDynamicPair],[n.TE.SlackTypesInteractivity]:[n.TE.SlackTypesInteractivity],[n.TE.SlackTypesMessageContext]:[n.TE.SlackTypesMessageContext],[n.TE.SlackTypesTimestamp]:[n.TE.SlackTypesTimestamp],[n.TE.SlackTypesUserId]:[n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail],[n.TE.SlackTypesUserEmail]:[n.TE.SlackTypesUserEmail,n.TE.SlackTypesUserId],[n.TE.SlackTypesUsergroupId]:[n.TE.SlackTypesUsergroupId],[n.TE.SlackUserPermission]:[n.TE.SlackUserPermission],[n.TE.SlackTypesCredentialOauth2]:[n.TE.SlackTypesCredentialOauth2],[n.TE.SlackTypesCanvasId]:[n.TE.SlackTypesCanvasId],[n.TE.SlackTypesListId]:[n.TE.SlackTypesListId],[n.TE.SlackTypesTeamId]:[n.TE.SlackTypesTeamId],[n.TE.SlackTypesCurrency]:[n.TE.SlackTypesCurrency]},o=[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesTimestamp,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesChannelId,n.TE.SlackTypesCanvasId,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTeamId,n.TE.SlackTypesFileId],a=[n.TE.String,n.TE.SlackTypesUserId,n.TE.SlackTypesChannelId,n.TE.SlackTypesFileId],l={[n.TE.SlackTypesMessageContext]:["canvas_create","canvas_update_content","channel_canvas_create"]},m=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.String];return!le&&he.includes(te)},"isValidStringInputVariable"),c=i(ne=>{let{type:te,isHidden:le,items:he}=ne;return le?!1:te===RenderedSlackFunctionParameterType.Array?(he==null?void 0:he.type)===RenderedSlackFunctionParameterType.String:d[RenderedSlackFunctionParameterType.String].includes(te)},"isValidDynamicInputVariable"),_=i((ne,te)=>{let{type:le,items:he,isHidden:fe}=ne;const ve=d[n.TE.SlackTypesRichText];return fe||te&&l[le]&&!l[le].includes(te)?!1:le===n.TE.Array&&he?o.includes(he.type):ve.includes(le)},"isValidRichTextInputVariable"),p=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.Integer];return!le&&he.includes(te)},"isValidIntegerInputVariable"),u=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.Number];return!le&&he.includes(te)},"isValidNumberInputVariable"),h=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.Boolean},"isValidBooleanInputVariable"),E=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesChannelId},"isValidChannelIdInputVariable"),A=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesDynamicPair},"isValidDynamicPairInputVariable"),v=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesDate},"isValidDateInputVariable"),f=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesChannelId},"isValidChannelInputVariable"),g=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesInteractivity},"isValidInteractivityInputVariable"),y=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesMessageContext},"isValidMessageContextInputVariable"),T=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesTimestamp},"isValidTimestampInputVariable"),M=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesUserId];return!le&&he.includes(te)},"isValidUserIdInputVariable"),O=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesUserEmail];return!le&&he.includes(te)},"isValidUserEmailInputVariable"),I=i(ne=>O(ne)||M(ne),"isValidUserTypeVariable"),D=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesCanvasId];return!le&&he.includes(te)},"isValidCanvasTypeVariable"),P=i(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesListId];return!le&&he.includes(te)},"isValidListTypeVariable"),k=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesCurrency},"isValidCurrencyVariable"),R=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesUsergroupId},"isValidUserGroupIdInputVariable"),V=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackUserPermission},"isValidUserPermissionInputVariable"),B=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesCredentialOauth2},"isValidCredentialOauth2Variable"),W=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesTeamId},"isValidTeamIdInputVariable"),L=i(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesFileId},"isValidFileIdInputVariable"),S=i((ne,te)=>{var le;return ne.isHidden?!1:((le=te.items)===null||le===void 0?void 0:le.type)==="slack#/types/mixed"?ne.type==="array":ne.type==="array"?!ne.items||ne.items.type==="slack#/types/mixed"?!0:J(ne.items,te.items):J(ne,te.items)},"isValidArrayInputVariable"),H=i((ne,te)=>ne.type!==RenderedSlackFunctionParameterType.Object||ne.isHidden?!1:(te.required||[]).every(he=>{var fe;const ve=(fe=te.properties)===null||fe===void 0?void 0:fe[he];return!ne.objectProperties||!ve?!1:ne.objectProperties.some(me=>{const oe=me.name===he,N=me.type===ve.type;return oe&&N})}),"isValidObjectInputVariable"),w=i((ne,te)=>{var le;return ne.type!==n.TE.Object||ne.isHidden?!1:Boolean((le=ne.objectProperties)===null||le===void 0?void 0:le.some(he=>te.type===n.TE.Array?S(he,te):J(he,te)))},"isObjectVariableWithValidProperties"),F=i((ne,te)=>ne.isHidden||ne.type!==n.TE.Array||!ne.items||te.selection_type!==t.p8.MULTI_SELECT?!1:ne.items.type===te.type&&a.includes(ne.items.type),"isValidArrayVariableWithMultiSelectType"),j=i(ne=>{let{type:te,isHidden:le,items:he}=ne;return le||te!==n.TE.Array||!he?!1:a.includes(he.type)},"isArrayVariableWithItemTypeCoercibleToString");function J(ne,te){if(ne.isHidden)return!1;switch(te.type){case n.TE.Boolean:return h(ne);case n.TE.Integer:return p(ne);case n.TE.Number:return u(ne);case n.TE.String:return m(ne);case n.TE.SlackTypesBlocks:case n.TE.SlackTypesRichText:case n.TE.SlackTypesExpandedRichText:return _(ne);case n.TE.SlackTypesChannelId:return E(ne);case n.TE.SlackTypesDate:return v(ne);case n.TE.SlackTypesDynamicPair:return A(ne);case n.TE.SlackTypesCredentialOauth2:return B(ne);case n.TE.SlackTypesInteractivity:return g(ne);case n.TE.SlackTypesMessageContext:return y(ne);case n.TE.SlackTypesTimestamp:return T(ne);case n.TE.SlackTypesUserEmail:case n.TE.SlackTypesUserId:return I(ne);case n.TE.SlackTypesCurrency:return k(ne);case n.TE.SlackTypesUsergroupId:return R(ne);case n.TE.SlackUserPermission:return V(ne);case n.TE.SlackTypesTeamId:return W(ne);case n.TE.SlackTypesFileId:return L(ne);default:return ne.type===te.type}}i(J,"isValidVariableForInputParameter");const X=i(ne=>{let{type:te,isHidden:le,source:he,sourceReference:fe}=ne;return f({type:te,isHidden:le})&&he==="trigger"&&fe==="{{data.channel_id}}"},"isChannelWhereWorkflowRanVariable"),q=i((ne,te)=>{if(ne.isHidden||!(te!=null&&te.type))return!1;switch(te.type){case n.TE.Integer:return p(ne);case n.TE.Number:return u(ne);case n.TE.Boolean:return h(ne);case n.TE.SlackTypesUserId:return I(ne)||F(ne,te);case n.TE.SlackTypesChannelId:return E(ne)||F(ne,te);case n.TE.SlackTypesCanvasId:return D(ne)||F(ne,te);case n.TE.SlackTypesListId:return P(ne)||F(ne,te);case n.TE.String:return m(ne)||j(ne);case n.TE.SlackTypesDate:return v(ne);case n.TE.SlackTypesTimestamp:return T(ne);case n.TE.SlackTypesRichText:return _(ne);default:return ne.type===te.type}},"isValidDynamicInputKeyValueOptionVariable"),G=i((ne,te)=>ne.type!==n.TE.Object||ne.isHidden||!ne.objectProperties?!1:Boolean(ne.objectProperties.some(le=>le.type===n.TE.Array?F(le,te):q(le,te))),"isObjectVariableWithValidDynamicOptionType")},4459152581:(Q,C,e)=>{"use strict";e.d(C,{$:()=>t});const t={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created"}},3126601217:(Q,C,e)=>{"use strict";e.d(C,{A4:()=>a,BI:()=>s,O4:()=>l,QW:()=>d,cS:()=>o,uS:()=>r,vh:()=>n});var t=e(9552526132);const n={...t.M,HermesWebhook:"hermes_webhook",HermesScheduled:"hermes_scheduled"},s=i(m=>m.type===n.Shortcut,"isShortcutTrigger"),r=i(m=>m.type===n.Scheduled||m.type===n.HermesScheduled,"isScheduledTrigger"),d=i(m=>m.type===n.Event,"isNativeEventTrigger"),o=i(m=>m.type===n.Webhook||m.type===n.HermesWebhook,"isWebhookTrigger"),a=i(m=>m.type===n.External,"isExternalEventTrigger"),l=i(m=>m.type===n.Service,"isServiceTrigger")},2814678982:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(4332857818),s=e(6087439017),r=e(2664504268);const d=(0,s.A)(),o=d.import("blots/block/embed"),a={},l=i((p,u)=>{a[p]=u},"addEmbedElement"),m=i(p=>a[p]||null,"getEmbedElementById");let c=i(class mo extends o{static create(u,h){const E=super.create(),A={...u};if(!A.embedId){const f=(0,r.A)();A.embedId=`doc-embed-${f}`}const v=t.createElement(h,A);return n.render(v,E),mo.setPropsOnDOM(E,A),l(A.embedId,v),E}static value(u){return mo.getPropsFromDOM(u)}index(u,h){return this.domNode.contains(u)?h:-1}static formats(u){return mo.getPropsFromDOM(u)}static updateComponent(u,h){const E=u.dataset,A=E&&E.embedId,v=typeof A=="string"&&m(A);if(v&&v){const f=t.cloneElement(v,h);n.render(f,u),mo.setPropsOnDOM(u,h)}}static getPropsFromDOM(u){return{...u.dataset}}static setPropsOnDOM(u,h){var E,A;Object.keys(h).forEach(v=>{v!=="store"&&(u.dataset[v]=h[v])}),!((E=u==null?void 0:u.firstChild)===null||E===void 0||(A=E.dataset)===null||A===void 0)&&A.isPrivate&&(u.dataset.isPrivate=!0)}static addClassesToContainer(u){for(var h=arguments.length,E=new Array(h>1?h-1:0),A=1;A<h;A++)E[A-1]=arguments[A];u.classList.add(...E)}static registerEmbeds(u){Array.isArray(u)?u.forEach(h=>d.register(h)):typeof u=="function"&&d.register(u)}constructor(u){super(u)}},"DocsBlockEmbed");c.tagName="docsblockembed";const _=c},7757435370:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l,U:()=>a});var t=e(6087439017),n=e(4505564445),s=e(2814678982);const r=(0,t.A)(),d=r.import("parchment"),o=r.import("core/module");function a(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const c=Array.from(document.querySelectorAll('docsblockembed[data-is-selected="true"]'));for(let _=0,p=c.length;_<p;_++){const u=r.find(c[_]);s.A.updateComponent(u.domNode,{isSelected:!1})}m&&(m!=null&&m.domNode)&&m.domNode.tagName&&m.domNode.tagName==="DOCSBLOCKEMBED"&&s.A.updateComponent(m.domNode,{isSelected:!0})}i(a,"handleSelectedStates");let l=i(class extends o{listen(){this.quill.keyboard.addBinding({key:n.n6},this.handleImageSelectOnDown),this.quill.keyboard.addBinding({key:n.i7},this.handleImageSelectOnUp),this.quill.keyboard.addBinding({key:n.UQ},this.handleImageSelectOnLeft),this.quill.keyboard.addBinding({key:n.LE},this.handleImageSelectOnRight),(document.querySelector(".p-client_container")||this.quill.root).addEventListener("click",this.onImageClick),document.addEventListener("keydown",this.muteKeyEventsOnImageEmbed)}muteKeyEventsOnImageEmbed(c){const _=this.quill.getSelection();if(_){const p=this.quill.getFormat(_),u=!!document.querySelector('docsblockembed[data-is-selected="true"]');if(p&&p.imageSrc||u){if(c.keyCode===n.n6||c.keyCode===n.i7||c.keyCode===n.UQ||c.keyCode===n.LE||c.keyCode===n._f)return c.keyCode===n._f&&(a(),this.quill.setSelection(0,0)),!0;c.preventDefault()}}return!0}handleImageSelectOnDown(){return setTimeout(()=>{const c=this.quill.getSelection(),[_]=this.quill.getLine(c.index);_&&_.domNode&&_.domNode.tagName&&_.domNode.tagName==="DOCSBLOCKEMBED"?a(_):a()},0),!0}handleImageSelectOnUp(){return setTimeout(()=>{const c=this.quill.getSelection(),[_]=c?this.quill.getLine(c.index):[];_&&_.domNode&&_.domNode.tagName&&_.domNode.tagName==="DOCSBLOCKEMBED"?a(_):a()},0),!0}handleImageSelectOnLeft(c){return setTimeout(()=>{const _=this.quill.getSelection();let[p]=this.quill.getLeaf(_.index);c.index===_.index&&([p]=this.quill.getLeaf(_.index-1)),p&&p.prev&&p.prev.domNode&&p.prev.domNode.tagName&&p.prev.domNode.tagName==="DOCSBLOCKEMBED"&&([p]=this.quill.getLeaf(_.index-1)),p&&p.domNode&&p.domNode.tagName&&p.domNode.tagName==="DOCSBLOCKEMBED"?a(p):a()},0),!0}handleImageSelectOnRight(c){return setTimeout(()=>{const _=this.quill.getSelection();let[p]=this.quill.getLeaf(_.index);p&&p.next&&p.next.domNode&&p.next.domNode.tagName&&p.next.domNode.tagName==="DOCSBLOCKEMBED"?[p]=this.quill.getLeaf(_.index):this.quill.setSelection(_.index),p&&p.parent&&p.parent.next&&p.parent.next.domNode&&p.parent.next.domNode.tagName&&p.parent.next.domNode.tagName!=="DOCSBLOCKEMBED"&&([p]=this.quill.getLeaf(_.index),this.quill.setSelection(_.index)),_.index===c.index&&p&&p.domNode&&p.domNode.tagName&&p.domNode.tagName==="DOCSBLOCKEMBED"&&([p]=this.quill.getLeaf(_.index+1),this.quill.setSelection(_.index+1)),p&&p.domNode&&p.domNode.tagName&&p.domNode.tagName==="DOCSBLOCKEMBED"?a(p):a()},0),!0}onImageClick(c){if(c.target.classList.contains("p-docs_image--selected")||c.target.dataset.isSelected==="true")return!0;if(Array.from(document.querySelectorAll(".p-docs_image")).forEach(p=>{const u=d.find(p.parentNode);u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"&&s.A.updateComponent(u.domNode,{isSelected:!1})}),c.target.classList.contains("p-docs_image_container")||c.target.classList.contains("p-docs_image")){const p=c.target.classList.contains("p-docs_image_container")?c.target:c.target.parentNode,u=d.find(p),h=this.quill.getIndex(u);return this.quill.setSelection(h,0),u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"&&s.A.updateComponent(u.domNode,{isSelected:!0}),!0}return!0}constructor(c,_){super(c,_),this.quill=c,this.onImageClick=this.onImageClick.bind(this),this.muteKeyEventsOnImageEmbed=this.muteKeyEventsOnImageEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"DocsImageModule")},7968796288:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(2664504268),n=e(8481284327);const r=i(()=>(0,n.A)(()=>(0,t.A)()),"useUniqueId")},7798793495:(Q,C,e)=>{"use strict";e.d(C,{G:()=>n});var t=e(9139930183);const n=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});n.meta={name:"createReducer",key:"createReducerisStateReducer"}},6087439017:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(6857395710),n=e.n(t);const r=i(()=>n(),"getQuill")},9121100949:(Q,C,e)=>{"use strict";e.d(C,{$D:()=>c,OR:()=>o,RC:()=>u,Ts:()=>l,WU:()=>p,gN:()=>a,jG:()=>_,jr:()=>h,jt:()=>d,ke:()=>t,qD:()=>m,r1:()=>r,ts:()=>n,u1:()=>s});const t="viewLayoutSidebarWidthIntent",n="viewLayoutSidebarWidthMode",s="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",d="viewLayoutSidebarExtraWideWidthIntent",o="viewLayoutSidebarExtraWideWidthMode",a="viewLayoutSecondaryWidthIntent",l="viewLayoutSecondaryWidthMode",m="viewLayoutSplitWidthIntent",c="viewLayoutSplitWidthMode",_="viewLayoutIsSidebarVisible",p="viewLayoutIsWorkspaceSwitcherVisible",u="viewLayoutCompactModeEnabled",h="viewLayoutLastSidebarWidth"}},Q=>{var C=i(t=>Q(Q.s=t),"__webpack_exec__");Q.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>C(6260576033));var e=Q.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.2d088309dff758a1deee.min.js.map